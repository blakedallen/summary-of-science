{"id": "http://arxiv.org/abs/1112.4006v1", "guidislink": true, "updated": "2011-12-17T01:42:24Z", "updated_parsed": [2011, 12, 17, 1, 42, 24, 5, 351, 0], "published": "2011-12-17T01:42:24Z", "published_parsed": [2011, 12, 17, 1, 42, 24, 5, 351, 0], "title": "On Optimal Multi-Dimensional Mechanism Design", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1112.6130%2C1112.1791%2C1112.4233%2C1112.1188%2C1112.5317%2C1112.4420%2C1112.2962%2C1112.5611%2C1112.1805%2C1112.1704%2C1112.0935%2C1112.3201%2C1112.4910%2C1112.5599%2C1112.5650%2C1112.3199%2C1112.3003%2C1112.1882%2C1112.2683%2C1112.5764%2C1112.3674%2C1112.2757%2C1112.0924%2C1112.2300%2C1112.1556%2C1112.6333%2C1112.4339%2C1112.5615%2C1112.2314%2C1112.2699%2C1112.4035%2C1112.2321%2C1112.1314%2C1112.5365%2C1112.4102%2C1112.1717%2C1112.5975%2C1112.1469%2C1112.0880%2C1112.5562%2C1112.0269%2C1112.0239%2C1112.1138%2C1112.1548%2C1112.4805%2C1112.2454%2C1112.3130%2C1112.6184%2C1112.0306%2C1112.2144%2C1112.6071%2C1112.3734%2C1112.0076%2C1112.4735%2C1112.5775%2C1112.3810%2C1112.2251%2C1112.2609%2C1112.6319%2C1112.2648%2C1112.4529%2C1112.3893%2C1112.1248%2C1112.6381%2C1112.4798%2C1112.2804%2C1112.0636%2C1112.0739%2C1112.0271%2C1112.3223%2C1112.0789%2C1112.4278%2C1112.4066%2C1112.6385%2C1112.4547%2C1112.4926%2C1112.5810%2C1112.2081%2C1112.4424%2C1112.0529%2C1112.4006%2C1112.6103%2C1112.0819%2C1112.3775%2C1112.0581%2C1112.3938%2C1112.3152%2C1112.4151%2C1112.1328%2C1112.5377%2C1112.1955%2C1112.1426%2C1112.0097%2C1112.6225%2C1112.5145%2C1112.0313%2C1112.0612%2C1112.5430%2C1112.2965%2C1112.5292%2C1112.4982&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "On Optimal Multi-Dimensional Mechanism Design"}, "summary": "We efficiently solve the optimal multi-dimensional mechanism design problem\nfor independent bidders with arbitrary demand constraints when either the\nnumber of bidders is a constant or the number of items is a constant. In the\nfirst setting, we need that each bidder's values for the items are sampled from\na possibly correlated, item-symmetric distribution, allowing different\ndistributions for each bidder. In the second setting, we allow the values of\neach bidder for the items to be arbitrarily correlated, but assume that the\ndistribution of bidder types is bidder-symmetric.\n  For all eps>0, we obtain an additive eps-approximation, when the value\ndistributions are bounded, or a multiplicative (1-eps)-approximation when the\nvalue distributions are unbounded, but satisfy the Monotone Hazard Rate\ncondition, covering a widely studied class of distributions in Economics. Our\nruntime is polynomial in max{#items,#bidders}, and not the size of the support\nof the joint distribution of all bidders' values for all items, which is\ntypically exponential in both the number of items and the number of bidders.\nOur mechanisms are randomized, explicitly price bundles, and can sometimes\naccommodate budget constraints.\n  Our results are enabled by establishing several new tools and structural\nproperties of Bayesian mechanisms. We provide a symmetrization technique\nturning any truthful mechanism into one that has the same revenue and respects\nall symmetries in the underlying value distributions. We also prove that\nitem-symmetric mechanisms satisfy a natural monotonicity property which, unlike\ncyclic-monotonicity, can be harnessed algorithmically. Finally, we provide a\ntechnique that turns any given eps-BIC mechanism (i.e. one where incentive\nconstraints are violated by eps) into a truly-BIC mechanism at the cost of\nO(sqrt{eps}) revenue. We expect our tools to be used beyond the settings we\nconsider here.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1112.6130%2C1112.1791%2C1112.4233%2C1112.1188%2C1112.5317%2C1112.4420%2C1112.2962%2C1112.5611%2C1112.1805%2C1112.1704%2C1112.0935%2C1112.3201%2C1112.4910%2C1112.5599%2C1112.5650%2C1112.3199%2C1112.3003%2C1112.1882%2C1112.2683%2C1112.5764%2C1112.3674%2C1112.2757%2C1112.0924%2C1112.2300%2C1112.1556%2C1112.6333%2C1112.4339%2C1112.5615%2C1112.2314%2C1112.2699%2C1112.4035%2C1112.2321%2C1112.1314%2C1112.5365%2C1112.4102%2C1112.1717%2C1112.5975%2C1112.1469%2C1112.0880%2C1112.5562%2C1112.0269%2C1112.0239%2C1112.1138%2C1112.1548%2C1112.4805%2C1112.2454%2C1112.3130%2C1112.6184%2C1112.0306%2C1112.2144%2C1112.6071%2C1112.3734%2C1112.0076%2C1112.4735%2C1112.5775%2C1112.3810%2C1112.2251%2C1112.2609%2C1112.6319%2C1112.2648%2C1112.4529%2C1112.3893%2C1112.1248%2C1112.6381%2C1112.4798%2C1112.2804%2C1112.0636%2C1112.0739%2C1112.0271%2C1112.3223%2C1112.0789%2C1112.4278%2C1112.4066%2C1112.6385%2C1112.4547%2C1112.4926%2C1112.5810%2C1112.2081%2C1112.4424%2C1112.0529%2C1112.4006%2C1112.6103%2C1112.0819%2C1112.3775%2C1112.0581%2C1112.3938%2C1112.3152%2C1112.4151%2C1112.1328%2C1112.5377%2C1112.1955%2C1112.1426%2C1112.0097%2C1112.6225%2C1112.5145%2C1112.0313%2C1112.0612%2C1112.5430%2C1112.2965%2C1112.5292%2C1112.4982&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We efficiently solve the optimal multi-dimensional mechanism design problem\nfor independent bidders with arbitrary demand constraints when either the\nnumber of bidders is a constant or the number of items is a constant. In the\nfirst setting, we need that each bidder's values for the items are sampled from\na possibly correlated, item-symmetric distribution, allowing different\ndistributions for each bidder. In the second setting, we allow the values of\neach bidder for the items to be arbitrarily correlated, but assume that the\ndistribution of bidder types is bidder-symmetric.\n  For all eps>0, we obtain an additive eps-approximation, when the value\ndistributions are bounded, or a multiplicative (1-eps)-approximation when the\nvalue distributions are unbounded, but satisfy the Monotone Hazard Rate\ncondition, covering a widely studied class of distributions in Economics. Our\nruntime is polynomial in max{#items,#bidders}, and not the size of the support\nof the joint distribution of all bidders' values for all items, which is\ntypically exponential in both the number of items and the number of bidders.\nOur mechanisms are randomized, explicitly price bundles, and can sometimes\naccommodate budget constraints.\n  Our results are enabled by establishing several new tools and structural\nproperties of Bayesian mechanisms. We provide a symmetrization technique\nturning any truthful mechanism into one that has the same revenue and respects\nall symmetries in the underlying value distributions. We also prove that\nitem-symmetric mechanisms satisfy a natural monotonicity property which, unlike\ncyclic-monotonicity, can be harnessed algorithmically. Finally, we provide a\ntechnique that turns any given eps-BIC mechanism (i.e. one where incentive\nconstraints are violated by eps) into a truly-BIC mechanism at the cost of\nO(sqrt{eps}) revenue. We expect our tools to be used beyond the settings we\nconsider here."}, "authors": ["Constantinos Daskalakis", "S. Matthew Weinberg"], "author_detail": {"name": "S. Matthew Weinberg"}, "author": "S. Matthew Weinberg", "links": [{"href": "http://arxiv.org/abs/1112.4006v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1112.4006v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "cs.GT", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "cs.GT", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1112.4006v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1112.4006v1", "arxiv_comment": null, "journal_reference": null, "doi": null, "fulltext": "On Optimal Multi-Dimensional Mechanism Design\nConstantinos Daskalakis\u2217\nEECS, MIT\ncostis@mit.edu\n\nS. Matthew Weinberg\u2020\nEECS, MIT\nsmw79@mit.edu\n\narXiv:1112.4006v1 [cs.GT] 17 Dec 2011\n\nSeptember 6, 2018\n\nAbstract\nWe efficiently solve the optimal multi-dimensional mechanism design problem for independent\nbidders with arbitrary demand constraints when either the number of bidders is a constant\nor the number of items is a constant. In the first setting, we need that each bidder's values\nfor the items are sampled from a possibly correlated, item-symmetric distribution, allowing\ndifferent distributions for each bidder. In the second setting, we allow the values of each bidder\nfor the items to be arbitrarily correlated, but assume that the distribution of bidder types is\nbidder-symmetric. These symmetric distributions include i.i.d. distributions, as well as many\nnatural correlated distributions. E.g., an item-symmetric distribution can be obtained by taking\nan arbitrary distribution, and \"forgetting\" the names of items; this could arise when different\nmembers of a bidder population have various sorts of correlations among the items, but the\nitems are \"the same\" with respect to a random bidder from the population.\nFor all \u000f > 0, we obtain a computationally efficient additive \u000f-approximation, when the value\ndistributions are bounded, or a multiplicative (1\u2212\u000f)-approximation when the value distributions\nare unbounded, but satisfy the Monotone Hazard Rate condition, covering a widely studied\nclass of distributions in Economics. Our running time is polynomial in max{#items,#bidders},\nand not the size of the support of the joint distribution of all bidders' values for all items,\nwhich is typically exponential in both the number of items and the number of bidders. Our\nmechanisms are randomized, explicitly price bundles, and in some cases can also accommodate\nbudget constraints.\nOur results are enabled by establishing several new tools and structural properties of Bayesian\nmechanisms. In particular, we provide a symmetrization technique that turns any truthful mechanism into one that has the same revenue and respects all symmetries in the underlying value distributions. We also prove that item-symmetric mechanisms satisfy a natural strong-monotonicity\nproperty which, unlike cyclic-monotonicity, can be harnessed algorithmically. Finally, we provide a technique that turns any given \u000f-BIC mechanism (i.e. one\u221awhere incentive constraints\nare violated by \u000f) into a truly-BIC mechanism at the cost of O( \u000f) revenue. We expect our\ntools to be used beyond the settings we consider here. Indeed there has already been follow-up\nresearch [8, 9] making use of our tools.\n\n\u2217\n\u2020\n\nSupported by a Sloan Foundation Fellowship and NSF Award CCF-0953960 (CAREER) and CCF-1101491.\nSupported by a NSF Graduate Research Fellowship and a NPSC Graduate Fellowship.\n\n\f1\n\nIntroduction\n\nHow can a seller auction off a set of items to a group of interested buyers to maximize profit?\nThis problem, dubbed the optimal mechanism design problem, has gained central importance in\nmathematical Economics over the past decades. The seller could certainly auction off the items\nsequentially, using her favorite single-item auction, such as the English auction. But this is not\nalways the best idea, as it is easy to find examples where this approach leaves money on the table. 1\nThe chief challenge that the auctioneer faces is that the values of the buyers for the items, which\ndetermine how much each buyer is willing to pay for each item, is information that is private\nto the buyers, at least at the onset of the auction. Hence, the mechanism needs to provide the\nappropriate incentives for the buyers to reveal \"just enough\" information for the optimal revenue\nto be extracted.\nViewed as an optimization problem, the optimal mechanism design problem is of a rather\nintricate kind. First, it is a priori not clear how to evaluate the revenue of an arbitrary mechanism\nbecause it is not clear how rational bidders will play. One way to cope with this is to only consider\nmechanisms where rational bidders are properly incentivized to tell the designer their complete\ntype, i.e. how much they would value each possible outcome of the mechanism (i.e. each bundle\nof items they may end up getting). Such mechanisms can be Incentive Compatible (IC), where\neach bidder's strategy is to report a type and the following worst-case guarantee is met: regardless\nof the types of the other bidders, it is in the best interest of a bidder to truthfully report her\ntype. Or the mechanism can be Bayesian Incentive Compatible (BIC), where it is assumed that\nthe bidders' types come from a known distribution and the following average-case guarantee is met:\nin expectation over the other bidders' types, it is in the best interest of a bidder to truthfully\nreport her type, if the other bidders report truthfully. See Sec 2 for formal definitions. We only\nnote here that, under very weak assumptions, restricting attention to IC/BIC mechanisms in the\naforementioned settings of without/with prior information over bidders' types is without loss of\ngenerality [21].\nBut even once it is clear how to evaluate the revenue of a given mechanism, it is not necessarily\nclear what benchmark to compare it against. For example, it is not hard to see that the social\nwelfare, i.e. the sum of the values of the buyers for the items they are allocated, is not the right\nbenchmark to use, as in general one cannot hope to achieve revenue that is within any constant\nfactor of the optimal social welfare: why would a buyer with a large value for an item pay an\nequally large price to the auctioneer to get it, if there is no competition for this item? Given the\nlack of a useful revenue benchmark (i.e. one that upper bounds the revenue that one may hope\nto achieve but is not too large to allow any reasonable approximation), the task of the mechanism\ndesigner can only be specified in generic terms as follows: come up with an IC/BIC auction whose\nrevenue is at least as large as the revenue of any other IC/BIC auction.\nFinally, even after restricting the search space to IC/BIC auctions and only comparing to the\noptimal revenue achievable by any IC/BIC auction, it is still easy to show that it is impossible\nto guarantee any finite approximation if no prior is known over the bidders' types. Instead, many\nsolutions in the literature adopt a Bayesian viewpoint, assuming that a prior does exist and is known\nto both the auctioneer and the bidders, and targeting the optimal achievable expected revenue.\nOnce the leap to the Bayesian setting is made the goal is typically this: Design a BIC, possibly\nrandomized, mechanism whose expected revenue is optimal among all BIC, possibly randomized,\n1\n\nA simple example is this: Suppose that an auctioneer is selling a Picasso and a Dali painting and there are two\nbidders of which one loves Picasso and does not care about Dali and vice versa. Running a separate English auction\nfor each painting will result in small revenue since there is going to be no serious competition for either painting. But\nbundling the paintings together will induce competition and drive the auctioneer's revenue higher.\n\n1\n\n\fmechanisms.\n\n2\n\nOne of the most celebrated results in this realm is Myerson's optimal auction [19], which achieves\noptimal revenue via an elegant design that spans several important settings. Despite its significance,\nMyerson's result is limited to the case where bidders are single-dimensional. In simple terms, this\nmeans that each bidder can be characterized by a single number (unknown to the auctioneer), specifying the value of the bidder per item received. This is quite a strong assumption when the items\nare heterogeneous, so naturally, after Myerson's work, a large body of research has been devoted\nto the multi-dimensional problem, i.e. the setting where the bidders may have different values for\ndifferent items/bundles of items. Even though progress has been made in certain restricted settings,\nit seems that we are far from an optimal mechanism, generalizing Myerson's result; see survey [18]\nand its references for work on this problem by Economists.\nAlgorithmic Game Theory has also studied this problem, with an extra eye on the computational efficiency of mechanisms. Chawla et al. [10] study the case of a single (multidimensional)\nunit-demand bidder with independent values for the items. They propose an elegant reduction\nof this problem to Myerson's single-dimensional setting, resulting in a mechanism that achieves a\nconstant factor approximation to the optimal revenue among all BIC, possibly randomized [12],\nmechanisms. For the same problem, Cai and Daskalakis [7] recently closed the constant approximation gap against all deterministic mechanisms by obtaining polynomial-time approximation schemes\nfor optimal item-pricing. As for the case of correlated values, it had been known that finding the\noptimal pricing (deterministic mechanism) is highly inapproximable by [5], although no hardness\nresults are known for randomized mechanisms. In the multi-bidder setting, Chawla et al. [11],\nBhattacharya et al. [3] and recently Alaei [1] obtain constant factor approximations in the case of\nadditive bidders or unit-demand bidders and matroidal constraints on the possible allocations.\nWhile our algorithmic understanding of the optimal mechanism design problem is solid, at\nleast as far as constant factor approximations go, there has been virtually no result in designing\ncomputationally efficient revenue-optimal mechanisms for multi-dimensional settings, besides the\nsingle-bidder result of [7]. In particular, one can argue that the previous approaches [1, 3, 10, 11] are\ninherently limited to constant factor approximations, as ultimately the revenue of these mechanisms\nis compared against the optimal revenue in a related single-dimensional setting [10, 11], or a convex\nprogramming relaxation of the problem [1, 3]. Our focus in this work is to fill this important gap in\nthe algorithmic mechanism design literature, i.e. to obtain computationally efficient near-optimal\nmulti-dimensional mechanisms, coming \u000f-close to the optimal revenue in polynomial time, for any\ndesired accuracy \u000f > 0. We obtain a Polynomial-Time Approximation Scheme (PTAS) for the\nfollowing two important cases of the general problem.\nThe BIC k-items problem. Given as input an arbitrary (possibly correlated) distribution F\nover valuation vectors for k items, a demand bound C, and an integer m, the number of bidders,\noutput a BIC mechanism M whose expected revenue is optimal relative to any other, possibly\nrandomized, BIC mechanism, when played by m additive bidders with demand constraint C whose\nvaluation vectors are sampled independently from F.\n2\nIn view of the results of [4, 12], to achieve optimal, or even near-optimal, revenue in correlated settings, or even\ni.i.d. multi-item settings, we are forced to explore randomized mechanisms.\n\n2\n\n\fThe BIC k-bidders problem. Given as input k item-symmetrica distributions F1 , . . . , Fk , demand bounds C1 , . . . , Ck (one for each bidder), and an integer n, the number of items, output a BIC\nmechanism M whose expected revenue is optimal relative to any other, possibly randomized, BIC\nmechanism, when played by k additive bidders with demand constraints C1 , . . . , Ck respectively\nwhose valuation vectors for the n items are sampled independently from F1 , . . . , Fk .\na\nA distribution over Rn is symmetric if, for all ~v \u2208 Rn , the probability it assigns to ~v is equal to the probability\nit assigns to any permutation of ~v .\n\nIn other words, the problems we study are where either the number of bidders is large, but they\ncome from the same population, i.e. each bidder's value vector is sampled from the same, arbitrary,\npossibly correlated distribution, or the number of items is large, but each bidder's value distribution\nis item-symmetric (possibly different for each bidder). While these do not capture the problem of\nBayesian mechanism design in its complete generality, they certainly represent important special\ncases of the general problem and indeed the first interesting cases for which computationally efficient\nnear-optimal mechanisms have been obtained. Before stating our main result, it is worth noting\nthat:\n\u2022 When the number of bidders is large, it does not make sense to expect that the auctioneer has a\nseparate prior distribution for the values of each individual bidder for the items. So our assumption\nin the k-items problem that the bidders are drawn from the same population of bidders is a realistic\none, and-in our opinion-the practically interesting case of the general problem. Indeed, there\nare hardly any practical examples of auctions using bidder-specific information (think, e.g., eBay,\nSotheby's etc.) A reasonable extension of our model would be to assume that bidders come from\na constant number of different sub-populations of bidders, and that the auctioneer has a prior for\neach sub-population. Our results extend to this setting.\n\u2022 When the number of items is large, it is still hard to imagine that the auctioneer has a distribution\nfor each individual item. In the k-bidders problem, we assume that each bidder's value distribution\nis item-symmetric. This certainly contains the case where each bidder has i.i.d. values for the\nitems, but there are realistic applications where values are correlated, but still item-symmetric.\nConsider the following scenario: the auctioneer has the same number of Yankees, Red Sox, White\nSox, and Mariners baseball caps to sell. Each bidder is a fan of one of the four teams and has\nnon-zero value for exactly one of the four kinds of caps, but it is unknown to the auctioneer which\nkind that is and what the value of the bidder for that kind is. Hence, the values of a random bidder\nfor the caps are certainly non i.i.d., as if the bidder likes a Red Sox cap then she will equally like\nanother, but will have zero value for a Yankees cap. Suppose now that we are willing to make\nthe assumption that all teams have approximately the same number of fans and those fans have\nstatistically the same passion for their team. Then a random bidder's values for the items is drawn\nfrom an item-symmetric distribution, or close to one, so we can handle such distributions. In\nthis case too, our techniques still apply if we deviate from the item-symmetric model to models\nwhere there is a constant number of types of objects, e.g. caps and jerseys, and symmetries do not\npermute types, but permute objects within the same type.\nTheorem 1. (Additive approximation) For all k, if F samples values from [0, 1]k there exists a\nPTAS with additive error \u000f for the BIC k-items problem. For all k, if Fi samples vectors from\n[0, 1]n , there exists a PTAS with additive error \u000f * max{Ci } for the BIC k-bidders problem.\nRemark 1. Some qualifications on Theorem 1 are due.\n\u2022 The mechanism output by our PTAS is truly BIC, not \u000f-BIC, and there are no extra assumptions necessary to achieve this.\n3\n\n\f\u2022 We make no assumptions about the size of the support of Fi or F, as the runtime of our\nalgorithms does not depend on the size of the support. This is an important distinction\nbetween our work and the literature where it is folklore knowledge that if one is willing to\npay computational time polynomial in the size of the support of the value distribution, then\nthe optimal mechanism can be easily computed via an LP (see, e.g., [3, 4, 13]). However,\nexponential size supports are easy to observe. Take, e.g., our k-bidders problem and assume\nthat every bidder's value for each of the items is i.i.d. uniform in {$5, $10}. The na\u0131\u0308ve LP\nbased approach would result in time polynomial in 2n , while our solution needs time polynomial\nin n.\n\u2022 If we are willing to replace BIC by \u000f-BIC (or \u000f-IC) in Thm 1 and compare our revenue to the\nbest revenue achievable by any BIC (or IC) mechanism, then we can also accommodate budget\nconstraints. The only step of our algorithm that does not respect budgets is the \u000f-BIC to BIC\nreduction (Thm 4). For space considerations, we restrict our attention to BIC throughout the\nmain body of the paper and prove the related claims for IC in App K.\n\u2022 If the value distributions are discrete and every marginal has constant-size support, then\nour algorithms achieve exactly optimal revenue in polynomial time, even though the support\nof such a distribution may well be exponential. For instance, in the example given in the\nsecond bullet our algorithm obtains exactly optimal revenue in time polynomial in n. In these\ncases, we can find optimal truly BIC or truly IC mechanisms that also accommodate budget\nconstraints.\n\u2022 The mechanisms produced by our techniques satisfy the demand constraints of each bidder\nin a strong sense (and not in expectation). Moreover, the user of our theorem is free to\nchoose whether they want to satisfy ex-interim individual rationality, that the expected value\nof a bidder for the received bundle of items is larger than the expected price she pays, or\nex-post individual rationality, where this constraint is true with probability 1 (and not just in\nexpectation). We focus the main presentation on producing mechanisms that are ex-interim\nIR. In App D we explain the required modification for producing ex-post IR mechanisms\nwithout any loss in revenue.\n\u2022 The assumption that Fi , F sample from [0, 1]n as opposed to some other bounded set is w.l.o.g.\nand previous work has made the same assumption [16, 17] on the input distributions.\nOne might prefer to assume that the value distributions are not upper bounded, but satisfy some tail\ncondition, such as the Monotone Hazard Rate condition (see App J). 3 Using techniques from [7],\nwe can extend our theorems to MHR distributions. All the relevant remarks still apply.\nCorollary 1. (Multiplicative approximation for MHR distributions) For all k, if the k marginals\nof F all satisfy the MHR condition, there exists a PTAS obtaining at least a (1 \u2212 \u000f)-fraction of\nthe optimal revenue for the BIC k-items problem (whose runtime does not depend on F or C).\nLikewise, for all k, if every marginal of Fi is MHR for all i, there exists a PTAS obtaining at least\na (1 \u2212 \u000f)-fraction of the optimal revenue for the BIC k-bidders problem (whose runtime does not\ndepend on Fi or Ci ).\nThe rest of the paper is organized as follows: Sec 2 provides a few standard definitions from\nMechanism Design. Sec 3 gives an overview of our proof of Thm 1, explaining the different components that get into our proof and guiding through the rest of the paper. The rest of the main\nbody and the appendix provide all technical details. App J provides the proof of Corollary 1.\n3\nThe class of Monotone Hazard Rate distributions is a family of distributions that is commonly used in Economics\napplications, and contains such familiar distributions as the Normal, Exponential and Uniform distributions.\n\n4\n\n\f2\n\nPreliminaries and notation\n\nWe assume that the seller has a single copy of n (heterogeneous) items that she wishes to auction\nto m bidders. Each bidder i has some non-negative value for item j which we denote vij . We can\nthink of bidder i's type as an n-dimensional vector ~vi , and denote the entire profile of bidders as ~v ,\nor sometimes (~vi ; ~v\u2212i ) if we want to emphasize its decomposition to the type ~vi of bidder i and\nthe joint profile ~v\u2212i of all other bidders. We denote by D the distribution from which ~v is sampled.\nWe also denote by Di the distribution of types for bidder i, and by D\u2212i the distribution of types\nfor every bidder except i. The value of a bidder with demand C for any subset of items is the sum\nof her values for her favorite C items in the subset; that is, we assume bidders are additive up to\ntheir demand.\nSince we are shooting for BIC/IC mechanisms, we will only consider (direct revelation) mechanisms where each bidder's strategy is to report a type. When the reported bidder types are ~v , we\ndenote the (possibly randomized) outcome of mechanism M as M (~v ). The outcome can be summarized in: the expected price charged to each bidder (denoted pi (~v )), and a collection of marginal\n~ v ) = (\u03c6ij (~v ))ij , where \u03c6ij (~v ) denotes the marginal probability that bidder i receives\nprobabilities \u03c6(~\nitem j.\n~ v ) := (\u03c6ij (~v ))ij is feasible iff there exists a consistent\nA collection of marginal probabilities \u03c6(~\nwith them joint distribution over allocations of items to bidders so that in addition, with probability\n1, no item is allocated to more than one bidder, and no bidder receives more items than her demand.\nA straightforward application of the Birkhoff-von Neumann theorem [14] reveals that a sufficient\ncondition for the above to hold is that in expectation no item is given more than once, and all\nbidders receive an expected number of items less than or equal to their demand. Note that this\nsufficient condition is expressible in terms of the \u03c6ij 's only. Moreover, under the same conditions,\nwe can efficiently sample a joint distribution with the desired \u03c6ij 's. (See App C for details.)\n~ i (~v ), pi (~v )).\nThe outcome of mechanism M restricted to bidder i on input ~v is denoted Mi (~v ) = (\u03c6\nAssuming that bidder i is additive (up to her demand) and risk-neutral and that the mechanism\nis feasible (so in particular it does not violate the bidder's demand constraint) the value of bidder\n~ i (w),\ni for outcome Mi (w)\n~ is just (her expected value) ~vi * \u03c6\n~ while the bidder's utility for the same\n~\noutcome is U (~vi , Mi (w))\n~ := ~vi * \u03c6i (w)\n~ \u2212 pi (w).\n~ Such bidders subtracting price from expected value\nare called quasi-linear. Moreover, for a given value vector ~vi for bidder i, we write: \u03c0ij (~vi ) =\nE~v\u2212i \u223cD\u2212i [\u03c6ij (~vi ; ~v\u2212i )].\nWe proceed to formally define incentive compatibility of mechanisms in our notation:\nDefinition 1. (BIC/\u000f-BIC/IC/\u000f-IC Mechanism) A mechanism M is called \u000f-BIC iff the following\ninequality holds for all i, ~vi , w\n~ i:\nX\nE~v\u2212i \u223cD\u2212i [U (~vi , Mi (~v ))] \u2265 E~v\u2212i \u223cD\u2212i [U (~vi , Mi (w\n~ i ; ~v\u2212i ))] \u2212 \u000fvmax *\n\u03c0ij (w\n~ i ),\nj\n\nwhere vmax is the maximum possible value of any bidder for any item in the support of the value\ndistribution. In other words, M is \u000f-BIC iff when a bidder lies by reporting w\n~ i instead of ~vi , they do\nnot expect to gain more than \u000fvmax times the expected number of items that w\n~ i receives.\nSimilarly,\nP\nM is called \u000f-IC iff for all i, ~vi , w\n~ i , ~v\u2212i : U (~vi , Mi (~v )) \u2265 U (~vi , Mi (w\n~ i ; ~v\u2212i ))\u2212\u000fvmax * j \u03c6ij (w\n~ i ; ~v\u2212i ).\nA mechanism is called BIC iff it is 0-BIC and IC iff it is 0-IC. 4\n4\n\nAny feasible mechanism that we call \u000f-BIC, respectively \u000f-IC, by our definition is certainly an \u000f P\n* max{Ci }BIC, respectively\n\u000f\n*\nmax{C\n~ i ),\ni }-IC, mechanism by the more standard definition, which omits the factors\nj \u03c0ij (w\nP\nrespectively j \u03c6ij (w\n~ i ; ~v\u2212i ), from the incentive error. We only include these factors here for convenience.\n\n5\n\n\fIn our proof of Thm 1 throughout this paper we assume that vmax = 1. If vmax < 1, we can scale\nthe value distribution so that this condition is satisfied. We also define individual rationality of\nBIC/\u000f-BIC mechanisms:\nDefinition 2. A BIC/\u000f-BIC mechanism M is called ex-interim individually rational (ex-interim\nIR) iff for all i, ~vi :\nE~v\u2212i \u223cD\u2212i [U (~vi , Mi (~v ))] \u2265 0.\nIt is called ex-post individually rational (ex-post IR) iff for all i, ~vi and ~v\u2212i , U (~vi , Mi (~v )) \u2265 0 with\nprobability 1 (over the randomness in the mechanism).\nWhile we focus the main presentation to obtaining ex-interim IR mechanisms, in Appendix D we\ndescribe how without any loss in revenue we can turn these mechanisms into ex-post IR.\nFor a mechanism M , we denote by RM (D) the expected revenue of the mechanism when bidders\nsampled from D play M truthfully. We also let ROP T (D) (resp. R\u000fOP T (D)) denote the maximum\npossible expected revenue attainable by any BIC (resp. \u000f-BIC) mechanism when bidders are sampled from D and play truthfully. For all cases we consider, these terms are well-defined.\nWe state and prove our results assuming that we can exactly sample from all input distributions\nefficiently and exactly evaluate their cumulative distribution functions. Our results still hold even\nif we only have oracle access to sample from the input distributions, as this is sufficient for us to\napproximately evaluate the cumulative functions to within the right accuracy in polynomial time\n(by making use of our symmetry and discretization tools, described in the next section). The\napproximation error on evaluating the cumulative functions is absorbed into loss in revenue. See\ndiscussion in App A.\nFinally, we denote by Sm , Sn the symmetric groups over the sets [m] := {1, . . . , m} and [n]\nrespectively. Moreover, for \u03c3 = (\u03c31 , \u03c32 ) \u2208 Sm \u00d7Sn , we assume that \u03c3 maps element (i, j) \u2208 [m]\u00d7[n]\nto \u03c3(i, j) := (\u03c31 (i), \u03c32 (j)). We extend this definition to map a value vector ~v = (vij )i\u2208[m],j\u2208[n] to\nthe vector w\n~ such that w\n~ \u03c3(i,j) = ~vij , for all i, j. Likewise, if D is a value distribution, \u03c3(D) is the\ndistribution that first samples ~v from D and then outputs \u03c3(~v ).\n\n3\n\nOverview of our Approach\n\nA Na\u0131\u0308ve LP Formulation. Let D be the distribution of all bidders' values for all items (supported\non a subset of Rm\u00d7n , where m is the number of bidders and n is the number of items). For a\nmechanism design problem with unit-demand bidders whose values are distributed according to D,\nit is folklore knowledge how to write a linear programming relaxation of size polynomial in |supp(D)|\noptimizing revenue. The relaxation keeps track of the (marginal) probability \u03c6ij (~v ) \u2208 [0, 1] that\nitem j is given to bidder i if the bidders' values are ~v , and enforces feasibility constraints (no item is\ngiven more than once in expectation, no bidder gets more than one item in expectation), incentive\ncompatibility constraints (in expectation over the other bidders' values for the items, no bidder has\nincentive to misreport her values for the items, if the other bidders don't), while optimizing the\nexpected revenue of the mechanism. Notice that all constraints and the objective function can be\nwritten in terms of the marginals \u03c6ij . Moreover, using the Birkhoff-von Neumann decomposition\ntheorem, it is possible to convert the solution of this LP to a mechanism that has the same revenue\nand satisfies the feasibility constraints strongly (i.e. not in expectation, but prob. 1). We give the\ndetails of the linear program in App B, and also describe how to generalize this LP to incorporate\ndemand and budget constraints.\nDespite its general applicability, the na\u0131\u0308ve LP formulation has a major drawback in that\n|supp(D)| could in general be infinite, and when it is finite it is usually exponential in both m\n6\n\n\fand n. For the settings we consider, this is always the case. For example, in the very simple setting\nwhere D samples each value i.i.d. uniformly from {$5, $10}, the support of the distribution becomes\n2m\u00d7n . Such support size is obviously prohibitive if we plan to employ the na\u0131\u0308ve LP formulation to\noptimize revenue.\nA Comparison to Myerson's Setting. What enables succinct and computationally efficient\nmechanisms in the single-item setting of Myerson? Indeed, the curse of dimensionality discussed\nabove arises even when there is a single item to sell; e.g., if every bidder's distribution has support\n2 and the bidders are independent, then the number of different bidder profiles is already 2m . What\ndrives Myerson's result is the realization that there is structure in a BIC mechanism coming in the\n0 : E\n0 ; ~\nform of monotonicity: for all i, for all vi1 \u2265 vi1\nv\u2212i )) \u2265 E~v\u2212i (\u03c6i1 (vi1\nv\u2212i )), i.e.\n~v\u2212i (\u03c6i1 (vi1 ; ~\nthe expected probability that bidder i gets the single item for sale in the auction increases with\nthe value of bidder i, where the expectation is taken over the other bidders' values. Unfortunately,\nsuch crisp monotonicity property of BIC mechanisms fails to hold if there are multiple items, and\neven if it were present it would still not be sufficient in itself to reduce the size of the na\u0131\u0308ve LP to\na manageable size.\nSo what next? We argued earlier that the symmetric distributions considered in the BIC k-items\nand the BIC k-bidders problems are very natural cases of the general optimal mechanism design\nproblem. We argue next that they are natural for another reason: they enable enough structure\nfor (i) the optimal mechanism to have small description complexity, instead of being an unusable,\nexponentially long list of what the mechanism ought to do for every input value vector ~v ; and\n(ii) the succinct solution to be efficiently computable, bypassing the exponentially large na\u0131\u0308ve LP.\nOur structural results are discussed in the following paragraphs. The first is enabled by exploiting\nrandomization to transfer symmetries from the value distribution to the optimal mechanism. The\nsecond is enabled by proving a strong-monotonicity property of all BIC mechanisms. Our notion of\nmonotonicity is more powerful than the notion of cyclic-monotonicity, which holds more generally\nbut can't be exploited algorithmically. Together our structural results bring to light how the\nitem- and bidder-symmetric settings are mathematically more elegant than general settings with\nno apparent structure.\nStructural Result 1: The Interplay Between Symmetries and Randomization. Since the inception\nof Game Theory scientists were interested in the implications of symmetries in the structure of\nequilibria [15, 6, 20]. In his seminal paper [20], Nash showed a rather interesting structural result,\ninformally reading as follows: \"If a game has any symmetry, there exists a Nash equilibrium\nsatisfying that symmetry.\" Indeed, something even more powerful is true: \"There always exists a\nNash equilibrium that simultaneously satisfies all symmetries that the game may have.\"\nInspired by Nash's symmetry result, albeit in our different setting, we show a similar structural\nproperty of randomized mechanisms. 5 Our structural result is rather general, applying to settings\nbeyond those addressed in Thm 1, and even beyond MHR or regular distributions. The following\ntheorem holds for any (arbitrarily correlated) joint distribution D.\nTheorem 2. Let D be the distribution of bidders' values for the items (supported on a subset of\nRm\u00d7n ). Let also S \u2286 Sm \u00d7Sn be an arbitrary set such that D \u2261 \u03c3(D), for all \u03c3 \u2208 S; that is, assume\nthat D is invariant under all permutations in S. Then any BIC mechanism M can be symmetrized\ninto a mechanism M 0 that respects all symmetries in S without any loss in revenue. I.E. for all\n\u2212\n\u2212\n\u2212\nbid vectors \u2192\nv the behavior of M 0 under \u2192\nv and \u03c3(\u2192\nv ) is identical (up to permutation by \u03c3) for all\n\u03c3 \u2208 S. The same result holds if we replace BIC with \u000f-BIC, IC, or \u000f-IC.\nWhile we postpone further discussion of this theorem and what it means for M to behave\n5\n\nWe emphasize 'randomized', since none of the symmetries we describe holds for deterministic optimal mechanisms.\n\n7\n\n\f\"identically\" to Sec 4, we give a quick example to illustrate the symmetries that randomization\nenables in the optimal mechanism. Consider a single bidder and two items. Her value for each\nitem is drawn i.i.d. from the uniform distribution on {4, 5}. It is easy to see that the only optimal\ndeterministic mechanism assigns price 4 to one item and 5 to the other. However, there is an\noptimal randomized mechanism that offers each item at price 4 12 , and the uniform lottery (1/2\nchance of getting item 1, 1/2 chance of getting item 2) at price 4. While item 1 and item 2 need\nto be priced differently in the deterministic mechanism to achieve optimal revenue, they can be\ntreated identically in the optimal randomized mechanism. Thm 2 applies in an extremely general\nsetting: distributions can be continuous with arbitrary support and correlation, bidders can have\nbudgets and demands, we could be maximizing social welfare instead of revenue, etc.\nStructural Result 2: Strong-Monotonicity. Even though the na\u0131\u0308ve LP formulation is not computationally efficient, Thm 2 certifies the existence of a compact solution for the cases we consider.\nThis solution lies in the subspace of Rm\u00d7n spanned by the symmetries induced by D. Still Thm 2\ndoes not inform us how to locate such a symmetric optimal solution. Indeed, the symmetry of the\noptimal solution is not a priori capable in itself to decrease the size of our na\u0131\u0308ve LP to a manageable one. For this purpose we establish a strong monotonicity property of item-symmetric BIC\nmechanisms (an item-symmetric mechanism is one that respects every item symmetry; see Sec 4\nfor a definition).\nTheorem 3. If D is item-symmetric, every item-symmetric BIC mechanism is strongly monotone:\nfor all bidders i, and items j, j 0 : vij \u2265 vij 0 =\u21d2 E~v\u2212i (\u03c6ij (~v )) \u2265 E~v\u2212i (\u03c6ij 0 (~v )).\ni.e., if i likes item j more than item j 0 , her expected probability (over the other bidders' values)\nof getting item j is higher. We give an analogous monotonicity property of IC mechanisms in\nAppendix K.\nFrom \u000f- to truly-BIC. Exploiting the aforementioned structural theorems we are able to efficiently\ncompute exactly optimal mechanisms for value distributions D whose marginals on every item have\nconstant-size support. (D itself can easily have exponentially-large support if, e.g., the items are\nindependent.) To adapt our solution to continuous distributions or distributions whose marginals\nhave non-constant support, we attempt the obvious rounding idea that changes D by rounding all\nvalues sampled from D down to the nearest multiple of some accuracy \u000f, and solves the problem on\nthe resulting distribution D\u000f . While we can argue that the optimal BIC mechanism for D\u000f is also\napproximately optimal for D, we need to also give up on the incentive compatibility constraints,\nresulting in an approximately-BIC mechanism where bidders may have an incentive to misreport\ntheir values, but the incentive to misreport is always smaller than some function of \u000f. A natural\napproach to eliminate those incentives to misreport is to appropriately discount the prices for\nitems or bundles of items charged by the mechanism computed for D\u000f , generalizing the singlebidder rounding idea attributed to Nisan in [10]. Unfortunately, this approach fails to work in the\nmulti-bidder settings, destroying both the revenue and truthfulness. Simply put, even though the\ndiscounts encourage bidders to choose more expensive options, these choices affect not only the price\nthey pay us, but the prices paid by other bidders as well as the incentives of other bidders. Once\nwe start rounding the prices, we could completely destroy any truthfulness the original mechanism\nhad, leaving us with no guarantees on revenue.\nOur approach is entirely different, comprising a non-trivial extension of the main technique\nof [16]. We run simultaneous VCG auctions, one per bidder, where each bidder competes with\nmake-believe replicas of himself, whose values are drawn from the same value distribution where his\nown values are drawn from. The goods for sale in these per-bidder VCG auctions are replicas of the\n8\n\n\fbidder drawn from the modified distribution D\u000f . These replicas are called surrogates. The intention\nis that the surrogates bought by the bidders in the per-bidder VCG auction will compete with each\nother in the optimal mechanism M designed for the modified distribution D\u000f . Accordingly, the\nvalue of a bidder for a surrogate is the expected value of the bidder for the items that the surrogate\nis expected to win in M minus the price the surrogate is expected to pay. This is exactly our\napproach, except we modify mechanism M to discount all these prices by a factor of 1 \u2212 O(\u000f).\nThis is necessary to argue that bidders choose to purchase a surrogate with high probability, as\notherwise we cannot hope to make good revenue. There are several technical ideas coming into the\ndesign and analysis of our two-phase auction (surrogate sale, surrogate competition). We describe\nthese ideas in detail in Sec 6.2, emphasizing several important complications departing from the\nsetting of [16]. Importantly, the approach of [16] is brute force in |supp(Di )|. While this is okay for\nk-items, this takes exponential time for k-bidders. In addition to showing the following theorem,\nwe show how to make use of Thm 3 to get the reduction to run in polynomial time in both settings.\nTheorem 4. Consider a generic setting with n items and m bidders who are additive up to some\ncapacity. Let D := \u00d7i Di and D0 := \u00d7i Di0 be product distributions, sampling every bidder independently from [0, 1]n . Suppose that, for all i, Di0 samples vectors whose coordinates are integer\nmultiples of some \u03b4 \u2208 (0, 1) and that Di and Di0 can be coupled so that, with probability 1, a value\n0 \u2265 v \u2212 \u03b4, \u2200j.\nvector ~vi sampled from Di and a value vector ~vi0 sampled from Di0 satisfy that vij \u2265 vij\nij\nThen, for all \u03b7, \u000f > 0, any \u000f-BIC mechanism M1 for D0 can be transformed into a BIC mechanism\nM2 for D such that RM2 (D) \u2265 (1 \u2212 \u03b7) * RM1 (D0 ) \u2212 \u000f+2\u03b4\n\u03b7 T , where T is the maximum number of\nitems that can be awarded by a feasible mechanism. Furthermore, if D and D0 are both valid inputs\nto the BIC k-bidders or k-items problem, the transformation runs in time polynomial in n and m.\nMoreover, for the BIC k-items problem, T = k and, for the BIC k-bidders problem, T \u2264 k maxi Ci ,\nwhere Ci is the demand of bidder i.\nFigure 1 shows how the various components discussed above interact with each other to prove\nTheorem 1. The proof of Corollary 1 is given in Appendix J.\n\nRich Subgroup of\nSymmetries in D.\n\nTheorem 3\n\nEfficient Solution\nfor discrete. D\n\nOptimal Mechanism\nrich in symmetries\n\nTheorem 2\n\nSection 5\n\nNa\u00efve LP\nformulation\n\nSuccinct LP\nformulation\nSurrogate\nAuction\n\nMonotonicity of\nOptimal Mechanisms\n\n+\n\nTheorem 4\n\nEfficient Solution\nfor continuous D\n.\n\nFigure 1: Our Proof Structure\n\n4\n\nSymmetry Theorem\n\nWe provide the necessary definitions to understand exactly what our symmetry result is claiming.\nDefinition 3. (Symmetry in a Distribution) We say that a distribution D has symmetry \u03c3 \u2208\nSm \u00d7 Sn if, for all ~v \u2208 Rm\u00d7n , P rD [~v ] = P rD [\u03c3(~v )]. We also write D \u2261 \u03c3(D).\n9\n\n\fDefinition 4. (Symmetry in a Mechanism) We say that a mechanism respects symmetry \u03c3 \u2208\nSm \u00d7 Sn if, for all ~v \u2208 Rm\u00d7n , M (\u03c3(~v )) = \u03c3(M (~v )).\nDefinition 5. (Permutation of a Mechanism) For any \u03c3 \u2208 Sm \u00d7Sn , and any mechanism M , define\nthe mechanism \u03c3(M ) as [\u03c3(M )](~v ) = \u03c3(M (\u03c3 \u22121 (~v ))).\nWe proceed to state our symmetry theorem; its proof can be found in App E.\nTheorem 2. (Restated from Sec 3) For all D, any BIC (respectively IC, \u000f-IC, \u000f-BIC) mechanism M can be symmetrized into a BIC (respectively IC, \u000f-IC, \u000f-BIC) mechanism M 0 such that,\n0\nfor all \u03c3 \u2208 Sm \u00d7 Sn , if D has symmetry \u03c3, M 0 respects \u03c3, and RM (D) = RM (D).\nWe note that Thm 2 is an extremely general theorem. D can have arbitrary correlation between\nbidders or items, and can be continuous. One might wonder why we had to restrict our theorem\nto symmetries in Sm \u00d7 Sn and not arbitary permutations of the set [m] \u00d7 [n]. In fact, after reading\nthrough our proof, one can see that the same inequalities that make symmetries in Sm \u00d7 Sn work\nalso hold for symmetries in S[m]\u00d7[n] . However, the mechanism resulting from our proof is not a\nfeasible one, since our transformation can violate feasibility constraints for symmetries \u03c3 \u2208\n/ Sm \u00d7Sn .\nWe also emphasize a subtle property of our symmetrizing transformation: the transformation\ntakes as input a set of symmetries satisfied by D and a mechanism, and symmetrizes the mechanism\nso that it satisfies all symmetries in the given set of symmetries. Our transformation does not work\nif the given set of symmetries is not a subgroup. Luckily the maximal subset of symmetries in\nSm \u00d7 Sn satisfied by a value distribution is always a subgroup, and this enables our result.\n\n5\n\nOptimal Symmetric Mechanisms for Discrete Distributions\n\nIn this section, we solve the following problem: \"Given a distribution D with constant support\nper dimension and a subgroup of symmetries S \u2286 Sm \u00d7 Sn satisfied by D, find a BIC mechanism\nM that respects all symmetries in S and maximizes RM (D).\" By Thm 2, such M will in fact be\noptimal with respect to all mechanisms. Intuitively, optimizing over symmetric mechanisms should\nrequire less work than over general mechanisms, since we should be able to exploit the symmetry\nconstraints in our optimization. Indeed, suppose that every bidder can report c different values\nfor each item, where c is some absolute constant. Then the na\u0131\u0308ve LP of Section 3/App B has\nsize polynomial in cmn , where m, n are the number of bidders and items respectively. In Sec 5.1\nwe give a simple observation that reduces the number of variables and constraints of this LP for\nany given S. This observation in itself is sufficient to provide an efficient solution to the BIC\nk-items problem (in our constant-support-per-dimension setting), but falls short from solving the\nBIC k-bidders problem. For the latter, we need another structural consequence of symmetry, which\ncomes in the form of a strong-monotonicity property satisfied by all symmetric BIC mechanisms.\nStrong-monotonicity and symmetry together enable us to obtain an efficient solution to the BIC\nk-bidders problem in Sec 5.2 (still for our constant-support-per-dimension setting).\nP We explicitly\nwrite the LPs that find the optimal BIC mechanism. Simply tacking on a \u2212\u000f * j \u03c0ij (w\n~ i ) to the\ncorrect side of the BIC constraints yields an LP to find the optimal \u000f-BIC mechanism for any \u000f.\nEfficiently solving non-constant/infinite supports per dimension is postponed to Sec 6.\n\n5.1\n\nReducing the LP size for any S, and Solving the discrete BIC k-items\nProblem\n\nWe provide an LP formulation that works for any S. Our LP is the same as the na\u0131\u0308ve LP of\nFigure 2, except we drop some constraints of that LP and modify its objective function as follows.\n10\n\n\fSince our mechanism needs to respect every symmetry in S, it must satisfy\n\u03c6ij (~v ) = \u03c6\u03c3(i,j) (\u03c3(~v )), \u2200i, j, ~v , \u03c3 \u2208 S and pi (~v ) = p\u03c3(i) (\u03c3(~v )), \u2200i, ~v , \u03c3 \u2208 S.\n\nTherefore, if we define an equivalence relation by saying that ~v \u223cS \u03c3(~v ), for all \u03c3 \u2208 S, we only\nneed to keep variables \u03c6ij (~v ), pi (~v ) for a single representative from each equivalence class. We can\nthen use the above equalities to substitute for all non-representative ~v 's into the na\u0131\u0308ve LP. This will\ncause some constraints to become duplicates. If we let E denote the set of representatives, then we\nare left with the LP of Figure 3 in App G, after removing duplicates. In parentheses at the end of\neach type of variable/constraint is the number of distinct variables/constraints of that type.\nLemma 1. The LP of Fig. 3 in App G has polynomial size for the BIC k-items problem, if the\nsupport of every marginal of the value distribution is an absolute constant.\n\n5.2\n\nStrong-Monotonicity, and Solving the discrete BIC k-bidders Problem\n\nUnfortunately, the reduction of the previous section is not strong enough to make the LP polynomial\nin the number of items n, even if S contains all item permutations and there is a constant number\nof bidders. This is because a bidder can deviate to an exponential number cn of types, and our LP\nneeds to maintain an exponential number of BIC constraints. To remedy this, we prove that every\nitem-symmetric BIC mechanism for bidders sampled from an item-symmetric distribution satisfies\na natural monotonicity property:\nDefinition 6. (Strong-Monotonicity of a BIC mechanism) A BIC or \u000f-BIC mechanism is said to\nbe strongly monotone if for all i, j, j 0 , vij \u2265 vij 0 \u21d2 \u03c0ij (~\nvi ) \u2265 \u03c0ij 0 (~\nvi ). That is, bidders expect to\nreceive their favorite items more often.\nTheorem 3. (Restated from Sec 3) If M is BIC and D and M are both item-symmetric, then\nM is strongly monotone. If M is \u000f-BIC and D and M are both item-symmetric, there exists a\n\u000f-BIC mechanism of the same expected revenue that is strongly monotone.\nThe proof of Thm 3 can be found in App F. We note again that our notion of strong-monotonicity\nis different than the notion of cyclic-monotonicity that holds more generally, but is not sufficient\nfor obtaining efficient algorithms. Instead strong-monotonicity suffices due to the following:\nObservation 1. When playing an item-symmetric, strongly monotone BIC mechanism, bidder v~i\nhas no incentive to report any w\n~i with wij > wij 0 unless vij \u2265 vij 0 .\n\nLemma 2. There exists a polynomial-size LP for the BIC k-bidders problem, if the support of\nevery marginal of the value distribution is an absolute constant. The LP is shown in Fig. 4 of App\nG.\nWe note that Theorem 3 is also true for IC and \u000f-IC mechanisms with the appropriate definition\nof strong-monotonicity. The definition and proof are given in Appendix K.\n\n6\n\nEfficient Mechanisms for General Distributions\n\nWe use the results of Sec 5 to prove Thm 1. First, it is not hard to see that discretizing the\nvalue distribution to multiples of \u03b4, for sufficiently small \u03b4 = \u03b4(\u000f), and applying Lemmas 1 and 2\nyields an algorithm for computing an \u000f-BIC \u000f-optimal mechanism for the k-items and k-bidders\nproblems. The resulting technical difficulty is turning these mechanisms into being 0-BIC. To do\nthis, we employ a non-trivial modification of the construction in [16] to improve the truthfulness\nof the mechanism at the cost of a small amount of revenue. We present our construction and its\nchallenges in Sec 6.2.\n11\n\n\f6.1\n\nA Warmup: \u000f-Truthful Near-Optimal Mechanisms\n\nDiscretization: Let D be a valid input to the BIC k-items or the BIC k-bidders problem. For\neach i, create a new distribution Di0 that first samples a bidder from Di , and rounds every value\ndown to the nearest multiple of \u03b4. Let D0 be the product distribution of all Di0 's. Let also T\ndenote the maximum number of items that can be awarded by a feasible mechanism. We show the\nfollowing lemma whose proof can be found in App H.\n0\n\nLemma 3. For all \u03b4, let M 0 be the optimal \u03b4-BIC mechanism for D0 . Then RM (D0 ) \u2265 ROP T (D)\u2212\n\u03b4T . Moreover, let M be the mechanism that on input ~v rounds every vij down to the nearest multiple\n0 of \u03b4 and implements the outcome M 0 (~\nvij\nv 0 ). Then M is 2\u03b4-BIC for bidders sampled from D, and\nhas revenue at least ROP T (D) \u2212 \u03b4T .\nNow notice that our algorithms of Sec 5 allow us to find an optimal \u03b4-BIC mechanism M 0 for\nSo an application of Lemma 3 allows us to obtain a 2\u03b4-BIC mechanism for D whose revenue is\nat least ROP T (D) \u2212 \u03b4T .\nD0 .\n\n6.2\n\nTruthful Near-Optimal Mechanisms: Proof of Theorems 4 and 1\n\nWe start this section with describing our \u000f-BIC to BIC transformation result (Thm 4) arguing\nthat it can be implemented efficiently in the BIC k-items and k-bidders settings. 6 Combining our\ntransformation with the results of the previous sections we obtain Thm 1 in the end of this section.\nOur transformation is inspired by [16], but has several important differences. We explicitly describe\nour transformation, point out the key differences between our setting and that considered in [16],\nand outline the proof of correctness, postponing the complete proof of Theorem 4 to Appendix I.\nAlgorithm Phase 1: Surrogate Sale\n1. Recall from the statement of Theorem 4 that D0 samples values that are integer multiples of\n\u03b4 and that D and D0 can be coupled so that, whenever we have ~v sampled from D and ~v 0\n0 \u2265 v \u2212\u03b4, for all i, j. Moreover, M is an \u000f-BIC mechanism\nsampled from D0 , we have vij \u2265 vij\nij\n1\nfor D0 , for some \u000f.\n2. Modify M1 to multiply all prices it charges by a factor of (1 \u2212 \u03b7). Call M the mechanism\nresulting from this modification. Interpret the \u03b7-fraction of the prices given back as rebates.\n3. For each bidder i, create r \u2212 1 replicas sampled i.i.d. from Di and r surrogates sampled i.i.d.\nfrom Di0 . Use r = ( \u03b7\u03b4 )2 * m2 * \u03b2\u0302, where \u03b2\u0302 = ( 1\u03b4 + 1)k , for the k-items transformation, and\n\u03b2\u0302 = (n + 1)1/\u03b4+1 , for the k-bidders transformation.\n4. Ask each bidder to report v~i . For k-bidders only: Fix a permutation \u03c3 such that vi\u03c3( j) \u2265 vi\u03c3( j+1) , \u2200j.\n0\n0\nFor each surrogate and replica w\n~i , permute w\n~i into w\n~i 0 satisfying wi\u03c3\n( j) \u2265 wi\u03c3 ( j+1) , \u2200j.\n5. Create a weighted bipartite graph with replicas (and bidder i) on the left and surrogates on\nthe right. The weight of an edge between replica (or bidder i) with type r~i and surrogate of\ntype s~i is r~i 's utility for the expected outcome of s~i when playing M (where the expectation\nis taken over the randomness of M and of the other bidders assuming they are sampled from\n0 ).\nD\u2212i\n6. Compute the VCG matching and prices. If a replica (or bidder i) is unmatched in the VCG\nmatching, add an edge to a random unmatched surrogate. The surrogate selected for bidder\ni is whoever she is matched to.\n\n6\n\nWe will explicitly describe the transformation for the BIC k-items and k-bidders settings. For an arbitrary setting\nwhere m bidders sample their valuation vectors for n items independently (but not necessarily identically) from [0, 1]n\n(allowing correlation among items), simply employ the BIC k-items transformation, replacing k with n.\n\n12\n\n\fAlgorithm Phase 2: Surrogate Competition\n1. Let s~i denote the surrogate chosen to represent bidder i in phase one, and let ~s denote the\nentire surrogate profile. Have the surrogates ~s play M .\n2. If bidder i was matched to their surrogate through VCG, charge them the VCG price and\naward them Mi (~s). (Recall that this has both an allocation and a price component; the price\nis added onto the VCG price.) If bidder i was matched to a random surrogate after VCG,\naward them nothing and charge them nothing.\nThere are several differences between our transformation and that of [16]. First, observe that,\nbecause D0 and M1 are explicitly given as input to our transformation (via an exact sampling\noracle from Di0 and explicitly specifying the outcome awarded to every type ~vi sampled from Di0 ,\nfor all i), we do not have to worry about approximation issues in calculating the edge weights of\nour VCG auctions in Phase 1. Second, in [16], the surrogates are taking part in an algorithm\nrather than playing a mechanism, and every replica has non-negative value for the outcome of an\nalgorithm because there are no prices charged. Here, however, replicas may have negative value\nfor the outcome of a mechanism because there are prices charged. Therefore, some edges may have\nnegative weights, and the VCG matching may not be perfect. We have modified M to give rebates\n(phase 1, step 2) so that the VCG matching cannot be far from perfect, and show that we do\nnot lose too much revenue from unmatched bidders. Finally, in the k-bidders problem, the vanilla\napproach that does not permute sampled replicas and surrogates (like we do in phase 1, step 4 of\nour reduction) would require exponentially many replicas and surrogates to preserve revenue. To\nmaintain the computational efficiency of our reduction, we resort to sampling only polynomially\nmany replicas/surrogates and permuting them according to the permutation induced by the bidder's\nreported values. This may seem like it is giving a bidder control over the distribution of replicas\nand surrogates sampled for her. We show, exploiting the monotonicity results of Sec 5, that our\nconstruction is still BIC despite our permuting the replicas and surrogates. We overview the main\nsteps of the proof of Thm 4 and give its complete proof in App I. We conclude this section with\nthe proof of Thm 1.\nProof of Theorem 1: Choose D0 to be the distribution that samples from D and rounds every vij\ndown to the nearest multiple of \u03b4. Let then M1 be the optimal \u03b4-BIC mechanism for D0 as computed\nby the algorithms of Section 5. By Lemma 3, RM1 (D0 ) \u2265 ROP T (D) \u2212 \u03b4T . Applying Thm 4 we\nobtain a BIC mechanism M2 such that\nRM2 (D) \u2265 (1 \u2212 \u03b7) * RM1 (D0 ) \u2212\n\n3\u03b4\nT\n\u03b7\n\n(1)\n\n\u2265 ROP T (D) \u2212 \u03b7 * ROP T (D) \u2212 (1 \u2212 \u03b7)\u03b4T \u2212\n\n3\u03b4\nT.\n\u03b7\n\n(2)\n\nNotice that ROP T (D)\u2264 T . Hence, choosing \u03b7 = \u000f and \u03b4 = \u000f2 , (2) gives\nRM2 (D) \u2265 ROP T (D) \u2212 O(\u000f * k) (for k-items); and\nX\nRM2 (D) \u2265 ROP T (D) \u2212 O(\u000f *\nCi ) (for k-bidders).\n\n(3)\n(4)\n\ni\n\nThe proof of Theorem 1 is concluded by noticing that\nconstant. 2\n\n13\n\nP\n\ni Ci\n\n\u2264 k maxi Ci and k is an absolute\n\n\fReferences\n[1] S. Alaei. Bayesian Combinatorial Auctions: Expanding Single Buyer Mechanisms to Many\nBuyers. Proceedings of FOCS 2011.\n[2] X. Bei, Z. Huang. Bayesian Incentive Compatibility Via Fractional Assignments. Proceedings of\nSODA 2011.\n[3] S. Bhattacharya, G. Goel, S. Gollapudi and K. Munagala. Budget constrained auctions with\nheterogeneous items. Proceedings of STOC 2010.\n[4] P. Briest, S. Chawla, R. Kleinberg and S. M. Weinberg. Pricing Randomized Allocations. Proceedings of SODA 2010.\n[5] P. Briest and P. Krysta. Buying Cheap is Expensive: Hardness of Non-Parametric MultiProduct Pricing. Proceedings of SODA 2007.\n[6] G. W. Brown and J. von Neumann. Solutions of Games by Differential Equations. In H. W.\nKuhn and A. W. Tucker (editors), Contributions to the Theory of Games, 1:73\u201379. Princeton\nUniversity Press, 1950.\n[7] Y. Cai and C. Daskalakis. Extreme-Value Theorems for Optimal Multidimensional Pricing.\nProceedings of FOCS, 2011.\n[8] Y. Cai, C. Daskalakis and S. M. Weinberg. An Algorithmic Characterizion of Multi-Dimensional\nMechanisms. arXiv report, 2011.\n[9] Y. Cai and Z. Huang. Simple and Nearly Optimal Multi-Item Auction. Manuscript, 2011.\n[10] S. Chawla, J. D. Hartline and R. D. Kleinberg. Algorithmic Pricing via Virtual Valuations.\nProceedings of EC 2007.\n[11] S. Chawla, J. D. Hartline, D. Malec and B. Sivan. Multi-Parameter Mechanism Design and\nSequential Posted Pricing. Proceedings of STOC 2010.\n[12] S. Chawla, D. Malec and B. Sivan. The Power of Randomness in Bayesian Optimal Mechanism\nDesign. Proceedings of EC 2010.\n[13] S. Dobzinski, H. Fu and R. D. Kleinberg. Optimal Auctions with Correlated Bidders are Easy.\nProceedings of STOC 2011.\n[14] D. M. Johnson, A. L. Dulmage, and N. S. Mendelsohn. On an Algorithm of G. Birkhoff\nConcerning Doubly Stochastic Matrices. Canadian Mathematical Bulletin 1960.\n[15] D. Gale, H. W. Kuhn, and A. W. Tucker. On Symmetric Games. In H. W. Kuhn and A. W.\nTucker (editors), Contributions to the Theory of Games, 1:81\u201387. Princeton University Press,\n1950.\n[16] J. Hartline, R. Kleinberg, A. Malekian. Bayesian Incentive Compatibility and Matchings. Proceedings of SODA 2011.\n[17] J. D. Hartline and B. Lucier. Bayesian Algorithmic Mechanism Design. Proceedings of STOC\n2010.\n14\n\n\f[18] A. M. Manelli and D. R. Vincent. Multidimensional Mechanism Design: Revenue Maximization\nand the Multiple-Good Monopoly. Journal of Economic Theory, 137(1):153\u2013185, 2007.\n[19] R. B. Myerson. Optimal Auction Design. Mathematics of Operations Research, 1981.\n[20] J. Nash. Noncooperative Games. Annals of Mathematics, 54:289\u2013295, 1951.\n[21] N. Nisan, T. Roughgarden, E. Tardos and V. V. Vazirani (eds.). Algorithmic Game Theory.\nCambridge University Press, 2007.\n\nA\n\nInput Distribution Model\n\nWe discuss two models for accessing a value distribution D, and explain what modifications are\nnecessary, if any, to our algorithms to work with each model:\n\u2022 Exact Access: We are given access to a sampling oracle as well as an oracle that exactly\nintegrates the pdf of the distribution over a specified region.\n\u2022 Sample-Only Access: We are given access to a sampling oracle and nothing else.\nThe presentation of the paper focuses on the first model. In this case, we can exactly evaluate\nprobabilities of events without any special care. If we have sample-only access to the distribution, we\nneed to be a bit more careful, and proceed to sketch what modifications are necessary to the LP of\nSection 5 and the reduction of Section 6 to obtain our results. For this discussion to be meaningful,\nthe reader should be familiar with the notation of Sections 5 and 6 and their appendices. Let\n{E` }` denote the partition of [0, 1]nm induced by rounding and symmetries. That is, let ~v \u223c w\n~\nif there exists a symmetry \u03c3 that D has, and there exist integers c11 , . . . , cmn such that cij \u03b4 >\nv\u03c3(i,j) , wij \u2265 (cij \u2212 1)\u03b4, for all i, j; let then {E` }` denote the partition of [0, 1]mn induced by this\nmin{n,m}\n\n(1/\u03b4+1)\nequivalence relation. In the settings we\nat most\n\u0010 consider, we have counted\n\u0011 max{n, m}\nmin{n,m}\ndifferent E` 's. Hence, we can take \u00d5 1/\u03b6 2 * max{n, m}(1/\u03b4+1)\nsamples from the oracle to\nsimultaneously estimate all probabilities {Pr[~v \u2208 E` ]}` to within additive accuracy \u03b6, with high\nc v \u2208 E` ]}` sum to exactly\nprobability. W.l.o.g. we can assume that the estimated probabilities {Pr[~\n1 (as our estimator is just the histogram of the equivalence classes in which the samples from D\nhave fallen). Given these estimates, let D\u03b4,\u03b6 be the discrete distribution that samples an event E`\nc v \u2208 E` ], and then outputs an arbitrary vector whose coordinates are all integer\nwith probability Pr[~\nmultiples of \u03b4 within E` , after having permuted that vector according to a random \u03c3 \u2208 S where\nS \u2286 Sm \u00d7Sn is the set of symmetries satisfied by D. Given D\u03b4,\u03b6 we modify our algorithm as follows.\nFirst, we apply the algorithms of Section 5 to the distribution D\u03b4,\u03b6 (that is known explicitly) to\ncompute the optimal mechanism M1 for this distribution. Then we skip the rounding of Section 6.1;\nand most importantly, in our reduction of Section 6.2 we make sure to sample surrogates from D\u03b4,\u03b6\nand not sample from D and then round down to multiples of \u03b4. This is because we need the\nexpected outcomes of M1 when played by surrogates sampled by D\u03b4,\u03b6 to be exactly as they were\ncomputed by the LPs of Section 5. On the other hand, we still sample replicas directly from D.\nThe error coming from using D\u03b4,\u03b6 instead of the discretized (to multiples of \u03b4) version of D in the\nreduction of Section 6.2 can be folded into the revenue approximation error. With the appropriate\nchoice of \u03b6 we can still obtain Theorem 1 and Corollary 1. We skip further details.\n\n15\n\n\fB\n\nA Na\u0131\u0308ve Linear Programming Formulation\n\nLet D be the joint distribution of all bidders' values for all items; this distribution is supported\non some subset of Rm\u00d7n , where m is the number of bidders and n is the number of items. It has\nlong been known that finding the optimal randomized BIC (or IC) mechanism is merely solving a\nlinear program of size polynomial in n, m, and |supp(D)|. 7 The simple linear program to find the\noptimal BIC mechanism for a distribution with finite support D where bidder i has demand Ci and\nbudget Bi is shown in Figure 2. Set Bi = +\u221e for bidders with no budget constraints.\nVariables:\n\u2022 \u03c6ij (~v ), for all bidders i, items j, and bidder profiles ~v \u2208 supp(D), denoting the probability\nthat bidder i receives item j when the bidder profile is ~v .\n\u2022 \u03c0ij (~vi ), for all bidders i, items j, and types ~vi \u2208 supp(Di ) for bidder i, denoting the expected\nprobability that bidder i receives item j when reporting type ~vi (where the expectation is\ntaken with respect to the types of the other bidders).\n\u2022 pi (~v ), for all bidders i, and bidder profiles ~v \u2208 supp(D), denoting the expected price that\nbidder i pays when the bidder profile is ~v .\n\u2022 qi (~vi ), for all bidders i, and types ~vi \u2208 supp(Di ) for bidder i, denoting the expected price\nthat bidder i pays when reporting type ~vi (where the expectation is taken with respect to the\ntypes of the other bidders and the randomness in the mechanism).\nConstraints:\nP\n~w\n~ i = ~vi ]\u03c6ij (w),\n~ for all i, j, ~vi , guaranteeing that \u03c0ij (~vi ) is computed\n\u2022 \u03c0ij (~vi ) = w|\n~ w\n~ i =~vi P r[w|\ncorrectly.\nP\n~w\n~ i = ~vi ]pi (w),\n~ for all i, ~vi , guaranteeing that qi (~vi ) is computed\n\u2022 qi (~vi ) =\nw|\n~ w\n~ i =~vi P r[w|\ncorrectly.\n\u2022 0 \u2264 \u03c6ij (~v ) \u2264 1, for all i, j, ~v , guaranteeing that each \u03c6ij (~v ) is a probability.\nP\n\u03c6ij (~v ) \u2264 1, for all j, ~v , guaranteeing that no item is awarded more than once in expectation.\n\u2022\nPi\nv ) \u2264 Ci , for all i, ~v , guaranteeing that no bidder is awarded more than Ci items in\n\u2022\nj \u03c6ij (~\nexpectation.\n\u2022 pi (~v ) \u2264 Bi , for all i, ~v , guaranteeing that no bidder ever pays more than Bi in expectation.\nP\n\u2022\nvi ) \u2212 qi (~vi ) \u2265 0, for all i, ~vi , guaranteeing that the mechanism is ex-interim individj vij \u03c0ij (~\nually rational (IR).\nP\nP\n\u2022\nvi ) \u2212 qi (~vi ) \u2265\nvi0 ) \u2212 qi (~vi0 ), for all i, ~vi , and ~vi0 , guaranteeing that the\nj vij \u03c0ij (~\nj vij \u03c0ij (~\nmechanism is BIC.\nMaximizing:\nP\n\u2022\nv )P r[~v ], the expected revenue.\ni,~v pi (~\nFigure 2: Na\u0131\u0308ve LP for bidders with demand and budget constraints.\nA simple application of the Birkhoff-Von Neumann theorem tells us that as long that marginals\n\u03c6ij (~v ) satisfy the demand and supply constraints in expectation, then we can find in polynomial time\na distribution over allocations that satisfies the demand and supply constraints deterministically\nand induces these marginals. In addition, a nice trick allows us to switch between ex-post IR and\n7\n\nSuch formulation is folklore and appears among other places in [4, 3, 13].\n\n16\n\n\fex-interim IR with no hurt in the value of the LP. These methods are described in Appendix C and\nD, respectively.\n\nC\n\nFeasible Randomized Allocations\n\nHere, we show how to efficiently turn the \u03c6s of a mechanism into an actual randomized outcome.\nWe start with unit-demand bidders (i.e. Ci = 1 for all i) and explain what modifications are\nnecessary for non-unit demand bidders. We note that this procedure was also used in [13], but we\ninclude it again here for completeness. Given a collection {\u03c6ij }i,j we explicitly find a distribution\nover feasible deterministic outcomes (a deterministic outcome assigns each item to some bidder,\nor possibly the trash) that assigns bidder i item j with probability \u03c6ij using the Birkhoff-Von\nNeumann decomposition of a doubly stochastic matrix. To do this, we put the \u03c6ij 's into a matrix,\n\u03a6. We observe that \u03a6 is almost doubly-stochastic, except that the sums of rows or columns can be\nless than 1, and \u03a6 isn't square. We can change \u03a6 into \u03a60 that is doubly-stochastic in the following\nway: First, add dummy items or dummy bidders to make \u03a6 square. Next, step through each entry\nof \u03a6 one by one and increase \u03a6ij as much as possible without making row i or column j sum to\ngreater than 1. Now we have a \u03a60 that is doubly stochastic.\nNext, we run a constructive algorithm for the Birkhoff-Von Neumann theorem ([14]) to decompose \u03a60 into the weighted sum of at most (max{m, n})2 permutation matrices in poly(max{m, n})\ntime. Now our sampling scheme is as follows. Pick a permutation matrix with probability equal to\nit's weight in the decomposition of \u03a60 , and call this matrix P . If Pij = 1, then give bidder i item j\nwith probability \u03a6ij /\u03a60ij .\nFor any i, j, let's explicitly compute the probability that bidder i gets item j in this sampling\nprocedure. The probability that Pij = 1 is exactly \u03a60ij . And the probability that bidder i gets item\nj is exactly \u03a6ij /\u03a60ij times the probability that Pij = 1, which is exactly \u03a6ij .\nHandling Non-Unit Demand Bidders. If bidder i has demand Ci (instead of 1), we can\nreplace her in the matrix \u03a6 with min(n, Ci ) copies (where n is the number of items), each receiving\nat most one item in expectation. Then we can run the same decomposition and give each bidder\nall the items awarded to her copies. This solution still runs in polynomial time, and always awards\neach bidder at most Ci items.\n\nD\n\nModifications Required for Ex-Post Individually Rational Mechanisms\n\nHere, we describe how to turn an ex-interim\nIR mechanism into an ex-post IR mechanism. If M\nP\nis ex-interim IR, P\nthen we just have j vij \u03c0ij (~vi ) \u2265 qi (~vi ) for all i, ~vi . Our modification is this: Let\nci (~vi ) := qi (~vi )/( j vij \u03c0ij (~vi )), forPsome specific i, ~vi . Then whenever bidder i receives bundle J\nwhen his bid was ~vi , charge him j\u2208J ci (~vi ) * vij . This is clearly ex-post IR because ci (~vi ) \u2264 1.\nAlso, let's compute the expected price bidder i pays when bidding ~vi :\nX\n\nci (~vi )vij \u03c0ij (~vi ) = ci (~vi )\n\nj\n\nX\n\nvij \u03c0ij (~vi ) = qi (~vi ).\n\nj\n\nSo we can do this simple transformation to turn an ex-interim IR mechanism into an ex-post\nIR mechanism without any loss in revenue. One should observe that this transformation may\ncause bidders to sometimes pay more than their budget (even though the budget constraint is still\n17\n\n\frespected in expectation after our transformation). Unfortunately, this problem is unavoidable in\nthe following sense: the optimal ex-post IR mechanism that respects budget constraints may make\nstrictly less revenue than the optimal ex-interim IR mechanism that respects budget constraints.\nHere is a simple example that illustrates this on a single item and two bidders. Each bidder always\nvalues the item at 10, but has a budget of 5. Then the optimal ex-interim IR mechanism that\nrespects budgets is to give the item to each player with probability 1/2 and charge them 5 no\nmatter who gets the item. The optimal ex-post IR mechanism that respects budgets is to give the\nitem to each player with probability 1/2 and charge the winner 5.\n\nE\n\nProof of Theorem 2\n\nWe provide a proof of our symmetry theorem (Theorem 2). The outline of our approach is this:\n1. We show that for an arbitrary \u03c3, if M is BIC and D has symmetry \u03c3, \u03c3(M ) is BIC and\nRM (D) = R\u03c3(M ) (D).\n2. We extend the result to distributions of permutations. That is, let G be any distribution over\npermutations in Sn \u00d7 Sm that only samples \u03c3 such that D has symmetry \u03c3. Then define the\nmechanism G(M ) to first sample a \u03c3 from G, then use \u03c3(M ). Then if M is BIC, then G(M )\nis BIC and RG(M ) (D) = RM (D).\n3. We show that if G uniformly samples a permutation from a subgroup S \u2286 Sm \u00d7Sn , then G(M )\nrespects every permutation in S, for all subgroups S and mechanisms M .\n4. We put everything together and observe that if G uniformly samples from the subgroup of\nsymmetries that D has, then for any mechanism M , we can create G(M ) that has the same\nexpected revenue as M and respects every symmetry that D has.\nNext we prove the above steps one-by-one. We prove more general statements catering also for IC,\n\u000f-IC and \u000f-BIC mechanisms.\nLemma 4. If M is an arbitrary IC (BIC,\u000f-IC, \u000f-BIC) mechanism, then for any \u03c3 \u2208 Sm \u00d7 Sn :\n1. \u03c3(M ) is an IC (BIC,\u000f-IC,\u000f-BIC) mechanism; and\nP\n2. R\u03c3(M ) (D) = ~v\u2208supp(D) RM (\u03c3 \u22121 (~v ))P r[~v \u2190 D].\nFurthermore, if D has symmetry \u03c3, then RM (D) = R\u03c3(M ) (D).\n\nProof of Lemma 4: It is clear that part 2 is true given part 1. If all bidders play truthfully, then\non bidder profile ~v , \u03c3(M ) makes revenue equal to exactly RM (\u03c3 \u22121 (~v )). Therefore the sum exactly\ncomputes the expected revenue. The last part of the lemma is also clear given part 2. If D has\nsymmetry \u03c3, then the sum exactly computes RM (D).\nNow we prove part 1. We do this by explicitly examining the value of bidder i whose true type\nis ~vi for reporting any other w\n~ i when the rest of the bids are fixed. Let ~v denote the profile of\nbids when everything besides bidder i is fixed and he reports ~vi , and let w\n~ denote the profile of\nbids when everything besides bidder i is the same as ~v , but bidder i reports w\n~ i instead. By the\ndefinition of \u03c3(M ) we have the following equation. (Recall that U (~vi , Mi (w))\n~ denotes the utility\nof a bidder with type ~vi for the expected outcome Mi (w).\n~ We also slightly abuse notation with \u03c3;\nwhen we write \u03c3(i) we mean the restriction of the permutation \u03c3 to [m], etc.)\nU (~vi , [\u03c3(M )]i (~x)) = U (\u03c3 \u22121 (~vi ), M\u03c3\u22121 (i) (\u03c3 \u22121 (~x))).\nThis holds because \u03c3(M ) on input ~x offers bidder i the permuted by \u03c3 lottery offered to bidder\n\u03c3 \u22121 (i) by M on bid vector \u03c3 \u22121 (~x) and charges him the price charged to bidder \u03c3 \u22121 (i) by M on\ninput \u03c3 \u22121 (~x).\n18\n\n\fNow, because M is an IC mechanism, we know that:\nU (\u03c3 \u22121 (~vi ), M\u03c3\u22121 (i) (\u03c3 \u22121 (~v ))) \u2265 U (\u03c3 \u22121 (~vi ), M\u03c3\u22121 (i) (\u03c3 \u22121 (w))).\n~\nAnd combining this inequality with the above equality, we get exactly that:\nU (~vi , [\u03c3(M )]i (~v )) \u2265 U (~vi , [\u03c3(M )]i (w)).\n~\nSince the above was shown for all i and for all ~v = (~vi ; ~v\u2212i ) and w\n~ = (w\n~ i ; ~v\u2212i ), we get\nthat \u03c3(M ) is an IC mechanism. If instead of being IC M were BIC, \u000f-IC, or \u000f-BIC, the incentive\nguarantee we have for M still falls exactly through for \u03c3(M ). 2\nCorollary 2. Let G denote any distribution over elements of Sm \u00d7Sn . For an IC (BIC,\u000f-IC,\u000f-BIC)\nmechanism M , let G(M ) denote the mechanism that samples an element \u03c3 from G, and then uses\nthe mechanism \u03c3(M ). Then for all G:\n1. G(M ) is an IC (BIC,\u000f-IC,\u000f-BIC) mechanism; and\nP\n2. RG(M ) (D) = \u03c3 R\u03c3(M ) (D)P r[\u03c3 \u2190 G].\n\nFurthermore, if G samples only \u03c3 such that D has symmetry \u03c3, then RM (D) = RG(M ) (D).\n\nProof of Corollary 2: It is clear that, because each \u03c3(M ) is an IC mechanism, randomly sampling\nan IC mechanism will result into an IC mechanism. The second claim is also clear by linearity of\nexpectation. The final claim is clear because R\u03c3(M ) (D) = RM (D), if D has symmetry \u03c3, so taking\na weighted average of them will still yield RM (D). We can replace IC by BIC, \u000f-IC, or \u000f-BIC in\nour argument. 2\nLemma 5. Let G sample a permutation uniformly at random from a subgroup S of Sm \u00d7 Sn . Then\nG(M ) respects every permutation in S.\nProof of Lemma 5: For any ~v , the outcome G(M )(~v ) is:\nG(M )(~v ) =\n\nX \u03c3(M (\u03c3 \u22121 (~v )))\n.\n|S|\n\n\u03c3\u2208S\n\nBecause S is a subgroup, for any \u03c4 \u2208 S, we can write:\nG(M )(\u03c4 (~v )) =\n\nX \u03c4 \u03c3(M ((\u03c4 \u03c3)\u22121 (\u03c4 (~v )))) X \u03c4 \u03c3(M (\u03c3 \u22121 (~v )))\n=\n= \u03c4 (G(M )(~v )).\n|S|\n|S|\n\n\u03c3\u2208S\n\n\u03c3\u2208S\n\nThis is exactly the statement that G(M ) respects symmetry \u03c4 . So all \u03c4 \u2208 S are respected by G(M ).\n2\nThe final step in the proof of Theorem 2 is just observing that if S denotes the set of symmetries\nof D, then S is in fact a subgroup because the definition of symmetry immediately yields that if D\nhas symmetries \u03c3 and \u03c4 , it also has symmetries \u03c3 \u22121 and \u03c3\u03c4 .\n\nF\n\nProofs Omitted from Section 5\n\nProof of Lemma 1: Suppose that S contains all bidder permutations and that every marginal of D\nn\nhas size at most c. We claim that the set of representative value vectors has size |E| \u2264 (m + 1)c .\nIndeed, each equivalence class is uniquely determined by the number of bidders of each type. There\n19\n\n\fn\n\nare cn types of bidders, and 0 up to at most m bidders per type, so (m + 1)c equivalence classes\nn\nof value vectors in total. Hence, the LP of Figure 3 has O(n(m + 1)c ) variables and constraints.\nIf both c and n are constants, the size of the LP is polynomial. 2\nProof of Theorem 3: Assume for a contradiction that M is item-symmetric and BIC but not\nstrongly monotone. Let then ~vi\u2217 be a bidder profile that breaks strong-monotonicity, i.e. \u03c0ij (~vi\u2217 ) >\n\u2217 < v \u2217 for a pair of items j, j 0 . We show that bidder i of type ~\n\u03c0ij 0 (~vi\u2217 ) and vij\nvi\u2217 can strictly\nij 0\n0\nincrease her expected utility by swapping her values for items j and j . Indeed, because D is itemsymmetric, we know that the distribution of complete bidder profiles satisfies the following for any\nitem permutation \u03c3:\nP r[w|\n~w\n~ i = ~vi\u2217 ] = P r[\u03c3(w)|\n~ w\n~ i = \u03c3(~vi\u2217 )].\nNow because M is item-symmetric, we also know that M (\u03c3(w))\n~ = \u03c3(M (w)),\n~\nfor all w.\n~ Putting\n\u2217\n\u2217\nthese together, we see that we must have \u03c0ij (~vi ) = \u03c0i\u03c3(j) (\u03c3(~vi )), for all item permutations \u03c3.\nLetting \u03c3 be the permutation that swaps items j and j 0 shows that when bidder i of type ~vi\u2217 swaps\nher values for j and j 0 , she simply switches \u03c0ij (~vi\u2217 ) and \u03c0ij 0 (~vi\u2217 ), strictly increasing her utility.\nFor the second part of the theorem, suppose that M is any item-symmetric \u000f-BIC mechanism\nthat is not strongly monotone. Again let ~vi\u2217 be a bidder profile that breaks strong-monotonicity\n\u2217 < v \u2217 for a pair of items j and j 0 . Let then M 0 be the mechanism\nwith \u03c0ij (~vi\u2217 ) > \u03c0ij 0 (~vi\u2217 ) and vij\nij 0\nthat does the following. If bidder i reports w\n~ i = \u03c4 (~vi\u2217 ), for some \u03c4 \u2208 Sn , then pick a random\nsuch \u03c4 , swap the bidder's values for items \u03c4 (j) and \u03c4 (j 0 ), and run M . Otherwise just run M .\nIt is clear that, M 0 has the exact same expected revenue as M , when played truthfully, because\nD is item-symmetric. Observe also that we have added no new alternatives for dishonest bidders\nto consider reporting, maintained the item symmetry of the mechanism, and made some bidders\nstrictly happier for the outcomes that the mechanism gives them. Therefore, M 0 is still itemsymmetric and \u000f-BIC and makes the same revenue as M , when played truthfully. Additionally we\nhave corrected one violation of strong-monotonicity. Iterating this process for a finite number of\nsteps will yield an \u000f-BIC item-symmetric strongly monotone mechanism with the same expected\nrevenue as M . 2\nProof of Lemma 2: Recall the definition of the set E of representative bidder profiles from Section 5.1/Appendix G. In addition to this set we define, for each bidder i, a set of representative\ntypes, Ei , for this bidder. Ei contains only value vectors ~vi satisfying vi1 \u2265 vi2 \u2265 . . . \u2265 vin . By\nObservation 1, if a mechanism is item-symmetric and no type in Ei wishes to misreport another\ntype in Ei , for\nresulting LP is shown in Figure 4. In total, we\nPall i, then the mechanism is BIC.\nP Our\n2\nhave O(n|E| i |Ei |) variables and O(n|E| i |Ei | ) constraints. Given that the value distribution\nm\nis symmetric under every item permutation, we have that |E| \u2264 (n + 1)c . Indeed, there are cm\npossible ways the m bidders like an item, and the question is how many items are liked in each of\nthe possible ways. We also know that |Ei | \u2264 (n + 1)c , again because choosing the number of items\nvalued by a bidder at each of the c possible values uniquely determines an element of Ei . It follows\nthat when c and m are constants the size of the LP is polynomial. 2\n\nG\n\nSuccinct LP Formulations\n\nFigures 3 and 4 show the succinct LPs that can be used to compute the optimal mechanisms for\nthe BIC k-items and the BIC k-bidders problems respectively. Details for satisfying the supply\nand demand constraints with probability 1, and ex-post IR modifications are exactly the same as\nin Appendices C and D. In both figures, E denotes a set of representatives under the equivalence\n20\n\n\frelation defined by bidder or item symmetries. In Figure 4, Ei denotes the set of types for bidder\ni such that vi1 \u2265 . . . \u2265 vin .\nVariables:\n\u2022 \u03c6ij (~v ), for all bidders i, items j, and bidder profiles ~v \u2208 E (mn|E|).\n\u2022 \u03c0ij (~vi ), for all bidders i, items j, and possible types for bidder i, ~vi (mncn ).\n\u2022 pi (~v ), for all bidders i, and bidder profiles ~v \u2208 E (m|E|).\n\u2022 qi (~vi ), for all bidders i, possible types for bidder i, ~vi (mcn ).\nConstraints:\nP\n\u2022 (Precomputed Weights): aux(i0 , j 0 , i, j, w,\n~ ~vi ) = \u03c3\u2208S:\u03c3(w)\n~ | \u03c3(w)\n~ i=\n~ i =~vi \u2227\u03c3 \u22121 (i,j)=(i0 ,j 0 ) Pr[\u03c3(w)\n0\n0\na\n~vi ], for all bidders i, i , items j, j , bidder profiles w\n~ \u2208 E, and types ~vi .\nP\nP\n0\n0\n\u2022 \u03c0ij (~vi ) = w\u2208E\n~\n, j , i, j, w,\n~ ~vi ), b , for all i, j, ~vi (mncn ).\n0 0 \u03c6i0 ,j 0 (w)aux(i\nP ~ P i ,j\n0 , j 0 , i, 1, w,\n\u2022 qi (~vi ) = w\u2208E\n~\n~ ~vi ), for all i, ~vi \u2208 Ei (mcn ).\n~\ni0 ,j 0 pi0 (w)aux(i\n\u2022 0 \u2264 \u03c6ij (~v ) \u2264 1, for all i, j, ~v \u2208 E (mn|E|).\nP\n\u2022\n\u03c6ij (~v ) \u2264 1, for all j, ~v \u2208 E (n|E|).\nPi\n\u2022\nv ) \u2264 Ci , for all i, ~v \u2208 E (m|E|).\nj \u03c6ij (~\n\u2022 pi (~v ) \u2264 Bi for all i, ~v \u2208 E (m|E|).\nP\nvi ) \u2212 qi (~vi ) \u2265 0, for all i, ~vi (mcn ).\n\u2022\nj vij \u03c0ij (~\nP\nP\n\u2022\nvi ) \u2212 qi (~vi ) \u2265 j vij \u03c0ij (~vi0 ) \u2212 qi (~vi0 ), for all i, ~vi , ~vi0 (mc2n ).\nj vij \u03c0ij (~\nMaximizing:\nP\nv )P r[\u222a\u03c3\u2208S \u03c3(~v ))].\ni,~v \u2208E pi (~\nFor the BIC k-items problem, these weights can be computed efficiently. If j 6= j 0 , then aux(i0 , j 0 , i, j, w,\n~ ~vi ) = 0,\nas there is no \u03c3 \u2208 S such that \u03c3 \u22121 (j) 6= j. If w\n~ i0 6= ~vi , then aux(i0 , j 0 , i, j, w,\n~ ~vi ) = 0. Otherwise, aux(i0 , j 0 , i, j, w,\n~ ~vi ) =\n(m\u22121)!*P r[w]\n~\n.\nP r[~\nxi0 \u2190Di0 ,~\nxi0 =~\nvi ]\nb\nJustification:\nX\nX\n\u03c0ij (~vi ) =\nP r[\u03c3(w)\n~ | \u03c3(w)\n~ i = ~vi ]\u03c6\u03c3\u22121 (i,j) (w)\n~\na\n\nw\u2208E\n~\n\u03c3\u2208S:\u03c3(w)\n~ i =~\nvi\n\n=\n\nXX\nw\u2208E\n~\ni0 ,j 0\n\n=\n\nXX\n\nX\n\n\u03c6i0 ,j 0 (w)\n~\n\nP r[\u03c3(w)\n~ | \u03c3(w)\n~ i = ~vi ]\n\n\u03c3\u2208S:\u03c3(w)\n~ i =~\nvi \u2227 \u03c3 \u22121 (i,j)=(i0 ,j 0 )\n\n\u03c6i0 ,j 0 (w)\n~ * aux(i0 , j 0 , i, j, w,\n~ ~vi ).\n\nw\u2208E\n~\ni0 ,j 0\n\nFigure 3: Succinct BIC k-items LP. In parentheses at the end of each type of variable/constraint\nis an upper bound on the number of such variables/constraints.\n\nH\n\nOmitted Proofs from Section 6.1\n\nIn this section we relate the optimal revenue achievable under \"similar\" value distributions, and\nprovide the proof of Lemma 3. Throughout the section, we let T denote the maximum number\nof itemsPthat can be awarded by a feasible mechanism. For k-items this is k, for k-bidders this is\nmin{n, i Ci }.\n21\n\n\fVariables:\n\u2022 \u03c6ij (~v ), for all bidders i, items j, and bidder profiles ~v \u2208 E (mn|E|).\nP\n\u2022 \u03c0ij (~vi ), for all bidders i, items j, and ~vi \u2208 Ei (n i |Ei |).\n\u2022 pi (~v ), for all bidders i, and bidder profiles ~v \u2208 E (m|E|).\nP\n\u2022 qi (~vi ), for all bidders i, ~vi \u2208 Ei ( i |Ei |).\nConstraints:\nP\n\u2022 (Precomputed Weights): aux(i0 , j 0 , i, j, w,\n~ ~vi ) = \u03c3\u2208S:\u03c3(w)\n~ | \u03c3(w)\n~ i=\n~ i =~vi \u2227\u03c3(i,j)\u22121 =(i0 ,j 0 ) Pr[\u03c3(w)\n~vi ], for all bidders i, i0 , items j, j 0 , bidder profiles w\n~ \u2208 E, and types ~vi . a\nP\nP\n\u2022 \u03c0ij (~vi ) = w\u2208E\n~ * aux(i0 , j 0 , i, j, w,\n~ ~vi ), for all i, j, ~vi (mncn )\n0 0 \u03c6i0 ,j 0 (w)\n~\nP\nP i ,j\nP\n\u2022 qi (~vi ) = w\u2208E\n~ * aux(i0 , j 0 , i, 1, w,\n~ ~vi ), for all i, ~vi \u2208 Ei ( i |Ei |).\n~\ni0 ,j 0 pi0 (w)\n\u2022 0 \u2264 \u03c6ij (~v ) \u2264 1, for all i, j, ~v \u2208 E (mn|E|).\nP\n\u2022\n\u03c6ij (~v ) \u2264 1, for all j, ~v \u2208 E (n|E|).\nPi\n\u2022\nv ) \u2264 Ci , for all i, ~v \u2208 E (m|E|).\nj \u03c6ij (~\n\u2022 pi (~v ) \u2264 Bi , for all i, ~v \u2208 E (m|E|).\nP\nP\nvi ) \u2212 qi (~vi ) \u2265 0, for all i, ~vi \u2208 Ei ( i |Ei |).\n\u2022\nj vij \u03c0ij (~\nP\nP\nP\n\u2022\nvi ) \u2212 qi (~vi ) \u2265 j vij \u03c0ij (~vi0 ) \u2212 qi (~vi0 ), for all i, ~vi \u2208 Ei , ~vi0 \u2208 Ei ( i |Ei |2 ).\nj vij \u03c0ij (~\nP\n\u2022 \u03c0ij (~vi ) \u2265 \u03c0i(j+1) (~vi ), for all i, j, ~vi \u2208 Ei (n i |Ei |).\nMaximizing:\nP\nv )P r[\u222a\u03c3\u2208S \u03c3(~v ))].\ni,~v \u2208E pi (~\nFor the BIC k-bidders problem, these weights can be computed efficiently. If i 6= i0 , then aux(i0 , j 0 , i, j, w,\n~ ~vi ) = 0.\nIf w\n~ i 6\u223cS ~vi , then aux(i0 , j 0 , i, j, w,\n~ ~vi ) = 0. If w\n~ ij 0 6= ~vij , then aux(i0 , j 0 , i, j, w,\n~ ~vi ) = 0. Otherwise, let the c possible\nQ\nvalues for the items be u1 , . . . , uc . Let nk denote the number of items j with ~vij = uk . Then there are k nk !\ndifferent permutations \u03c3 such that \u03c3(w)\n~ i = ~vi . If vij = ua , then the\nnumber of permutations such that \u03c3(w)\n~ i = ~vi\nQ\nQ\n~\nk nk !P r[w]\n~ ~vi ) = na P r[~\nand \u03c3(i, j 0 ) = (i, j) is ( k nk !)/na . Then aux(i0 , j 0 , i, j, w,\n.\nxi \u2190Di ,~\nxi =~\nvi ]\na\n\nFigure 4: Succinct BIC k-bidders LP. In parentheses at the end of each type of variable/constraint\nis an upper bound on the number of such variables/constraints.\nLemma 6. Suppose that D and D0 can be coupled so that, with probability 1, whenever ~v \u2190 D and\n0 = v + \u03b4, for all i, j. Then for all\n~v 0 \u2190 D0 are jointly sampled under the coupling, it holds that vij\nij\nOP\nT\nOP\nT\n0\n\u000f, R\u000f\n(D) \u2265 R\u000f\n(D ) \u2212 \u03b4T .\n\nProof of Lemma 6: Throughout this proof, 1 represents the all-ones vector. Let M 0 be any \u000fBIC mechanism for D0 . We define a new mechanism P\nM for D such that M (~v ) = M 0 (~v + \u03b4 * 1),\nexcept that we lower the price paid by bidder i by \u03b4 * j \u03c60ij (~v + \u03b4 * 1), i.e. \u03b4 times the expected\nnumber of items given to bidder i by M 0 (~v + \u03b4 * 1)). Then, for all i, ~vi , w\n~ i , ~v\u2212i and corresponding\n0 := ~\n~ i0 := w\n~ i + \u03b4 * 1, ~v\u2212i\nv\u2212i + \u03b4 * 1, we have:\n~vi0 := ~vi + \u03b4 * 1, w\n0\nU (~\nvi , Mi (w\n~ i ; ~v\u2212i )) = U (~\nvi 0 , Mi0 (w\n~ i0 ; ~v\u2212i\n)).\n\nHence because M 0 is \u000f-BIC under D0 , M is \u000f-BIC under D. It is also clear that the difference in\nexpected revenue of the two mechanisms under the two distributions is exactly \u03b4 times the expected\nnumber of items given out by M 0 , which is at most T . 2\nLemma 7. Suppose that D = \u00d7i Di and D0 = \u00d7i Di0 are product distributions over bidders and\nsuppose that, for all i, there is a coupling of Di and Di0 so that, with probability 1, if ~vi \u2190 Di and\n22\n\n\f0 \u2264 v + \u03b4, for all j. Then\n~vi0 \u2190 Di0 are jointly sampled under this coupling, it holds that vij \u2264 vij\nij\nOP T (D 0 ) \u2265 ROP T (D), for all \u000f.\nR\u03b4+\u000f\n\u000f\n\nProof of Lemma 7: For all i, the coupling whose existence is certified in the statement of the\nlemma, implies the existence of a (possibly randomized) mapping fiR such that the distribution\nthat samples ~vi0 from Di0 and outputs the pair (~vi , ~vi0 ), where ~vi is a random vector sampled from\n0 \u2264 v + \u03b4, for all j, with probability 1.\nfiR (~vi0 ), is a valid coupling of Di and Di0 satisfying vij \u2264 vij\nij\nR\n0\nLet then f be the random mapping which on input ~v samples, for all i, a random ~vi from fiR (~vi0 )\nand outputs (~v1 , . . . , ~vm ).\nNow consider any \u000f-BIC mechanism M for D, and define the mechanism M 0 for D0 , which on\n0\ninput ~v 0 samples a random ~v from fR (~v 0 ) and outputs M (~v ). It is obvious that RM (D0 ) = RM (D).\nTo conclude the proof of the lemma it suffices to show that M 0 is (\u000f + \u03b4)-BIC for bidders sampled\nfrom D0 . Indeed, we have from the fact that M is \u000f-BIC that for all i, ~vi and w\n~ i:\nE~v\u2212i \u223cD\u2212i [U (~\nvi , Mi (~v ))] \u2265 E~v\u2212i \u223cD\u2212i [U (~\nvi , Mi (w\n~ i ; ~v\u2212i ))] \u2212 \u000f*\n\nX\n\n\u03c0ij (w\n~ i ).\n\nj\n\nNow fix i, ~vi0 and w\n~ i0 . We have:\n0\n0 \u223cD 0 [U (~\n0 \u223cD 0 [U (~\nvi 0 , Mi0 (w\nvi 0 , Ew~ i \u223cf R (w~ 0 ),~v\u2212i \u223cf R (~v0 ) Mi (w\nE~v\u2212i\n~ i0 ; ~v\u2212i\n))] = E~v\u2212i\n~ i ; ~v\u2212i ))]\n\u2212i\n\u2212i\ni\n\n\u2212i\n\ni\n\n= E~v0\n\n0\nR (~\n0 )\n~ i \u223cfiR (w\n~ i0 ),~v\u2212i \u223cf\u2212i\nv\u2212i\n\u2212i \u223cD\u2212i ,w\n\n\u2212i\n\n0\n\n[U (~\nvi , Mi (w\n~ i ; ~v\u2212i ))]\n\n= E~v\u2212i \u223cD\u2212i ,w~ i \u223cf R (w~ 0 ) [U (~\nvi 0 , Mi (w\n~ i ; ~v\u2212i ))]\ni\n\n(5)\n\ni\n\nUsing Eq. (5) we have:\n0\n0 \u223cD 0 [U (~\nvi 0 , Mi0 (~vi0 ; ~v\u2212i\nE~v\u2212i\n))] = E~v\u2212i \u223cD\u2212i ,~vi \u223cf R (~v0 ) [U (~\nvi 0 , Mi (~vi ; ~v\u2212i ))]\n\u2212i\ni\n\ni\n\n\u2265 E~v\u2212i \u223cD\u2212i ,~vi \u223cf R (~v0 ) [U (~\nvi , Mi (~vi ; ~v\u2212i ))]\ni\n\ni\n\nvi , Mi (~vi ; ~v\u2212i ))]\n= E~vi \u223cf R (~v0 ) E~v\u2212i \u223cD\u2212i [U (~\ni\n\ni\n\n\u2265 Ew~ i \u223cf R (w~ 0 ),~vi \u223cf R (~v0 ) E~v\u2212i \u223cD\u2212i [U (~\nvi , Mi (w\n~ i ; ~v\u2212i )) \u2212 \u000f*\ni\n\ni\n\ni\n\nX\n\ni\n\nvi , Mi (w\n~ i ; ~v\u2212i ))] \u2212 \u000f *\n= Ew~ i \u223cf R (w~ 0 ),~vi \u223cf R (~v0 ) E~v\u2212i \u223cD\u2212i [U (~\ni\n\ni\n\ni\n\n\u03c0ij (w\n~ i )]\n\nj\n\nX\n\ni\n\n0\n\u03c0ij\n(w\n~ i0 ),\n\nj\n\nwhere for the last inequality we used that M is \u000f-BIC. Similarly,\n0\n0 \u223cD 0 [U (~\nE~v\u2212i\nvi 0 , Mi0 (w\n~ i0 ; ~v\u2212i\n))] = E~v\u2212i \u223cD\u2212i ,w~ i \u223cf R (w~ 0 ) [U (~\nvi 0 , Mi (w\n~ i ; ~v\u2212i ))]\n\u2212i\ni\n\ni\n\ni\n\ni\n\n\u2264 E~v\u2212i \u223cD\u2212i ,w~ i \u223cf R (w~ 0 ),~vi \u223cf R (~v0 ) [U (~\nvi + \u03b4 1, Mi (w\n~ i ; ~v\u2212i ))]\ni\ni\ni\ni\nX\n= E~v\u2212i \u223cD\u2212i ,w~ i \u223cf R (w~ 0 ),~vi \u223cf R (~v0 ) [U (~\nvi , Mi (w\n~ i ; ~v\u2212i ))+\u03b4 *\n\u03c0ij (w\n~ i )]\ni\n\ni\n\nj\n\n= Ew~ i \u223cf R (w~ 0 ),~vi \u223cf R (~v0 ) E~v\u2212i \u223cD\u2212i [U (~\nvi , Mi (w\n~ i ; ~v\u2212i ))] + \u03b4 *\ni\n\ni\n\ni\n\nX\n\ni\n\n0\n\u03c0ij\n(w\n~ i0 ).\n\nj\n\nCombining the above it follows that M 0 is (\u000f + \u03b4)-BIC. 2\nProof of Lemma 3: Let D denote the original distribution. Let D00 denote the distribution that\nfirst samples from D, then rounds every value up to the nearest multiple of \u03b4 (if the sampled value\nfrom D is exactly at an integer multiple of \u03b4 it is rounded up to the next integer multiple of \u03b4). Let\n23\n\n\fD0 denote the distribution that first samples from D, then rounds every value down to the nearest\nmultiple of \u03b4 (same definition as in the statement of Lemma 3). Then it is clear that D0 and D00\nsatisfy the hypotheses of Lemma 6, so we have:\nR\u03b4OP T (D0 ) \u2265 R\u03b4OP T (D00 )\u2212\u03b4T .\n\nIt is also clear that D and D00 satisfy the hypotheses of Lemma 7, so we have:\nR\u03b4OP T (D00 ) \u2265 ROP T (D).\nPutting both together, we get that:\nR\u03b4OP T (D0 ) \u2265 ROP T (D) \u2212 \u03b4T .\n\nIt follows immediately from the fact that M 0 is \u03b4-BIC for consumers in D0 that M is 2\u03b4-BIC\nfor consumers in D (via the argument given in the proof of Lemma 7) and it is obvious that\n0\nRM (D0 ) = RM (D). This completes the proof of the lemma. 2\n\nI\n\nProof of Theorem 4\n\nHere we prove Theorem 4. We start with a proof outline, and justify each step separately. Unless otherwise stated, every claim applies to both reductions (for the k-bidders and the k-items\nproblems). Before starting, we observe that the assumption that D0 is discrete is a simplifying\nassumption and not a necessary assumption. In our proof of Theorem 4 below, we point out the\nkey modification that makes it work for continuous D0 at an additional loss of O( \u03b7\u03b4 T ) in revenue.\nThroughout the proofs, we will use Ti to denote the maximum number of items that are possibly\nawarded to bidder i by a feasible mechanism, and T to denote the maximum number of\nPitems that\nare possibly awarded by a feasible mechanism. For k-bidders, Ti = Ci , T = min{n, i Ci }. For\nk-items, Ti = min{k, C}, T = k. Here is a brief outline of our proof. Let M2 denote the mechanism\noutput by our reduction; that the output of the reduction is a valid mechanism will be justified in\nwhat follows.\n1. If bidder i plays M2 truthfully, then the distribution of surrogates matched to bidder i is Di0 .\n2. For k-bidders, because M , D and D0 are item-symmetric, no bidder gains by lying about her\nordering.\n3. Because each bidder is participating in a VCG auction, and the value of each edge is calculated\nexactly given that all other bidders tell the truth, M2 is BIC.\n4. The revenue we make from bidder i is at least the price paid by their surrogate if bidder i is\nmatched in VCG, and 0 otherwise.\n5. There exists a high cardinality matching with positive edge weights. If VCG used this matching, we would make almost as much revenue as M . We show that because of the rebates\n(Phase One, Step 2), the VCG matching makes almost as much revenue as this matching.\n6. Therefore, we make a good approximation to RM (D0 ), which is in turn a good approximation\nto RM1 (D0 ).\nLemma 8 ([16]). If all bidders play M2 truthfully, then the distribution of the surrogate chosen for\nbidder i is exactly Di0 .\n\n24\n\n\fProof. Imagine changing the order of sampling in the experiment. First, sample the r surrogates\ni.i.d. from Di0 , and r replicas i.i.d. from Di . For the k-bidders algorithm only, pick a random\nordering \u03c3 and permute each surrogate and replica to respect that ordering. Finally, pick a replica\nuniformly at random among the sampled ones and decide that this was in fact bidder i. The\ndistribution of surrogates, replicas, and bidder i is exactly the same as that of the algorithm\nassuming bidder i truthfully reports his type. In addition, we can compute the VCG matching\nonce all the replicas and surrogates have been sampled before deciding which replica is bidder i.\nBecause we choose a random replica to be bidder i, the surrogate chosen to represent her will also\nbe chosen uniformly at random, regardless of the surrogates' types. So we can see that the process\nof choosing a surrogate is just sampling r times from Di0 independently, permuting each sample to\nrespect a random ordering (in the k-bidders problem only), and outputting a random surrogate\namong the sampled (and possibly permuted) ones. In the k-items reduction, the output surrogate\nis clearly distributed according to Di0 . In the k-bidders reduction, because Di0 is item-symmetric\nand we used a random permutation to permute all sampled surrogates, we still output a surrogate\ndistributed according to Di0 .\nLemma 9. In M2 resulting from the k-bidders reduction, no bidder i has an incentive to report\nany w\n~ i such that there is some j and j 0 for which wij > wij 0 when the true type ~vi of the bidder\nsatisfies vij < vij 0 .\nProof. Let \u03c3(w\n~i ) be such that \u03c3(w\n~i )j \u2265\u03c3(w\n~i )j 0 if and only if vij \u2265vij 0 . We show that bidder i would\nbe better off reporting \u03c3(w\n~i ) than w\n~i . Indeed, we can couple the outcomes of M2 on w\n~i and \u03c3(w\n~i )\nin the following way. Whenever a replica is sampled for i to play against, sample the same replica\nfor both experiments. Whenever a surrogate is sampled to represent her, sample the same for both\nexperiments. This set of replicas and surrogates will get permuted to match the ordering of w\n~i and\n\u03c3(w\n~i ) respectively, so the VCG matching chosen will be exactly the same. So if we let s~i denote the\nsurrogate chosen when the bid was w\n~i , then \u03c3(~\nsi ) is the surrogate chosen on bid \u03c3(w\n~i ). Because \u03c3\nwas chosen so that \u03c3(~\nsi ) is ordered the same as v~i and M is strongly monotone, bidder i prefers to\nbe represented by \u03c3(w\n~i ) than by w\n~i when her type is v~i . So bidder i has no incentive to lie about\nthe relative ordering of v~i .\nCorollary 3. M2 is BIC.\nProof. Fix some bidder i and suppose all other bidders report truthfully. By Lemma 8 the surrogates\n0 . Hence, when we design the VCG auction for\nchosen for them are distributed according to D\u2212i\nbidder i, we correctly compute the expected outcome that will be awarded to each surrogate if that\nsurrogate is chosen for bidder i. So in the k-items reduction, bidder i faces a VCG mechanism\nthat correctly computes edge-weights; hence the bidder will play the VCG mechanism truthfully.\nIn the k-bidders reduction, by Lemma 9 bidder i won't misreport her ordering, but could possibly\nlie about her values (respecting her ordering). Nevertheless, no matter what (ordering respecting)\nvalues she reports, she won't affect the distribution of the values of the replicas and surrogates\nshe will compete against in VCG, except for the fact that these are going to be conditioned to\nrespect her ordering. Still, because the edge-weights in the VCG auction are computed correctly,\nthe bidder will report her type truthfully.\nNow that we know M2 is BIC, we want to compare RM2 (D) to RM (D0 ). We observe first that\nif we are lucky and the VCG matching for every bidder is always perfect, then in fact RM2 (D) \u2265\nRM (D0 ). When bidders are matched in VCG to a surrogate, they pay exactly what their surrogate\npaid, plus a little extra due to the VCG prices. However, because some edge weights are negative,\nthe VCG matching may not be perfect. So how do we analyze expected revenue in this case?\n25\n\n\fWe look at the expected revenue contributed from a single bidder i. Consider again changing\nthe order of sampling in the experiment to sample each replica and surrogate first before deciding\nwhich replica is bidder i. Then if surrogate s~i is matched in VCG, there is a 1/r chance that its\nmatched replica will be bidder i and we make expected revenue equal to what s~i pays in M . If s~i is\nunmatched in VCG, then even if its matched replica is bidder i, we make no revenue. This ignores\nthe extra possible revenue from the VCG prices, which we will continue to ignore from now on. So\nlet p(~\nsi ) denote the expected price that a surrogate with type s~i pays in M (over the randomness\nof the other surrogates), and let V denote the set of surrogates that are matched in VCG. Then\nthe expected revenue of M2 from bidder i is exactly:\nX\n\np(~\nsi )/r.\n\ns~i \u2208V\n\nP\nRecall that the expected revenue of M from bidder i is exactly\nsi )/r. So our goal\n\u2200s~i p(~\nis to bound the difference between these two sums. But of course, there is also randomness in\nwhich surrogates are sampled and what the VCG matching is, so we want to bound the difference\nin expectation of these two sums. We do this in two steps. First, we show that there exists a\nmatching that is very close to perfect in expectation and only uses positive edges. In fact, it is so\nclose to perfect that even if we assume that the unmatched surrogates had the highest possible price\nwe barely lose any revenue in expectation. Unfortunately, this is not necessarily the matching that\nVCG uses. However, because VCG maximizes social welfare, and we give surrogates a free rebate\nof \u03b7pi (~\nsi ), VCG cannot unmatch too many surrogates that pay a high price. We now quantify these\nstatements and prove them.\nDefine an equivalence relation on bidders and surrogates where v~i \u223c w\n~i if when we round both\nvectors down to the nearest multiple of \u03b4 we get the same vector. Observe that a replica v~i and\nsurrogate s~i are equivalent only if vij \u2265 sij for all j. Therefore, replica v~i has positive valuation for\nthe outcome of surrogate s~i . 8 So a matching that matches replicas only to equivalent surrogates\nuses only positive edges. If we let \u03b2 be the number of equivalence classes, then \u03b2 \u2264 ( 1\u03b4 + 1)k\n(for k-items) and \u03b2 \u2264 (n + 1)1/\u03b4+1 (for k-bidders taking into account that we are only looking at\npermuted replicas/surrogoates in our transformation). We can use a lemma from [16] directly:\nLemma 10 ([16]). The expected cardinality\nof a maximal matching that only matches equivalent\n\u221a\nreplicas and surrogates is at least r \u2212 \u03b2r.\nSo if we denote by X the set of surrogates in some maximal matching using only equivalent\nreplicas, then because each p(~\nsi ) is at most Ti we get:\n\uf8ee\n\uf8f9\n\uf8ee\n\uf8f9\nX\nX\np\nE\uf8f0\np(~\nsi )/r\uf8fb \u2265 E \uf8f0\np(~\nsi )/r\uf8fb \u2212 Ti \u03b2/r\ns~i \u2208X\n\n\u2200s~i\n\nNow we want to bound the expected difference between the expected revenue from the matching\nX and the VCG matching V . We can get from X to V through a disjoint collection of augmenting\npaths and cycles. We want to show that there cannot be many augmenting paths that unmatch a\nsurrogate with a high p(~\nsi ).\nThis is the step where it is helpful to assume that D0 is discrete. If D0 were not discrete, we would not necessarily\nhave vij \u2265 sij . However, after giving an additional rebate of \u03b4 for every item received, the conclusion that ~vi has\npositive valuation for the surrogate ~si holds, which is what matters. The extra rebates result in an extra loss of\nO( \u03b7\u03b4 T ) of revenue. This loss in revenue comes from: a) actually giving the rebates, which costs at most \u03b4T in revenue\nand b) possibly reducing the truthfulness of M1 from \u000f-BIC to at worst (\u000f + \u03b4)-BIC, which costs an additional \u03b7\u03b4 T in\nrevenue (replacing \u000f by \u000f + \u03b4 in Lemma 11, Corollary 4, and the discussion following Lemma 12).\n8\n\n26\n\n\fLemma 11. Let P be any augmenting path from X to V that unmatches surrogate s~i 0 . Let also S\ndenote the set of surrogates in P . Finally, let s~i 00 be the surrogate closest to the end of P opposite\nto s~i 0 . If s~i 00 is matched in both X and V , then:\n\u03b4+\u000f X\n\u03c0ij (~\nsi ) \u2265 p(~\nsi 0 );\n\u03b7\ns~i \u2208S,j\n\notherwise\n\n\u03b4+\u000f X\n\u03c0ij (~\nsi ) \u2265 p(~\nsi 0 ) \u2212 p(~\nsi 00 ).\n\u03b7\ns~i \u2208S,j\n\nProof. Consider the \"weight\" of this path, computed by adding the weights of the new edges and\nsubtracting the weights of the deleted edges. Because VCG maximizes social welfare, this weight\nmust be positive. Decompose the gain/loss in social welfare in two components: that coming\nfrom rebates and that coming without accounting for rebates, i.e. were we running mechanism\nM1 instead of M . As far as the first component goes, the contribution to the welfare via rebates\nfrom a surrogate that is matched in both X and V does not change in the two matchings. Instead\nthere is a loss of \u03b7p(~\nsi 0 ) of rebates-welfare because s~i 0 becomes unmatched and a gain of \u03b7p(~\nsi 00 ) of\n00\nrebates-welfare, if s~i was not matched in X and became matched in V .\nNow let us upper-bound the gain in social welfare contributed byP\nthe M1 component of the edgesi ) by being\nweights. Because M1 is \u000f-BIC for D0 , a replica gains at most (\u03b4 + \u000f) j \u03c0ij (~\nP matched to\nsi )\ns~i instead of her equivalent surrogate. So the M1 -welfare goes up by at most (\u03b4 + \u000f) s~i \u2208S,j \u03c0ij (~\nfrom the augmentation.\nGiven that the augmentaion must increase social welfare, we obtain the lemma.\nThis lemma, in essence, says that each time a surrogate\nP becomes unmatched from X to V it\n\"claims\" some weight of the \u03c0ij s. If we let Wi denote \u2200s~i ,j \u03c0ij (~\nsi ), then we get the following\ncorollary:\nCorollary 4.\nX\ns~i \u2208V\n\nWe now proceed to bound\n\nP\n\np(~\nsi )/r \u2265\n\ni E[Wi ]\n\nX\ns~i \u2208X\n\np(~\nsi )/r \u2212\n\n\u03b4+\u000f\nWi .\n\u03b7r\n\nwith an easy lemma.\n\nLemma 12.\nX\ni\n\nE[Wi ]/r \u2264 T.\n\nProof. E[Wi ]/r is exactly the expected number of items awarded to bidder i by M . As M can only\naward T items, we have the desired inequality.\nNow we just have to put everything together and chase through some inequalities. From the\nwork above we get that:\n\uf8ee\n\uf8f9\n\uf8ee\n\uf8f9\n!\nr\nX\nX\n\u03b2\n\u03b4\n+\n\u000f\nE\uf8f0\np(~\nsi )/r\uf8fb \u2265 E \uf8f0\np(~\nsi )/r\uf8fb \u2212 Ti\n+\nE[Wi ] .\nr\n\u03b7r\ns~i \u2208V\n\n\u2200s~i\n\nAnd when we sum this over all bidders we get:\n\n27\n\n\fr\nR\n\nM2\n\nM\n\n0\n\n(D) \u2265 R (D ) \u2212\n\nX\n\nTi\n\ni\n\nr\n=\u21d2 R\n\nM2\n\nM\n\n0\n\n(D) \u2265 R (D ) \u2212\n\n\u03b2 \u03b4+\u000f\n+\nE[Wi ]\nr\n\u03b7r\n\n!\n\n\u03b2X\n\u03b4+\u000f\nTi +\nT\nr\n\u03b7\n\n!\n\ni\n\nRecall that M is just M1 with rebates, hence:\nRM (D0 ) = (1 \u2212 \u03b7) RM1 (D0 ).\nPutting the above together with our choice of r and observing that Ti \u2264 T for all i, we conclude\nthe proof of Theorem 4.\n\nJ\n\nProof of Corollary 1\n\nRecall the definition of a Monotone Hazard Rate distribution.\nDefinition 7. (Monotone Hazard Rate) A one-dimensional differentiable distribution F satisfies\nf (x)\nthe Monotone Hazard Rate Condition if 1\u2212F\n(x) is monotonically non-decreasing for all x such that\n0\nF (x) < 1, where f = F is the probability density function.\nTo prove Corollary 1 we reduce the MHR case to the [0, 1] case. We do this by finding an appropriate\n\u039e such that the probability that any bidder values any item above \u039e is tiny. In fact, so tiny that\neven if we assumed the optimal mechanism could somehow extract full value from bidders when\nthey value an item above \u039e, this would account for a tiny fraction of the total revenue. We\nmake use of the following two lemmas from Cai and Daskalakis [7]. For a distribution F , let\n\u03b1p = inf{x|F (x) \u2265 1 \u2212 1/p}. Then:\nLemma 13 ([7]). If F is MHR, then k\u03b1p \u2265 \u03b1pk , for all p, k \u2265 1.\nLemma 14 ([7]). If F is MHR and X is a random variable distributed according to F , then\nE[X|X \u2265 \u03b1p ] * P r[X \u2265 \u03b1p ] \u2208 O(\u03b1p /p).\nSet \u03b6 = dlog2 k/\u000fe + 1. For k-bidders, let \u03b1i,n denote \u03b1n for F = Fi , for all i. Let then\n\u039e = maxi {\u03b1i,n\u03b6 }. Then by Lemma 14, even if we could extract full value from every bidder for\neach item they valued above \u039e, we would only make at most O(kn\u039e/n\u03b6 ) = O(\u000f\u039e) expected revenue.\nIn addition, there is a trivial mechanism that makes expected revenue \u03a9(\u039e/ log k/\u000f). Just price\neach item at \u039e0 = maxi {\u03b1i,n } and sell them on a first-come first-served basis. By Lemma 13,\nwe know that \u03b1i,n \u2265 \u03b1i,n\u03b6 /\u03b6, and therefore \u039e0 \u2265 \u039e/\u03b6. In addition, the probability that an item\ngets sold is a constant (approximately 1/e), so we make revenue \u03a9(\u039e0 ) = \u03a9(\u039e/ log k/\u000f). These\ntwo observations together tell us that we can completely ignore the revenue from extreme bidders\nwithout losing too much. So our algorithm for k-bidders on MHR distributions is as follows: For\neach Di , create a new distribution Di0 that rounds each vij down to the nearest multiple of \u03b4\u039e if\nvij < \u039e, or down to \u039e if vij > \u039e. Find an optimal mechanism M1 for the distribution \u00d7i Di0 . Then\nsample surrogates from Di0 and replicas from Di and go through the same reduction as for [0, 1]\n(described in Section 6.2). Because we sample replicas directly from Di , this solution will still be\nBIC (see Appendix I). In addition, by the arguments in Appendix I and the observations above, we\nget an additive O(\u000f\u039e) approximation to the optimal revenue. Because there is a trivial mechanism\nmaking revenue \u03a9(\u039e/ log k/\u000f), this is in fact a multiplicative (1 \u2212 O(\u000f * log k/\u000f)) approximation.\n28\n\n\fFor k-items, let \u03b1j,m denote \u03b1m when F is the marginal distribution of F for item j. Then\nlet \u039e = maxj {\u03b1j,m\u03b6 }. Then by Lemma 14, even if we could extract full value from every bidder\nfor each item they valued above \u039e, we could only make at most O(km\u039e/m\u03b6 ) = O(\u000f\u039e) expected\nrevenue. In addition, the first-come first-served mechanism that prices all items at \u039e0 = maxj {\u03b1j,m }\nmakes \u03a9(\u039e/ log k/\u000f) revenue for the same reasons that the first-come first-served mechanism in the\nprevious paragraph made \u03a9(\u039e/ log k/\u000f) revenue. Again, these observations tell us that we can\ncompletely ignore the revenue from extreme bidders without losing too much. Our alogrithm for\nk-items on MHR distributions is the same as for k-bidders: D0 samples from D then rounds each vij\ndown to the nearest multiple of \u03b4\u039e if vij < \u039e, and down to \u039e otherwise. We compute the optimal\nmechanism for D0 . We then sample surrogates from Di0 and replicas from Di and go through the\nsame reduction as for [0, 1] (described in Section 6.2). Again, because we sample replicas directly\nfrom D, the solution is still BIC, and by the arguments in Appendix I and the observations above,\nwe get an additive O(\u000f\u039e) approximation to the optimal revenue, which is again a multiplicative\n(1 \u2212 O(\u000f * log k/\u000f)) approximation.\n\nK\n\nExtending Theorem 1 and Corollary 1 to IC Mechanisms\n\nAs the modifications to the na\u0131\u0308ve LP for going from BIC to IC are trivial, we will not restate the\nna\u0131\u0308ve LP for IC here. The symmetry theorem (Theorem 2, Section 4) has already been proven for\nIC mechanisms. The first stop along our proof where we have to treat IC and BIC differently is\nthe monotonicity of item-symmetric mechanisms (for the k-bidders problem).\nDefinition 8. (Strong-Monotonicity of an IC mechanism) An IC or \u000f-IC mechanism is said to be\nstrongly monotone if for all i, j, j 0 and ~v such that vkj = vkj 0 for all k 6= i, \u03c6ij (~v ) > \u03c6ij 0 (~v ) \u21d2 vij \u2265\nvij 0 .\nTheorem 5. Any item-symmetric IC mechanism is strongly monotone. For all item-symmetric\n\u000f-IC mechanisms M , there exists a mechanism M 0 of equal revenue that is strongly monotone.\nProof. The proof follows the same lines as that of Theorem 3 after making a quick observation. If\nvkj = vkj 0 for all k 6= i and \u03c3 is the permutation that swaps items j and j 0 , then if bidder i swaps\nvij and vij 0 , he turns ~v into \u03c3(~v ), simply because \u03c3 does not affect ~v\u2212i . As any item-symmetric\nmechanism M must have M (\u03c3(~v )) = \u03c3(M (~v )), the rest of the proof follows that of Theorem 3 as\nbidder i can swap the probability that he receives items j and j 0 by swapping his values.\nNext, we have to turn Theorem 5 into monotonicity constraints for the LP of the k-bidders\nproblem. We say that ~v \u223ci w\n~ if there exists a \u03c3 such that \u03c3(~v ) = \u03c3(w)\n~ and \u03c3(~vk ) = ~vk for all k 6= i.\nIn other words, w\n~ i is a permutation of ~vi that is the identity on ~v\u2212i . Then let Ei (~v\u2212i ) denote the\nset of w\n~ such that (w\n~ \u2212i = ~v\u2212i ) and (\u2200j \u2227 j < j 0 : wkj = wkj 0 \u21d2 wij \u2265 wij 0 ). I.e. Ei (~v\u2212i ) is a set of\nrepresentatives under the equivalence relation \u223ci for a fixed ~v\u2212i . Strong-monotonicity implies then\nthe following.\nObservation 2. When playing an item-symmetric, strongly monotone IC mechanism, if vkj = vkj 0\nfor all k 6= i, and vij >vij 0 , then bidder i has no incentive report any w\n~ i such that wij 0 > wij .\nCorollary 5. If M is strongly-monotone and item-symmetric and when playing M , for all i and\n~v\u2212i , bidder i never has (more than \u000f) incentive to misreport w\n~ i \u2208 Ei (~v\u2212i ) when her true type is\n~vi \u2208 Ei (~v\u2212i ) for any w\n~ i , ~vi , then M is IC (\u000f-IC).\nGiven Corollary 5, we replace in the k-bidders LP the BIC and strong-monotonicity constraints\nwith the following IC and strong-monotonicity constraints:\n29\n\n\fIC, Strong-Monotonicity Constraints:\nX\nX\nvij \u03c6ij (~v ) \u2212 pi (~v ) \u2265\nvij \u03c6ij (w)\n~ \u2212 pi (w),\n~\nj\n\n\u03c6ij (~v ) \u2265 \u03c6ij 0 (~v ),\n\nj\n\nfor all i, ~v \u2208 E, w\n~ \u2208 Ei (~v\u2212i );\n\nfor all i, j < j 0 and ~v \u2208 E such that vkj = vkj 0 for all k 6= i.\n\nThe last step is to show that there are only polynomially many IC constraints. We show this\nin the following lemma:\nLemma 15. |Ei (~v\u2212i )| \u2264 |E| for all i, ~v\u2212i .\nProof. We prove the lemma by showing that if w\n~ \u2208 Ei (~v\u2212i ), and \u03c3(w)\n~ \u2208 Ei (~v\u2212i ), then \u03c3(w)\n~ = w.\n~\nObserve first that in order to possibly have \u03c3(w)\n~ \u2208 Ei (~v\u2212i ), we must have \u03c3(w\n~ \u2212i ) = ~v\u2212i = w\n~ \u2212i .\nIn other words, if \u03c3(j) = j 0 , then wkj = wkj 0 for all k 6= i. However, in order for w\n~ \u2208 Ei (~v\u2212i ), it\nmust be the case that for all such j, j 0 , wij > wij 0 \u21d2 j < j 0 , which means that there is a unique\nordering of such values in w\n~ i that will make w\n~ \u2208 Ei (~v\u2212i ). Because w\n~ and \u03c3(w)\n~ must respect the\nsame ordering, they must be the same vector.\nTherefore, because Ei (~v\u2212i ) contains at most one representative per equivalence class under \u223c,\nand E contains exactly one representative per equivalence class, we have that |Ei (~v\u2212i )| \u2264 |E|.\nOur discretization lemma of Section 6.1, namely Lemma 3, has exactly the same statement,\nreplacing BIC with IC, and its proof is very similar (just removing expectations over the other\nbidders' types where appropriate). As we do not have an \u000f-IC to IC reduction, the above changes\nare actually the only changes that are needed to adjust Theorem 1 to \u000f-IC. The proof of Corollary 1\nalso works for \u000f-IC, so we have shown how to obtain \u000f-IC mechanisms for the settings of Theorem 1\nand Corollary 1. As discussed in Remark 1, we can accommodate arbitrary budget constraints as\nwe do not use an analogue of the \u000f-BIC to BIC reduction, which was the only step in our BIC proof\nthat could not accommodate budgets.\n\n30\n\n\f"}