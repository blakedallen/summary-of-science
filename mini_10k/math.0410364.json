{"id": "http://arxiv.org/abs/math/0410364v1", "guidislink": true, "updated": "2004-10-16T08:04:50Z", "updated_parsed": [2004, 10, 16, 8, 4, 50, 5, 290, 0], "published": "2004-10-16T08:04:50Z", "published_parsed": [2004, 10, 16, 8, 4, 50, 5, 290, 0], "title": "Hopf algebras of endomorphisms of Hopf algebras", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=math%2F0410328%2Cmath%2F0410285%2Cmath%2F0410127%2Cmath%2F0410034%2Cmath%2F0410626%2Cmath%2F0410166%2Cmath%2F0410331%2Cmath%2F0410251%2Cmath%2F0410302%2Cmath%2F0410335%2Cmath%2F0410269%2Cmath%2F0410236%2Cmath%2F0410015%2Cmath%2F0410188%2Cmath%2F0410286%2Cmath%2F0410106%2Cmath%2F0410420%2Cmath%2F0410226%2Cmath%2F0410377%2Cmath%2F0410018%2Cmath%2F0410493%2Cmath%2F0410040%2Cmath%2F0410485%2Cmath%2F0410426%2Cmath%2F0410352%2Cmath%2F0410077%2Cmath%2F0410389%2Cmath%2F0410371%2Cmath%2F0410605%2Cmath%2F0410364%2Cmath%2F0410563%2Cmath%2F0410526%2Cmath%2F0410010%2Cmath%2F0410361%2Cmath%2F0410099%2Cmath%2F0410301%2Cmath%2F0410484%2Cmath%2F0410339%2Cmath%2F0410157%2Cmath%2F0410078%2Cmath%2F0410564%2Cmath%2F0410057%2Cmath%2F0410617%2Cmath%2F0410241%2Cmath%2F0410235%2Cmath%2F0410154%2Cmath%2F0410084%2Cmath%2F0410346%2Cmath%2F0410316%2Cmath%2F0410468%2Cmath%2F0410612%2Cmath%2F0410035%2Cmath%2F0410618%2Cmath%2F0410063%2Cmath%2F0410303%2Cmath%2F0410545%2Cmath%2F0410500%2Cmath%2F0410600%2Cmath%2F0410607%2Cmath%2F0410452%2Cmath%2F0410200%2Cmath%2F0410296%2Cmath%2F0410549%2Cmath%2F0410092%2Cmath%2F0410227%2Cmath%2F0410284%2Cmath%2F0410087%2Cmath%2F0410265%2Cmath%2F0410033%2Cmath%2F0410289%2Cmath%2F0410184%2Cmath%2F0410193%2Cmath%2F0410254%2Cmath%2F0410390%2Cmath%2F0410067%2Cmath%2F0410324%2Cmath%2F0410073%2Cmath%2F0410098%2Cmath%2F0410031%2Cmath%2F0410252%2Cmath%2F0410083%2Cmath%2F0410495%2Cmath%2F0410089%2Cmath%2F0410202%2Cmath%2F0410332%2Cmath%2F0410161%2Cmath%2F0410209%2Cmath%2F0410347%2Cmath%2F0410075%2Cmath%2F0410216%2Cmath%2F0410074%2Cmath%2F0410194%2Cmath%2F0410511%2Cmath%2F0410338%2Cmath%2F0410408%2Cmath%2F0410021%2Cmath%2F0410467%2Cmath%2F0410592%2Cmath%2F0410392%2Cmath%2F0410596%2Cmath%2F0410573&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Hopf algebras of endomorphisms of Hopf algebras"}, "summary": "In the last decennia two generalizations of the Hopf algebra of symmetric\nfunctions have appeared and shown themselves important, the Hopf algebra of\nnoncommutative symmetric functions NSymm and the Hopf algebra of quasisymmetric\nfunctions QSymm. It has also become clear that it is important to understand\nthe noncommutative versions of such important structures as Symm the Hopf\nalgebra of symmetric functions. Not least because the right noncommmutative\nversions are often more beautiful than the commutaive ones (not all cluttered\nup with counting coefficients). NSymm and QSymm are not truly the full\nnoncommutative generalizations. One is maximally noncommutative but\ncocommutative, the other is maximally non cocommutative but commutative. There\nis a common, selfdual generalization, the Hopf algebra of permutations of\nMalvenuto, Poirier, and Reutenauer (MPR). This one is, I feel, best understood\nas a Hopf algebra of endomorphisms. In any case, this point of view suggests\nvast generalizations leading to the Hopf algebras of endomorphisms and word\nHopf algebras with which this paper is concerned. This point of view also sheds\nlight on the somewhat mysterious formulas of MPR and on the question where all\nthe extra structure (such as autoduality) comes from. The paper concludes with\na few sections on the structure of MPR and the question of algebra retractions\nof the natural inclusion of Hopf algebras of NSymm into MPR and section of the\nnaural projection of MPR onto QSymm.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=math%2F0410328%2Cmath%2F0410285%2Cmath%2F0410127%2Cmath%2F0410034%2Cmath%2F0410626%2Cmath%2F0410166%2Cmath%2F0410331%2Cmath%2F0410251%2Cmath%2F0410302%2Cmath%2F0410335%2Cmath%2F0410269%2Cmath%2F0410236%2Cmath%2F0410015%2Cmath%2F0410188%2Cmath%2F0410286%2Cmath%2F0410106%2Cmath%2F0410420%2Cmath%2F0410226%2Cmath%2F0410377%2Cmath%2F0410018%2Cmath%2F0410493%2Cmath%2F0410040%2Cmath%2F0410485%2Cmath%2F0410426%2Cmath%2F0410352%2Cmath%2F0410077%2Cmath%2F0410389%2Cmath%2F0410371%2Cmath%2F0410605%2Cmath%2F0410364%2Cmath%2F0410563%2Cmath%2F0410526%2Cmath%2F0410010%2Cmath%2F0410361%2Cmath%2F0410099%2Cmath%2F0410301%2Cmath%2F0410484%2Cmath%2F0410339%2Cmath%2F0410157%2Cmath%2F0410078%2Cmath%2F0410564%2Cmath%2F0410057%2Cmath%2F0410617%2Cmath%2F0410241%2Cmath%2F0410235%2Cmath%2F0410154%2Cmath%2F0410084%2Cmath%2F0410346%2Cmath%2F0410316%2Cmath%2F0410468%2Cmath%2F0410612%2Cmath%2F0410035%2Cmath%2F0410618%2Cmath%2F0410063%2Cmath%2F0410303%2Cmath%2F0410545%2Cmath%2F0410500%2Cmath%2F0410600%2Cmath%2F0410607%2Cmath%2F0410452%2Cmath%2F0410200%2Cmath%2F0410296%2Cmath%2F0410549%2Cmath%2F0410092%2Cmath%2F0410227%2Cmath%2F0410284%2Cmath%2F0410087%2Cmath%2F0410265%2Cmath%2F0410033%2Cmath%2F0410289%2Cmath%2F0410184%2Cmath%2F0410193%2Cmath%2F0410254%2Cmath%2F0410390%2Cmath%2F0410067%2Cmath%2F0410324%2Cmath%2F0410073%2Cmath%2F0410098%2Cmath%2F0410031%2Cmath%2F0410252%2Cmath%2F0410083%2Cmath%2F0410495%2Cmath%2F0410089%2Cmath%2F0410202%2Cmath%2F0410332%2Cmath%2F0410161%2Cmath%2F0410209%2Cmath%2F0410347%2Cmath%2F0410075%2Cmath%2F0410216%2Cmath%2F0410074%2Cmath%2F0410194%2Cmath%2F0410511%2Cmath%2F0410338%2Cmath%2F0410408%2Cmath%2F0410021%2Cmath%2F0410467%2Cmath%2F0410592%2Cmath%2F0410392%2Cmath%2F0410596%2Cmath%2F0410573&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "In the last decennia two generalizations of the Hopf algebra of symmetric\nfunctions have appeared and shown themselves important, the Hopf algebra of\nnoncommutative symmetric functions NSymm and the Hopf algebra of quasisymmetric\nfunctions QSymm. It has also become clear that it is important to understand\nthe noncommutative versions of such important structures as Symm the Hopf\nalgebra of symmetric functions. Not least because the right noncommmutative\nversions are often more beautiful than the commutaive ones (not all cluttered\nup with counting coefficients). NSymm and QSymm are not truly the full\nnoncommutative generalizations. One is maximally noncommutative but\ncocommutative, the other is maximally non cocommutative but commutative. There\nis a common, selfdual generalization, the Hopf algebra of permutations of\nMalvenuto, Poirier, and Reutenauer (MPR). This one is, I feel, best understood\nas a Hopf algebra of endomorphisms. In any case, this point of view suggests\nvast generalizations leading to the Hopf algebras of endomorphisms and word\nHopf algebras with which this paper is concerned. This point of view also sheds\nlight on the somewhat mysterious formulas of MPR and on the question where all\nthe extra structure (such as autoduality) comes from. The paper concludes with\na few sections on the structure of MPR and the question of algebra retractions\nof the natural inclusion of Hopf algebras of NSymm into MPR and section of the\nnaural projection of MPR onto QSymm."}, "authors": ["Michiel Hazewinkel"], "author_detail": {"name": "Michiel Hazewinkel"}, "author": "Michiel Hazewinkel", "arxiv_comment": "40 pages. Revised and expanded version of a (nonarchived) preprint of\n  2001", "links": [{"href": "http://arxiv.org/abs/math/0410364v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/math/0410364v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.QA", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.QA", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.CO", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "16W30, 05E99", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/math/0410364v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/math/0410364v1", "journal_reference": null, "doi": null, "fulltext": "Michiel Hazewinkel\n\n1\n\nDirect line: +31-20-5924204\nSecretary: +31-20-5924233\nFax: +31-20-5924166\nE-mail: mich@cwi.nl\n\nCWI\nPOBox 94079\n1090GB Amsterdam\noriginal version: 4 July 2002\nmuch revised version: 20 July 2004\n\nHopf algebras of endomorphisms of Hopf algebras\nby\nMichiel Hazewinkel\nCWI\nPOBox 94079\n1090GB Amsterdam\nThe Netherlands\nAbstract. In the last decennia two generalizations of the Hopf algebra of\nsymmetric functions have appeared and shown themselves important, the\nHopf algebra of noncommutative symmetric functions NSymm and the\nHopf algebra of quasisymmetric functions QSymm. It has also become\nclear that it is important to understand the noncommutative versions of\nsuch important structures as Symm the Hopf algebra of symmetric\nfunctions. Not least because the right noncommmutative versions are often\nmore beautiful than the commutaive ones (not all cluttered up with\ncounting coefficients). NSymm and QSymm are not truly the full\nnoncommutative generalizations. One is maximally noncommutative but\ncocommutative, the other is maximally non cocommutative but\ncommutative. There is a common, selfdual generalization, the Hopf\nalgebra of permutations of Malvenuto, Poirier, and Reutenauer (MPR).\nThis one is, I feel, best understood as a Hopf algebra of endomorphisms.\nIn any case, this point of view suggests vast generalizations leading to the\nHopf algebras of endomorphisms and word Hopf algebras with which this\npaper is concerned. This point of view also sheds light on the somewhat\nmysterious formulas of MPR and on the question where all the extra\nstructure (such as autoduality) comes from. The paper concludes with a\nfew sections on the structure of MPR and the question of algebra\nretractions of the natural inclusion of Hopf algebras NSymm\uf8e7\uf8e7\u2192 MPR\nand coalgebra sections of the dual natural projection of Hopf algebras\nMPR\uf8e7\uf8e7\u2192 QSymm. Several of these will be described explicitly.\nMSCS: 16W30\nKey words and key phrases: Hopf algebra of permutations, Hopf\nalgebra, word Hopf algebra, double word Hopf algebra, noncommutative\nsymmetric function, quasisymmetric function, Hopf algebra of\nendomorphisms\n\n1. Introduction and motivation.\nThe original motivation for these studies comes from the MPR Hopf algebra (Hopf algebra of\npermutations) introduced and studied by Malvenuto, Poirier and Reutenauer, [10, 11]. Here is a\npartial very incomplete description. Much more will be said later in this paper.\nAs a graded Abelian group MPR has a basis consisting of the empty permutation and all\npermutations on n letters, n = 1,2,L . Thus\n\u221e\n\nMPR = Z \u2295 \u2295ZSn\nn =1\n\n(1.1)\n\nwhere Sn is the symmetric group on n letters. The underlying Abelain group of the group ring\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n2\n\nZSn is the homogeneous summand of degree n. This includes the empty permutation which is\nthe (canonical) basis element of the first summand of (1.1).\nPermutations on m letters are written as words, with a word \u03b1 = [a1,a2 ,L,am ] on the\nalphabet {1,L,m} which has no repeats, corresponding to the permutation i a ai , i = 1,L,m .\nThe empty permutation corresponds to the empty word [ ].\nMultiplication on MPR. With these notations the multiplication on MPR can be described as\nfollows. The empty word serves as the unit element, and if \u03b1 = [a1,L,am ] and \u03b2 = [b1,L,bn ]\nare two permutation words their product is\nm(\u03b1 \u2297 \u03b2) =[a1 ,Lam ] \u00d7sh [m + b1,L,m + bn ]\n\n(1.2)\n\nwhere \u00d7 sh stands for the shuffle product of two words, which can be described as follows. The\nshuffle product of two words [c1,L,c p ] and [d1 ,L,dq ] is the sum of all permutations of\n[c1,Lc p ,d1 ,L, dq ] (with multiplicities) for which all the c's and all the d's occur in their\noriginal order. For instance [3] \u00d7sh [1,2,4] = [3,1,2,4] + [1,3,2,4] + [1,2,3,4] + [1,2,4,3] and\n[1]\u00d7sh [1,2] = 2[1,1,2] +[1,2,1]. Note that because of the 'shift by m' in (1.2) the right hand side\nof (1.2) is a sum of permutation words (and there are no multiplicities).\nStandardization. To describe the comultiplication the notion of standardization is needed. For\nany word \u03b1 = [a1,a2 ,L,am ] without repeats over the alphabet of natural numbers N = {1,2,3,L}\nits standardization is the permutation word st(\u03b1) = [\u03c6(a1),L,\u03c6(am )] where\n\u03c6 :{a1,L, am }\uf8e7\uf8e7\u2192{1,L,m} is the unique order preserving map between these ordered sets. For\ninstance st([5,2,1,8] = [3,2,1,4] . This notion of standardization is a special case of\nstandardization of words as introduced by Schensted, [13], which applies to all words over N,\nnot only words without repeats.\nThe comultiplication on MPR. The comultiplication on MPR is now defined by\n\u03bc(\u03b1) =\n\n\u2211 st(\u03b1 \u2032) \u2297 st(\u03b1 \u2032\u2032 )\n\n(1.3)\n\n\u03b1 \u2032\u2217 \u03b1 \u2032\u2032= \u03b1\n\nwhere the sum is over all cuts of \u03b1 , that is all pairs of words (\u03b1 \u2032, \u03b1 \u2032\u2032 ) whose concatenation\n\u03b1 \u2032 \u2217 \u03b1 \u2032\u2032 is equal to \u03b1 .\nWith 1 = [ ] as unit and a counit \u03b5 defined by \u03b5(ZSn ) = 0 and \u03b5([ ]) =1, MPR becomes a\nbialgebra; there is also (of course, given the connected graded setting) an antipode, making MPR\na Hopf algebra.\nThe question which intrigued me is now: How does one dream up such formulas and are there\nnatural generalizations?\nFor instance, there is a very natural generalization of (1.2) to arbitrary words as follows.\nDefine the height of a word \u03b1 = [a1,a2 ,L,am ] as ht(\u03b1) = max{a1 ,L,am} and define the\nproduct of two arbitrary words \u03b1 = [a1,a2 ,L,am ] and \u03b2 = [b1,L,bn ] as\nmWHA (\u03b1 \u2297 \u03b2 ) = [a1 ,L,am ] \u00d7sh [ht(\u03b1) + b1 ,L,ht(\u03b1) + bn ]\n\n(1.4)\n\n(Note that this agrees with (1.2) when \u03b1 is a permutation word.) The question now arises\nwhether there is a corresponding comultiplication turning the graded Abelian group with as basis\nall words over the natural numbers into a Hopf algebra (with (1.4) as its multiplication). As it\nturns out there is and the result is what I call the word Hopf algebra (WHA). Here are some\nexamples of the comultiplication\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n3\n\n\u03b1 = [3,2,7,2,4], \u03bc(\u03b1) = 1\u2297 \u03b1 + [1] \u2297[2,6,2,3] + [3,2,6,2] \u2297[1] + \u03b1 \u2297 1\n\u03b1 = [7,3,2,2,4],\n\u03bc(\u03b1) = 1\u2297 \u03b1 +[3] \u2297[3,2,2,4] + [4,1]\u2297[2,2,3] + [6,3,2,2] \u2297[1]+\u03b1 \u22971\nand it does not seem easy (to me) to guess at these formulas, or more precisely at the general\nrecipe behind them.\nThere are also many more generalizations such as dWHA, the double word Hopf algebra.\nThere are good reasons for looking for generalizations of MPR. It is a most important and\nelegant Hopf algebra. On the one hand it generalizes NSymm, the Hopf algebra of\nnoncommutative symmetric functions in the sense that the latter is a sub Hopf algebra of MPR,\non the other hand it generalizes QSymm, the Hopf algebra of quasisymmetric functions in the\nsense that the latter is a quotient Hopf algebra of MPR. Moreover MPR is selfdual (with respect\nto a nondegenerate but not positive definite, inner product) and this duality is compatible with\nthe duality between NSymm and QSymm. On the other hand MPR seems a little small in the\nsense that there appears to be no room for Frobenius morphisms (such as on QSymm) or\nVerschiebung morphisms (such as on NSymm). On WHA and dWHA (and their many relatives)\nthere is plenty room for such morphisms.\n2. Some notations and conventions.\nUnless otherwise stated all Hopf algebras, morphisms, constructions, ... below are over Z, the\nring of integers. Unadorned tensor products are over the integers. The corresponding objects over\nother commutative rings k with unit element are obtained by tensoring. E.g.\nMPRk = MPR\u2297 Z k . It will always be assumed that the underlying module of a Hopf algebra is\nfree. Everything also works over arbitrary base rings (commutative with unit element).\nA Hopf algebra H = (H, m, \u03bc,e,\u03b5,\u03b9) over k is graded if there is a decomposition\n\u221e\n\nH = \u2295 Hn\n\n(2.1)\n\nn= 0\n\nsuch that the multiplication m : H \u2297k H \uf8e7\uf8e7\u2192 H, the comultiplication \u03bc : H \uf8e7\uf8e7\u2192 H \u2297k H , the\nunit morphism e :k \uf8e7\n\uf8e7\u2192 H , the counit morphism \u03b5 : H \uf8e7\uf8e7\u2192 k , and the antipode \u03b9 : H \uf8e7\n\uf8e7\u2192 H\nsatisfy:\nm(H n \u2297 k Hm ) \u2282 Hn+ m , \u03bc(Hn ) \u2282\n\n\u2295H\u2297\n\ni+j=n\n\ni\n\nk\n\nHj\n\ne(k) \u2282 H 0 , \u03b5 (Hn ) = 0 for n > 0, \u03b9(Hn ) \u2282 Hn\n\n(2.2)\n\nUnless something else is explicitly said the term graded Hopf algebra also is assumed to imply\nthat the homogeneous summands Hn of degree n are free of finite rank, and that the graded\nHopf algebra is connected, which means that H0 is free of rank 1, so that e and \u03b5 induce\nisomorphisms (of trivial Hopf algebras) k \u2245 H0 .\nA morphism of graded Hopf algebras \u03c6 : H \uf8e7\n\uf8e7\u2192 K is homogeneous iff \u03c6 (Hn ) \u2282 K n .\nIf H is a Hopf algebra of finite rank, H\u2217 denotes the dual Hopf algebra. For a graded Hopf\nalgebra H, the graded dual is\n\u221e\n\nHgr \u2217 = \u2295 Hn\u2217, Hn\u2217 = Modk (Hn ,k)\nn=0\n\n(2.3)\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n4\n\n(where Mod k means taking module morphisms).\nIf \u03b1 = [a1,a2 ,L,am ] is a word over the natural numbers N = {1,2,3,L} , its length is lg(\u03b1) = m,\nits weight is wt(\u03b1) = \u2211i =1 ai , its height is ht(\u03b1) = max{a1 ,L,am}, its support is\nsupp(\u03b1 ) ={a1,L, am}, i.e. the set of different letters occurring in \u03b1 , and its multisupport is the\nmultiset msupp(\u03b1) = {a1 ,L,am }, i.e. the different letters of \u03b1 together with their multiplicities.\nm\n\n3. The Hopf algebra LieHopf and its graded dual Shuffle.\nThe elements of the Hopf algebra MPR can be interpreted as endomorphisms (of the underlying\nAbelian group) of the Hopf algebra Shuffle and this is a good way of looking at them which\npermits (natural) generalizations. So, here is a brief description of LieHopf and its graded dual\nShuffle.\nAs an algebra LieHopf is simply the free associative algebra over the integers in countably\nmany (noncommuting) indeterminates U1 ,U2 ,L\nLieHopf = Z U1 ,U2 ,L\n\n(3.1)\n\nThe comultiplication is determined by\n\u03bc(Un ) = 1\u2297 Un +U n \u22971\n\n(3.2)\n\nand the requirement that \u03bc be an algebra morphism. The counit takes each Un to zero (and 1\nto 1) and the antipode is determined by \u03b9(Un ) = \u2212Un (and the requirement that it has to be an\nantimorphism of algebras).\nLieHopf is graded with the grading determined by deg(Un ) = n .\nThus a basis of LieHopf (as an Abelian group) is formed by all words in the alphabet\n{U1,U2 ,L,} and the multiplication is simply concatenation. If \u03b1 = [a1,a2 ,L,am ] is a word over\nthe natural numbers U\u03b1 is short for\nU\u03b1 = U a1 Ua2 LUa m , U[ ] = 1\n\n(3.3)\n\nThe degree of a noncommutative monomial U\u03b1 is the weight of the word \u03b1 .\nA subword of \u03b1 is any word of the form \u03b2 = [ai1 ,ai2 ,L,ain ] with i1 < i2 <L < in . The\ncomplementary subword \u03b2 is obtained from \u03b1 by removing all the letters that are in \u03b2 . The\nempty word and \u03b1 itself are also subwords of \u03b1 . For instance if \u03b1 = [3,2,2,1,4,5,2,1,4] than\n\u03b2 = [2,1,4] is a subword of \u03b1 (in several different ways). Taking its manifestation as the word\nformed by the second, fourth and last letter of \u03b1 the complementary subword is\n\u03b2 = [3,2,4,5,2,1]. There are precisely 2 m subwords of \u03b1 where m is the length of \u03b1 .\nUsing this notation the comultiplication of LieHopf can be more explicitly described as\n\u03bc(U\u03b1 ) =\n\n\u2211U\n\u03b2\n\n\u03b2\n\n\u2297 U\u03b2\n\nwhere the sum is over all subwords \u03b2 of \u03b1 (counting multiplicities). For example\n\n(3.4)\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n5\n\n\u03bc(U[1,1,3] ) = 1\u2297 U[1,1,3] + 2U[1] \u2297 U[1,3] + U[3] \u2297U[1,1]\n+U[1,1] \u2297U[3] + 2U[1,3] \u2297 U[1] + U[1,1,3] \u22971\nFormula (3.2) says that the indeterminates Un are all primitives of LieHopf. And in fact the Lie\nalgebra of primitives Prim(LieHopf) of the Lie Hopf algebra is the free Lie algebra on the\nsymbols U1 ,U2 ,L . Inversely the universal envelopping algebra of this Lie algebra is LieHopf.1\nThese facts make LieHopf a very important object in mathematics and it has been (very) deeply\nstudied, see especially [12].\nThe graded dual of the Hopf algebra LieHopf is a graded Hopf algebra called Shuffle. Here is a\nbrief description. As an Abelian group is the free graded Abelian group with as basis all words\nover the natural numbers, i.e. the elements of the monoid of words N\u2217 . The duality pairing\nbetween Shuffle and LieHopf is given by\nLieHopf \u00d7 Shuffle \uf8e7\n\uf8e7\u2192 Z,\n\nU\u03b1 ,\u03b2 = \u03b4\u03b1\u03b2 (Kronecker delta)\n\n(3.5)\n\nThe multiplication and comultiplication on Shuffle are determined by the requirements\n\u03b1 \u2297 \u03b1 \u2032 , \u03bcSh = m LH (\u03b1 \u2297 \u03b1 \u2032 ),\u03b2 ,\n\n\u03b1,m Sh (\u03b2 \u2297 \u03b2 \u2032 = \u03bcLH (\u03b1),\u03b2 \u2297 \u03b2 \u2032\n\n(3.6)\n\nwhere the pairing on the tensor products is the obvious one\n(LieHopf \u2297 LieHopf ) \u00d7 (Shuffle \u2297 Shuffle)\uf8e7\uf8e7\u2192Z,\n\nU\u03b1 \u2297 U\u03b1 \u2032 ,\u03b2 \u2297 \u03b2 \u2032 = \u03b4 \u03b1\u03b2\u03b4 \u03b1\u03b2\u2032\u2032\n\nIt is not difficult to see that this works out as follows: the multiplication is the shuffle product\n(see section 1 above) and the comultiplication is 'cut'. Thus, if \u03b2 = [b1,L,bn ]\nn\n\nmSh (\u03b2 \u2297 \u03b2 \u2032) = \u03b2 \u00d7 sh \u03b2 \u2032, \u03bc Sh (\u03b2) = \u2211[b1 ,L,bi ]\u2297 [bi+1,L,bn ]\ni=0\n\nThe unit element is the empty word, and the counit is given by \u03b5([ ]) =1 and \u03b5(\u03b2) = 0 when\n\u03b2 is of length greater or equal to one. The grading is given by deg(\u03b2) = wt(\u03b2). As always in a\nconnected graded situation, there exists a unique antipode, see e.g. [9] or [14].\n4. A (seemingly irrelevant) digression: endomorphisms of finite rank Hopf algebras.\nIn this section H is a finite rank Hopf algebra (over Z), meaning that the underlying Abelian\ngroup is free of finite rank. Let End( H) denote the Abelian group of Abelian group\nendomorphisms of H.\nFor any Abelian group H there are natural morphisms\nH \u2297 H\u2217 \uf8e7\n\uf8e7\u2192 End(H), u \u2297 f a\u03c6, \u03c6(v) = f (v)u\nEnd(H) \u2297 End(H) \uf8e7\uf8e7\u2192 End(H \u2297 H ), ( f \u2297 g)(u \u2297 v) = f (u) \u2297 g(v)\n\n(4.1)\n\nIf H is a free Abelian group of finite rank these two Abelian group endomorphisms are\nisomorphisms. (But if H is of infinite rank this is definitely not the case.)\nNow, as the tensor product of two Hopf algebras H \u2297 H \u2217 carries a Hopf algebra structure. Here\n1\n\nThis is why I like to use LieHopf to designate this Hopf algebra.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n6\n\nis how that structure looks in terms of endomorphisms, i.e. on End( H) .\nConvolution. The multiplication is convolution. Let f and g be two elements of End( H) . Then\ntheir product is the composite\n\u03bcH\nf\u2297g\nmH\nH \uf8e7\uf8e7\n\uf8e7\u2192 H \u2297 H \uf8e7\uf8e7\n\uf8e7\u2192 H \u2297 H \uf8e7\uf8e7\n\uf8e7\u2192 H\n\n(4.2)\n\nCoconvolution. The comultiplication is given as follows. Let f be an element of End( H) . Then\n\u03bc( f ) is the following element of End( H) \u2297 End(H )\nmH\n\u03bcH\nH \u2297 H \uf8e7\uf8e7\n\uf8e7\u2192 H \uf8e7\uf8e7f \u2192 H \uf8e7\uf8e7\n\uf8e7\u2192 H \u2297 H\n\n(4.3)\n\nOf course (4.3) defines an element of End( H \u2297 H); but then using the second of the\nisomorphisms of (4.1) this yields an element of End( H) \u2297 End(H ).\n\u03b5\ne\nUnit. The unit of End( H) is the endomorphism H \uf8e7\uf8e7\n\u2192Z \uf8e7\uf8e7\n\u2192 H of H.\n\nCounit. The counit of End( H) takes an endomorphism f in End( H) to the number\n(\u03b5 o f oe)(1) .\nAntipode. Finally the antipode of End( H) is given by f a \u03b9 o f o\u03b9 .\nThe Hopf algebra End( H) is also selfdual. This is easiest seen in its guise H \u2297 H \u2217 . Indeed\n~\n~\n(H \u2297 H \u2217 )\u2217 \uf8e7\uf8e7\n\u2192 H\u2217 \u2297 H \u2217\u2217 \u2190\uf8e7~\uf8e7 H\u2217 \u2297 H \uf8e7\uf8e7\n\u2192 H \u2297 H*\n\nThe corresponding inner product is\n(H \u2297 H \u2217 ) \u00d7 (H \u2297 H \u2217 )\uf8e7\n\uf8e7\u2192 Z, u \u2297 f ,v \u2297 g = f (v)g(u)\nwhich is nondegenerate but not positive definite.\nAt the level of End( H) the autoduality is a combination of a canonical pairing\nEnd( H) \u2297 End(H \u2217) \uf8e7\n\uf8e7\u2192 Z\n\n(4.4)\n\nand the isomorphism End( H) \uf8e7\n\uf8e7\u2192 End(H \u2217 ) that assigns to an endomorphism of H the dual\nendomorphism which is an endomorphism of H\u2217 . The canonical pairing (4.4) is defined as\nfollows. Take a basis u1,L,un of H and let v 1,L, vn be the dual basis of H\u2217 (so that\nv i (u j ) = \u03b4 ij (Kronecker delta). Then\nn\n\n\u03b3 = \u2211 ui \u2297v i \u2208 H \u2297 H \u2217\n\n(4.5)\n\ni =1\n\nis a special element of H \u2297 H \u2217 that is independent of the choice of basis. The easiest way to see\nthis is to remark that the element \u03b3 is the image of 1 \u2208Z under the dual of the evaluation\nmorphism\nev : H \u2297 H \u2217 \uf8e7\n\uf8e7\u2192 Z, u \u2297 f a f (u)\nThe pairing (4.4) is now defined by\n\n(4.6)\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n7\n\nn\n\nf \u2297g a ( f \u2297 g)(\u03b3 ) = \u2211 f (ui )g(v i )\n\n(4.7)\n\ni=1\n\nThe elements of End( H) are endomorphisms. So there is a second multiplication on End( H) ,\nviz composition. This second multiplication is not necessarily distributive over the first (which\nwould make End( H) a ring object in the category of coalgebras. Still an extra multiplication,\ni.e a second way of producing a new element from two given ones, can be very useful even when\nit has no particular compatibility properties with respect to the other structure present. Examples\nof this are the many extra 'multiplications' of divided power sequences as they are used in [6] to\ndescribe a basis over the integers of the Lie algebra of primitives Prim(NSymm).\nDually there is also a second comultiplication (cocomposition).\n4.8. Open problem. Which Hopf algebras, necessarily of square rank, are of the form\nEnd( H) ?\nMore generally there is a Hopf algebra structure on Mod(H, K) where H and K are two\npossibly different Hopf algebras with free finite rank underlying Abelian groups and there is the\nsame open problem vis \u00e0 vis these Hopf algebras. The same open problems can be considered\nover other base rings, for instance fields.\nNote that practically everything above works perfectly fine for graded Hopf algebras (with\ngraded dual replacing dual). The sole exception is the comultiplication (given by coconvolution).\nBut that is is formidable exception and obstruction.\nThe seeming irrelevancy of these considerations lies in the following. Of course for a graded\nHopf algebra H \u2297 H gr \u2217 is again a Hopf algebra; but it is a very small part of the Abelian group\nof homogenous endomorphisms of H. Indeed it is easy to check that a homogenous\nendomorphism of H is in (the image of) H \u2297 H gr \u2217 (in End( H) ) iff it has a finite rank image.2\nNow, as remarked before, the elements of MPR (i.e. Z-linear combinations of\npermutations) are to be interpreted as homogeneous endomorphisms of the Hopf algebra Shuffle.\nHowever, as it will turn out, with the exception of the scalar multiples of the empty permutation,\nnone of these endomorphisms lies in H \u2297 H gr \u2217 .\n5. MPR as a Hopf algebra of endomorphisms.\nThe first thing to do is to interprete ekements of MPR as endomorphisms (of Abelian groups) of\nShuffle.\nPermutations as Shuffle endomorphisms. Let \u03c3 = [s1,L, sm ] be a permutation word. The\ncorresponding permutation is of course j a s j . Further let \u03b1 be a basis element, i.e. a word, of\nShuffle. Then \u03c3 takes \u03b1 to zero unless lg(\u03b1) = m = lg(\u03c3 ) and if \u03b1 = [a1,L,am ] is of length\nm then\n\u03c3(\u03b1) = [a\u03c3 (1) ,L,a\u03c3 ( m) ] = [as1 ,L,asm ]\n\n(5.1)\n\nNote that unless \u03c3 is the empty permutation (which takes [ ] to [ ] and is zero on all other\nwords) \u03c3 is never in Shuffle \u2297Shuffle gr \u2217 (because for every length \u2265 1 there are infinitely\nmany words of that length).\n2\n\nM\u2297M\n\n\u2217\n\nMore generally for an infinite rank free Abelian group M or vectorspace an endomorphism is in\niff the images of both the morphism itself and its dual are of finite rank.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n8\n\nConvolution. Here is how convolution of two permutations works out with this interpretation of\npermutations as endomorphisms of Shuffle. So let \u03c3 = [s1,L, sm ] and \u03c4 = [t1,L,tn ] be two\npermutation words. Their convolution3 is given by\n\u03bc Sh\n\u03c3 \u2297\u03c4\nmSh\nShuffle \uf8e7\uf8e7\n\uf8e7\u2192 Shuffle\u2297 Shuffle \uf8e7\uf8e7\n\uf8e7\u2192 Shuffle \u2297 Shuffle \uf8e7\uf8e7\n\uf8e7\u2192 Shuffle\n\nBecause \u03bcSh is cut, the middle morphism is zero on all terms of \u03bcSh (\u03b1 ) for all words \u03b1\nwhich are not of length m + n. And if \u03b1 = [a1,L,am ,am +1 ,L,am +n ], \u03c3 \u2297 \u03c4 is zero on all terms\nof \u03bcSh (\u03b1 ) except the summand [a1 ,L,am ]\u2297 [am +1 ,L,am +n ] and this summand is taken to\n[as1 ,L, asm ]\u2297 [am + t1 ,L,am +t n ]. And thus the convolution product of \u03c3 and \u03c4 takes \u03b1 to the\nshuffle product [as1 ,L, asm ] \u00d7 sh [am +t1 ,L, am+ tn ] and it follows immediately that the convolution\nof \u03c3 and \u03c4 is equal to to the sum of permutation words [s1 ,L,sm ] \u00d7 sh [m + t1,Lm + t n] which\nis the multiplication on MPR (see section 1 above). There is nothing new about this; this is\n(more or less4) the way the multiplication of MPR was introduced in [10].\nCoconvolution. The coconvolution construction takes an endomorphism f of Shuffle to the\ncomposite morphism\nm Sh\nf\n\u03bc Sh\nShuffle \u2297Shuffle \uf8e7\uf8e7\n\uf8e7\u2192Shuffle \uf8e7\uf8e7\n\u2192 Shuffle \uf8e7\uf8e7\n\uf8e7\u2192Shuffle \u2297 Shuffle\n\nthat is, it defines a morphism of Abelian groups\ncoconv\nMPR \u2282 End(Shuffle) \uf8e7\uf8e7\n\uf8e7\n\uf8e7\u2192 End(Shuffle \u2297 Shuffle)\n\n(5.2)\n\nAnd to turn this into a comultiplication on MPR some sort of projection is needed from the\nimage of coconv in End(Shuffle \u2297 Shuffle) to MPR\u2297 MPR \u2282 End(Shuffle) \u2297 End(Shuffle) .\nHere is an example how that might be accomplished.\nTake \u03c3 = [3,1,4,5,2] and lets see what the coconvolution of this does to an element of the\nform [a1 ,a2 ]\u2297 [b3,b4 ,b5] from Shuffle \u2297Shuffle . (Different letters are used for the two copies\nof Shuffle to make it easier to identify where each is from.)\n[a1 ,a2 ]\u2297 [b3,b4 ,b5] a\n[a1 , a2 ,b3 ,b4 ,b5 ] +[a1 ,b3, a2 ,b4,b5 ] +\n\u00d7\nsh\n\n+[a1,b3 ,b4,a2 ,b5 ] +[a1 ,b3,b4 , b5,a2 ] +[b3 ,a1,a2 ,b4,b5 ] + [b3 , a1,b4 ,a2 ,b5 ]+\n+[b3 ,a1 ,b4,b5 ,a2 ] + [b3,b4 ,a1, a2 ,b5 ] +[b3 ,b4,a1 ,b5, a2 ] + [b3 ,b4 ,b5 , a1,a2 ]\n\na[b ,a , b ,b , a ] + [a ,a ,b ,b ,b ]+ L+ [b , b ,a , a ,b\n\u03c3\n\n3\n\n1\n\n4\n\n5\n\n2\n\n2\n\n1\n\n4\n\n5\n\n3\n\n5\n\n3\n\n1\n\n2\n\n4\n\n]\n\nand now cut has to be applied to the final ten terms. But we are looking for an endomorphisms of\nthe form \u2208MPR \u2297 MPR. So the only cuts that can contribute are ones which have only a's on\nthe left and only b's on the right. The only one of the final ten terms for which this is possible is\nthe second one and there is (of course) only one cut of this term which qualifies, yielding\n3\n\nQuite generally if C is a coalgebra and A is an algebra, the convolution of two morphisms\n\u03bcC\nf\u2297g\nmA\nf, g : C \uf8e7\n\uf8e7\u2192 A is the morphism C \uf8e7\uf8e7\n\u2192 C\u2297 C \uf8e7\uf8e7\n\uf8e7\u2192 A \u2297 A \uf8e7\uf8e7\n\u2192 A . For the right Hopf algebras this is\nindeed the classical convolution of functions, see [9] or [S. Dascalescu, C. Natascescu and S. Raianu, Hopf algebras.\nAn introduction, Marcel Dekker, 2001].\n4\n\nActually in [10] permutations are seen as endomorphisms of the underlying group of LieHopf and it is\nthe dual multiplication on MPR , see section 9, that is defined by convolution.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n9\n\n[a2 ,a1]\u2297 [b4,b5 ,b3] = (st([3,1])\u2297 st([4,5,2]))([a1,a2 ]\u2297[b3 , b4 ,b5 ])\nAnd thus according to this procedure the (lg = 2) \u2297 (lg = 3) component of \u03bcMPR ([3,1,4,5,2]) is\nequal to st([3,1])\u2297 st([4,5,2]) exactly as it should be according to the description given in\nsection 1 above.\nThis works in general and gives the correct description of the comultiplication on MPR.\nAll the same this is a very dodgy procedure. For instance there is a very nice generalization of\nthe way MPR acts as endomorphisms on Shuffle for arbitrary words. This goes as follows. Let\nnow \u03c3 = [s1,Lsn ] be an arbitrary word of height m = ht(\u03c3 ) = max{s1,L,sn}. Then \u03c3 acts as\nzero on all basis words \u03b1 of Shuffle of length \u2260 m and if \u03b1 = [a1,Lam ] is a word of length\nm \u03c3(\u03b1) = [as1 ,L, as n ].\nNow apply the procedure used above for MPR. This does define a comultiplication, but the\nHopf property (viz. multiplication is a coalgebra morphism, or, equivalently, the comultiplication\nis an algebra morphism 5) fails completely.6\nHowever, as it turns out there is a rather different way to make arbitrary words act on\nShuffle which does yield a Hopf algebra and for which the dodgy procedure outlined above in\nthe case of MPR, does work.\nWhat is needed to use coconvolution to define a Hopf algebra on a suitable module of\n\u03c0\nendomorphisms is some kind of suitable projection End( H \u2297 H) \uf8e7\uf8e7\n\u2192 End(H) \u2297 End( H)\n(where End( H) \u2297 End(H ) is seen as a submodule of End( H \u2297 H) in the natural way). The\nnext section is devoted to a preliminary analysis of the question of what projections could work.\n6. Hopf algebras of endomorphisms. The general problem.\nSo, now let E(H) \u2282 End(H) be a submodule that is closed under convolution; i.e. if\nf , g \u2208E(H) then so is m o ( f \u2297 g) o \u03bc .\nAs remarked before, coconvolution, f a \u03bc o f o m , takes an endomorphism f to an\nelement in End( H \u2297 H) and not necessarily (or even usually) to an element of E(H) \u2297 E(H ).\nIn this connection note that if H is of infinite rank (dimension) then End( H) \u2297 End(H ) is\nonly a small part of End( H \u2297 H). Indeed, let {ei}i \u2208I be a basis of H. Then {ei \u2297 ej }i, j \u2208I is a\nbasis of H \u2297 H and an endomorphism f of H \u2297 H is given by an array of coefficients (cir,, js )\n<\u221e\n\nf (ei \u2297 e j ) = \u2211 cri, ,sj er \u2297 es\nwhere for each (i, j) there are only finitely many (r,s) for which cir,, js is nonzero. But there is\nno bound on how many of these coefficients are nonzero and that means that the matrix (cir,, js )\n\uf8eb s\uf8f6\n\uf8eb r\uf8f6\nwith columns indexed by pairs \uf8ec and rows indexed by pairs \uf8ec is usually of infinite rank.\n\uf8ed j\uf8f8\n\uf8edi \uf8f8\nNow let f k ,gk be endomorphism of H given by coefficients (ai,r k ) and (b sj,k ) , k = 1,L,t , so\nthat\n5\n\n6\n\nThis is most always the hardest property to check.\n\nSome two years ago I wasted a couple of months research time to try to fix things up; typical Ptolemaicepicycle-type thinking, and thoroughly useless.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n10\n\nf k (ei ) = \u2211 air,k er , gk (e j ) = \u2211 bjs, k es\nt\n\nIt follows that for f = \u2211 gk \u2297 hk to hold one must have the matrix identity\nk =1\n\n\uf8eb M\nM\nr\nr\n\uf8ec\n\uf8ec ai,1 ai,2\n\uf8ed M\nM\n\ns\n\uf8ebL b j,1\nL\uf8f6\n\uf8ebL M L\uf8f6\nL M\uf8f6 \uf8ec\ns\nL bj,2 L\uf8f7\nr\nL ai,t \uf8f7\uf8f7 \uf8ec\n= \uf8ec\uf8ecL ci,r,js L\uf8f7\uf8f7\n\uf8f7\nM\nM\nM\n\uf8f7\n\uf8ed L M L\uf8f8\nL M \uf8f8 \uf8ec\ns\n\uf8ed L b j,t L\uf8f8\n\nwhich is usually impossible to solve because, generically, the matrix on the right hand side has\ninfinite rank, while the product on the left has at most rank t.\nThings become even worse if in the graded case one only looks at homogeneous\nt\n\nendomorphisms. In that case a sum f = \u2211 gk \u2297 hk restricted to (H \u2297 H)n is necessarily of\nk =1\n\nblock diagonal form corresponding to the decomposition\nn\n\n(H \u2297 H)n = \u2295 Hi \u2297 Hn \u2212 i\ni= 0\n\nwhich of course need not be the case for an arbitrary homogeneous endomorphism of H \u2297 H .7\nSo what is needed for coconvolution End( H) \uf8e7\n\uf8e7\u2192 End(H \u2297 H) to induce a comultiplication is\n\u03c0\nsome kind of nice projection End( H \u2297 H) \uf8e7\uf8e7\u2192 E(H) \u2297 E(H) so that the comultiplication on\nE(H) is defined by\n\u03bc\n\n(H )\nE(H) \uf8e7\uf8e7E\uf8e7\n\uf8e7\u2192 E(H) \u2297 E(H), f a \u03c0 o \u03bcH o f o m H\n\n(6.1)\n\nThis comultiplication needs to be coassociative which is not automatic and poses some condition\non \u03c0 . However, as always, the main problem is to guarantee the Hopf property (the\ncomultiplication is an algebra morphism, or equivalently, the multiplication is a coalgebra\nmorphism). This means that the following diagram must be commutative.\n\u22972\n\ncoconv\nE(H)\u2297 2\n\uf8e7\uf8e7\n\uf8e7\uf8e7\u2192 End( H\u22972 ) \u2297 End(H \u22972 )\n\u2193 conv\n\u2193\u2282\nE(H)\nEnd(H \u22974 )\n\u2193 coconv\n\u2193\u03b1\nEnd( H\u2297 2)\nEnd(H \u22974 )\n\u2193=\n\u2193 conv(2)\n=\nEnd( H\u2297 2 )\n\uf8e7\uf8e7\n\u2192\nEnd(H \u22972 )\n\n\u03c0\u2297\u03c0\n\uf8e7\uf8e7\n\uf8e7\u2192\n\n\u03c0\n\uf8e7\uf8e7\n\u2192\n\nE(H)\u22974\n\u2193 id \u2297 tw \u2297 id\nE(H)\u22974\n\u2193 conv\u2297 2\nE(H )\u22972\n\u2193=\nE(H)\u22972\n\nHere \u03b1 is conjugation by (id \u2297 tw \u2297 id), tw( a \u2297 b) = b \u2297 a , i.e.\n\u03b1( f ) = (id \u2297 tw \u2297 id)o f o (id \u2297 tw \u2297 id)\nIt is not even true that all block diagonal endomorphims are in End( H) \u2297 End( H) even when it is\nassumed that there is a bound on the rank of the homogeneous components.\n7\n\n(6.2)\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n11\n\nThat this is the right 'twist' to use follows from the commutativity of the diagram\n\u2283\nEnd( H\u2297 4 ) \u2190\uf8e7\n\uf8e7\n\u2193\u03b1\n\u2283\nEnd(H \u22974 ) \u2190\uf8e7\n\uf8e7\n\nEnd( H)\u2297 4\n\u2193 id \u2297 tw End(H )\nEnd( H)\u2297 4\n\n\u2297 id\n\nIndeed,\n(id \u2297 tw \u2297 id)( f1 \u2297 f 2 \u2297 f3 \u2297 f4 )(id \u2297 tw \u2297 id)(a1 \u2297 a2 \u2297 a3 \u2297 a4 ) =\n(id \u2297 tw \u2297 id)( f1 (a1) \u2297 f2 (a3 )\u2297 f3 (a2 )\u2297 f4 (a4 )) =\n= f1 (a1) \u2297 f3 (a2 ) \u2297 f 2(a3 ) \u2297 f4 (a4 )\nwhile\n((id \u2297tw End( H ) \u2297 id)( f1 \u2297 f2 \u2297 f3 \u2297 f4 ))(aa \u2297 a2 \u2297 a3 \u2297 a4 ) =\n( f1 \u2297 f3 \u2297 f2 \u2297 f4 )(aa \u2297 a2 \u2297 a3 \u2297 a4 ) =\n= f1(a1 ) \u2297 f3 (a2 ) \u2297 f 2(a3 ) \u2297 f 4(a4 )\nThe morphism marked 'conv (2) ' in diagram (6.2) above is given by\nconv(2) (g) = (mH \u2297 mH )g(\u03bc H \u2297 \u03bc H )\nThe left half of diagram (6.2) is always commutative. This is part of a Hopf-like structure on the\ncollection of modules\nEnd( H\u2297 n ), n = 1,2,L\ndefined by convolution and coconvolution. Here convolution is seen as the morphism\nEnd( H\u2297 2 )\uf8e7\uf8e7\u2192 End( H), f a mH o f o \u03bc H\n\n(6.3)\n\nand, as before, coconvolution is the morphism\nEnd( H )\uf8e7\uf8e7\u2192 End( H\u2297 2 ), f a \u03bcH o f o m H\n\n(6.4)\n\nMore generally there are n morphisms\nconvi , i+1\nEnd( H\u2297 n +1 ) \uf8e7\uf8e7\n\uf8e7\uf8e7\u2192 End(H n ), i = 1,L,n\nf a (id\n\u2297L\u2297\nid \u2297 mH \u2297 id\n\u22972\nL\u2297id\n\u2297L\u2297\nid \u2297 \u03bc H \u2297id\n\u2297L\u2297\nid)\n14\n243\n14\n43 ) o f o (id\n14\n243\n14\n243\ni\u22121\n\nn\u2212i\n\ni \u22121\n\nn\u2212i\n\nand n morphisms\ncoconv i ,i +1\nEnd( H\u2297 n ) \uf8e7\uf8e7\n\uf8e7\uf8e7\n\uf8e7\u2192 End(H n+1 ), i =1,L,n\nf a (id\n\u2297L\u2297\nid \u2297 \u03bc H \u2297 id\n\u2297L\n\u2297id\n\u2297L\u2297\nid \u2297 mH \u2297 1\nid 4\n\u2297L\u2297\nid )\n14\n243\n14\n24\n3 ) o f o (id\n14\n243\n243\ni \u22121\n\nn\u2212i\n\ni \u22121\n\nn\u2212 i\n\nand these 'mutiplication-like' and 'comultiplication-like' structures are associative and\ncoassociatative in the sense that\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n12\n\nconv oconv 1,2 = conv o conv 2,3 : End( H \u22973 ) \uf8e7\n\uf8e7\u2192 End( H)\ncoconv1,2 o coconv = coconv2,3 o coconv : End( H)\uf8e7\uf8e7\u2192 End(H \u22973 )\nand there is a Hopf-like property in that the following diagram is commutative\ncoconv\n\nH\nEnd( H\u2297 2 ) \uf8e7\uf8e7\uf8e7\uf8e7\n\uf8e7\u2192 End(H \u22974 )\n\u2193 conv H\n\u2193\u03b1\nEnd(H)\nEnd(H \u22974 )\n\u2193 coconv\n\u2193 conv(2)\nEnd( H\u2297 2 )\n=\nEnd(H \u22972 )\n\u22972\n\n(6.5)\n\nIn turn, the commutativity of diagram (6.5) follows from the Hopf property of the Hopf algebra\nH itself in that the following diagram is commutative\nH \u22972\n=\nH \u22972\n\u2193 \u03bc \u22972\n\u2193m\n\u22974\nH\nH\n\u2193 id \u2297 tw \u2297 id\n\u2193\u03bc\n\u22974\nm\u2297 2\nH\n\uf8e7\uf8e7\uf8e7\u2192 H \u22972\n\u2193 f\n\u22972\n\u03bc\nH \u22972 \uf8e7\uf8e7\n\uf8e7\u2192\n\u2193m\nH\n\u2193m\nH \u22972\n=\n\nH \u22974\n\u2193 id \u2297 tw \u2297 id\nH \u22974\n\u2193 m \u22972\nH \u22972\n\nThis Hopf-like structure on the collection of modules End( H\u2297 n ), n = 1,2,L deserves, I think, a\ngreat deal more investigation.\n6.6. Open problem. What kind of properties should the projection \u03c0 have in order that the\nright hand side of diagram (6.2) be commutative.\nMore generally one can consider submodules E(H) that are not necessarily stable under\nconvolution (together with a second projection End( H) \uf8e7\n\uf8e7\u2192 E(H) and instead of with\nendomorphisms one can work with module morphisms End( H\u2297 n ,K \u2297 n ) where K is a second\nHopf algebra.\n7. The double word Hopf algebra dWHA.\nLet X = {x1, x2 ,L} be an auxiliary alphabet. A basis as an Abelian group of dWHA is formed\nby pairs of words in the auxiliary alphabet X with equal support\n\uf8eb\u03c1 \uf8f6\np = \uf8ec , supp(\u03c1) = supp(\u03c3 )\n\uf8ed\u03c3 \uf8f8\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n13\n\nHere the actual symbols that occur are not important; it is only the pattern of \u03c1 and \u03c3\nrelative to each other that is relevant. Thus for instance\n\uf8eb\uf8ec[x1, x2 ,x1 , x3 ,x3 , x1,x 4 ]\uf8f6 \uf8eb\uf8ec [x 7, x 6, x7 ,x2 , x2 , x7 ,x 5 ]\uf8f6\n,\n,\n\uf8ed [x 2, x 3 , x2 ,x4 , x1] \uf8f8 \uf8ed [x 6, x2 ,x6 , x5 , x7 ] \uf8f8\n\n\uf8eb\uf8ec[y3, z 4, y3, x2 , x2 ,y3 ,x1]\uf8f6\n\uf8ed [z4 ,x 2, z4 , x1,y3 ] \uf8f8\n\n(7.1)\n\nall denote the same basis element of dWHA. I call these things substitutions.\nThese elements p can (and often should) be thought of as defining endomorphisms of\nShuffle; more precisely they are recipes for endomorphisms as follows. The 'substitution' p acts\nas zero on all words over N, i.e. the canonical basis elements of Shuffle, that are not of the\nsame pattern as \u03c1 and if it is of the same pattern as \u03c1 then it is taken into the corresponding\nbasis element of Shuffle represented by the pattern \u03c3 .\nThus, for example, if p is the substitution (7.1) and \u03b1 = [a1,a2 ,L,am ]\n\uf8f1 0 unless lg(\u03b1) = m = 7 and a1 = a3 = a6 , a4 = a5\np(\u03b1) = \uf8f2\n\uf8f3[a2,a3 , a2 ,a4 ,a1] if lg(\u03b1) = m = 7 and a1 = a3 = a6 , a4 = a5\nObviously these endomorphisms satisfy a 'homogeneity' property; they act the same\neverywhere. For instance if \u03c6 :N \uf8e7\n\uf8e7\u2192 N is any map and \u03c6\u2217 : N\u2217 \uf8e7\n\uf8e7\u2192 N\u2217 denotes the\ncorresponding induced map on words \u03c6\u2217(\u03b1 ) =[\u03c6(a1),\u03c6(a2 ),L,\u03c6(am )]\n\u03c6\u2217 o p = p o\u03c6 \u2217\n\n(7.2)\n\n7.3. Open problem. Characterize the recipe endomorphisms p more precisely.\nThe next step is to describe the graded Hopf algebra structure on dWHA.\nUnderlying Abelian group. The uderlying Abelian group is the countable free Abelian group\nwith as basis all substitutions p. Note that this not a basis of the tensor product of Hopf algebras\nLieHopf \u2297 Shuffle but a suitable quotient set obtained by identifying substitutions of the same\npatterns. Included is the 'empty substitution'\n\uf8eb\uf8ec[ ]\uf8f6\n\uf8ed [ ]\uf8f8\nwhich acts on Shuffle by taking the empty word [ ] to itsef and every other basis element of\nShuffle to zero.\nGrading. The grading on dWHA is given by\ndeg( p) =#supp( \u03c1)\n\n(7.4)\n\nFor example the degree of the basis element (7.1) is 4. The degree of the empty substitution is\nzero and that is the only basis element of degree zero so that the graded Abelian group dWHA is\nconnected. Note that the rank of each homogeneous piece of dWHA is infinite.\nMultiplication. Let\n\uf8eb \u03c1 \u2032\uf8f6\n\uf8eb\u03c1 \uf8f6\np = \uf8ec , p\u2032 = \uf8ec \uf8f7\n\uf8ed\u03c3 \uf8f8\n\uf8ed\u03c3 \u2032\uf8f8\n\n(7.5)\n\nbe two substitutions. If necessary, first rewrite the second one (or the first one, or both) so that\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n14\n\nsupp(\u03c1) \u2229 supp( \u03c1 \u2032) = \u2205. Then the product of the two substitutions (7.4) is the sum of\nsubstitutions\n\uf8eb \u03c1 \u2217 \u03c1\u2032 \uf8f6\n\uf8f7\nmdWHA (p \u2297 p\u2032) = \uf8ec\n\uf8ed \u03c3 \u00d7sh \u03c3 \uf8f8\n\n(7.6)\n\nwhere \u2217 denotes concatenation, \u00d7 sh is the shuffle product, and if u = \u03c3 1 +\u03c3 2 + L +\u03c3 r is a\nsum of words with supp(\u03c3 1 ) = supp(\u03c3 2 ) = L = supp(\u03c3 r ) = supp( \u03c1)\n\uf8eb\uf8ec \u03c1 \uf8f6 \uf8eb\uf8ec \u03c1 \uf8f6 \uf8ec\uf8eb \u03c1 \uf8f6\n\uf8eb\u03c1 \uf8f6\n=\n+\n+ L+ \uf8ec\n\uf8ed u \uf8f8 \uf8ed \u03c3 1 \uf8f8 \uf8ed\u03c3 2 \uf8f8\n\uf8ed \u03c3 r\uf8f8\nUnit element. The unit element is the empty substitution.\nIt is easy to see that the multiplication is associative (and that the empty substitution indeed acts\nas a unit element. Further, clearly the multiplication respects the grading making (dWHA,m,e)\na connected graded algebra.\nComultiplication. To write down the comultiplication of dWHA a preliminary definition is\nneeded. Let\n\u03b1 = [a1,L,am ]\nbe a word over an alphabeth X . A good cut of \u03b1 is a cut [a1 ,L,ar ] \u2297 [ar+1 ,Lam] such that\nsupp([a1 ,L,ar ]) \u2229 supp([ar +1,L,am ]) = \u2205. The two trivial cuts are always good. For example the\ngood cuts of [x 2, x3 ,x 2 , x4 , x1 ] are 1\u2297 [x2 , x3, x 2, x4 , x1 ], [x 2, x3 ,x 2 ]\u2297[x4 , x1 ],\n[x 2, x3 ,x 2 , x4 ]\u2297[x1 ] and [x 2, x3 ,x 2 , x4 , x1 ] \u22971 (where as usual 1 is short for [ ]). A subword of\n\u03b1 is a word [ai1 , ai2 ,L,air ] with i1 < i2 <L < ir .\nThe comultiplication of dWHA is now\n\uf8eb p \u22121 (\u03c31 )\uf8f6 \uf8eb p\u22121 (\u03c3 2 ) \uf8f6\n\uf8f7\u2297 \uf8ec\n\uf8f7\n\u03bcdWHA (p) = \u2211 \uf8ec\n\uf8ed\n\u03c3\n\uf8f8\n\uf8ed\n\u03c3\n\uf8f8\n\u03c3 1 \u2217\u03c3 2 =\u03c3\n1\n2\n\n(7.7)\n\nwhere the sum is over all good cuts \u03c3 1 \u2217\u03c3 2 = \u03c3 of the word \u03c3 . Here p \u22121 (\u03c3 i ) is the unique\nmaximal subword of \u03c1 with the same support as \u03c3 i . This respects the grading and the support\ncondition. For instance the comultiplication of the substitution\n\uf8eb[x1 ,x2 , x1 , x3, x 3,x1, x 4 , x1 , x4 ]\uf8f6\np=\uf8ec\n\uf8ed\n[x 2, x 3, x2 ,x4 , x1 ]\n\uf8f8\nis\n\uf8eb [x2 , x3, x3 ]\uf8f6 \uf8eb\uf8ec [x1,x1, x1, x4 ,x1 , x4 ]\uf8f6\n\u03bcdWHA (p) = 1\u2297 p + \uf8ec\n\u2297\n\uf8ed [x2 , x3 , x2 ]\uf8f8 \uf8ed\n[x 4 ,x1 ]\n\uf8f8\n\uf8eb [x2 , x3, x3 ,x 4, x 4 ]\uf8f6 \uf8eb\uf8ec[x1, x1,x1 , x1 ]\uf8f6\n+\uf8ec\n\u2297\n+ p\u22971\n\uf8ed [x2 , x3 ,x 2, x 4] \uf8f8 \uf8ed\n[x1 ]\n\uf8f8\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n15\n\nCounit. The counit is given by \u03b5( p) = 0 if deg( p) > 0 and \u03b5 takes the value 1 on the empty\nsubstitution.\nIt is now easy to check that (dWHA,\u03bc,\u03b5 ) is a coassociative connected graded coalgebra.\n7.8. Theorem. The Hopf property holds; i.e (dWHA,m,\u03bc,e,\u03b5 ) is a connected graded\nbialgebra and hence (because it is connected graded) there is also an antipode, making it a Hopf\nalgebra.\nProof. To prove the Hopf property it is needed to prove the commutativity of the following\ndiagram\ndWHA\u2297 2\n\u2193m\ndWHA\n\u2193\u03bc\ndWHA\u2297 2\n\n\u03bc\u2297\u03bc\n\uf8e7\uf8e7\n\uf8e7\u2192\n\n=\n\ndWHA\u22974\n\u2193 id \u2297 tw \u2297 id\ndWHA\u22974\n\u2193 m\u2297 m\ndWHA\u22972\n\nSo let\n\uf8eb\u03c1 \u2032\uf8f6\n\uf8eb\u03c1 \uf8f6\np=\uf8ec\nand p \u2032 = \uf8ec \uf8f7\n\uf8ed\u03c3 \uf8f8\n\uf8ed \u03c3 \u2032\uf8f8\nbe two substitutions. Their product is\n\uf8eb \u03c1 \u2217 \u03c1\u2032 \uf8f6\n\uf8f7\nm( p \u2297 p \u2032) = \uf8ec\n\uf8ed\u03c3 \u00d7 sh \u03c3 \u2032 \uf8f8\nNow consider a cut \u03b3 = \u03b3 1 \u2217\u03b3 2 of a shuffle \u03b3 of \u03c3 and \u03c3 \u2032 . If this is a good cut it induces\ngood cuts of \u03c3 and \u03c3 \u2032 , say \u03c3 = \u03c3 1 \u2217\u03c3 2 and \u03c3 \u2032 = \u03c3 1\u2032 \u2217 \u03c32\u2032 because supp(\u03c3 ) \u2229 supp(\u03c3 \u2032) = \u2205 .\nIndeed \u03c3 1 is the prefix of \u03c3 consisting of all letters of \u03c3 that occur in the prefix \u03b3 1 of \u03b3 .\n(Note that these letters are recognizable because of the support condition and that they form a\nprefix (not just a subword) because in a shuffle the letters of each of the two factors occur in\ntheir original order.) Also \u03c3 2 is the suffix of \u03c3 consisting of the letters of \u03c3 that occur in\n\u03b3 2 . Moreover, \u03b3 1 is a shuffle of \u03c3 1 and \u03c3 1\u2032 and \u03b3 2 is a shuffle of \u03c3 2 and \u03c3 2\u2032 .\nInversely, let \u03c3 = \u03c3 1 \u2217\u03c3 2 and \u03c3 \u2032 = \u03c3 1\u2032 \u2217 \u03c32\u2032 be two good cuts, let \u03b3 1 be any shuffle of \u03c3 1, \u03c3 1\u2032\nand \u03b3 2 a shuffle of \u03c3 2 ,\u03c3 \u20322 , then \u03b3 1 \u2217 \u03b3 2 is a shuffle of \u03c3, \u03c3 \u2032 and all shuffles of \u03c3, \u03c3 \u2032 are\nobtained this way. Thus the result of applying \u03bc o m to p \u2297 p\u2032 is the sum\n\uf8eb p \u22121 (\u03c31 )\u2217 p \u2032\u22121 (\u03c31\u2032)\uf8f6 \uf8eb p\u22121(\u03c3 2 ) \u2217 p\u2032 \u22121(\u03c3 2\u2032 )\uf8f6\n\u2211 \uf8ec\uf8ed \u03c3 \u00d7 \u03c3 \u2032 \uf8f8\uf8f7 \u2297 \uf8ec\uf8ed \u03c3 \u00d7 \u03c3 \u2032 \uf8f7\uf8f8\n1\nsh 1\n2 sh\n2\n\n(7.9)\n\nwhere the sum is over all good cuts \u03c3 = \u03c3 1 \u2217\u03c3 2 , \u03c3 \u2032 = \u03c3 1\u2032 \u2217 \u03c32\u2032 . Here it is also necessary to note\nthat if\n\uf8eb \u03c1 \u2217 \u03c1 \u2032\uf8f6\nq=\uf8ec\n, where \u03b3 is a term from the shuffle product of \u03c3, \u03c3 \u2032\n\uf8ed \u03b3 \uf8f8\nand\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n16\n\n\u03b3 = \u03b3 1 \u2217\u03b3 2 is a good cut with \u03b3 1 a shuffle of \u03c3 1, \u03c3 1\u2032 ; \u03b3 2 a shuffle of \u03c3 2 ,\u03c3 \u20322\nthen\nq \u22121 (\u03b3 1 ) = p \u22121(\u03c3 1 )\u2217 p \u2032\u22121(\u03c3 1\u2032 ), q \u22121(\u03b3 2 ) = p \u22121 (\u03c3 2 )\u2217 p \u2032\u22121 (\u03c3 2\u2032 )\n(This uses the support condition again.) However, the sum (7.9) is precisely what one gets by\napplying (m \u2297 m) o (id \u2297 tw \u2297 id) o (\u03bc \u2297 \u03bc) to p \u2297 p\u2032 . This proves the theorem (modulo the\ntrivial verifications concerning unit and counit).\nThere is a natural non positive definite inner product on dWHA defined by\n\uf8eb\uf8ec \u03c1 \uf8f6 \uf8eb\uf8ec \u03c1 \u2032 \uf8f7\uf8f6\n\uf8f11 if \u03c1 = \u03c3 \u2032, \u03c1 \u2032 = \u03c3\n,\n=\uf8f2\n\uf8ed\u03c3 \uf8f8 \uf8ed \u03c3 \u2032\uf8f8\n\uf8f30 otherwise\n\n(7.10)\n\nwhere of course the two substitutions must be so written that\nsupp(\u03c1) = supp(\u03c3 ) = supp(\u03c1 \u2032 ) = supp(\u03c3 \u2032) . So the more careful statement is that\n\uf8eb\uf8ec \u03c1 \uf8f6 \uf8eb\uf8ec \u03c1 \u2032 \uf8f7\uf8f6\n,\n=1\n\uf8ed\u03c3 \uf8f8 \uf8ed \u03c3 \u2032\uf8f8\niff there is a substitution of variables (of the variables in \u03c1 \u2032 and \u03c3 \u2032 ) such that \u03c1 = \u03c3 \u2032, \u03c1 \u2032 = \u03c3 ,\nand otherwise this inner product is zero.\n7.11. Theorem. The Hopf algebra dWHA is selfdual with respect to the inner product\n(7.10).\nProof. What needs to be shown is that\n\uf8eb\uf8ec \u03c1 \uf8f6 \uf8eb\uf8ec \u03c1 \u2032 \uf8f6\uf8f7\n\u2297\n,\n\uf8ed\u03c3 \uf8f8 \uf8ed \u03c3 \u2032 \uf8f8\n\n\uf8eb p \u2032\u2032 \u22121 (\u03c3 1\u2032\u2032)\uf8f6 \uf8eb p \u2032\u2032 \u22121 (\u03c3 \u20322\u2032)\uf8f6\n\uf8eb \u03c1 \u2217 \u03c1 \u2032 \uf8f6 \uf8eb \u03c1 \u2032\u2032 \uf8f6\n\u2211 \uf8ed\uf8ec \u03c3 \u2032\u2032 \uf8f7\uf8f8 \u2297 \uf8ec\uf8ed \u03c3 \u2032\u2032 \uf8f7\uf8f8 = \uf8ed\uf8ec\u03c3 \u00d7 \u03c3 \u2032\uf8f7\uf8f8, \uf8ed\uf8ec\u03c3 \u2032\u2032\uf8f8\uf8f7\n1\n2\nsh\n\n(7.12)\n\nwhere on the left hand side the sum is over all good cuts \u03c3 \u2032\u2032 = \u03c3 1\u2032\u2032 \u2217 \u03c3 2\u2032\u2032 and where it must be the\ncase (by the definition of the multiplication) that supp(\u03c1) \u2229 supp( \u03c1 \u2032) = \u2205. Now on the right\nhand there can be a summand that is nonzero only if \u03c3 \u2032\u2032 = \u03c1 \u2217 \u03c1 \u2032 and then because \u03c1 and \u03c1 \u2032\nhave disjoint supports this is a good cut. Moreover \u03c1 \u2032\u2032 must be a shuffle of \u03c3, \u03c3 \u2032 . If both these\nconditions hold the right hand side is 1, otherwise it is zero. Now on the left hand side there can\nbe at most one good cut which yields a term that is nonzero, viz the one for which \u03c1 = \u03c31\u2032\u2032 and\n\u03c1 \u2032 = \u03c3 2\u2032\u2032 . Further \u03c1 \u2032\u2032 is made up of the two complimentary subwords p \u2032\u2032 \u22121 (\u03c3 1\u2032\u2032) and p \u2032\u2032 \u22121 (\u03c3 \u20322\u2032)\nwith disjoint supports, that is, it is a shuffle of these two words. Now for the left hand side to\nhave a term equal to one (there can be only one at most) it must first of all be the case that\n\u03c1 = \u03c31\u2032\u2032 and \u03c1 \u2032 = \u03c3 2\u2032\u2032 for some good cut \u03c3 \u2032\u2032 = \u03c3 1\u2032\u2032 \u2217 \u03c3 2\u2032\u2032 so that also \u03c3 \u2032\u2032 = \u03c3 1\u2032\u2032 \u2217 \u03c3 2\u2032\u2032 (and there can\nbe at most one good cut like that). It must also be the case that \u03c3 = p\u2032\u2032\u22121 (\u03c3 1\u2032\u2032) and\n\u03c3 \u2032 = p \u2032\u2032 \u22121 (\u03c3 \u20322\u2032) making \u03c1 \u2032\u2032 a shuffle of \u03c3, \u03c3 \u2032 . Thus if the left hand side of (7.10) is nonzero it\nis equal to one and then the right hand side is also equal to 1.\nInversely let the righthand side be equal to 1. Then \u03c3 \u2032\u2032 = \u03c1 \u2217 \u03c1 \u2032 and \u03c1 \u2032\u2032 must be a shuffle\nof \u03c3, \u03c3 \u2032 . Let \u03c3 1\u2032\u2032 be the maximal subword of \u03c3 \u2032\u2032 with the same support as \u03c3 as a subword\nof \u03c1 \u2032\u2032 . Then supp(\u03c3 1\u2032\u2032) = supp(\u03c3 ) = supp(\u03c1) and as \u03c3 \u2032\u2032 = \u03c1 \u2217 \u03c1 \u2032 and supp(\u03c1) = supp( \u03c1\u2032 ) = \u2205\nit follows that \u03c3 1\u2032\u2032 = \u03c1 is actually a prefix of \u03c3 \u2032\u2032 and that the left hand side of (7.10) is also\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n17\n\nequal to one.\nThere is a second structure on the Abelian group with as basis all substitutions p. This one is\nobtained by sort of imitating Shuffle \u2297 LieHopf (instead of LieHopf \u2297 Shuffle as was the\ncase for the structure described above in this section.) It is defined as follows\n\uf8eb \u03c1 \uf8f6 \uf8eb \u03c1 \u2032 \uf8f6 \uf8eb \u03c1 \u00d7sh \u03c1 \u2032\uf8f6\uf8f7\nm \u2032 (\uf8ec \u2297 \uf8ec \uf8f7 ) = \uf8ec\n\uf8ed \u03c3 \uf8f8 \uf8ed \u03c3 \u2032\uf8f8 \uf8ed \u03c3 \u2217 \u03c3 \u2032 \uf8f8\n\n(7.13)\n\n\uf8eb \u03c1\uf8f6\n\uf8eb \u03c11 \uf8f6 \uf8eb\uf8ec \u03c1 2 \uf8f6\n\u03bc\u2032(\uf8ec ) = \u2211 \uf8ec\n\u2297\n\uf8ed \u03c3\uf8f8\n\uf8ed p(\u03c11 )\uf8f8 \uf8ed p(\u03c1 2 ) \uf8f8\n\n(7.14)\n\nwhere the sum in (7.14) is over all good cuts \u03c1 = \u03c11 \u2217 \u03c12 and p(\u03c1i ) denotes the maximal\nsubword of \u03c3 with the same support as \u03c1i .\nThis Hopf algebra structure is isomorphic to the previous one. The isomorphism is given by\n\uf8eb\uf8ec \u03c1 \uf8f6\n\uf8eb\u03c3 \uf8f6\na\uf8ec\n\uf8ed\u03c3 \uf8f8\n\uf8ed\u03c1\uf8f8\n\n(7.15)\n\n\u2032\nDefine a (new) positive definite inner product structure , on dWHA by declaring the\nsubstitutions to be an orthonormal basis. Then m and \u03bc\u2032 are dual to each other and so are m \u2032\nand \u03bc . That is\n\u2032\n\u2032\np \u2297 p\u2032, \u03bc( p\u2032\u2032) = m \u2032 (p \u2297 p\u2032), p\u2032\u2032\n\n(7.14)\n\n\u2032\n\u2032\np \u2297 p\u2032, \u03bc\u2032( p\u2032\u2032) = m(p \u2297 p\u2032), p\u2032\u2032\n\n(7.15)\n\n8. The word Hopf algebra WHA\nThis Hopf algebra is a sub Hopf algebra of dWHA. It has as basis substitutions of the following\nform\n\uf8eb\u03c1 \uf8f6\np=\uf8ec ,\n\uf8ed\u03c3 \uf8f8\n\n\u03c1 = [x1\n, x2\nxm ]\n14\n1,L,x\n2, Lx2 ,L, x\nm,L,\n431, x1\n1\n4\n24\n3\n4\n24\n3\nr1\n\nr2\n\n(8.1)\n\nrm\n\nThat is besides the support condition on p, the top word has the property that if two letters are\nthe same then all the letters between then are also equal to these. It is immediate to check that the\nproduct of such substitutions is again a sum of substitutions of this kind and also that the\ncoproduct of a substitution of this form is a sum of tensor products of substitutions of this form.\nIt will save typing (and printing ink and paper) to denote such a word \u03c1 as [x1r1 ,L, xm rm ] .\nA substitution of the form (8.1) can be uniquely encoded as a single word over the integers as\nfollows.\nFirst let \u03b1 = [a1,a2 ,L,am ] be a word over the natural numbers. Let\n{a1\u2032 ,L, an\u2032} = supp(\u03b1 ), a1\u2032 < L < an\u2032\nThen the WHA substitution associated to \u03b1 can be written\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n\uf8eb[xra11\u2032 ,L, xarnn\u2032 ] \uf8f6\np(\u03b1) = \uf8ec\n\uf8f7\n\uf8ed[x a1 ,L, xam ]\uf8f8\n\n18\n\n(8.2)\n\nwhere r1 = a1\u2032 ,L,ri = ai\u2032 \u2212 ai\u22121\n\u2032 ,L,rn = an\u2032 \u2212 an\u2032 \u22121. Inversely, if p is a substitution of the form (8.1)\nthen the word \u03b1 associated to it is obtained as follows. Let \u03c3 = [xi1 ,L, xit ], then\n\u03b1( p) = [a1,L,at ] with a j = r1 + L+ ri j .\nFor instance if \u03b1 = [3,2,7,2,4]\n\uf8eb [x22 ,x3 , x4 ,x 73 ] \uf8f6\n\uf8f7\np(\u03b1) = \uf8ec\n\uf8ed [x3 ,x2 , x 7, x2 ,x 4 ]\uf8f8\nand inversely, if p is just like above, or written more canonically as\n\uf8eb [x12, x 2, x3, x 43 ] \uf8f6\n\uf8f7\np=\uf8ec\n\uf8ed [x2 , x1, x 4 , x1 , x3 ]\uf8f8\nr1 = 2,r2 =1,r3 = 1,r4 = 3 and i1 = 2,i2 = 1,i3 = 4,i4 = 1,i5 = 3 so that\n\u03b1( p) = [r1 + r2 ,r1 ,r1 + r2 + r3 + r4, r1,r1 + r2 + r3] = [3,2,7,2,4]\nThe action of the basis elements of WHA on Shuffle is different from that mentioned in section\n5. For example for the p and \u03b1 under discussion, ht(\u03b1) = 7, it acts as zero on all words of\nlength unequal to 7, and on the special words of length 7 of the form [x1, x1, x2 ,x3 , x4 , x4 ,x 4 ] it\nacts exactly like in section 5, i.e. by picking out respectively the third, second, seventh, second,\nand fourth letter. The difference is that under this interpretation \u03b1 is also zero on words of\nShuffle of length 7 that are not of the special form [x1, x1, x2 ,x3 , x4 , x4 ,x 4 ] .\nIt is also obvious that the multiplication of these special substitutions, when written as\nwords over the integers is like the one in section 1, see (1.4). That is\nmWHA (\u03b1 \u2297 \u03b2 ) = [a1 ,L,am ] \u00d7sh [ht(\u03b1) + b1 ,L,ht(\u03b1) + bn ]\nIt is trickier to write down a formula for the comultiplication; but a recipe is of course implied by\nthe remarks above. Here is an example with p and \u03b1 as above. By definition\n\uf8eb\uf8ec [x2 ]\uf8f6 \uf8eb\uf8ec [x12, x 3 , x43] \uf8f6 \uf8eb\uf8ec [x12 , x2 ,x43] \uf8f6 \uf8eb\uf8ec [x 3]\uf8f6\n\uf8f7+\n\uf8f7\u2297\n\u03bcWHA (p) = 1\u2297 p +\n\u2297\n+ p\u22971\n\uf8ed [x2 ]\uf8f8 \uf8ed [x1, x4 ,x1 , x3 ]\uf8f8 \uf8ed [x 2, x1 , x4 , x1 ]\uf8f8 \uf8ed[x 3]\uf8f8\nwhich translated to the level of words over the integers yields, with \u03b1 = [3,2,7,2,4]\n\u03bcWHA (\u03b1) = 1\u2297 \u03b1 +[1]\u2297 [2,6,2,3] + [3,2,6,2] \u2297[1]+ \u03b1 \u22971\nIt is perhaps worth noting that with the interpretation given in this section of words acting as\nendomorphisms of Shuffle the dodgy procedure of section 5 for defining a comultiplication\nactually works; as it does for dWHA .\n9. The permutation Hopf algebra MPR as a sub Hopf algebra of dWHA.\nLet \u03c4 be a permutation word of length n. The permutation words over N are precisely the\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n19\n\nwords of height equal to length and no multiplicities. To \u03c4 associate a substitution as follows\n\uf8eb [x1, x2 ,L, xn ] \uf8f6\n\uf8f7 \u2208dWHA\n\u03c6 : \u03c4 = [t1 ,t2 ,L,tn ] a p(\u03c4 ) = \uf8ec\n\uf8ed [xt1 , x t2 ,L,x tn ]\uf8f8\n\n(9.1)\n\nIt is easy to characterize the substitutions that arise this way. They are precisely the substitutions\nfor which the top word and the bottom word have no multiplicities.\nMore generally if \u03c4 = [t1,t2 ,L,tn ] is any word over the natural numbers with no\nmultiplicities there is also a permutation substitution attached to it. Indeed, let the support of\nsuch a \u03c4 be {a1 ,a2 ,L,an}, a1 < a2 < L < an (same n because of the no multiplicities\ncondition). Then the permutation substitution associated to \u03c4 is\n\uf8eb[x a1 , xa 2 ,L, xa n ]\uf8f6\n\uf8ec\n\uf8f7\n\uf8ed [x t1 , xt2 ,L, xt n ] \uf8f8\nwhich, as a substitution, is the same as p(st(\u03c4 )) as defined by (9.1), where st is the\nstandardization map of section 1, i.e. st(\u03c4 ) = [\u03c8 (t1),\u03c8 (t 2 ),L,\u03c8 (tn )] where \u03c8 is the unique\nstrictly monotone map supp(\u03c4 )\uf8e7\n\uf8e7\u2192{1,2,L, n} . This is how standardization of permutation\nwords appears in this business. Of course also in the world of permutations it is quite customary\nto identify permutations defined by \u03c4 and st(\u03c4 ). (The underlying alphabeth does not really\nmatter.)\nActually p(\u03c4 ) is in WHA \u2282 dWHA but at this stage of the investigations it seems better to\nregard MPR primarily as a sub Hopf algebra of dWHA. This begs a quesion which is taken care\nof by the following proposition.\n9.2. Proposition. The imbedding defined by (9.1) is a homogeneous monomorphism of\nconnected graded Hopf algebras MPR\uf8e7\uf8e7\u2192 dWHA.\nHere MPR has the graded Hopf algebra structure defined in section 1, see especially (1.2), (1.3),\nand dWHA has the Hopf algebra structure (the first one) described in section 7, see especially\nformulas (7.3)-(7.4).\nProof. That things go well for the grading and for the units and counits is immediate. So let\n\u03c3 = [s1,L, sm ] and \u03c4 = [t1,L,tn ]\nand consider their associated substitutions according to (9.1). The product in dWHA of these\nsubstitutions is\n\uf8eb [x1,L, x m ]\u2217[y1 ,L,y n] \uf8f6 \uf8eb [x1 ,L, xm , x m +1,L,x m +n ] \uf8f6\n\uf8ec\n\uf8f7 =\uf8ec\n\uf8f7\n\uf8ed[x s1 ,L, xs m ] \u00d7sh [yt1 ,L, ytn ]\uf8f8 \uf8ed [xs 1 ,L,x sm ] \u00d7sh [xm+ t1 ,L, xm + tn ]\uf8f8\nwhich is the sum of the permutation substitutions corresponding to \u03c3 \u00d7sh [m + t1 ,L, m + tn ]. This\nshows that \u03c6 preserves multiplication. Now lets look at the comultiplication (in dWHA) on\np(\u03c4 ). This gives\n\uf8eb p(\u03c4 )\u22121 (\u03c31 )\uf8f6 \uf8eb p(\u03c4 )\u22121 (\u03c3 2 ) \uf8f6\n\uf8eb\u03c1\n\uf8f7 \u2297\uf8ec\n\uf8f7 , p(\u03c4 ) = \uf8ec \uf8f6\n\u03bc(p(\u03c4 )) = \u2211 \uf8ec\n\uf8ed\u03c3 \uf8f8\n\u03c31\n\uf8f8 \uf8ed\n\u03c32\n\uf8f8\ngood cuts \uf8ed\n\n(9.3)\n\nNow note that because there are no multiplicities all cuts are good cuts, and, again because there\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n20\n\nare no multiplicities, \u03c3 1 is a permutation word on the alphabeth formed by the letters in\np(\u03c4 )\u22121(\u03c3 1 ) which is a subword of [x1,L, xn ] so that the x's in p(\u03c4 )\u22121(\u03c3 1 ) appear in their\nnatural order. Thus the sum of tensor products of permutation substitutions (9.3) corresponds to\nn\n\n\u2211 st([t ,L,t ]) \u2297 st([t\ni=0\n\n1\n\ni\n\n,Ltn ])\n\ni+ 1\n\nproving that \u03c6 also preserves the comultiplications.\nThere is a second Hopf algebra structure on MPR defined as follows. Let \u03c3 = [s1,L, sm ] and\n\u03c4 = [t1,L,tn ] be two permutation words, then\nm \u2032 (\u03c3 \u2297 \u03c4 ) = \u2211 u \u2217 v\n\n(9.4)\n\nwhere the sum is over all pairs of words (u,v) such that supp(u) \u222a supp(v)={1,2,L, m + n},\nst(u) = \u03c3 , st(v) = \u03c4 . And the comultiplication is given by\nn\n\n\u03bc\u2032(\u03c4 ) = \u2211 \u03c4 {1,L, i} \u2297 st(\u03c4 {i +1,L, n} )\ni =0\n\nwhere \u03c4 I for I \u2282 {1,L,n} is the word obtained from the permutation word \u03c4 by retaining\nonly the letters (digits) in I. E.g. if \u03c4 = [4,1,5,3,2] , \u03c4 {1,2} = [1,2], \u03c4 {1,2,3} = [1,3,2] ,\n\u03c4 {3,4,5} = [4,5,3], st(\u03c4 {3,4,5} ) = [2,3,1].\nThe counit and unit are the same as for (MPR,m,\u03bc,e,\u03b5).\n9.5. Proposition. The imbedding \u03c6 given by (9.1) is (also) a homogeneous\nmonomorphism of Hopf algebras (MPR, m \u2032 , \u03bc\u2032 )\uf8e7\uf8e7\u2192(dWHA, m \u2032, \u03bc\u2032 ). The isomorphism (7.13)\n(dWHA,m,\u03bc)\uf8e7\uf8e7\u2192(dWHA, m \u2032, \u03bc\u2032 ) induces an isomorphism (MPR,m,\u03bc)\uf8e7\uf8e7\u2192(MPR, m \u2032, \u03bc \u2032)\ngiven by \u03c4 a \u03c4 \u22121 (as permutations).\nProof. It is not difficult to prove the first statement directly along similar lines as the proof of\nproposition 9.2. It is still easier to prove the second statement first and to use the known fact that\n\u03c4 a \u03c4 \u22121 is an isomorphism between the two Hopf structures on MPR, [10], [11].\nSo let \u03c4 = [t1,L,tn ] be a permutation word. The corresponding substitution is (see (9.1))\n\uf8eb [x1,x 2 ,L, xn ] \uf8f6\n\uf8f7 \u2208dWHA\np(\u03c4 ) = \uf8ec\n\uf8ed [xt1 ,x t2 ,L,x tn ]\uf8f8\n\n(9.6)\n\nApplying the isomorphism (7.13) to this one obtains\n\uf8eb [xt1 ,x t2 ,L,x tn ]\uf8f6\n\uf8ec\n\uf8f7\n\uf8ed [x1 ,x 2,L, x n] \uf8f8\nAs there are no multiplicities this is a permutation substitution. To find out to which permutation\nword it corresponds one has to relabel the entries of the top word so that the x's are in the right\norder. This gives\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n21\n\n[x1, x2 ,L, xn ]\n\uf8eb\n\uf8f6\n\uf8ec\n\uf8f7\n\uf8ed [x\u03c4 \u22121 (1) , x\u03c4 \u22121 (2) ,L, x\u03c4 \u22121 ( n) ] \uf8f8\nwhere \u03c4 \u22121 is the inverse permutation to \u03c4 , i.e. \u03c4 \u22121 : t i a i . Now by loc. cit. the first\nstatement of the proposition follows immediately.\nFinally, there is the nondefinite inner product on MPR defined by\n\uf8f11 if \u03c4 = \u03c3 \u22121\n\u03c3 ,\u03c4 = \uf8f2\n\uf8f3 0 otherwise\n\n(9.7)\n\nBy what has just been said this is the restriction of the inner product (7.9). It follows that\n9.8.Proposition. The Hopf algebras (MPR,m,\u03bc) and (MPR, m \u2032 , \u03bc\u2032 ) are selfdual with\n\u2032\nrespect to the inner product (9.7). Under the inner product ,\nwhich makes the permutation\nwords an orthonormal basis the Hopf algebra (MPR,m,\u03bc) is dual to (MPR, m \u2032 , \u03bc\u2032 ).\nThis is just another way of getting a known result from [10], [11]. Note also that this way it is\nquite easy to prove that (MPR,m,\u03bc) and (MPR, m \u2032 , \u03bc\u2032 ) are indeed Hopf algebras.\n10. More sub Hopf algebras of dWHA and WHA.\nThere are quite a number of natural sub Hopf algebras of WHA and dWHA. There are also still\nlarger Hopf algebras of 'double word type'. Here are some of them.\nInjective words. A word \u03c3 = [s1, s2 ,L,sm ] over the integers is called injective if their are no\nrepeats (= no multiplicities), i.e if the cardinality of the support of \u03c3 is equal to the length of\n\u03c3 (which is m in this case). For the associated substitution in dWHA\n\uf8eb\u03c1 \uf8f6\np=\uf8ec\n\uf8ed\u03c3 \uf8f8\nthis is the same as saying that the bottom word of the substitution p is multiplicity free. Call\nthese injective substitutions. NB, this does not mean that the corresponding endomorphisms of\nShuffle are injective; these endomorphisms are never injective (nor surjective for that matter).\nObviously the product of two injective substitutions is a sum of injective substitutions. Also the\ncoproduct of an injective substitution is obviousy a sum of tensor products of injective\nsubstitutions.\nThus the Abelian subgroup spanned by the injective words is a sub Hopf algebra of\nWHA \u2282 dWHA which will be denoted WHAinj .\nSurjective words. A word \u03c3 = [s1, s2 ,L,sm ] is called surjective if there are no gaps. That means\nthat the number of different natural numbers occurring in \u03c3 , the content ct( \u03c3 ) of \u03c3 , is equal\nto the height of \u03c3 , which is the largest natural number occurring in \u03c3 . According to the recipe\ngiven in section 8 this means precisely that the associated substitution\n\uf8eb\u03c1 \uf8f6\np=\uf8ec\n\uf8ed\u03c3 \uf8f8\nhas its top word multiplicity free. Call these surjective substitutions. Again it is virtually\nimmediate, just looking at the defining formulas, that the product of two surjective substitutions\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n22\n\nis a sum of surjective substitutions and that the coproduct of a surjective substitutions is a sum of\ntensor products of surjective substitutions. Thus the surjective words span a sub Hopf algebra of\nWHA \u2282 dWHA which will be denoted WHAsurj .\nNote that WHAinj \u2229WHAsurj = MPR .\nMultisupport. The multisupport of a word \u03c3 = [s1, s2 ,L,sm ] is the multiset of the different letters\noccurring in it together with their multiplicities. So technically it is a a set S together with a\nfunction to N giving for each element of S a multiplicity. If S ={s1,L,s m} is the underlying\nset of a multiset with ri the multiplicity of si ; a useful notation for this multiset is\n{s1r1 ,L,smrm }. Thus for instance msupp([6,5,7,2,5,6,1,1,5]) = {12 ,2,5 3 ,6 2 ,7}.\nNow consider substitutions with top word \u03c1 and bottom word \u03c3 such that\nmsupp(\u03c1) = msupp(\u03c3 )\nAgain it is an easy exercise to see that these substitutions define a sub Hopf algebra of dWHA. It\nwill be denoted dWHAmsupp .\nBounded multiplicity. Fix a natural number b \u2208N . Now consider substitutions for which the\nmultiplicity of each letter that occurs is \u2264 b . These also span a sub Hopf algebra, which could be\ndenoted dWHA(b). A variant is to consider those substitutions for which the multiplicity of each\nletter in each of the two words is precisely b.\n\uf8eb\u03c1 \uf8f6\nThere are also generalizations of dWHA. For instance consider pairs of words p = \uf8ec\nsuch\n\uf8ed\u03c3 \uf8f8\nthat the support of the top word is included in the support of the bottom word (but not\nneccessarily equal). Then the multiplication and comultiplication formula for dWHA still make\nsense provided in the comultiplication formula one defines p \u22121 (\u03c3 i ) as the maximal subword of\n\u03c1 whose support is included in the support of \u03c3 i , i =1,2.\nDually there is a generalization of (dWHA, m \u2032, \u03bc\u2032 ) with the reverse inclusion of support\ncondition. But I know of no 'endomorphism interpretation' for these generalizations.\nAll these word Hopf algebras (and there are many more, involving conditions on heigth and\ncontent and all kinds of combination conditions) have various inclusion relations. There are also\nnatural projections. Here are two.\n\uf8eb\u03c1 \uf8f6\nProjecting dWHA onto MPR. In dWHA consider all substitutions p = \uf8ec\nsuch that at least\n\uf8ed\u03c3 \uf8f8\none letter has multiplicity > 1 in \u03c1 or \u03c3 or both. Let J mult be the Abelian subgroup spanned\nby these substitutions. The claim is that J mult is a Hopf ideal. That means that if p \u2208Jmult and\np \u2032 is any substitution then their product (in any order) is in J mult and\n\u03bc(p) \u2208 Jmult \u2297 dWHA + dWHA \u2297 Jmult . The first is obvious because if there is an element of\nmultiplicity 2 or larger in \u03c1 then there is an (actually the same) element of multiplicity 2 or\nlarger in the concatenations \u03c1\u2217 \u03c1 \u2032 , \u03c1 \u2032 \u2217 \u03c1 , and if there is an element of multiplicity two or\nlarger in \u03c3 the same is true in any shuffle of \u03c3 and \u03c3 \u2032 . As to the comultiplication, if there is\nan element of multiplicity two or larger in \u03c3 the same is true for \u03c3 1 or \u03c3 2 (or both) because\nonly good cuts \u03c3 = \u03c3 1 \u2217\u03c3 2 are involved, and if there is an element of multiplicity two or larger\nin \u03c1 then the same is true for p \u22121 (\u03c31 ) or p \u22121 (\u03c3 2 ) because these are complementary subwords\nof \u03c1 with disjoint supports (again because there are only good cuts involved). Note that if the\nbasis element p of dWHA is not in J mult it defines a permutation, i.e. it is in MPR \u2282 dWHA.\nNow define\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n\uf8f1 p if p \u2208MPR \u2282 dWHA\n\u03c8 : dWHA\uf8e7\uf8e7\u2192 MPR, p a \uf8f2\n\uf8f3 0 if p \u2208Jmult\n\n23\n\n(10.1)\n\nBecause J mult is a Hopf ideal this is a morphism of Hopf algebras. It is also the identity on the\nsub Hopf algebra MPR of dWHA and hence gives a Hopf retraction of the inclusion\nMPR \u2282 dWHA.\nSurjective standardization. Let \u03c3 = [s1, s2 ,L,sm ] be a word over the natural numbers. Part of\nthe standardization process of [13] turns it into a surjective word. This goes as follows. Let\nstd\u03c3 : supp(\u03c3 )\uf8e7\uf8e7\u2192{1,L,ct(\u03c3 )}\nbe the unique strictly montone map between these ordered subsets of N. Then\nstd surj : WHA\uf8e7\n\uf8e7\u2192 WHAsurj\n\n(10.2)\n\nis defined by\n\u03c3 = [s1, s2 ,L,sm ] a [std\u03c3 (s1 ),L,std \u03c3 (sm )]\n10.3. Proposition. The morphism of Abelian groups (10.2) is a Hopf algebra retraction of\nthe inclusion WHAsurj \u2282 WHA and induces a Hopf algebra retraction of MPR \u2282 WHAinj .\nNote that this retraction is different from the one defined by (10.1) combined with the inclusions\nWHAinj \u2282 WHA \u2282 dWHA.\n\uf8eb \u03c1 \u2032\uf8f6\nProof. Routine, once it has been observed that the substitution \uf8ec \uf8f7 defined by a word \u03c3 has as\n\uf8ed\u03c3 \u2032 \uf8f8\nthe indices of the bottom word precisely the standardization of that word and that the substitution\nof the surjective standardization of \u03c3 has the same bottom word and as top word the word\nobtained from \u03c1 \u2032 obtained by removing all multiplicities.\nNote also that surjective standardization applied to (the indices of) both words of a substitution\ngives the same substitution.\nStandardization. There is a process, due to Schensted, [13], that takes any word over the natural\nnumbers into a permutation word. It goes as follows. Let \u03c3 = [s1, s2 ,L,sm ] be a word over N.\nLet its multisupport be\nmsupp(\u03c3 ) ={t1r1 ,L,t nrn}, t1 <L < tn\nNow for each i replace the ri entries of \u03c3 that are equal to ti by the integers\nr1 +L+ ri\u22121 +1,L,r1 +L+ ri in this order, where r0 = 0 . There results a permutation word\nst(\u03c3 ). For instance st([4,3,3,7,4,8,4])=[3,1,2,6,4,7,5]. Let st: WHA\uf8e7\uf8e7\u2192 MPR be the\ncorresponding morphism of free Abelian groups. Then st is a morphism of algebras but not a\nmorphism of coalgebras. So it defines an algebra retraction of the inclusion MPR \u2282 WHA but\nnot a Hopf algebra retraction.\nMuch more investigation of the relations between the various word Hopf algebras is called for.\nAt the moment this is still in the infancy stage (or perhaps the foetal stage).\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n24\n\nAnother grading. For the double word Hopf algebra both the top and bottom word seem equally\nimportant. For all the others the bottom word seems dominant and one can define another\ngrading by taking the length of the bottom word as degree. The result is that one obtains a\nconnected graded Hopf algebra with the desirable property that all homogeneous components are\nof finite rank.\n11. Composition and cocomposition; second multiplications and comultiplications on word\nHopf algebras.\nAll of the sub Hopf algebras of dWHA are modules of endomorphism of Shuffle (or dually of\nLieHopf) and endomorphisms can be composed defining a second multiplication on these word\nHopf algebras. As a rule these have no special distributivity properties; for instance they need not\nbe distributive over the first multiplication in the Hopf algebra sense. For distributivity on the left\nof a Hopf algebra (H,m \u03a3 , \u03bc\u03a3 ) with second comultiplication m\u03a0 the following diagram needs to\nbe commutative.\nid \u2297 m\u03a3\nH \u22973\n\uf8e7\uf8e7\n\uf8e7\n\uf8e7\u2192 H \u22972\n\u2193 \u03bc \u03a3 \u2297 id \u2297 id\n\u2193 m\u03a0\n\u22974\nH\nH\n\u2193 id\u2297 tw \u2297 id\n\u2191 m\u03a3\n\u22974\nm \u03a0 \u2297 m\u03a0\nH\n\uf8e7\uf8e7\uf8e7\uf8e7\u2192 H \u22972\n\n(11.1)\n\nStill it happens that composition induces a second multiplication that is distributive over the first.\nThis happens for instance for the sub Hopf algebra of noncommutative symmetric functions\nNSymm of MPR \u2282 dWHA. See below for how NSymm is imbedded in MPR. In this case\ncomposition (on MPR, i.e.composition of permutations) induces a second multiplication on\nNSymm that is left distributive over the first one (but not right distributive). In a (at least at first\nsight) different way this also happens for the second multiplication on the functors of Witt\nvectors and generalized Witt vectors, see [7], section 12.\nHowever, even if there are no distributive (or other nice properties) it can be most useful to have\na second way of producing a new element for two given ones. See e.g. the use of such things in\n[6].\n11.2. Open problem. What properties must there be on an element of a Hopf algebra with\nsecond multiplication in order that second mutiplication by that element is left distributive (right\ndistributive) over the first multiplication in the Hopf algebra sense.\nHere is how composition works out for dWHA and various sub Hopf algebras. Let\n\uf8eb\u03c1 \u2032\uf8f6\n\uf8eb\u03c1 \uf8f6\np=\uf8ec\nand p \u2032 = \uf8ec \uf8f7\n\uf8ed\u03c3 \uf8f8\n\uf8ed \u03c3 \u2032\uf8f8\nbe two substitutions. Then there product is zero unless there is a bijection\n\u03c6 : supp(\u03c1) \uf8e7\n\uf8e7\u2192 supp(\u03c3 \u2032) taking \u03c1 into \u03c3 \u2032 . And in that case the the composition (second\nproduct) is\n\uf8eb \u03c1\u2032 \uf8f6\nm\u03a0 ( p \u2297 p \u2032 ) = p o p \u2032 = \uf8ec\n\uf8ed\u03c6(\u03c3)\uf8f8\nwhere \u03c6 (\u03c3 ) is the word obtained by applying the change of variables \u03c6 to the word \u03c3\n\n(11.3)\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n25\n\nwhich has the same support as \u03c1 , and where the interpretation as an endomorphism of Shuffle\nis: first p \u2032 followed by p (as indicated in (11.3).\nIt is easy to check that all the sub Hopf algebras WHA, WHAinj , WHAsurj , MPR, dWHA(b),\ndWHAmsupp are stable under this second multiplication.\nDually there is comultiplication. Using the autoduality of dWHA (or directly) this ought to be\ngiven by the formula\n\uf8eb \u03c1\uf8f6\n\u03bc\u03a0 ( \uf8ec ) =\n\uf8ed \u03c3\uf8f8\n\n\uf8eb\u03c4\n\n\uf8eb\u03c1\n\n\u2211 \uf8ed\uf8ec\u03c3 \uf8f8\uf8f6 \u2297 \uf8ec\uf8ed\u03c4 \uf8f8\uf8f6\n\n(11.4)\n\nwhere the sum is over all \u03c4 with the same support as \u03c1 and \u03c3 and such that each of the two\nfactors in (11.4) are in the appropriate sub Hopf algebra. However in the case of dWHA, and\nWHA there are infinitely many such \u03c4 and comultiplication is not well defined. In the case of\nthe sub Hopf algebras WHAinj , WHAsurj , MPR, dWHA(b), dWHAmsupp there are only finitely\nmay such \u03c4 and the second comultiplication is well defined.\n12. Symm, NSymm, QSymm, and MPR: part of the diagram of their relations.\nMost of the rest of this paper is about the Hopf algebras occurring in the following diagram and\ntheir relations.\n(MPR, m \u2032 , \u03bc\u2032 )\ni\u2191\nO\nNSymm\nL\n\u03c0\u2032 \u2193\nN\nSymm\n\nSymm\nN\n\u2193 i\u2032\nL\nQSymm\nO\n\u2191\u03c0\n(MPR, m, \u03bc)\n\n(12.1)\n\nwhere two L's, either horizontal or diagonal indicate a duality pairing. The Hopf algebra\nmorphisms \u03c0, \u03c0 \u2032 are surjective and the Hopf algebra morphisms i, i \u2032 are injective; \u03c0 and i\nare dual to each other and so are \u03c0 \u2032 and i \u2032 . The part of the diagram not involving MPR has\nbeen discussed in some detail in [7, 8]. So here most of the emphasis will be on the relations\ninvolving one of the two isomorphic versions of MPR. The first one of these has been described\nin section 1; the second one in section 9.\n\u2032\nOne can of course change the diagonal duality ,\nbetween (MPR, m \u2032 , \u03bc\u2032 ) and\n(MPR,m,\u03bc) to the autoduality defind by the non positive definite pairing of (MPR,m,\u03bc)\ngiven by (9.7). A similar diagram ensues with i replaced by (\u03c3 a \u03c3 \u22121 )o i and (MPR, m \u2032 , \u03bc\u2032 )\nin the upper left hand corner replaced by (MPR,m,\u03bc) (or, equivalently, replacing \u03c0 by\n\u03c0 o (\u03c3 a \u03c3 \u22121 ) and (MPR,m,\u03bc) by (MPR, m \u2032 , \u03bc\u2032 ) in the lower right hand corner).\nFor completeness sake (and the convenience of the reader) also NSymm and QSymm will be\nvery briefly described below.\nNSymm. As an algebra the Hopf algebra of noncommutative symmetric functions NSymm is\nsimply the free associative algebra in countably many (noncommuting) indeterminates\nNSymm = Z Z1 , Z2 ,L\nThe comultiplication is determined by\n\n(12.2)\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\nZn a\n\n\u2211Z \u2297Z\n\ni+ j = n\n\ni\n\nj\n\nwhere Z0 = 1\n\n26\n\n(12.3)\n\n(and requiring this to be an algebra morphism). This is welldefined because NSymm is free as\nan algebra. So there is no difficulty establishing the Hopf property. The unit is 1 and the counit\ntakes 1 to 1 and \u03b5(Zn ) = 0, n = 1,2,L .\nOne basis of the underlying free Abelian group is formed by the noncommutative\nmonomials\nZ\u03b1 = Z a1 Za2 LZa m , \u03b1 = [a1 , a2 ,Lam ] \u2208N \u2217\nindexed by all words over the natural numbers N = {1,2,L} . In this context these words are\noften called compositions, more precisely \u03b1 is called a composition of\nn = wt(\u03b1 ) = a1 +L + am . NSymm is graded by giving Z\u03b1 degree wt(\u03b1 ). Two other bases will\nplay a role later on. Let the Sn be defined by the noncommutative Wronski relations\nSn \u2212 Sn\u2212 1Z1 + Sn \u2212 2Z 2 + L + (\u22121)n\u22121 S1Z n\u22121 +(\u22121)n Zn = 0\n\n(12.4)\n\n(or the same relations with the Z's and S's reversed; it does not matter which is used: the\nresulting elements are the same). If the Z's are viewed as a noncommutative analogue of the\ncomplete symmetric functions, the S's are the corresponding noncommutative elementary\nsymmetric functions (or vice versa). Obviously the noncommutative monomials in the S's also\nform a basis for the underlying Abelian group of NSymm. A third basis is given by the socalled\nribbon Schur functions\nR\u03b1 =\n\n\u2211 (\u22121)\n\nlg(\u03b1 ) \u2212lg \u03b2 )\n\n\u03b1\u2265\u03b2\n\nS\u03b2\n\n(12.5)\n\nwhere \u03b1 \u2265 \u03b2 means that \u03b1 = [a1,L,am ] is a refinement of \u03b2 = [b1,Lbn ] (or \u03b2 a coarsening\nof \u03b1 )8. This is the case if there are indices 1 \u2264 j1 < j2 < L < jn = m such that\nbi = aj i\u22121 +1 + L+ a ji , which can be pictorially represented as\n[a1 ,L,a j1 ,a j1 +1,L,a j2 ,L,a jm \u22121 + 1,L, am ]\n1\n424\n3 14243\n14243\nb1\n\nb2\n\nbn\n\nQSymm. The Hopf algebra of quasisymmetric functions QSymm is the graded dual of NSymm.\nA basis for the underlying Abelian group is formed by all words \u03b1, \u03b1 \u2208N \u2217 with duality pairing\nZ\u03b2 ,\u03b1 = \u03b4 \u03b2\u03b1 (Kronecker delta)\n\n(12.6)\n\nThe mutiplication is the overlapping shuffle product, which can be described as follows. Take\ntwo words \u03b1 = [a1,L,am ] and \u03b2 = [b1,Lbn ]. For each k \u2264 min{m,n} take a 'word' with\nm + n \u2212 k so far empty slots. Choose m slots and in these put the entries of \u03b1 in their original\norder; choose k of these now filled slots; together with the n \u2212 k still empty slots this makes n\nslots; in these slots place the entries of \u03b2 in their original order; finally, for those slots that have\ntwo entries add them. The overlapping shuffle product, \u03b1 \u00d7 osh \u03b2 , of \u03b1 and \u03b2 is the sum of\nall words (compositions) that can be obtained this way. For instance\n8\n\nThe opposite sign is also used in the literature. I prefer this one and use as a mnemonic that if one\ncomposition refines another it has more parts.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n27\n\n[2] \u00d7osh [1,5,3] = [2,1,5,3] + [1,2,5,3] +[1,5,2,3] +1,5,3,2]\n+[3,5,3] +[1,7,3]+ [1,5,5]\n[2] \u00d7osh [2,2,3] = 3[2,2,2,3] + [2,2,3,2] +[4,2,3] +[2,4,3] + [2,2,5]\n[1,1] \u00d7osh [1,1] = 6[1,1,1,1]+ 2[1,1,2] + 2[1,2,1] + 2[2,1,1] + [2,2]\nThe empty word is the unit element.\nThe comultiplication is 'cut':\nm\n\n\u03bc([a1,L, am ] = \u2211[a1,L,ai ] \u2297[ai+ 1,L,am ]\n\n(12.7)\n\ni =0\n\nand the counit is 1 on the empty composition and zero on all others.\nAnother basis of the underlying Abelian group is formed by the sums\nF\u03b1 =\n\n\u2211\u03b2\n\n(12.8)\n\n\u03b2 \u2265\u03b1\n\nFor instance F[1,1,1] = [1,1,1], F[3] = [3]+ [2,1]+[1,2] + [1,1,1], F[1,2] = [1,2]+[1,1,1]. These F's are\nbiorthogonal to the ribbon Schur functions under the duality pairing\nR\u03b1 ,F\u03b2 = \u03b4\u03b1 , \u03b2 (Kronecker delta)\n\n(12.9)\n\n(This is not difficult; or see [5].)\nCompositions and descent sets. Let \u03c3 = [s1, s2 ,L,sm ] be a permutation (word). Its descent set,\ndesc(\u03c3) , is the subset of {1,2,L,m \u22121} consisting of those natural numbers i for which\nsi > si+1 . For instance desc([3,2,5,7,1,4,6]) = {1,4} \u2282{1,2,L,6}. It is important to keep in mind\nthat a descent set is not just a set, but a subset of a specific {1,2,L,n}; thus {1}\u2282 {1,2} is a very\ndifferent object from {1}\u2282 {1,2,3,4}.\nGiven a descent set D = {d1 < L< dr } \u2282{1,2,L, m \u22121} there is an associated composition,\ncomp(D) = [d1 ,d2 \u2212 d1,L,dr \u2212 dr \u22121 ,m \u2212 dr ] of m. Inversely, given a composition\n\u03b1 = [a1,a2 ,L,ar ] of m there is an associated descent set, desc(\u03b1 ) =\n{a1 ,a1 + a2 ,L,a1 +L + ar \u22121} \u2282{1,L,m \u22121}. Note that desc(\u03c3 ) for \u03c3 a permutation and\ndesc(\u03b1 ) for \u03b1 a composition are very different things.\nThe two recipes that associate a descent set to a composition and a composition to a\ndescent set are inverse to each other.\nThe injection of Hopf algebras i : NSymm \uf8e7\uf8e7\u2192(MPR, m \u2032 , \u03bc \u2032). Consider the morphism of\nalgebras determined by\nSn a [1,2,L, n]\n\n(12.10\n\ni.e. Sn goes to the identity permutation on n letters. Because the Sn obviously are also a free\nassociative set of generators for NSymm this is a well defined morphism of algebras. It is in fact\na morphism of Hopf algebras. It sufices to check this on the generators Sn (because of the Hopf\nproperty). Now\n\u03bcNSymm (Sn ) =\n\n\u2211 S \u2297S ,\n\ni+j=n\n\ni\n\nj\n\nS0 = 1\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n28\n\nas follows easily from the Wronski relations (12.4). On the other hand\nn\n\n\u03bcMPR\n\u2032 ([1,2,L, n]) = \u2211 [1,2,L,n]{1,L, i} \u2297 st([1,2,L,n]{i +1,L,n})\ni=0\nn\n\n= \u2211 [1,2,L,i] \u2297[1,2,L, n \u2212 i]\ni =0\n\nproving that this a Hopf algebra morphism.\nTo see that this morphism is injective a little more is needed. Recall that the multiplication\nmMPR\n\u2032 is given by the formula\nmMPR\n\u2032 (\u03c1 \u2297 \u03c3 ) = \u2211 u\u2217 v\nwhere the sum is over all concatenations u \u2217 v such that\nst(u) = \u03c1 = [r1,L,rm ], st( v) = \u03c3 = [s1,L,sn ]\nand\nsupp(u)\u222a supp(v) ={1,2,L,n + m} ,\n\nwhere m = lg(\u03c1), n = lg(\u03c3 ). It follows immediately that the descent set of any of the summands\nis either desc(\u03c1) \u222a m + desc(\u03c3 ) or desc(\u03c1) \u222a {m} \u222a m + desc(\u03c3 ) depending on whether the last\nletter of u is smaller or larger than the first letter of v. And in fact both possibilities always\noccur; the first one for u = [r1,L,rm ], v = [m + s1,L,m + sn ] and the second one for\nu = [n + r1 ,L,n + rm ] , v = [s1 ,L,sn ].\nIt follows immediately that the largest (in size) descent set that occurs in the iterated\nproduct\nm MPR\n\u2032 ([1,L,a1 ]\u2297 [1,L, a2 ] \u2297L\u2297 [1,L, am ])\n\nof identity permutations is {a1 ,a1 + a2 ,L,a1 +L + am \u2212 1} and this one occurs for the following\nsummand of this iterated product, n = wt(\u03b1 ) = a1 +L + am\n[n \u2212 a1 + 1,n \u2212 a1 + 2,L,n;n \u2212 a1 \u2212 a2 + 1,L,n \u2212 a1;L;\nn \u2212 a1 \u2212 a2 \u2212L \u2212 am + 1 = 1,L, n \u2212 a1 \u2212 a2 \u2212 Lam \u2212 1 = am]\nThese are all different and this proves that the morphism defined by (12.10) is injective.9\nLet D \u2282 {1,L,m \u2212 1} be a subset. The descent class sum corresponding to it is\n\u03b8D =\n\n\u2211\u03c3\n\n\u2208 MPR\n\n(12.11)\n\ndesc(\u03c3 )= D\n\nwhere the sum is over all permutations of {1,2,L,m} with descent set D; let D \u2032 \u2282 {1,2,L,n}\nbe a second descent set, and let D1 = D \u222a m + D\u2032 \u2282 (1,2,L, m + n \u22121}, D2 = D \u222a{m}\u222a m + D \u2032 .\nThen\n9\n\nAs a matter of fact these permutations for m 2 are all part of a free generating set of MPR, see [11].\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\nmMPR\n\u2032 (\u03b8 D \u2297 \u03b8 D \u2032 ) = \u03b8D1 +\u03b8 D2\n\n29\n\n(12.12)\n\nTo see this, first note that by definition there are no multiplicities. Indeed if uv = u\u2032v \u2032 and u\nand u\u2032 are of equal length then u = u \u2032 and v = v \u2032 . Thus, by the remarks above, the sum on the\nleft hand side of (12.12) is part of the sum on the right hand side. Inversely, let \u03c4 be a\npermutation of {1,2,L,m + n} with descent set D1 or D2 . Let \u03c4 = u \u2217v be the concatenation\ndecomposition (cut) of \u03c4 with u of length m. Then D = desc(st(u)) and D \u2032 = desc(st(v)), so\nthat \u03c4 also occurs on the left hand side of (12.12). This proves this formula.\nThe ribbon Schur functions in NSymm multiply as follows, [5],\nR[a1 ,L, am ]R[ b1 ,L,b n ] = R[ a1 ,L, am , b1, L,bn ] + R[a1 ,L, am\u22121 , am + b1 ,L,b n ]\n\n(12.13)\n\nAlso note that if D \u2282 {1,2,L,m \u2212 1} is the descent set associated to a composition [a1 ,a2 ,L,ar ]\nof m and D \u2032 \u2282 {1,2,L,n \u22121} is the descent set associated to a composition [b1 ,b2 ,L,bn ], then\ndesc([a1,a2 ,L,ar ,b1, b2 ,L,bs ])\n= {a1,a1 + a2 ,L,a1 + L + ar\u2212 1, a1 + L+ ar = m,m + b1 ,m + b1 + b2 ,L,m + b1 + L+ bs \u22121}\n= D\u222a {m}\u222a m + D \u2032 \u2282 {1,2,Lm + n \u22121}\ndesc([a1,a2 ,L,ar\u22121 ,ar + b1 ,b2 ,L,bs ])\n= {a1 ,a1 + a2 ,L,a1 +L + ar \u22121, a1 + Lar + b1, m + b1 + b2 ,L,m + b1 +Lbs \u22121}\n= D\u222a m + D \u2032 \u2282 {1,2,L, m + n \u22121}\nCombining this with (12.12) and (12.13) leads to the following explicit description of the\nimbedding (12.10) of NSymm into MPR.\nR\u03b1 a\n\n\u2211\u03c3\n\n(12.14)\n\ndesc(\u03b1 ) =desc( \u03c3 )\n\nNote that there are two different meanings of 'desc' involved here: desc(\u03c3 ) is the descent set of\na permutation while desc(\u03b1 ) is the descent set corresponding to the composition \u03b1 .\nA descent class in MPR is the set of all permutations (of the same length) with the same\ndescent set. So the right hand side of (12.12) is a sum over a descent class. These form a basis for\nthe image of (12.10), (12.12). This image, which, by what has been said, is isomorphic to\nNSymm as a Hopf algebra is known as the Solomon descent algebra. It carries a second\nmultiplication given by composition of permutations that is left distributive over the first\nmultiplication. The fact that the composition product of two sums over descent classes is a sum\nof sums over descent classes was discovered by Solomon, [15].\nAs the composition of two identity permutations is zero (if they are of uequal length) or\nthat same identity permutation (if they are of equal length, it follows that the second\nmultiplication on NSymm satisfies\nm\u03a0 (Sn \u2297 Sn ) = Sn\nm\u03a0 (S\u03b1 \u2297 S\u03b2 ) = 0 if wt(\u03b1 ) \u2260 wt(\u03b2 )\n\n(12.15)\n\nBy left distributivity and the grading properties this suffices to characterize the second\nmultiplication.\nThe projection \u03c0 :( MPR,m,\u03bc)\uf8e7\uf8e7\u2192QSymm . The imbedding NSymm\uf8e7\uf8e7\u2192(MPR, m \u2032, \u03bc \u2032) by\ngraded duality induces a projection \u03c0 :( MPR,m,\u03bc)\uf8e7\uf8e7\u2192QSymm . This one is explicitly given\nby\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n\u03c3 a Fcomp(desc( \u03c3 ))\n\n30\n\n(12.16)\n\nThis follows from (12.12) because the F's and R's are dual bases, see (12.9). The projection\n(12.16) turns out to be a very natural one10. The algebra of quasisymmetric functions is, by\ndefinition of 'quasisymmetric function', a subalgebra of the commutative power series over Z\nin variables x1,x 2,L . There is an interpretation of MPR as a subalgebra of the noncommuting\npowr series over the integers in these variables, and then (12.14) is induced by Abelianization,\nsee [4].\n13. lsd permutations.\nIt will be convenient to also consider permutations of other subsets of N then the {1,...,n}. Thus\nany injective word can be seen as defining a permutation of its support set. The descent set of\nsuch a permutation \u03c3 = [b1 ,b2,L,bn ] is defined as before i \u2208desc(\u03c3 ) iff bi > bi +1 . Let D be\nany nonempty subset of {1,2,L,n \u2212 1} and write it in the form\nD = {i1,i1 + 1,L,i1 + j1 \u2212 1;i2 ,i2 +1,L,i2 + j2 \u22121;L;ir ,ir +1,L,ir + j r \u2212 1}\nwith is , j s \u2208N , is \u2212 (is \u22121 + j s\u22121 \u22121) \u2265 2 . For instance if D = {1,2,6,7} \u2282 {1,2,L,7},\ni1 = 1, j1 = 2,i2 = 6, j2 = 2,r = 2.\nNow consider an alphabet {a1 < a2 < L< an \u22121 < an} \u2282 N of size n and consider the\nfollowing permutation of it\n\n10\n\nSee also section 17 below.\n\n(13.1)\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n31\n\ni1\nai1 + j1\nai1 \u22121\n\nai1+ j1 \u22121\n\nN\n\nO\n\nN\n\nO\n\na2\n\nai1 +1\n\na1\n\nai1 + j1 +1\nai1\ni1 + j1\n\ni2\nai2 + j 2\nai 2 \u22121\n\nai2 + j 2 \u22121\n\nN\n\nO\nO\n\nai1 + j1 + 2\n\n(13.2)\n\nN\nai2 +1\n\nai2 + j 2 +1\nai2\ni2 + j2\n\nir\n\nn\n\nair + j r\nair \u22121\nN\nN\nair\u22121 + j r\u22121 + 1\nair \u22121\n\nair + jr \u2212 1\nO\n\nan\nO\n\nN\nair +1\n\nair + j r +1\nair\nir + jr\n\nwhere the relative height positioning indicates whether one is at a point of ascent or descent and\nwhere the occasional numbers in the bottom and top lines indicate position; thus for example the\nletter ai1 is the (i1 + j1 ) \u2212 th letter of this permutation. Of course the initial 'up run' may be\nmissing (if i1 = 1) and the last up run may also be missing (if ir + j r = n ).\nThe descent set of the permutation (13.2) is the set (13.1).\n13.3. Theorem. The permutation (13.2) is the lexicographically smallest permutation in the\ndescent class of all permutations of the alphabet {a1 ,L,an}with descent set D as given by\n(13.1).11\nThe lexicographically smallest permutation of a given descent class I call an lsd permutation (lsd\nis of course an acronym for lexicographically smallest in its descent class). If D is empty (this\ncorresponds to r = 0 ) there is only one permutation with descent class D. This is the identity\npermutation.\n11\n\nIt is also the smallest element in its descent class under the weak order, and each descent class has a\nunique smallest element under the weak order; see section 15 below.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n32\n\nProof. This is not a difficult matter and handled by induction. The induction starts because things\nare obvious for an alphabet of size 1 or size 2.\nThere are two cases to consider:\nA) 1 \u2208D , i.e. i1 = 1\nB) 1 \u2209D , i.e. i1 > 1\nIn the second case the permutation (13.2) starts with a1 the smallest element of the alphabet\ninvolved. Removing this element from the alphabeth and from the permutation (13.2) we find a\npermutation of the same type for the descent set D \u2212 1 \u2282{1,2,L,n \u2212 2}. By induction (13.2) with\nthis element removed is lexicographically smallest in its descent class and then, because a1 is\nthe smallest letter of the alphabet, (13.2) is the lexicographically smallest element defined by D.\nIn case A) the descent set starts with j1 consecutive descents. So the first element of any\npermutation with this descent set must start with a j1 +1 or a larger element. The permutation\n(13.2) in this case does indeed start with a j1 +1 . Remove this element from the alphabeth and\nfrom (13.2). There remains a permutation of the same shape with descent set\n(D \\ {1})\u2212 1\u2282 {1,2,L, n \u2212 2}. With induction this one is lexicographically smallest in its descent\nset. It follows that (13.2) is lexicographically smallest in the descent set defined by D.\nAnother way to write the permutation (13.2) is as follows\n\uf8eb a1\n\uf8ec\n\uf8ed a1\nai2\nai2 + j 2\n\na2 L ai1 \u22121 ; ai1\na2\nai1 \u22121 ; ai1 + j1\nL ai2 + j 2 \u2212 1\nL ai2 +1\n\nair\nL air + j r\nair + jr L air\n\nai2 + j2\nai2\n\nai1 +1 L ai1 + j1\nai1 + j1 \u22121 L ai 1\n\n; ai1 + j1 +1 L ai 2 \u22121 ;\n; ai1 + j1 +1 L ai2 \u22121 ;\n\n; L ; air \u22121 + jr\u22121 +1 L ai r \u2212 1 ;\n; L ; air \u22121 + jr\u22121 +1 L ai r \u22121 ;\n\n(13.4)\n\n; air + jr +1 L an \uf8f6\n\uf8f7\n; air + jr +1 L an \uf8f8\n\nwhich makes it obvious that a non identity lsd permutation is always an involution. But not every\ninvolution is lsd.\n13.4. Corollary. Let u \u2217 v = \u03c3 be a cut of an lsd permutation. Then both u and v are lsd\npermutations (in their respective alphabets).\nThis is obvious from the form of (13.4). Note that if the cut takes place somewhere in an 'up run'\nthen the alphabet of u is an initial chunk from the alphabet {a1 ,L,an}, but if the cut occurs in a\ndown run that is not the case. For example for the lsd permutation\n\uf8eb1 2 ; 3 4 5 6 ; 7 ; 8 9 10 ; 11 12\n\u03c3 =\uf8ec\n\uf8ed 1 2 ; 6 5 4 3 ; 7 ; 10 9 8 ; 12 11\n\n\uf8f6\n\uf8f8\n\nand the cut (bottom line of \u03c3 )= u \u2217 v with u of length 9 and v of length 3, the alphabet of u\nis {1,2,3,4,5,6,7,9,10} and that of v is {8,11,12}.\n14. Retractions of i : NSymm \uf8e7\uf8e7\u2192 MPR and sections of \u03c0 : MPR\uf8e7\uf8e7\u2192 QSymm .\nIn this section the question is examined whether there are retractions of i : NSymm \uf8e7\uf8e7\u2192 MPR\nthat are algebra morrphisms and, dually, whether there are sections of \u03c0 : MPR\uf8e7\uf8e7\u2192 QSymm\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n33\n\nthat are coalgebra morphisms. The first coalgebra section of \u03c0 : MPR\uf8e7\uf8e7\u2192 QSymm was\nconstructed in [1]. Here several others will be described as well as an algebra retraction of\ni : NSymm \uf8e7\uf8e7\u2192 MPR.\nLet Jnonlsd be the subgroup of MPR spanned by all those permutations that are non lsd.\n14.1. Proposition. Jnonlsd is an ideal in the algebra (MPR, m \u2032 ).\nProof. This is an immediate consequence of corollary 13.4. Indeed let \u03c1 and \u03c3 be two\npermutations and let at least one of them be non lsd. Consider a term u \u2217 v from the product\nm \u2032 (\u03c1 \u2297 \u03c3) . If it were lsd both u and v would be lsd. But a permutation u is lsd if and only if\nst(u) is lsd. But st(u) must be equal to \u03c1 and st(v) = \u03c3 , proving the proposition by\ncontradiction.\n14.2. Theorem. Define \u03c8 : ( MPR, m \u2032)\uf8e7\uf8e7\u2192 NSymm by\n\uf8f10 if \u03c3 is not an lsd permutation\n\u03c8 (\u03c3 ) = \uf8f2\n\uf8f3 Rcomp(desc( \u03c3 )) if \u03c3 is an lsd permutation\n\n(14.3)\n\nThen \u03c8 is a morphism of algebras that is an algebra retraction of the imbedding of Hopf\nalgebras i : NSymm \uf8e7\uf8e7\u2192(MPR, m \u2032 ).\nProof. By definition, see also (12.14), \u03c8 o i = id NSymm . So it remains to show that \u03c8 is\nmultiplication preserving.\nFirst let \u03c3 and \u03c4 be two permutations (basis elements of MPR) of which at least one is\nnot lsd. Then their product is in the ideal Jnonlsd on which \u03c8 is zero. So \u03c8 is multiplicative in\nthis case.\nNow let \u03c3 and \u03c4 be two permutations that are both lsd. Let their two descent sets be\nD \u2282 {1,2,L,m \u2212 1}` and D \u2032 \u2282 {1,2,L,n \u22121}. As before, let D1 = D \u222a m + D\u2032 \u2282 {1,2,L,m + n}\nand D2 = D \u222a{m}\u222a m + D \u2032 . Let \u03c1i be the unique lsd permutation with descent set Di , i =1,2 .\nThen, taking into account the formulas for descent sets just below (12.13), it sufffices to show\nthat both \u03c1i occur as summands in m \u2032 (\u03c3 \u2297 \u03c4 ) (also taking into account that there are no\nmultiplicities, i.e that m \u2032 (\u03c3 \u2297 \u03c4 ) is a sum of different permutations with coefficient 1). So let\n\u03c1i = ui \u2217v i be the cut with the length of ui equal to m. Then, by corollary 13.4 both ui , vi are\nlsd and hence so are st(ui ), st(vi ) and these have descent sets D, D\u2032 .Hence\nst(ui ) = \u03c3 , st(vi ) = \u03c4 proving what is needed.\nIt is also not difficult to write down the \u03c1i explicitly. Indeed let\n\u03c3 = [a1 ,L,ar\u22121 , ar = m,m \u2212 1,L, r]\n\u03c4 = [s,s \u22121,L,1,bs +1,L,bn ]\n(Because these permutations are lsd they must look like this, where of course it can be that\nm = r (so that \u03c3 ends with an up run) and it can be that s = 1 so that \u03c4 starts with an up run.)\nThen\n\u03c11 = [a1 ,L, ar \u22121 ,ar = m,m \u2212 1,L,r,m + s, m + s \u2212 1,L, m +1,m + bs +1 ,L,m + bn ]\nis lsd with descent set D1 and\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n34\n\n\u03c12 = [a1\na2,L,a\n+ s,m\ns \u22124\n1,L,r\n+4\ns,r4\n+4\ns \u22121,L,r\n+ b4\n,L,\nbn]\n1,4\nr \u22121,m\ns4\n+12\n14\n44+4\n424\n443,m\n4\n244\n3\n14\n4m4+4\n3\nalphabet\n{1,2,L,r \u22121}\n\nalphabet\n{r,L,m + s}\n\nalphabet\n{ m+ s +1,L, m+ n}\n\nis lsd with descent set D2 .\nLet MPRlsd be the free Abelian subgroup spanned by the lsd permutations. Then by corollary\n13.4 MPRlsd is a subcoalgebra of (MPR,\u03bc) 12.\n14.4. Theorem. Consider the following commutative diagram\n\u2282\nMPRlsd \uf8e7\uf8e7\n\u2192 MPR\n\u2193 \u03c0 \u2032\u2032\n\u2193\u03c0\nQSymm\n=\nQSymm\n\n(14.5)\n\nwhere \u03c0 \u2032\u2032 is defined as the restriction of \u03c0 to MPRlsd . Then \u03c0 \u2032\u2032 is an isomorphism of\ncoalgebras and its inverse is a coalgebra section of the projection of Hopf algebras\n\u03c0 : (MPR,m,\u03bc)\uf8e7\uf8e7\u2192 QSymm .\nProof. As the composition of two coalgebra morphisms \u03c0 \u2032\u2032 is certainly a morphism of\ncoalgebras. Moreover for every composition \u03b1 of m there is precisely one lsd permutation \u03c3\nof {1,2,L,m} such that comp(desc(\u03c3 )) = \u03b1 so that \u03c0 \u2032\u2032 sets up a bijection between the basis\nof lsd permutations of MPRlsd and the F-basis of QSymm making it an isomorphism.\nThe coalgebra section of theorem 14.4 is different from the coalgebra section which arises by\nduality from theorem 14.2 and both are different from the one in [1].13\nUnder suitable circumstances a surjective morphism of Hopf algebras H \uf8e7\n\uf8e7\u2192 K which has a\ncoalgebra section gives rise to a description of H as a crossed product of K with a certain\nkernel, see [2], see also [3].\n14.6. Open problem. Prove a crossed product type theorem (BCM theorem) over the\nintegers for connected graded Hopf algebras. Describe the situation for an injection of such Hopf\nalgebras which admits an algebra retraction.\n15. Combinatorics of the weak order and descent sets.\nLet Inv(\u03c3 ) ={(i, j) \u2208{1,L,n} \u00d7{1,L,n}: i < j and si > s j} be the set of inversions of a\npermutation (word) \u03c3 = [s1,L, sn ] \u2208Sn . The left weak order on Sn is defined by\n\u03c3 <lwo \u03c4\n\n\u21d4 Inv(\u03c3 ) \u2282 Inv(\u03c4)\n\n(15.1)\n\nThis defines a partial order on Sn which has a smallest element, viz the identity permutation\n(with empty set of inversions) and a largest element, viz [n,n \u22121,L,2,1] .\nFor any partially ordered set P its Hasse diagram is the graph with vertices the elements of P\ndrawn such that an element u is lower than v if and only if u is smaller than v and with an\nIt is also a subcoalgebra of (MPR, \u03bc \u2032) because the isomorphism (MPR, \u03bc )\uf8e7\n\uf8e7\u2192(MPR, \u03bc \u2032) , \u03c3 a \u03c3 \u22121\nis the identity on MPRlsd .\n12\n\n13\n\nAs a matter of fact the closed permutations that play a big role in [1] are maximal elements in their\ndescent class (under the weak order), see also section 16 below.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n35\n\nedge from v to u iff u is smaller than v and there are no elements between v and u. This is\ncalled the covering relation of the partial order.\nIn the case of the left weak order this works out as follows. There is an edge from \u03c3\ndown to \u03c4 iff there are an si ,s j with i < j and si = sj + 1 and \u03c4 is obtained from \u03c3 by\nswitching si and s j (and leaving everything else as it was).\nThe Hasse diagrams for the left weak orders on S2 , S3 , and S4 , respectively look as follows\n321\n21\n|\n12\n\n312\n\n231\n213\n\nS2\n\n132\n123\n\nS3\n\n4321\n4312\n\n4231\n\n3421\n\n4213 4132 3412\n\n3241\n\n2431\n\n4123\n\n3214\n\n3142 2413 2341\n3124\n\n1432\n\n2314 2143 1423 1342\n2134\n\n1324 1243\n1234\n\nS4\nThis is not the usual way of depicting the left weak order. It has been done this way here to bring\nout the recursive structure of the weak order.\nThe diagram for Sn consists of n copies of that for Sn\u2212 1 arranged in a sort of staircase,\neach step consisting of those elements that start with a fixed i.. For each i the i-th step is the\nHasse diagram of permutations of {1,2,L,n}\\ {i} with for i = 2,L,n \u22121 certain edges left out\nviz those that correspond to switches of i \u22121 and i +1 (which are neighbours in {1,2,L,n}\\ {i}\nbut not neighbours in {1,2,L,n}). Finally corresponding members of step j and step j \u22121 are\nconnected for j = n,n \u22121,L,2 .\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n36\n\nNote that on each layer the elements occur in lexicographic order from left to right. As will\nbe seen this is by no means the only compatibility between the weak order and lexicographic\norder. Note also that the lexicographic order refines the weak order in the sense that\n\u03c3 >lwo \u03c4 \u21d2 \u03c3 >lex \u03c4 . All this is practically immediate from from the description of the\ncovering relation (Hasse diagram) of the weak order given above.\n15.2. Theorem. Let D \u2282 {1,Lm \u2212 1} be a descent set. Then the subgraph of the Hasse\ndiagram of the left weak order formed by the descent class of D, i.e. by the permutations in Sm\nwith descent set D, form a connected subgraph with a unique smallest element (with respect to\nthe weak order). That element is lsd. There is also a unique largest element in that descent class\n(with respect to the weak order) and this element is lld (lexicographically largest in its descent\nclass).\nProof. This is proved by induction on length, i.e. by induction on m. Let \u03c3 = [a1 ,L,am ] be a\npermutation word. There are two cases to consider.\nCase A: 1 \u2209D . Suppose that a1 \u2260 1. Because a2 > a1 , a1 \u2212 1 \u2208{a3,L,am} . So switching\na1 and a1 \u2212 1 a permutation is obtained that is smaller in the weak order, which has the same\ndescent set and which has smaller first element. Repeating this one finally obtains a permutation\nthat is weak order smaller, that has the same descent set, and which has first element 1, say\n\u03c4 = [1,b2 ,L.bm ]. Now by induction [b2 ,L,bm ] can be changed by weak order decreasing\nswitchings to an lsd permutation word (on the alphabeth {2,L,m} with the same descent set\nthroughout. Then the same holds for \u03c4 , because whatever is done to [b2 ,L,bm ] never will 1\nbecome a member of the descent set of the new permutation.\nCase B. {1,L,i \u22121}\u2282 D, i \u2209D . (NB, if there is no i \u2209D , \u03c3 = [m,m \u22121,L,2,1] and there\nis nothing to prove.) So \u03c3 is of the form\n\u03c3 = [a1 > a2 >L > ai < ai+1 , ai + 2,L,am ]\nSo, if ai > 1, it follows that ai \u22121 is in {ai +2 ,L,am}. Thus ai and ai \u22121 can be interchanged\nto obtain a weak order smaller permutation with the same descent set and smaller number at\nplace i. Continuing \u03c3 can be brought in the form\n\u03c3 = [a1 > a2 >L >1 < ai+1 , ai + 2,L,am ]\nby weak order decreasing transformation and with the same descent set throughout. With a\nsubsidiary induction it can now be assumed that \u03c3 has been brought into the form\n\u03c3 = [a1 > a2 >L > ak > r > r \u22121 > L >1 < ai +1,ai +2 ,L,am ]\nThen ak \u22121 is not in {a1 ,L,ak \u22121} and also not in {1,L,r} unless ak = r +1. Thus if\nak \u2260 r +1, switching ak and ak \u22121 produces a weak order smaller permutation with the same\ndescent set and smaller element at spot k. Thus \u03c3 can be transformed into\n\u03c3 = [i,i \u22121,L,2,1, ai +1 ,Lam ]\n\n(5.3)\n\nNow by induction [ai+1 ,L,am ] can be transformed by descent set preserving and weak order\ndecreasing switchings into an lsd word \u03c4 on the alphabeth {i +1,L,m} and then\n[i,i \u2212 1,L,2,1]\u2217\u03c4\nhas the same descent set as \u03c3 and is also lsd. This proves the first two statements. The two\nstatements concerning largest elements follow because the mapping\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n37\n\n\u03c3 = [a1 ,L,am ] a [m + 1 \u2212 a1,L,m +1\u2212 am ] = \u03c4\nreverses the weak order (and also the lexicographic order) while\ndesc(\u03c4) = {1,Lm \u2212 1}\\ desc(\u03c3 ) .\n16. Global ascent and descent sets.\nAn ascent of a permutation word \u03c3 = [a1 ,L,am ] is a p \u2208{1,2,L,m \u22121} for which a p < ap + 1.\nThe set of ascents of a permutation is denoted asc(\u03c3) . An ascent p \u2208{1,2,L,m \u22121} is global iff\nai < aj for all i \u2264 p, j \u2265 p + 1\n\n(16.1)\n\nThe set of global ascents of a permutation is denoted gasc(\u03c3) . Obviously gasc(\u03c3) \u2282 asc(\u03c3) ,\nbut they can be equal. Similarly a descent p \u2208{1,2,L,m \u22121} is a global descent iff\nai > aj for all i \u2264 p, j \u2265 p + 1\n\n(16.2)\n\nAs far as I know this notion first appeared in [1]. The permutations for which the global descent\nset is equal to the descent set are called closed permutations in [1].\n16.3. Theorem. A permutation \u03c3 = [a1 ,L,am ] is lsd iff gasc(\u03c3) = asc(\u03c3) . A permutation\nis closed iff it is lld.\nProof. From the description of lsd permutations in section 13 it is immediate that lsd\npermutations have their global ascents sets equal to their ascent sets. Inversely assume that each\nascent of \u03c3 = [a1 ,L,am ] is global. Let i be the first ascent, so that the start of the permutation\nlooks like\na1 > a2 > L > ai \u22121 > ai < ai +1\nBecause the ascent is global the element 1 cannot occur to the right of ai and it follows that\nthe start of the permutation must look like\na1 > a2 > L > ai \u22121 >1 < ai +1\nIf i =1 induction finishes the proof. If i > 1, the element 2 must occur somewhere and it\ncannot be to the right of ai = 1 (because ai \u22121 \u2265 2 ). Thus the start of the permutation must look\nlike\na1 > a2 > L > 2 > 1< ai +1\nContinuing one finds that the start of the permutation must be of the form\ni > i \u22121 > L > 2 > 1 < ai +1\nand induction finishes the proof of the first statement of the theorem. The second statement\nfollows by observing that if\n\u03c3 = [a1 ,L,am ] and \u03c4 = [m + 1 \u2212 a1 ,Lm + 1 \u2212 am ]\nasc(\u03c3) = desc(\u03c4) , gasc(\u03c3) = gdesc(\u03c4) and that this transformation reverses lexicographical\norder.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n38\n\nLet MPRlld be the subgroup of MPR spanned by the lld permutations. Obviously if u \u2217 v is a\ncut of a closed permutation, i.e. one for which the descent set and global descent set are equal the\nsame is true of u and v and their standardizations. So these are also lld by theorem 16.3 and it\nfollows that MPRlld is a subcoalgebra of (MPR,\u03bc) . There results another coalgebra section of\n\u03c0\nMPR \uf8e7\uf8e7\n\u2192QSymm just as in the case of theorem 14.4.\nAnother way to obtain this one is to use theorem 14.4 in combination with theorem 4.1\nfrom [11] which says that \u03c3 = [a1 ,L,am ] a \u03c4 = [m + 1\u2212 a1 ,L,m + 1\u2212 am ] is an automorphism of\ncoalgebras of (MPR,\u03bc) .\n17. The incisive cut coalgebra.\nConsider again the free Abelian group with as basis all words over the natural numbers. This\ntime consider the following (possible) comultiplication on a basis word \u03b1 = [a1,a2 ,Lam ]\nm\n\nm\n\n\u03bc(\u03b1) = \u2211[a1,L,ai ] \u2297[ai + 1,Lam ] + \u2211\ni =0\n\n\u2211[a ,L,a\n\nj =1 b j +c j = aj\nbj , cj >0\n\n1\n\n, bj ] \u2297 [c j ,a j +1 ,L,am ]\n\nj\u22121\n\n(17.1)\n\nThe first sum consists of the normal cuts as in QSymm; in the second sum each a j that is greater\nthan 1 is split in all possible ways into two parts, the incisive cuts. It is an easy exercise to\ncheck that this is coassociative and that with the same counit as QSymm, i.e. \u03b5 takes the value 1\non the empty word and the value zero on all words of length greater than zero, this becomes a\ngraded connected coalgebra. It will be denoted ICC.\n17.2. Theorem. Consider the morphisms of Abelian groups defined by\n(MPR,\u03bc) \uf8e7\uf8e7\u2192 ICC, \u03c3 a comp(desc(\u03c3)\n\n(17.3)\n\nwhere comp(desc(\u03c3 ) is the composition associated to the descent set of the permutation \u03c3 .\nThen (17.3) is a morphism of coalgebras.\nTo start with, here is a reassuring remark that this may work out just right. The number of terms\non the right hand side of (17.1) is obviously\nm\n\nm + 1+ \u2211 a j \u2212 1 = wt(\u03b1) + 1\nj=1\n\nand the number of terms in \u03bc(\u03c3) is lg(\u03c3) + 1, while the weight of comp(desc(\u03c3 ) is lg(\u03c3) ;\nso things fit.\nProof of theorem 17.1. Let lg(\u03c3) = n (i.e. \u03c3 is a permutation on n letters), and let its descent\nset be\nD = {d1,L,dm \u2212 1} \u2282 {1,2,L,n \u22121}\nso that \u03b1 = comp(desc(\u03c3 ) has length m and weight n. Recall that\n\u03b1 = [a1,L,am ], ai = di \u2212 di \u22121 , with d0 = 0, d m = n\nNow let \u03c3 = u \u2217v be a cut with u of length r and v of length n \u2212 r . The corresponding term\nin \u03bc(\u03c3) is st(u) \u2297 st(v) . The question is now what are the compositions associated to the\ndescent sets of st(u) and st(v) which are the same as those of u and v. Let j be the unique\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n39\n\nindex such that\nd j \u2264 r < d j +1 , j \u2208{0,1,L,m \u22121}\nThere are two cases.\nIf d j = r , the descent set of u is equal to {d1 ,L, d j \u22121} \u2282{1,2,L,r \u22121}, so that its\ncomposition is [a1 ,L,a j ] while the descent set of v is\n{d j +1 \u2212 r,L,dm \u22121 \u2212 r} \u2282 {1,2,L,n \u2212 r \u22121} with associated composition [a j +1,L, am ]. So in this\ncase there results a normal cut, a term from the first sum in (17.1).\nIf d j < r , let b j +1 = r \u2212 d j , c j +1 = d j +1 \u2212 r . Note that b j +1 + c j +1 = a j +1 . In this case the\ndescent set of u is equal to {d1 ,L, d j}\u2282 {1,2,L,r \u22121} and that of v is\n{d j +1 \u2212 r,L,dm \u22121 \u2212 r} \u2282 {1,2,L,n \u2212 r \u22121}. The associated compositions are [a1 ,L,a j ,b j +1] and\n[c j +1,a j + 2 ,L,am ], and so in this case there results an incisive cut, a term from the second sum in\n(17.1). Also all terms arise. This proves the theorem.\nConsider the graded dual Abelian group ICC gr\u2217 of ICC and let the dual basis be {R\u03b1\u2032 } indexed\nby all words over the natural numbers. The coalgebra structure on ICC induces an algebra\nstructure on ICC gr\u2217 that on the basis {R\u03b1\u2032 } is (obviously) given by\nR[a\u2032 1 ,L, am ]R[\u2032b1 ,L,b n ] = R[\u2032a1 ,L, am , b1, L,bn ] + R[a\u2032 1 , L, am\u22121 ,am + b1 , b2 ,L, bn ]\n\n(17.4)\n\nThis looks familiar. Indeed, it is the multiplication of the ribbon Schur functions in NSymm, see\n(12.13). Thus ICC\u2217 is isomorphic as an algebra to NSymm, and hence ICC is isomorphic as a\ncoalgebra to QSymm. The latter isomorphism is given by \u03b1 a F\u03b1 because the R\u03b1 and the F\u03b1\nform dual bases, see section 12.\nThis sheds, I feel, some extra light on the naturalness of the projection\n\u03c0 : MPR(m, \u03bc) \uf8e7\n\uf8e7\u2192 QSymm, \u03c3 a Fcomp(desc( \u03c3))\n18. Coda.\nThe study of such 'word Hopf algebras' as defined in this paper has just started (if that).\nIn particular many of them have large families of (Hopf) algebra endomorphisms (which is\nnot, I believe, the case for MPR). These beg to be studied. Having Hopf algebras with lots of\nendomorphisms was and is one of the motivations for introducing word Hopf algebras.\nAll of the word Hopf algebras above are based (loosely speaking) on endomorphism\nrecipes for Shuffle (and LieHopf). What happens when endomorphism recipes are considered\nfor other (connected graded) Hopf algebras such as NSymm, QSymm, MPR, and even the word\nHopf algebras themselves?\nReferences.\n1.\nM. Aguiar and F. Sottile, Structure of the Malvenuto-Reutenauer Hopf algebra of\npermutations, Texas A&M University, 2002, to appear Adv. Math.\n2.\nR. J. Blattner, Crossed products and inner actions of Hopf algebras, Trans. Amer. Math.\nSoc. 298 (1986), 671 - 711.\n3.\nY. Doi and M. Takeuchi, Cleft comodule algebras for a bialgebra, Comm. Algebra, 14\n(1986), 801-818.\n4.\nG. Duchamp, F. Hivert and J.-Y. Thibon, Noncommutative symmetric functions VI: free\nquasi-symmetric functions and related algebras, Universit\u00e9 de Marne-la-Vall\u00e9e, 2001.\n\n\fHopf algebras of endomorphisms of Hopf algebras\n\n40\n\n5.\nI. M. Gelfand, D. Krob, A. Lascoux, B. Leclerc, V. S. Retakh and Jean-Yves-Thibon,\nNoncommutative symmetric functions, Adv. Math. 112 (1995), 218-348.\n6.\nM. Hazewinkel, The primitives of the Hopf algebra of noncommutative symmetric functions\nover the integers, CWI, 2001, submitted Ann. Math.\n7.\nM. Hazewinkel, Symmetric functions, noncommutative symmetric functions, and\nquasisymmetric functions, Acta Appl. Math. 75 (2003), 55-83.\n8.\nM. Hazewinkel, Symmetric functions, noncommutative symmetric functions, and\nquasisymmetric functions II, Acta Appl. Math. (2004, to appear).\n9.\nM. Hazewinkel, N. Gubareni and V. Kirichenko, Algebras, rings, and modules. Volume 2,\nKAP, to appear.\n10. C. Malvenuto and C. Reutenauer, Duality between quasi-symmetric functions and the\nSolomon descent algebra, J. of Algebra 177 (1994), 967-982.\n11. S. Poirier and C. Reutenauer, Alg\u00e8bres de Hopf de tableaux, Ann. Sci. Math. Qu\u00e9bec 19\n(1995), 79-90.\n12.\n\nC. Reutenauer, Free Lie algebras, Oxford University Press, 1993.\n\n13. C. Schensted, Longest increasing and decreasing subsequences, Canadian J. Math. 13\n(1961), 179-191.\n14. S. Shnider and S. Sternberg, Quantum groups. From coalgebras to Drinfeld algebras,\nInternational Press, 1994.\n15. L. Solomon, A Mackey formula in the group ring of a Coxeter group, J. of Algebra 41\n(1976), 255-268.\n\n\f"}