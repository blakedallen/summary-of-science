{"id": "http://arxiv.org/abs/1102.5555v3", "guidislink": true, "updated": "2012-01-22T22:53:04Z", "updated_parsed": [2012, 1, 22, 22, 53, 4, 6, 22, 0], "published": "2011-02-27T21:56:31Z", "published_parsed": [2011, 2, 27, 21, 56, 31, 6, 58, 0], "title": "The identities of additive binary arithmetics", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1102.5611%2C1102.1182%2C1102.5381%2C1102.1674%2C1102.1013%2C1102.4352%2C1102.1157%2C1102.0237%2C1102.5753%2C1102.1972%2C1102.2979%2C1102.1541%2C1102.1810%2C1102.1778%2C1102.0800%2C1102.5243%2C1102.4304%2C1102.0570%2C1102.5324%2C1102.0714%2C1102.0955%2C1102.2318%2C1102.2485%2C1102.4188%2C1102.0476%2C1102.5409%2C1102.1058%2C1102.0847%2C1102.1320%2C1102.4990%2C1102.4249%2C1102.0810%2C1102.5235%2C1102.2108%2C1102.1213%2C1102.5079%2C1102.2857%2C1102.4650%2C1102.4441%2C1102.5555%2C1102.4197%2C1102.5501%2C1102.4150%2C1102.1076%2C1102.5749%2C1102.2873%2C1102.3448%2C1102.5031%2C1102.2970%2C1102.0908%2C1102.1118%2C1102.4799%2C1102.5236%2C1102.2532%2C1102.3138%2C1102.5570%2C1102.1846%2C1102.3516%2C1102.5374%2C1102.5301%2C1102.0783%2C1102.2119%2C1102.2048%2C1102.1832%2C1102.1896%2C1102.5134%2C1102.5310%2C1102.3038%2C1102.1568%2C1102.3829%2C1102.1997%2C1102.4208%2C1102.3987%2C1102.5144%2C1102.1390%2C1102.1959%2C1102.4961%2C1102.3916%2C1102.2444%2C1102.4723%2C1102.2865%2C1102.2113%2C1102.5483%2C1102.3554%2C1102.2989%2C1102.5718%2C1102.1483%2C1102.1953%2C1102.0019%2C1102.3342%2C1102.5763%2C1102.5741%2C1102.5274%2C1102.5249%2C1102.4115%2C1102.1821%2C1102.4095%2C1102.5680%2C1102.2330%2C1102.2674%2C1102.4789&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "The identities of additive binary arithmetics"}, "summary": "Operations of arbitrary arity expressible via addition modulo 2^n and bitwise\naddition modulo 2 admit a simple description. The identities connecting these\ntwo additions have finite basis. Moreover, the universal algebra with these two\noperations is rationally equivalent to a nilpotent ring and, therefore,\ngenerates a Specht variety.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1102.5611%2C1102.1182%2C1102.5381%2C1102.1674%2C1102.1013%2C1102.4352%2C1102.1157%2C1102.0237%2C1102.5753%2C1102.1972%2C1102.2979%2C1102.1541%2C1102.1810%2C1102.1778%2C1102.0800%2C1102.5243%2C1102.4304%2C1102.0570%2C1102.5324%2C1102.0714%2C1102.0955%2C1102.2318%2C1102.2485%2C1102.4188%2C1102.0476%2C1102.5409%2C1102.1058%2C1102.0847%2C1102.1320%2C1102.4990%2C1102.4249%2C1102.0810%2C1102.5235%2C1102.2108%2C1102.1213%2C1102.5079%2C1102.2857%2C1102.4650%2C1102.4441%2C1102.5555%2C1102.4197%2C1102.5501%2C1102.4150%2C1102.1076%2C1102.5749%2C1102.2873%2C1102.3448%2C1102.5031%2C1102.2970%2C1102.0908%2C1102.1118%2C1102.4799%2C1102.5236%2C1102.2532%2C1102.3138%2C1102.5570%2C1102.1846%2C1102.3516%2C1102.5374%2C1102.5301%2C1102.0783%2C1102.2119%2C1102.2048%2C1102.1832%2C1102.1896%2C1102.5134%2C1102.5310%2C1102.3038%2C1102.1568%2C1102.3829%2C1102.1997%2C1102.4208%2C1102.3987%2C1102.5144%2C1102.1390%2C1102.1959%2C1102.4961%2C1102.3916%2C1102.2444%2C1102.4723%2C1102.2865%2C1102.2113%2C1102.5483%2C1102.3554%2C1102.2989%2C1102.5718%2C1102.1483%2C1102.1953%2C1102.0019%2C1102.3342%2C1102.5763%2C1102.5741%2C1102.5274%2C1102.5249%2C1102.4115%2C1102.1821%2C1102.4095%2C1102.5680%2C1102.2330%2C1102.2674%2C1102.4789&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Operations of arbitrary arity expressible via addition modulo 2^n and bitwise\naddition modulo 2 admit a simple description. The identities connecting these\ntwo additions have finite basis. Moreover, the universal algebra with these two\noperations is rationally equivalent to a nilpotent ring and, therefore,\ngenerates a Specht variety."}, "authors": ["Anton A. Klyachko", "Ekaterina V. Menshova"], "author_detail": {"name": "Ekaterina V. Menshova"}, "author": "Ekaterina V. Menshova", "links": [{"title": "doi", "href": "http://dx.doi.org/10.37236/2044", "rel": "related", "type": "text/html"}, {"href": "http://arxiv.org/abs/1102.5555v3", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1102.5555v3", "rel": "related", "type": "application/pdf"}], "arxiv_comment": "6 pages. A Russian version of this paper is at\n  http://mech.math.msu.su/department/algebra/staff/klyachko/papers.htm . V3:\n  the easier direction of the proof of the main theorem is corrected and some\n  minor changes are done", "arxiv_primary_category": {"term": "cs.DM", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "cs.DM", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.GR", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.RA", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "08A70", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1102.5555v3", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1102.5555v3", "journal_reference": "Electronic Journal of Combinatorics, 19:1 (2012), #P40", "doi": "10.37236/2044", "fulltext": "UDC 512.572+519.516.5+519.696+512.554\n\nMSC: 08A70, 08A40, 08B20, 17A30\n\naeae\nTHE IDENTITIES OF ADDITIVE BINARY ARITHMETICS\nAnton A. Klyachko Ekaterina V. Menshova\nFaculty of Mechanics and Mathematics, Moscow State University\nMoscow 119991, Leninskie gory, MSU\nklyachko@mech.math.msu.su\n\nekaterina.menshova@gmail.com\n\nOperations of arbitrary arity expressible via addition modulo 2n and bitwise addition modulo 2 admit a simple\ndescription. The identities connecting these two additions have a finite basis. Moreover, the universal algebra Z/2n Z\n\narXiv:1102.5555v3 [cs.DM] 22 Jan 2012\n\nwith these two operations is rationally equivalent to a nilpotent ring and, therefore, generates a Specht variety.\n\n0. Introduction\nOn the set of integers {0, 1, . . . , q \u2212 1} = Zq , where q is a power of two, we consider two natural operation: addition\nmodulo q and bitwise addition modulo 2. In computer literature, these operations are usually denoted by ADD and XOR;\nthey are hardware implemented in all modern computers, as far as we know.*)\nWe consider two natural questions.\n1. What function Zkq \u2192 Zq can be expressed via these two operations?\n2. What identities connect these two operations?\nTheorem 1 gives a complete answer to the first question; we obtain a simple fast algorithm deciding whether or not an\narbitrary given function can be expressed via ADD and XOR. We also calculate the total number of k-argument functions\nexpressible via these two operation (Corollary 1).\nWe do not give an explicit answer to the second question, but we prove that, for each q, all identities connecting\nADD and XOR follow from a finite number of such identities (Theorem 2) and there exists an algorithm writing down\nsuch a finite basis of identities for any given q (Corollary 2).\nThe problem of existence of finite basis of identities was extensively studied for groups, semigroups, rings, linear\nalgebras (see, for example, [BaOl88], [Neum69], [Belo99], [VaZe89], [Grish99], [Zaits78], [Keme87], [Kras90], [Laty73],\n[Lvov73], [Olsh89], [Shch99], [GuKr03], [Kras09], [Speht52] and literature cited therein), but the \"applied\" algebra\nwith operations ADD and XOR has never been studied from this point of view, as far as we known.\nIn algebraic term, Theorem 1 is an explicit description of the free algebras of the variety, generated by the\nalgebra Zq with two binary operations ADD and XOR; Theorem 2 says that this variety is finitely based (i.e. it has a\nfinite basis of identities). See, for example, [BaOl88] or [GA91] for necessary information about varieties of universal\nalgebras.\nMost of Notation we use is standard. Note only that the addition modulo q (i.e. ADD) is denoted by +; the bitwise\naddition modulo 2 (i.e. XOR) is denote by \u2295. The symbol ai denotes the ith bit of a number a \u2208 Zq ; the bits with\nnegative numbers are assumed to be zero. The set {0, 1, . . . , q \u2212 1} = Zq when considered as a universal algebra\nwith operations + and \u2295 is denoted by the symbol Aq . The multiplication by integer numbers in Aq is always\nconsidered as multiplication modulo q. These multiplications are obviously expressed in terms of addition +, for\nexample, 3x = x + x + x and \u2212 3x = (\u22123)x = \u2212(3x) = x + x + . . . + x .\n{z\n}\n|\n3(q\u22121) terms\n\nThe authors thank an anonymous referee for a lot of useful remarks and pointing out a flaw in the original proof\nof the main theorem (the easier direction). We also thank A. E. Pankratiev for useful comments.\n1. Definitions and results\nA function f : Akq \u2192 Aq is called algebraic if it can be expressed via operations + and \u2295. More precisely, the set Fk,q\nof algebraic k-argument functions is the inclusion-minimal set of functions, satisfying the following conditions:\n1) the functions f (x, y, . . .) = x, f (x, y, . . .) = y, . . . belong to Fk,q ;\n2) if functions f and g belong to Fk,q , then the functions f + g and f \u2295 g belong to Fk,q .\nThe set Fk,q of all algebraic k argument functions forms a universal algebra with respect to operations + and \u2295; this\nis the free algebra of rank k of the variety generated by the algebra Aq .\n\nTheorem 1. A function f : Akq \u2192 Aq is algebraic if and only if, for any i, the ith bit of its value is expressed via bits\nof the arguments by a formula of the form\n(f (x, y, . . .))i = g(xi , yi , . . . ; xi\u22121 , yi\u22121 , . . . ; xi\u22122 , yi\u22122 , . . . ; . . .)\n\n(\u2217)\n\nThis work was supported by the Russian Foundation for Basic Research, project no. 11-01-00945.\n*) Usually, the command ADD is simply called addition, because it is used mostly for obtaining the usual sum of\npositive integers; however, actually the processor performs the addition modulo a large number q (for example, q = 232\nfor 32-bit processors etc.).\n1\n\n\f(the bits with negative numbers are assumed to be zero), where g is an independent of i Zhegalkin polynomial (over Z2 )\nwithout free term, whose weight does not exceed 1.\nThe weight or the reduced degree of a polynomial in variables xi , yi , . . . , xi\u22121 , yi\u22121 , . . . , xi\u22122 , yi\u22122 , . . . is the maximal weight of its monomials; the weight of a monomial is the sum of weights of its variables; the weight of variables xi\u2212l , yi\u2212l , . . . is the number 2\u2212l . (Here, i is a formal parameter.)\nExample 1. If q = 8 and k = 1, then there are exactly four Zhegalkin monomials whose weights does not exceed\none: xi (weight 1), xi\u22121 (weight 12 ), xi\u22122 (weight 41 ), and xi\u22121 xi\u22122 (weight 34 ). (Here, we use that no variable occurs\nin a Zhegalkin monomial more than once.) Therefore, there are 24 polynomials of weight not exceeding one. Thus, the\nalgebra F1,8 consists of 16 elements. For example, the algebraic function corresponding to the Zhegalkin polynomial\nxi \u2295 xi\u22121 xi\u22122 has the form\nf (x) = f (x0 , x1 , x2 ) = (x0 \u2295 x\u22121 x\u22122 , x1 \u2295 x0 x\u22121 , x2 \u2295 x1 x0 ) = (x0 , x1 , x2 \u2295 x1 x0 )\n(because the bits with negative numbers are zero). In other words,\nf (0) = 0,\n\nf (1) = 1,\n\nf (2) = 2,\n\nf (3) = 7,\n\nf (4) = 4,\n\nf (5) = 5,\n\nf (6) = 6,\n\nf (7) = 3.\n\nTheorem 1 makes it possible to construct the following simple\nALGORITHM determining whether or not a given function f : Zk2\u03ba \u2192 Z2\u03ba is algebraic (i.e. can be expressed via ADD\nand XOR).\n1. Write the most significant bit (f (x, y, . . .))\u03ba\u22121 of the value of the function f as a Zhegalkin polynomial\ng\u03ba\u22121 (x0 , y0 , . . . , x1 , y1 , . . .) in bits of arguments and verify that the weight of this polynomial (for i = \u03ba \u2212 1) does\nnot exceed one and the free term is zero. If the weight is higher or the free term is nonzero, then exit the program\nwith the answer NO.\n2. Make the following substitutions in the polynomial g\u03ba\u22121 :\nx0 \u2192 0, x1 \u2192 x0 , x2 \u2192 x1 , . . . , x\u03ba\u22121 \u2192 x\u03ba\u22122 , y0 \u2192 0, y1 \u2192 y0 , y2 \u2192 y1 , . . . , y\u03ba\u22121 \u2192 y\u03ba\u22122 , . . .\n\n(\u2217\u2217)\n\nand verify that the obtained polynomial g\u03ba\u22122 coincides with the polynomial giving (\u03ba \u22122)-th bit of the function f .\nIf not, then exit the program with the answer NO; if yes, then continue.\n...\n\n...\n\n...\n\n\u03ba \u2212 1. Make substitutions (\u2217\u2217) in the polynomial g2 and verify that the obtained polynomial g1 coincides with the\npolynomial giving the 1st bit of the function f . If no, then exit the program with the answer NO; if yes, then\ncontinue.\n\u03ba. Make substitution (\u2217\u2217) in the polynomial g1 and verify that the obtained polynomial g0 coincides with the\npolynomial giving the least significant bit of the function f . If no, then exit the program with the answer NO; if\nyes, then exit the program with the answer YES.\nIt is clear that this algorithm can be easily made uniform with respect to \u03ba.\nFor example, the function of multiplication of two numbers modulo q cannot be expressed via ADD and XOR (the\nalgorithm stops at the first step because of the condition on the weight); this is not surprising, of course. However,\nthe one-argument function x 7\u2192 xy is algebraic for each given y \u2208 Zq , as was already mentioned.\nThe proof of Theorem 1 is constructive and gives some algorithm making it possible to express a given function f\nvia ADD and XOR (if it is expressible), but this algorithm is much more complicated.\nExample 1 can be easily generalised. Calculating monomials for any q and k, we obtain the following assertion.\nCorollary 1. The free algebra Fk,q comprises\n2 k! ( 2 +1)( 2 +2)...( 2 +k)\u22121\n1\n\nq\n\nq\n\nq\n\n(1)\n\nelements.\nProof. In the case where k = 1, there are precisely 2q monomials of weight at most one. Indeed, by virtue of the\nuniqueness of binary decomposition of an integer, there exists precisely one monomial of each weight s * 2q , where\ns \u2208 {1, 2, . . . , 2q }. Namely, this is the monomial\nxi\u2212l1 xi\u2212l2 . . . xi\u2212lp ,\n\nwhere\n\ns = 2\u03ba\u22121\u2212l1 + 2\u03ba\u22121\u2212l2 + . . . + 2\u03ba\u22121\u2212lp ,\n\nand 2\u03ba = q.\n\nThis implies that, for any integer k, the number of monomials of weight at most one coincides with the number of\nnonzero tuples of nonnegative integers (n1 , . . . , nk ) with sum at most q2 (here, ni * 2q is the weight with respect to the\nith variable). It is well known that the number of such tuples is\n( q2 + 1)( 2q + 2) . . . ( q2 + k)\n\u2212 1.\nk!\nTherefore, the total number of polynomials of weight at most one can be found by formula (1).\nThe following assertion is a reformulation of Theorem 1.\n2\n\n\fTheorem 1\u2032 . A function f : Akq \u2192 Aq is algebraic if and only if it can be written in the form\nf (x, y, . . .) =\n\nM\ni\n\n\u0001\n(2ki,1 x) \u2299 (2ki,2 x) \u2299 . . . \u2299 (2li,1 y) \u2299 (2li,2 y) \u2299 . . . ,\n\nwhere the inequality 2\u2212ki,1 + 2\u2212ki,2 + . . . + 2\u2212li,1 + 2\u2212li,2 + . . . 6 1 holds for each i.\nHenceforth, the symbol \u2299 denotes the bitwise multiplication modulo 2 (conjunction).\nAs for identities, we note first that, with respect to each of the operations + and \u2295, the algebra Aq is an abelian\ngroup of exponent q and 2, respectively. Therefore, all identities involving only one of these two operations follow from\nthe identities\n(x + y) + z = x + (y + z), x + qy = x, x + y = y + x,\n\n(x \u2295 y) \u2295 z = x \u2295 (y \u2295 z), x \u2295 (y \u2295 y) = x, x \u2295 y = y \u2295 x.\n\nIdentities involving the both operations are more complicated. The simplest example of such identity is qx = x\u2295x which\nexpresses the coincidence of the zero elements of these two group structures. A less trivial example is 2q (x+y) = q2 (x\u2295y)\n(this identity expresses the coincidence of the additions + and \u2295 at the least significant bit).\nTheorem 2. For any integer power of two q, the algebra Aq has a finite basis of identities. Moreover, the algebra Aq\ngenerates a Specht variety.*)\nThe finiteness of an algebra per se does not implies the finiteness of a basis of its identities. A finite basis of\nidentities exists for each finite group [OaPo64] (see also [Neum69]), each finite associative or Lie ring ([Lvov73],\n[Kruse73], [BaOl75]), but not for each finite semigroup and not for each finite ring (see [BaOl88]).\nTo prove Theorem 2, we use well-known nilpotency arguments rather than the finiteness. It is known that a\nfinite basis of identities exists for any nilpotent ring (i.e. a ring in which all sufficiently long products vanish) and any\nnilpotent group (i.e. a group in which all sufficiently long multiple commutators equal to one) (see [Neum69]). The\nalgebra Aq is neither a group nor a ring. However, it turns out that this algebra is rationally equivalent (in the sense of\nMal'tsev) to a nilpotent ring, i.e. the algebra Aq can be endowed with a structure of nilpotent ring in such a way that\nthe addition and multiplication of the ring can be expressed via operations + and \u2295 and vice versa: the operation +\nand \u2295 can be expressed via the addition and multiplication of the ring.\nTheorem 3. The algebra Aq is rationally equivalent to a nilpotent commutative nonassociative ring (Zq , \u2295, \u25e6). The\naddition \u2295 is the usual bitwise addition modulo two, the multiplication \u25e6 is defined by the formula x \u25e6 y = 2(x \u2299 y),\nwhere \u2299 is the bitwise multiplication modulo two (conjunction), and the multiplication by two is the multiplication\nby two modulo q, i.e. the shift of digits.\nIn the following section, we prove Theorem 1. In section 3, we prove Theorem 3, which immediately implies\nTheorem 2, because any nilpotent ring has a finite basis of identities (and generates a Specht variety).\n2. Proof of Theorem 1\ndef\nThe element [x, y] = x \u2295 y \u2295 (x + y) is called the commutator of the elements x, y \u2208 Aq . The commutator is the\ndifference between the sum \u2295 and the sum + of two elements; the ith bit of the commutator [x, y] is the carry to the\nith digit during execution of the standard addition algorithm for x + y.\nThe following lemma is well known and widely used in electronic adders.\nProposition 1. The bits of the commutator satisfies the equality\n[x, y]i = xi\u22121 yi\u22121 \u2295 [x, y]i\u22121 (xi\u22121 \u2295 yi\u22121 ).\n\n(2)\n\nProof. The carry ci = [x, y]i to the ith bit is formed as follows:\n\u001a\n1, if among three bits xi\u22121 , yi\u22121 , ci\u22121 the majority (i.e. two or three) is ones;\nci =\n0, if among three bits xi\u22121 , yi\u22121 , ci\u22121 the majority is zeros.\nThe Zhegalkin polynomial for this Boolean function is\nci = xi\u22121 yi\u22121 \u2295 yi\u22121 ci\u22121 \u2295 ci\u22121 xi\u22121 = xi\u22121 yi\u22121 \u2295 ci\u22121 (xi\u22121 \u2295 yi\u22121 ),\nas required.\n*) This means that any algebra of signature (+, \u2295) satisfying all identities of the algebra Aq has a finite basis of\nidentities.\n3\n\n\fFormula (2) can be rewritten in the form [x, y] = 2(x \u2299 y \u2295 [x, y] \u2299 (x \u2295 y)) or (applying distributivity of the\nmultiplication by two with respect to \u2299 and \u2295 and distributivity of \u2299 with respect to \u2295) in the form\n(2x) \u2299 (2y) = [x, y] \u2295 (2[x, y]) \u2299 (2x) \u2295 (2[x, y]) \u2299 (2y).\n\n(2\u2032 )\n\nUsing formula (2), it is easy to show that the ith bit of the sum x + y = x \u2295 y \u2295 [x, y] can be evaluated as\n(x + y)i = xi \u2295 yi \u2295 xi\u22121 yi\u22121 \u2295 xi\u22121 xi\u22122 yi\u22122 \u2295 yi\u22121 xi\u22122 yi\u22122 \u2295 . . . = the sum of all monomials of weight 1. (2\u2032\u2032 )\nNow, we proceed to prove Theorem 1. Let M be the set of all functions Akq \u2192 Aq of the form (\u2217). We have to\nprove two assertions.\n1. Any function from Fk,q belongs to M ;\n2. Any function from M belongs to Fk,q .\nThe first assertion is easy to verify. The functions f (x, y, . . .) = x, f (x, y, . . .) = y, . . . belong to M , since the corresponding Zhegalkin polynomials xi , yi , . . . have weight one. Suppose that some functions f (x, y, . . .) and g(x, y, . . .)\nbelong to M , i.e.\n(f (x, y, . . .))i = F (xi , yi , . . . ; xi\u22121 , yi\u22121 , . . . ; . . .),\n\n(g(x, y, . . .))i = G(xi , yi , . . . ; xi\u22121 , yi\u22121 , . . . ; . . .),\n\nwhere F and G are Zhegalkin polynomials of weight at most one and without free term. Then\n(f (x, y, . . .) \u2295 g(x, y, . . .))i = F (xi , yi , . . . ; xi\u22121 , yi\u22121 , . . . ; . . .) \u2295 G(xi , yi , . . . ; xi\u22121 , yi\u22121 , . . . ; . . .)\nand the weight of this Zhegalkin polynomial is at most one, i.e. f \u2295 g \u2208 M . According to (2\u2032\u2032 ), The ith bit of the\nfunction f + g is\n(f + g)i = F \u2295 G \u2295 F \u2032 G\u2032 \u2295 F \u2032 F \u2032\u2032 G\u2032\u2032 \u2295 F \u2032\u2032 G\u2032 G\u2032\u2032 \u2295 . . . ,\nwhere the polynomial H \u2032 is obtained from H = H(xi , yi , . . . ; xi\u22121 , yi\u22121 , . . . ; . . .) by the shift of all bits:\nH \u2032 (xi , yi , . . . ; xi\u22121 , yi\u22121 , . . . ; . . .) = H(xi\u22121 , yi\u22121 , . . . ; xi\u22122 , yi\u22122 , . . . ; . . .).\nThe weight of H \u2032 is at most half of the weight of H. Thus, the weight of\nF \u2295 G \u2295 F \u2032 G\u2032 \u2295 F \u2032 F \u2032\u2032 G\u2032\u2032 \u2295 F \u2032\u2032 G\u2032 G\u2032\u2032 \u2295 . . .\nis at most one and f + g \u2208 M .\nThe remaining part of this section is the proof of the second assertion.\nA multiple commutators of complexity n is a formal expression in variables x, y, . . . defined by induction as the\nfollows:\neach variable is a multiple commutator of complexity 1;\nan expression [u, v] is a multiple commutator of complexity n if the expressions u and v are multiple commutators\nand the sum of their complexities is n.\nAn obvious induction shows that a multiple commutator vanishes if at least one of the involving variables vanishes.\nThe depth d(w) of a multiple commutator w is also defined by induction:\nd(x) = 0 if x is a variable;\nd([u, v]) = max(d(u), d(v)) + 1.\nFor instance, the multiple commutator [[x, y], [[z, t], x]] has complexity 5 and depth 3.\nLemma 1. The ith bit of a multiple commutator w vanishes if i < d(w).\nProof. We use induction on depth. For depth 0, the assertion is true. Suppose that d(u) lower bits of a multiple\ncommutator u and d(v) lower bits of a multiple commutator v vanish. Then formula (2) implies that max(d(u), d(v))+1\nlower bits of [u, v] vanish, as required.\nLemma 2. The depth of a multiple commutator of complexity at least 2n is at least n.\nProof. We use the induction on n. A multiple commutator of complexity 1 (i.e. a variable) has depth 0. A multiple\ncommutator w of complexity > 2n , where n > 1, has the form w = [u, v]. At least one from the multiple commutators\nu or v has complexity > 2n\u22121 (otherwise, the complexity of w would be less than 2n ). By the induction hypothesis,\nthe depth of this multiple commutator is at least n \u2212 1. This implies that the depth of w is at least n by the definition\nof depth.\n4\n\n\fLemma 3. In Aq , all multiple commutators of complexity > q vanish.\nProof. By Lemma 2, the depth of such a multiple commutator is at least log2 q and, therefore, all bits of this multiple\ncommutator vanish by Lemma 1.\nProof of theorem 1\u2032 . It is sufficient prove that any expression\n(2k1 x) \u2299 (2k2 x) \u2299 . . . \u2299 (2l1 y) \u2299 (2l2 y) \u2299 . . . ,\n\nwhere\n\n2\u2212ki,1 + 2\u2212ki,2 + . . . + 2\u2212li,1 + 2\u2212li,2 + . . . 6 1,\n\nis expressible via \u2295 and +. Let us prove a more strong assertion: any expression of the form\nf = (2k u) \u2299 (2l v) \u2299 (2m w) \u2299 . . . ,\n\nwhere 2\u2212k + 2\u2212l + 2\u2212m + . . . 6 1 and u, v, w, . . . are multiple commutators\n\n(3)\n\nis expressible via \u2295 and + (and variables).\nSuppose the contrary. Then there exists an expression of the form (3) inexpressible via \u2295 and + and such that\nthe inequality becomes the equality:\n2\u2212k + 2\u2212l + 2\u2212m + . . . = 1,\n(4)\nIndeed, 1 \u2212 (2\u2212k + 2\u2212l + 2\u2212m + . . .) is a fraction of the form 2sk , where k is the maximum of numbers k, l, m, . . ., and,\nhence, the expression\nf \u2299 (2k u) \u2299 (2k u) \u2299 . . . \u2299 (2k u)\n{z\n}\n|\ns f actors\n\ngives the same function as f , but the inequality transforms into the equality. Note that 2x = [x, x] and, hence, 2k u is\na multiple commutator provided u is a multiple commutator.\nLet us choose among all nonalgebraic (not expressible via \u2295 and +) expressions (3) satisfying the equality (4),\nall expressions with minimal number of factors. Among all such minimal-length expressions, we choose an expression\nwith the maximal sum of complexities of commutators u, v, w, . . .. Such an expression f exists by Lemma 3.\nThe number of factors in this expression is at least two, because a multiple commutator can be expressed via \u2295\nand + by definition. Equality (4) implies that the two largest among exponents k, l, m, . . . are equal. Let us assume\nthat k = l.\nUsing identity (2\u2032 ), we obtain\n(2k u) \u2299 (2k v) = (2 * 2k\u22121 u) \u2299 (2 * 2k\u22121 v) =\n= [2k\u22121 u, 2k\u22121 v] \u2295 (2[2k\u22121 u, 2k\u22121 v]) \u2299 (2 \u2299 2k\u22121 u) \u2295 (2[2k\u22121 u, 2k\u22121 v]) \u2299 (2 * 2k\u22121 v) =\n= 2k\u22121 [u, v] \u2295 (2k [u, v]) * (2k u) \u2295 (2k [u, v]) \u2299 (2k v)\nTherefore, expression (3) is the sum of three terms:\n\u0010\n\u0011 \u0010\n\u0011 \u0010\n\u0011\nf = (2k\u22121 t) \u2299 (2m w) \u2299 . . . \u2295 (2k t) \u2299 (2k u) \u2299 (2m w) \u2299 . . . \u2295 (2k t) \u2299 (2k v) \u2299 (2m w) \u2299 . . . ,\n\nwhere t = [u, v].\n\nAll three terms satisfy equality (4).\nThe first term is algebraic, because its length (the number of factors) is less than the length of the initial\nexpression f , whose length is minimal among all nonalgebraic expressions (3) satisfying equality (4).\nThe second and third terms have the same length as f , but their total complexity is higher (because the complexity\nof t = [u, v] is one higher than the sum of complexities of u and v). Therefore, they are also algebraic by the choice\nof f . Thus, the expression f is algebraic as the sum of three algebraic terms. This contradiction completes the proof\nof Theorem 1\u2032 (and of Theorem 1).\n3. Proof of Theorems 3 and 2\nTo prove Theorem 3, note that the algebra Zq with the operations \u2295 and \u25e6 is, indeed, a nilpotent commutative\nnonassociative ring. The commutativity of the multiplication \u25e6 is obvious; the distributivity of the multiplication with\nrespect to the addition \u2295 is obvious too. The nilpotency also holds: ((. . . (x \u25e6 y) \u25e6 z) \u25e6 . . . = 0 if the number of factors\nis at least log2 q. Note that the nilpotency index is generally large than log2 q, but it is at most q, i.e. any product\nof q elements (with any arrangements of brackets) vanishes. This can be shown similarly to Lemma 2 (the depth is at\nleast logarithm of the length for any arrangements of brackets).\nThe multiplication x \u25e6 y = 2(x \u2299 y) = (2x) \u2299 (2y) is expressible via + and \u2295 by Theorem 1\u2032 . It remains to prove\nthat the addition + is expressible via the ring operations \u2295 and \u25e6.\nNote that + can be expressed via commutator and \u2295 (by the definition of the commutator):\nx + y = x \u2295 y \u2295 [x, y]. Therefore, it is sufficient to express commutator via \u2295 and \u25e6.\n5\n\n\fLemma 4. For any positive integer k, the commutator [x, y] can be written in the form\n[x, y] = fk (x, y) \u2295 [x, y] \u25e6 (x \u2295 y) \u25e6 (x \u2295 y) \u25e6 . . . \u25e6 (x \u2295 y),\n|\n{z\n}\n\n(5)\n\nk+1 f actors\n\nwhere fk is a polynomial (in the sense of multiplication \u25e6 and addition \u2295). Henceforth, we assume that, in multiple\ndef\n\nproducts, all brackets are shifted to the left, for example, a \u25e6 b \u25e6 c \u25e6 d = ((a \u25e6 b) \u25e6 c) \u25e6 d.\nProof. If k = 1, then the required decomposition follows from the identity (2\u2032 ):\n[x, y] = x \u25e6 y \u2295 [x, y] \u25e6 (x \u2295 y).\n\n(6)\n\nFor larger k, we use induction: having identity (5) for some k, we substitute identity (6) in it the right-hand side of (5)\nand obtain\n[x, y] = fk (x, y) \u2295 (x \u25e6 y \u2295 [x, y] \u25e6 (x \u2295 y)) \u25e6 (x \u2295 y) \u25e6 (x \u2295 y) \u25e6 . . . \u25e6 (x \u2295 y) =\n= fk (x, y) \u2295 x \u25e6 y \u25e6 (x \u2295 y) \u25e6 (x \u2295 y) \u25e6 . . . \u25e6 (x \u2295 y) \u2295 [x, y] \u25e6 (x \u2295 y) \u25e6 (x \u2295 y) \u25e6 (x \u2295 y) \u25e6 . . . \u25e6 (x \u2295 y) ,\n{z\n} |\n{z\n}\n|\nk+2 f actors\n\nfk+1 (x,y)\n\nas required.\n\nApplying Lemma 4 for k = log2 q and using the nilpotency of the ring, we obtain an expression of the commutator\nvia \u2295 and \u25e6, namely, [x, y] = flog2 q (x, y) that completes the proof of Theorem 3.\nTheorem 2 follows immediately from Theorem 3 and the following well-known fact.\nTheorem (see [BaOl88]). Each nilpotent ring has a finite basis of identities.\nRemark. The proof of the existence of a finite basis for the identities of nilpotent rings shows that all identities of\nsuch a ring follows from the identities involving at most n variables, where n is the nilpotency index, i.e. a number\nsuch that all products of n elements (with any arrangements of brackets) vanish. This implies the following fact.\nCorollary 2. All identities of the algebra Aq follows from the identities involving at most q elements. There exists\nan algorithm that, for any given q = 2\u03ba , write out a finite basis of identities of Aq .\nThis basis consists of the addition tables (for + and \u2295) of the free algebra Fq,q .\nREFERENCES\n[GA91] Artamonov V. A., Salii V. N., Skornyakov L. A., Shevrin L. N., Shulgeifer E. G. General algebra, V.2,\nMoscow, Nauka. 1991.\n[BaOl75] Bakhturin Yu. A., Olshanskii A. Yu. Identical relations in finite Lie rings, Mat. Sb., 96(138):4 (1975), 543-559.\nEnglish translation in Mathematics of the USSR-Sbornik, 1975, 25:4, 507-523\n[BaOl88] Bakhturin Yu. A., Olshanskii A. Yu. Identities. Algebra-2, Itogi Nauki i Tekhn. Ser. Sovr. probl. Mat.\nFund. Napr, 18, VINITI, Moscow, 1988, 117-240. English translation: Identities, Algebra, II. Encyclopaedia\nof Mathematical Sciences, Current Problems in Mathematics, Fundamental Directions, vol. 18, SpringerVerlag, Berlin, 1991, pp. 117-240.\n[Belo99] Belov A. Ya. On non-Specht varieties, Fund. i Prikl. Mat., 5:1 (1999), 47-66.\n[VaZe89] Vais A. Ya., Zelmanov E. I. Kemer's theorem for finitely generated Jordan algebras, Izv. Vuzov. Ser. Mat.,\n1989, 6, 63-72. English translation in Soviet Math (Izv. VUZ) 33:6 38\u201347.\n[Grish99] Grishin A. V. Examples of T-spaces and T-ideals over a field of characteristic two without the finite basis\nproperty, Fund. i Prikl. Mat., 5:1 (1999), 101-118.\n[Zaits78] Zaitsev M. V. On finitely based varieties of Lie algebras, Mat. Sb., 106(148) (1978), 499-506. English translation in Mathematics of the USSR-Sbornik, 1979, 35:2, 165-171\n[Keme87] Kemer A. R. Finite basis property of identities of associative algebras, Algebra i Logika, 26:5 (1987), 597-641.\nEnglish translation in Algebra and Logic, 26:5 (1987), 362-397,\n[Kras90] Krasilnikov A. N. The identities of a group with nilpotent commutator subgroup are finitely based, Izv. Acad.\nNauk SSSR. Ser. Mat., 54:6 (1990), 1181-1195. English translation in Mathematics of the USSR-Izvestiya,\n1991, 37:3, 539-553\n[Laty73] Latyshev V. N. On some varieties of associative algebras, Izv. Acad, Nauk SSSR. Ser. Mat., 37:5 (1973),\n1010-1037. English translation in Mathematics of the USSR-Izvestiya, 1973, 7:5, 1011-1038\n[Lvov73] Lvov I. V. On varieties of associative rings, I, Algebra i Logika, 12 (1973), 269-297. English translation in\nAlgebra and Logic 12, no. 3 (1973), 150-167\n[Neum69] Neumann H. Varieties of groups. Springer-Verlag, 1967.\n[Olsh89] Olshanskii A. Yu. Geometry of defining relations in groups. Moscow, Nauka, 1989. English translation:\nGeometry of defining relations in groups. Mathematics and its Applications (Soviet Series), vol. 70, Kluwer\nAcademic Publishers Group, Dordrecht, 1991\n[Shch99] Shchigolev V. V. Examples of infinitely based T-ideals, Fund. i Prikl. Mat., 5:1 (1999), 307-312.\n[GuKr03] Gupta C.K., Krasilnikov A. N. The finite basis question for varieties of groups \u2013 Some recent results, Illinois\nJournal of Mathematics, 47:1-2 (2003), 273.\n[Kras09] Krasilnikov A. N. A non-finitely based variety of groups which is finitely based as a torsion-free variety.\nJournal of Group Theory 2009 12:5 , 735-743.\n[Kruse73] Kruse R. L. Identities satisfied by a finite ring, J. Algebra, 26 (1973), 298-318.\n[OaPo64] Oates S, Powell M. B. Identical relations in finite groups, J. Algebra 1 (1964),. 11-39.\n[Speht52] Specht W. Gesetze in Ringen. I, Math. Z., 52 (1950), 557-589.\n6\n\n\f"}