{"id": "http://arxiv.org/abs/1009.5109v2", "guidislink": true, "updated": "2010-10-06T19:59:11Z", "updated_parsed": [2010, 10, 6, 19, 59, 11, 2, 279, 0], "published": "2010-09-26T17:13:45Z", "published_parsed": [2010, 9, 26, 17, 13, 45, 6, 269, 0], "title": "Derived Resolution Property for Stacks, Euler Classes and Applications", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1009.1580%2C1009.2668%2C1009.2933%2C1009.0141%2C1009.3962%2C1009.4123%2C1009.4383%2C1009.1332%2C1009.2040%2C1009.5756%2C1009.3227%2C1009.1627%2C1009.2962%2C1009.3492%2C1009.3904%2C1009.0629%2C1009.3744%2C1009.5830%2C1009.2480%2C1009.1117%2C1009.4428%2C1009.4938%2C1009.2748%2C1009.2680%2C1009.1827%2C1009.6081%2C1009.0393%2C1009.5481%2C1009.1328%2C1009.2301%2C1009.0346%2C1009.0998%2C1009.3985%2C1009.5492%2C1009.5155%2C1009.5508%2C1009.1558%2C1009.2600%2C1009.6078%2C1009.1705%2C1009.0650%2C1009.3715%2C1009.1120%2C1009.1639%2C1009.4948%2C1009.1420%2C1009.4791%2C1009.1828%2C1009.0957%2C1009.1124%2C1009.4237%2C1009.3507%2C1009.5416%2C1009.5411%2C1009.2849%2C1009.4062%2C1009.4394%2C1009.5109%2C1009.0642%2C1009.2437%2C1009.1093%2C1009.0181%2C1009.3694%2C1009.1835%2C1009.6122%2C1009.2853%2C1009.0103%2C1009.4627%2C1009.2806%2C1009.5813%2C1009.3202%2C1009.4228%2C1009.3216%2C1009.1762%2C1009.4208%2C1009.3682%2C1009.6052%2C1009.4680%2C1009.5096%2C1009.4951%2C1009.0400%2C1009.1659%2C1009.3377%2C1009.4131%2C1009.0187%2C1009.5839%2C1009.0926%2C1009.0007%2C1009.0360%2C1009.2200%2C1009.0105%2C1009.6202%2C1009.6030%2C1009.5222%2C1009.5438%2C1009.4474%2C1009.5982%2C1009.3189%2C1009.4831%2C1009.4959%2C1009.3291&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Derived Resolution Property for Stacks, Euler Classes and Applications"}, "summary": "By resolving an arbitrary perfect derived object over a Deligne-Mumford\nstack, we define its Euler class. We then apply it to define the Euler numbers\nfor a smooth Calabi-Yau threefold in the 4-dimensional projective space. These\nnumbers are conjectured to be the reduced Gromov-Witten invariants and to\ndetermine the usual Gromov-Witten numbers of the smooth quintic as speculated\nby J. Li and A. Zinger.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1009.1580%2C1009.2668%2C1009.2933%2C1009.0141%2C1009.3962%2C1009.4123%2C1009.4383%2C1009.1332%2C1009.2040%2C1009.5756%2C1009.3227%2C1009.1627%2C1009.2962%2C1009.3492%2C1009.3904%2C1009.0629%2C1009.3744%2C1009.5830%2C1009.2480%2C1009.1117%2C1009.4428%2C1009.4938%2C1009.2748%2C1009.2680%2C1009.1827%2C1009.6081%2C1009.0393%2C1009.5481%2C1009.1328%2C1009.2301%2C1009.0346%2C1009.0998%2C1009.3985%2C1009.5492%2C1009.5155%2C1009.5508%2C1009.1558%2C1009.2600%2C1009.6078%2C1009.1705%2C1009.0650%2C1009.3715%2C1009.1120%2C1009.1639%2C1009.4948%2C1009.1420%2C1009.4791%2C1009.1828%2C1009.0957%2C1009.1124%2C1009.4237%2C1009.3507%2C1009.5416%2C1009.5411%2C1009.2849%2C1009.4062%2C1009.4394%2C1009.5109%2C1009.0642%2C1009.2437%2C1009.1093%2C1009.0181%2C1009.3694%2C1009.1835%2C1009.6122%2C1009.2853%2C1009.0103%2C1009.4627%2C1009.2806%2C1009.5813%2C1009.3202%2C1009.4228%2C1009.3216%2C1009.1762%2C1009.4208%2C1009.3682%2C1009.6052%2C1009.4680%2C1009.5096%2C1009.4951%2C1009.0400%2C1009.1659%2C1009.3377%2C1009.4131%2C1009.0187%2C1009.5839%2C1009.0926%2C1009.0007%2C1009.0360%2C1009.2200%2C1009.0105%2C1009.6202%2C1009.6030%2C1009.5222%2C1009.5438%2C1009.4474%2C1009.5982%2C1009.3189%2C1009.4831%2C1009.4959%2C1009.3291&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "By resolving an arbitrary perfect derived object over a Deligne-Mumford\nstack, we define its Euler class. We then apply it to define the Euler numbers\nfor a smooth Calabi-Yau threefold in the 4-dimensional projective space. These\nnumbers are conjectured to be the reduced Gromov-Witten invariants and to\ndetermine the usual Gromov-Witten numbers of the smooth quintic as speculated\nby J. Li and A. Zinger."}, "authors": ["Yi Hu", "Jun Li"], "author_detail": {"name": "Jun Li"}, "author": "Jun Li", "arxiv_comment": "16 pages", "links": [{"href": "http://arxiv.org/abs/1009.5109v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1009.5109v2", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1009.5109v2", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1009.5109v2", "journal_reference": null, "doi": null, "fulltext": "arXiv:1009.5109v2 [math.AG] 6 Oct 2010\n\nDERIVED RESOLUTION PROPERTY FOR STACKS,\nEULER CLASSES AND APPLICATIONS\nYI HU AND JUN LI\n\nAbstract. By resolving any perfect derived object over a DeligneMumford stack, we define its Euler class. We then apply it to define\nthe Euler numbers for a smooth Calabi-Yau threefold in P4 . These\nnumbers are conjectured to be the reduced Gromov-Witten invariants and to determine the usual Gromov-Witten numbers of the\nsmooth quintic as speculated by J. Li and A. Zinger.\n\n1. Introduction\nLet Mg (P, d) be the DM stack of degree d genus-g stable maps to a\nprojective space P. We let\n(1.1)\n\n\u03c0\n\nf\n\nX \u2212\u2212\u2212\u2192 Mg (P, d) and X \u2212\u2212\u2212\u2192 P\n\nbe its universal family. For any integer k > 0, the derived object\nR\u03c0\u2217 (f\u2217 OPm (k)) is quasi-isomorphic to a complex of locally free sheaves\n\u03c6\n\nE \u2022 = [E0 \u2212\u2212\u2212\u2192 E1 ].\nThe main purpose of this article is to define the Euler class\ne(R\u03c0\u2217 (f\u2217 OP (k))\nof this complex over the primary component of Mg (P, d).\nIn fact, we consider any perfect derived object E \u2022 in the bounded\nderived category Db (M) of an integral DM stack M with cohomologies\nconcentrated in the non-negative places. Our main theorem says that\nany such a perfect derived object E \u2022 , such as R\u03c0\u2217 (f \u2217 OPm (k)) in the\nabove, can be resolved to have locally free sheaf cohomology H 0 after\nbirational base change.\nTheorem 1.1. (Existence of Resolution.) Let E \u2022 be any perfect derived object over an integral DM stack M. Assume that E \u2022 can locally\nbe represented by a complex of locally free sheaves of finite length supported only in non-negative degrees. Then there is another integral DM\nf and a surjective birational morphism f : M\nf \u2192 M such that\nstack M\n0\n\u2217 \u2022\nH (Lf E ) is locally free.\n1\n\n\f2\n\nYI HU AND JUN LI\n\nf, there is also a unique one\nMoreover, among the above stacks M\n(up to isomorphism) that is minimal (see Theorem 4.3 and Proposition\n4.5 for the precise statements). In the main text, we will prove the\nstronger Theorem 4.3 from which the above is a consequence. The\nmain technical theorem for this purpose is Theorem 3.11.\nDefinition 1.2. Suppose further that the cohomologies in positive places\nH i>0 (E \u2022 ) are all torsion sheaves over M. Then, we define the Euler\nclass e(E \u2022 ) in the Chow group A\u2217 M of cycles on M by,\n(1.2)\n\nf]),\ne(E \u2022 ) := f\u2217 (cr (H 0 (Lf \u2217 E \u2022 )) * [M\n\nwhere r = rank H 0 (Lf \u2217 E \u2022 ).\n\nProposition 1.3. Let M be an integral DM stack and E \u2022 a perfect derived object as in Theorem 1.1. Suppose H i<0 (E \u2022 ) = 0 and H i>0 (E \u2022 )\nare torsion sheaves. Then the Euler class e(E \u2022 ) is independent of the\nf \u2192 M.\nchoice of the resolutions f : M\nFor more precise statements, see Proposition 5.3 and Corollary 5.4.\n\nThe above, when applied to the derived object R\u03c0\u2217 f\u2217 OP4 (5) restricted\nto the primary component Mg (P4 , d)\u2032 of the moduli stack Mg (P4 , d),\nenables us to construct the modular Euler class when d > 2g \u2212 2.\n(The general points of Mg (P4 , d)\u2032 are maps with smooth domains, and\nMg (P4 , d)\u2032 is irreducible and of the expected dimension when d > 2g\u22122.\ncf. 6.4.) In this case, letting f\u2032 be the restriction of the universal family\nf to Mg (P4 , d)\u2032, then R1 \u03c0\u2217 f\u2032\u2217 OP4 (5) is a torsion sheaf over Mg (P4 , d)\u2032 .\nDefinition 1.4. For d > 2g \u2212 2, we define the modular Euler class of\nR\u03c0\u2217 f\u2217 OP4 (5) over Mg (P4 , d)\u2032 to be\n(1.3)\n\ne(R\u03c0\u2217 f\u2032\u2217 OP4 (5)) \u2208 A\u2217 (Mg (P4 , d)\u2032 );\n\nfor any smooth Calabi-Yau manifold Q in P4 , we define\n(1.4)\n\n\u2032\nNg,d\n(Q) = deg e(R\u03c0\u2217 f\u2032\u2217 OP4 (5)).\n\n\u2032\nWe believe that these numbers Ng,d\n(Q) are the reduced GW-invariants\nspeculated by Li and Zinger:\n\nConjecture 1.5. Let Ng,d (Q) be the genus g, degree d GW-invariants\nof the smooth quintic Q \u2282 P4 .There are universal constants ch such\nthat for d > 2g \u2212 2,\nX\n\u2032\nch Nh,d\n(Q).\nNg,d (Q) =\n0\u2264h\u2264g\n\n\fPRIMARY ENUMERATIVE INVARIANTS\n\n3\n\nWhile this paper being prepared, the first author was partially supported by NSA grant MSP07G-112 and NSF DMS 0901136; the second\nauthor was partially supported by NSF DMS-0601002.\n2. Conventions and Terminology\n2.1. Throughout the paper, we fix an arbitrary algebraically closed\nbase field k of characteristic 0. All schemes and stacks in this paper\nare assumed to be noetherian over k.\n2.2. Paragraphs are enumerated, so are equations. For instance, 3.2\nrefers to Paragraph 3.2, while (3.2) refers to Equation (3.2). \u00a73.2 refers\nto a subsection.\n2.3. Unless otherwise stated, smoothness is in the sense of DM stack\nor Artin stack. On the coarse moduli level, this roughly means that\nthe moduli space is locally in the \u00e9tale topology a quotient of a smooth\nvariety by a finite group or in the topology of smooth morphisms a\nquotient of a smooth variety by a group scheme.\n2.4. All morphisms between stacks are assumed to be representable.\n2.5. Let X be a scheme, D a Cartier divisor of X and Z a closed\nsubscheme of X. We will write OZ (D) for the restriction OX (D)|Z .\n2.6. For any right exact functor F such as f \u2217 from an Abelian category A to another B, we use LF to denote the left derived functor.\nSimilarly, for a left exact functor F such as f\u2217 , RF is the right derived\nfunctor.\n3. Diagonalizing Sheaf Homomorphism\n3.1. Let M be a DM-stack. We denote by Db (M) the derived category\nof bounded complexes of coherent sheaves over M. An object E \u2022 \u2208\nDb(M) is called perfect if locally it can be represented by a complex of\nlocally free sheaves of finite length. Equivalently, the stack M admits\nan \u00e9tale cover U by a scheme such that there is a finite length complex\nF \u2022 of locally free sheaves over U such that E \u2022 is represented by F \u2022 in\nDb(U).\n3.2. Let an integral DM stack M and a derived object E \u2022 be as\nin Theorem 1.1. Since E \u2022 is perfect, we can cover M by open charts\n`\nU and for each open subset U there is a finite length complex F \u2022\nof locally free sheaves over U such that E \u2022 |U is represented by F \u2022 . By\nour assumption, we may assume that F \u2022 has the form\n(3.1)\n\n\u03c8\n\nF0 \u2212\u2212\u2212\u2192 F1 \u2212\u2212\u2212\u2192 * * *\n\n\f4\n\nYI HU AND JUN LI\n\nOur aim is to resolve the sheaf H 0 (M, E \u2022 ). Note that we have\nH 0 (U, E \u2022 |U ) \u223c\n= ker \u03c8.\n3.3. To resolve the sheaf H 0 (M, E \u2022 ), we consider the following model.\nLet X be a scheme, not necessarily irreducible or reduced, and\n\u03c6 : E \u2212\u2192 F\n\nV\nbe a homomorphism between locally free sheaves over X. We let i \u03c6 :\nVi\nV\nE \u2212\u2192 i F be the induced homomorphism between the wedge\nV\nV\nV\nproducts, i \u2265 0. We also view i \u03c6 as a section of Hom( i E, i F ).\nDenote by m the Vrank of the image sheaf Im\u03c6. This is the smallest\ninteger such that m+1 \u03c6 \u2261 0.\nDefinition 3.4. For any 0 \u2264 r \u2264 m \u2212 1, we let Z\u03c6,r \u2282 X be\nV\nthe subscheme of vanishing of the section r+1 \u03c6 and call it the rdeterminantal subscheme of X with respect to \u03c6. Its scheme structure is given by the determinantal ideal I\u03c6,r which is generated by all\n(r + 1) \u00d7 (r + 1) minor determinants of any local matrix representation\nof \u03c6.\nNote that the ideal sheaf I\u03c6,r does not depend on the choice of local\nmatrix representation; it is supported on the locus of points w such\nthat dim Im(\u03c6(w)) \u2264 r.\n3.5. Determinantal ideals have base change property. If f : Y \u2212\u2192\nX is a morphism between schemes, then the r-determinantal ideal of\nf \u2217 \u03c6 : f \u2217 E \u2212\u2192 f \u2217 F is the pullback of the r-determinantal ideal of\n\u03c6 : E \u2212\u2192 F . That is, If \u2217 \u03c6,r = f \u2217 I\u03c6,r .\n3.6. Now, we will define inductively the blowing ups of X along the\ndeterminantal ideal sheaves1. First, we let\nb0 : X0 \u2212\u2212\u2212\u2192 X\nbe the blowing-up of X along the ideal sheaf I\u03c6,0 . For any 0 \u2264 r \u2264\nm \u2212 2, assume that\nbr : Xr \u2212\u2212\u2212\u2192 Xr\u22121\nis already defined. We let\n\u03c6r : Er \u2212\u2212\u2212\u2192 Fr\nbe the pullback of \u03c6 : E \u2212\u2192 F . Then we define\nbr : Xr+1 \u2212\u2212\u2212\u2192 Xr\n1We\n\nnote here that similar idea has been used in [6].\n\n\fPRIMARY ENUMERATIVE INVARIANTS\n\n5\n\nto be the blowup of Xr along the ideal sheaf I\u03c6r ,r+1 . After the final\nblowing up\nbm\u22121 : Xm\u22121 \u2212\u2212\u2212\u2192 Xm\u22122 ,\nwe define\ne := Xm\u22121 \u2212\u2212\u2212\u2192 X\nb:X\nto be the induced iterated blowing up. We also let Dr to denote the\nexceptional divisor of the birational morphism br : Xr \u2212\u2192 Xr\u22121 .\ne \u2212\u2192 X resolves the\nTheorem 3.7. The birational morphism b : X\nkernel sheaf of \u03c6 : E \u2212\u2192 F . That is, the kernel sheaf ker(b\u2217 \u03c6|Xe \u2032 )\nf\u2032 is any irreducible component of X\ne with the\nis locally free where X\nreduced scheme structure.\nTo prove this theorem, we will state and prove the technical but\nstronger Theorem 3.11, from which the above is an immediate consequence. To this end, we need the pivotal notion of locally diagonalizable homomorphism.\n\u2295p\n\u2295q\nDefinition 3.8. A homomorphism \u03c6 : OX\n\u2212\u2192 OX\nis said to be\ndiagonalizable if we have direct sum decompositions by trivial sheaves\n\n(3.2)\n\n\u2295p\nOX\n\n= G0 \u2295\n\nl\nM\ni=1\n\nGi\n\nand\n\n\u2295q\nOX\n\n= H0 \u2295\n\nl\nM\n\nHi\n\ni=1\n\nwith \u03c6(Gi ) \u2282 Hi for all i such that\n(1) \u03c6|G0 = 0;\n(2) for every 1 \u2264 i \u2264 l, \u03c6|Gi equals to pi Ii for some 0 6= pi \u2208 \u0393(OX )\nwhere Ii : Gi \u2192 Hi is an isomorphism;\n(3) hpi i % hpi+1 i\nDefinition 3.9. A homomorphism \u03c6 : E \u2212\u2192 F between locally free\nsheaves of a scheme X is locally diagonalizable if there are trivializations of E and F over some open covering of X such that \u03c6 : E \u2212\u2192 F\nis diagonalizable over every open subset.\nIt is routine to check the following useful observations.\nProposition 3.10. Suppose that a homomorphism \u03c6 : E \u2212\u2192 F is\nlocally diagonalizable, then\n(1) for every 0 \u2264 r \u2264 m \u2212 1, the determinantal ideal I\u03c6,r is invertible;\n(2) for every irreducible component X \u2032 of X with the reduced scheme\nstructure, ker(\u03c6|X \u2032 ) is locally free2;\n2Note\n\nhere that the rank of ker \u03c6 depends on the properties of the functions pi ,\nhence may not be constant over X. Further, when X \u2032 is not reduced, ker(\u03c6|X \u2032 )\n\n\f6\n\nYI HU AND JUN LI\n\n(3) if f : Y \u2212\u2192 X is a morphism, then f \u2217 \u03c6 is also locally diagonalizable (i.e., \"locally diagonalizable\" has base change property).\nWe now arrive at our main technical theorem.\nTheorem 3.11. (Diagonalization.) For any 0 \u2264 r \u2264 m \u2212 1, there is\nan open covering of Xr trivializing Er and Fr such that over each open\nsubset U we have direct sum decompositions by trivial sheaves\nEr =\n\nr\nM\ni=0\n\nGi \u2295 Gr+1\n\nand Fr =\n\nr\nM\n\nHi \u2295 Hr+1\n\ni=0\n\nwith \u03c6r (Gi ) \u2282 Hi for all 0 \u2264 i \u2264 r and \u03c6r (Gr+1 ) \u2282 Hr+1 making the\nfollowing true\nLr\nLr\n(1) Gi \u223c\n=\n= i=0 Hi \u223c\n= Hi \u223c\n= OU for all 0 \u2264 i \u2264 r, hence i=0 Gi \u223c\n\u2295(r+1)\nOU\n;\n(2) for every 0 \u2264 i \u2264 r, \u03c6r |Gi equals to pi Ii for some 0 6= pi \u2208\n\u0393(OX ) where Ii : Gi \u2192 Hi is an isomorphism;\n(3) pi |pi+1 (0 \u2264 i \u2264 r \u2212 1);\n(4) pr divides \u03c6r |Gr+1 .\nIn particular, when r = m\u22121, we obtain that the homomorphism b\u2217 \u03c6 is\nlocally diagonalizable, and hence the kernel sheaf ker(b\u2217 \u03c6|Xe \u2032 ) is locally\ne \u2032 is an irreducible component of X\ne with the reduced scheme\nfree where X\nstructure.\nProof. We will prove by induction on r.\nFirst, consider the case of r = 0. Take any point \u03be \u2208 X. Locally\naround \u03be, we can trivialize E and F over an open neighborhood U of \u03be\nand choose bases of E and F such that \u03c6 is given by the matrix (\u03bcij ).\nIf Z\u03c6,0 = \u2205, or equivalently I\u03c6,0 = OU , then there is a \u03bcij such that\n\u03bcij (0) 6= 0. By shrinking U we may assume that \u03bcij \u2208 \u0393(OU\u2217 ). This\nway, by a basis change, we can arrange decompositions\nE\u223c\n= G1 \u2295 G2 and F \u223c\n= H1 \u2295 H2\nsuch that G1 , H1 \u223c\n= OU , \u03c6(G1 ) \u2282 H1 , \u03c6(G2) \u2282 H2 , and \u03c6|G1 : G1 \u2212\u2192\nH1 is an isomorphism. Since X0 = X in this case, the statements of\nthe theorem hold.\nIf Z\u03c6,0 is a Cartier divisor, i.e., the ideal I\u03c6,0 is the principal ideal\nhpi generated by some p \u2208 \u0393(OU ), then we can write (\u03bcij ) as (p * \u03bdij ).\nSince h\u03bcij i = hpi, we see that h\u03bdij i = OU . This implies that the\nneeds not to be locally free. These technical issues lead us to use the \"integral\"\nassumption whenever and only when we want to produce a locally free sheaf.\n\n\fPRIMARY ENUMERATIVE INVARIANTS\n\n7\n\nhomomorphism \u03c6 factors as\n\u03c6\u2032\n\ninclusion\n\n\u03c6 : E \u2212\u2212\u2212\u2192 F (\u2212Z\u03c6,0 ) \u2212\u2212\u2212\u2212\u2212\u2192 F,\nand \u03c6\u2032 = (\u03bdij ) has that I\u03c6\u20320 ,0 = OU . Now apply the previous case to\nthe homomorphism \u03c6\u2032 , one checks that we obtain decompositions\nE = G1 \u2295 G2 and F = H1 \u2295 H2\nsuch that G1 , H1 \u223c\n= OU , \u03c6(G1 ) \u2282 H1 , \u03c6(G2) \u2282 H2 , and \u03c6|G1 : G1 \u2212\u2192\nH1 equals pI1 where I1 : G1 \u2212\u2192 H1 is an ismomorphism and p divides\n\u03c6|G2 . Again, since X0 = X in this case, the statements of the theorem\nhold.\nIf Z\u03c6,0 is not a Cartier divisor, that is, I\u03c6,0 is not principal, we blow\nup Z\u03c6,0 to obtain\nb0 : X0 \u2212\u2192 X\n\nand b\u22170 \u03c6 : b\u22170 E \u2212\u2192 b\u22170 F.\n\nBy 3.5, we have that Ib\u22170 \u03c6,0 = b\u22170 I\u03c6,0. Since b\u22170 I\u03c6,0 is principal, this\nreduces to the previous case. Note that b\u22170 \u03c6 = \u03c60 . Thus, the case 0 is\nproved.\nAssume now that the assertion holds for r. Since the question is\nlocal, we can restrict our focus on an affine open subset U of Xr such\nthat Er are Fr are all trivialized with the desired decomposition as\nin the theorem and \u03c6r : Er \u2212\u2192 Fr has the desired properties as in\nthe theorem. In terms of the suitable bases of Er and Fr as in the\ntheorem granted by the inductive assumption, all these mean is that\nwe can represent \u03c6r by the diagonal matrix\ndiag[p0 I0 , * * * , pr Ir , B]\nwhere B is the matrix representation of \u03c6r |Gr+1 and pr |B.\nSince\n\u2032\n\u2032\npr |B, we may write B = pr B and let \u03c6r : Gr+1 \u2212\u2192 Hr+1 be the\nhomomorphism corresponding to B \u2032 . From the above representation,\nwe see that\n(3.3)\n\nI\u03c6r ,r+1 = (p0 * * * pr )pr I\u03c6\u2032r ,0 .\n\nHence blowing up I\u03c6r ,r+1 is the same as blowing up I\u03c6\u2032r ,0 . Now we\ncan apply the case 0 to the homomorphism\n\u03c6\u2032r : Gr+1 \u2212\u2192 Hr+1 .\nFrom here, it is routine to check against the three cases of case 0 (for\n\u03c6\u2032r ) so that we will obtain the desired decompositions for Er+1 and Fr+1\nwith the desired properties for \u03c6r+1 .\nBy induction, this proves the statements (1)\u2013(4) of the theorem.\nTo finish off, in the case of r = m\u22121, because \u2295ri=0 Gi \u223c\n= OU\u2295m with m\nthe maximal rank of \u03c6m\u22121 = b\u2217 \u03c6, we must have that \u03c6m\u22121 (Gr+1 ) = 0.\n\n\f8\n\nYI HU AND JUN LI\n\nThis implies that b\u2217 \u03c6 is locally diagonalizable, and in particular, if we\nrestrict b\u2217 \u03c6 to an irreducible component with the reduced structure,\nits kernel sheaf is locally free.\nThis completes the proof.\n\u0003\nRemark 3.12. The requirement that each Gi is isomorphic to OU in\nthe above theorem appears to be \"stronger\" than Definition 3.8, but in\nfact, they are equivalent since in this theorem we allow hpi i = hpi+1 i\nfor some pairs pi and pi+1 .\nProposition 3.13. (Universality.) Let \u03c6 : E \u2212\u2192 F be a homomore the blowup\nphism between locally free sheaves over a scheme X and X\nof X along determinantal loci of \u03c6. If f : Z \u2212\u2192 X is any dominant morphism between schemes such that the pullback homomorphism\nf \u2217 \u03c6 : f \u2217 E \u2212\u2192 f \u2217 F is locally diagonalizable, then f factors uniquely\ne\nthrough X.\nProof. Let m be the rank of the image sheaf Im\u03c6. For any 0 \u2264 r \u2264\nm \u2212 1, we will show inductively that f factors uniquely through Xr .\nWhen r = 0, consider any point \u03be \u2208 Z such that f (\u03be) belongs to the\n0-determinantal locus of \u03c6. As in the proof of Theorem 3.11, locally\naround f (\u03be) \u2208 W , we can represent \u03c6 by a matrix (\u03bcij ) with \u03bcij \u2208\n\u0393(OU ), where U is an open neighborhood of f (\u03be). The homomorphism\nf \u2217 \u03c6 : f \u2217 E \u2212\u2192 f \u2217 F is given by the pullbacks (f \u2217 \u03bcij ). Let J = f \u22121 I\u03c6,0\nbe the ideal generated by (f \u2217 \u03bcij ). Since f is dominant, f (Z) is not\nentirely contained in the 0-determinantal locus of \u03c6, hence J 6= 0.\nBut then, since f \u2217 \u03c6 : f \u2217 E \u2212\u2192 f \u2217 F is diagonalizable, we can represent\nf \u2217 \u03c6 as a diagonal matrix diag[p1 I1 , * * * , pl Il , 0]. This shows that J is\nprincipal. By the universal property of blowing up (Proposition 7.14\nof [4]), f factors uniquely through X0 .\nNow assume that the claim holds for r: f factors uniquely through\nXr\ng\nbr\nf : Z \u2212\u2212\u2212\u2192 Xr \u2212\u2212\u2212\n\u2192 X.\nSince Xr+1 is the blowup of Xr along I\u03c6\u2032r ,0 (here we use the notation\nas in the proof Theorem 3.11), we need only to consider a small open\nneighborhood of any point \u03be \u2208 Z such that g(\u03be) belongs to the 0determinantal locus of \u03c6\u2032r . Since f is dominant, by the base change\nproperty, we have\ng \u22121 I\u03c6\u2032r ,0 = Ig\u2217 \u03c6\u2032r ,0\n\nand f \u22121 I\u03c6,r+1 = If \u2217 \u03c6,r+1 .\n\nBy (3.3) in the proof of Theorem 3.11, we see that Ig\u2217 \u03c6\u2032r ,0 and If \u2217 \u03c6,r+1\ndiffer by an invertible sheaf. Since f \u2217 \u03c6 : f \u2217 E \u2212\u2192 f \u2217 F is diagonalizable,\nfrom its diagonal representation we conclude that If \u2217 \u03c6,r+1 , which is\n\n\fPRIMARY ENUMERATIVE INVARIANTS\n\n9\n\nf \u22121 I\u03c6,r+1, is invertible. Hence, so is Ig\u2217 \u03c6\u2032r ,0 = g \u22121I\u03c6\u2032r ,0 . This implies\nthat g factors uniquely through Xr+1 , hence so does f .\nBy induction, this finishes the proof.\n\u0003\nDefinition 3.14. For any homomorphism \u03c8 : E \u2212\u2192 F between two\nlocally free sheaves over a scheme X, we say that a point x \u2208 X is\n\u03c8-regular if \u03c8(x) is of maximal rank.\nIt is easy to see that if x \u2208 X is \u03c8-regular, then locally around x,\n\u03c8 : E \u2212\u2192 F is diagonalizable (and in fact, can be diagonalized to the\nform diag(I, 0)).\nRemark 3.15. The universality proposition 3.13 may also hold for\nany morphism f : Z \u2212\u2192 X such that f (Z) contains \u03c6-regular points\nand f \u2217 \u03c6 is locally diagonalizable. But, we do not need this stronger\nversion in this paper.\n4. Resolution of Derived Object\n4.1. Let G be any coherent sheaf over a scheme X. A presentation of\nG is an exact sequence\n\u03b1\n\n\u2295m\n\u2295n\n\u2212\u2192 OX\n\u2212\u2192 G \u2212\u2192 0.\nOX\n\nThe h-th (h \u2264 m) Fitting ideal of the above presentation, denoted\nJh (G ), is the (m\u2212h)-determinatal ideal of the homomorphism \u03b1 (and\nis defined to be OX when h > m). The basic property of Fitting ideals\nis that any two presentations of G have the same Fitting ideals ([2, 8]).\nThis enables us to define the Fitting ideals of the coherent sheaf G\nwithout reference to any particular presentation. It can be shown that\nJh (G ) are finitely generated and form an increasing sequence\nJ0 (G ) \u2282 J1 (G ) \u2282 * * * .\nTaking Fitting ideal commutes with base change. That is, if g : Y \u2212\u2192\nX is a morphism, then the h-th Fitting ideal of the sheaf f \u2217 G is generated, as an OY -module, by the h-th Fitting ideal of G . This is because\nthe pullback of a presentation of G is a presentation of f \u2217 G since the\ntensor product is a right exact functor. In addition, taking Fitting ideal\ncommutes with localization. Let S be any multiplicative closed subset\nof OX not containing the zero element. Then for every h \u2265 0 we have\nJh (G )(OX )S = Jh (GS ),\nwhere by Jh (GS ) we mean the h-th Fitting ideal of the sheaf GS of\n(OX )S -modules. For more details of Fitting ideals, the reader is referred\nto [2] and [8].\n\n\f10\n\nYI HU AND JUN LI\n\n4.2. We now are ready to prove Theorem 1.1 which we restate below. Since E \u2022 is perfect and can locally be represented by a complex\nof locally free sheaves of finite length supported only in`non-negative\ndegrees, we can assume that M admits an open cover U, and over\neach open subset U, its restriction E \u2022 |U is represented by the following\ncomplex of locally free sheaves\n(4.1)\n\n\u03c80\n\n\u03c81\n\n\u03c8n\u22121\n\nF0 \u2212\u2212\u2212\u2192 F1 \u2212\u2212\u2212\u2192 * * * \u2212\u2212\u2212\u2192 Fn\u22121 \u2212\u2212\u2212\u2192 Fn .\n\nTheorem 4.3. Let M be an integral DM stack and E \u2022 a perfect object in the derived category Db(M) which can be locally represented\nby a complex of locally free sheaves of finite length supported only in\nf\nnon-negative degrees. Then there is another integral DM stack M\nf \u2192 M such that over\nand a dominant birational morphism f : M\nany open chart and for every 0 \u2264 i \u2264 n \u2212 1, the homomorphism\nf \u2217 \u03c8i\n0\n\u2217 \u2022\nf \u2217 Fi \u2212\u2212\u2212\u2192 f \u2217 Fi+1 is diagonalizable. In particular, H (Lf E ) is\nlocally free.\nProof. We will adopt the notations from 4.2 and assume that locally\nE \u2022 is represented by the complex as in (4.1).\nWe first consider the coherent sheaf H n (F \u2022 ) = coker \u03c8n\u22121 . The\nsequence\n\u03c8n\u22121\n\nFn\u22121 \u2212\u2212\u2212\u2192 Fn \u2212\u2212\u2212\u2192 H n (F \u2022 ) \u2212\u2212\u2212\u2192 0\nis a locally free presentation of H n (E \u2022 ). Since the Fitting ideals of\nH n (E \u2022 ) are the same as the determinatal ideals of \u03c8n\u22121 : Fn\u22121 \u2192 Fn\nand Fitting ideals are independent of presentations, we conclude that\nwhen applied to the homomorphism \u03c8n\u22121 : Fn\u22121 \u2192 Fn over the open\nsubset U, the iterated blowup as described in \u00a73 patch together to\nproduce a well-defined iterated blowup of M\nfn\u22121 : Mn\u22121 \u2212\u2192 M\n\u2217\nsuch that fn\u22121\n\u03c8n\u22121 is locally diagonalizable. Now observe that if M\nis integral and Z \u2282 M a closed substack, then LZ M, the blowup of M\nalong Z, is also integral.\nfollows from the fact that if I is any ideal\nL This\nn\nin a domain A, then n I is also a domain. Thus Mn\u22121 is integral\n\u2217\nand hence ker fn\u22121\n\u03c8n\u22121 is locally free.\n\u2217\nNow we apply the left derived functor Lfn\u22121\nto E \u2022 and obtain\n\u2217\nLfn\u22121\nE \u2022 \u2208 Db (Mn\u22121 ).\n` \u22121\n(U). Over the open\nThe stack Mn\u22121 admits the open cover by fn\u22121\n\u22121\n\u2217\nsubset fn\u22121\n(U), Lfn\u22121\nE \u2022 is represented by\n\u2217\nfn\u22121\n\u03c80\n\n\u2217\nfn\u22121\n\u03c8n\u22121\n\n\u2217\n\u2217\n\u2217\n\u2217\nfn\u22121\nF0 \u2212\u2212\u2212\u2212\u2192 fn\u22121\nF1 \u2212\u2212\u2212\u2192 * * * fn\u22121\nFn\u22121 \u2212\u2212\u2212\u2212\u2212\u2212\u2192 fn\u22121\nFn .\n\n\fPRIMARY ENUMERATIVE INVARIANTS\n\n11\n\nConsider the short exact sequence\n\u2217\nfn\u22121\n\u03c8n\u22122\n\n\u2217\n\u2217\n\u2217\nfn\u22121\nFn\u22122 \u2212\u2212\u2212\u2212\u2212\u2212\u2192 ker fn\u22121\n\u03c8n\u22121 \u2212\u2212\u2212\u2192 H n\u22121 (Lfn\u22121\nE \u2022 ) \u2212\u2212\u2212\u2192 0.\n\u2217\nThis is a locally free presentation of H n\u22121 (Lfn\u22121\nE \u2022 ). This allows us\nto apply the same blowing up process as in the previous step to the\n\u2217\ncoherent sheaf H n\u22121 (Lfn\u22121\nE \u2022 ) to get\n\nfn\u22122 : Mn\u22122 \u2212\u2192 Mn\u22121\n\u2217\n\u2217\nsuch that fn\u22122\nfn\u22121\n\u03c8n\u22122 is diagonalizable and for the same reason as\n\u2217\n\u2217\nexplained earlier ker fn\u22122\nfn\u22121\n\u03c8n\u22122 is locally free.\nApplying the above repeatedly (or by induction), we will eventually\narrive at a birational dominant morphism\nf \u2212\u2192 M,\nf :M\n\nfactoring as\n\nfn\u22122\nfn\u22121\nf1\n0\nf = M0 \u2212\u2212f\u2212\nM\n\u2192 M1 \u2212\u2212\u2212\u2192 * * * \u2212\u2212\u2212\u2192 Mn\u22121 \u2212\u2212\u2212\u2192 M,\nsuch that if we let f to be fn\u22121 \u25e6fn\u22122 * * *\u25e6f0 , then for each 0 \u2264 i \u2264 n\u22121,\nf \u2217 \u03c8i is diagonalizable, Mi is integral and ker f \u2217 \u03c8i is locally free. Now\nuse that Lf \u2217 E \u2022 is locally represented by\nf \u2217 \u03c8n\u22121\n\nf \u2217 \u03c80\n\nf \u2217 F0 \u2212\u2212\u2212\u2192 f \u2217 F1 \u2212\u2212\u2212\u2192 * * * f \u2217 Fn\u22121 \u2212\u2212\u2212\u2212\u2192 f \u2217 Fn ,\nwe see that\nH 0 (Lf \u2217 E \u2022 ) = ker f \u2217 \u03c80 ,\nthe theorem is thus proved.\n\n\u0003\n\nCorollary 4.4. Let M be a DM stack (not necessarily integral) and\nE \u2022 a perfect object in the derived category Db(M) with H i (E \u2022 ) = 0\nfor i < 0. Assume further that locally E \u2022 can be represented by a\ntwo-term complex F0 \u2212\u2212\u03c8\u2212\u2192 F1 of locally free sheaves. Then there is\nf and a birational morphism f : M\nf \u2192 M such that\nanother DM stack M\n\u2217\u03c8\nf\nthe homomorphism f \u2217 F0 \u2212\u2212\u2212\u2192 f \u2217 F1 is diagonalizable. In particular,\nf\u2032 of M\nf endowed with the reduced stack\nfor any irreducible component M\n0\n\u2217 \u2022\nstructure, H (Lf E |M\nf\u2032 ) is locally free.\nProof. As in the first step of the proof of the above theorem, we consider\nthe locally free presentation\n\u03c8\n\nF0 \u2212\u2212\u2212\u2192 F1 \u2212\u2212\u2212\u2192 H 1 (E \u2022 ) \u2212\u2212\u2212\u2192 0\nof the sheaf H 1 (E \u2022 ), we then simply blow up M along its Fitting\nf \u2192 M. It follows from Theorem 3.11 that the\nideals and obtain f : M\nf \u2217\u03c8\nhomomorphism f \u2217 F0 \u2212\u2212\n\u2212\u2192 f \u2217 F1 is diagonalizable. Now Proposition\n3.10 (2) implies the rest of the statements.\n\u0003\n\n\f12\n\nYI HU AND JUN LI\n\nf is universal.\nAs a direct consequence of Proposition 3.13, the stack M\n\nProposition 4.5. (Universality.) Let the situation be as in Theorem\n4.3 or as in Corollary 4.4. If g : Z \u2212\u2192 M is any dominant morphism such that for each 0 \u2264 i \u2264 n \u2212 1, g \u2217\u03c8 : g \u2217 Fi \u2212\u2192 g \u2217 Fi+1 is\nf \u2212\u2192 M.\ndiagonalizable, then g factors uniquely through f : M\nBut, for topological applications, the following base change property,\nalthough weaker, is more convenient to use and easy to prove.\n\nProposition 4.6. (Base Change Property.) Suppose that M is integral. For any DM stack N and a dominant morphism g : N \u2192 M such\nthat H 0 (Lg \u2217 E \u2022 ) is locally free, we can find another DM stack N \u2032 and\na dominant morphism g\u0303 : N \u2032 \u2192 M, factoring through f and g (i.e.,\ng\u0303 = f \u25e6 f \u2032 = g \u25e6 g \u2032)\nf\u2032\nf\nN \u2032 \u2212\u2212\u2212\u2192 M\n\uf8e6\n\uf8e6\n\uf8e6\n\uf8e6\nfy\ng\u2032 y\ng\n\nN \u2212\u2212\u2212\u2192 M\n0\n\u2217 \u2022\nso that H (Lg\u0303 E ) is locally free and is the pull back of H 0 (Lf \u2217 E \u2022 )\nand H 0 (Lg \u2217 E \u2022 ).\n\nProof. Indeed, we let N \u2032 be the closure of the open subset of the graph\nof the rational map\nf\nN \u2212\u2192 M\nf\nthat is isomorphic to its image when projected to either N \u2032 and M.\n\u2032\nThen we obtain the square as in the proposition such that g\u0303 : N \u2212\u2192 M\nis a dominant morphism. The rest conclusions are local. So, locally we\nwill represent Lf \u2217 E \u2022 by the complex of locally free sheaves\nf \u2217 \u03c80\n\nf \u2217 F0 \u2212\u2212\u2212\u2192 f \u2217 F1 \u2212\u2212\u2212\u2192 * * * .\nThis implies that Lg\u0303 \u2217 E \u2022 = Lf \u2032\u2217 \u25e6 Lf \u2217 E \u2022 is locally represented by\nf \u2032\u2217 f \u2217 \u03c80\n\nf \u2032\u2217 f \u2217 F0 \u2212\u2212\u2212\u2212\u2192 f \u2032\u2217 f \u2217 F1 \u2212\u2212\u2212\u2192 * * * .\nNow, note that\nf \u2217 \u03c80\n\n0 \u2212\u2212\u2212\u2192 ker f \u2217 \u03c80 \u2212\u2212\u2212\u2192 f \u2217 F0 \u2212\u2212\u2212\u2192 f \u2217 F1\nis exact. Since f \u2032 is dominant,\nf \u2032\u2217 f \u2217 \u03c80\n\n0 \u2212\u2212\u2212\u2192 f \u2032\u2217 ker f \u2217 \u03c80 \u2212\u2212\u2212\u2192 f \u2032\u2217 f \u2217 F0 \u2212\u2212\u2212\u2212\u2192 f \u2032\u2217 f \u2217 F1\nis also exact. Hence\nH 0 (Lg\u0303 \u2217 E \u2022 ) = f \u2032\u2217 H 0 (Lf \u2217 E \u2022 ).\n\n\fPRIMARY ENUMERATIVE INVARIANTS\n\n13\n\nSimilarly,\nH 0 (Lg\u0303 \u2217 E \u2022 ) = g \u2032\u2217H 0 (Lg \u2217 E \u2022 ).\n\u0003\n4.7. Suppose that M is integral. One can also routinely verify the\nfollowing.\n(1) Let E \u2022 be a perfect derived object over an DM stack M and\nE \u2022 \u2032 be a perfect derived object over an DM stack M \u2032 , both\nf \u2212\u2192 M and f \u2032 : M\nf\u2032 \u2212\u2192 M \u2032\nwith vanishing H i<0 . Let f : M\nbe given as in Theorem 4.3, then H 0 (L(f, f \u2032 )\u2217 (E \u2022 \u229e E \u2022 \u2032 )) is\nf\u00d7M\nf\u2032 ;\nlocally free over M\n\u2022\n\u2022\u2032\n(2) Let E and E be perfect derived objects over a DM stack M,\nf \u2212\u2192 M and f \u2032 : M\nf\u2032 \u2212\u2192\nboth with vanishing H i<0 . Let f : M\nM be given as in Theorem 4.3. We let M be the graph of the\nf \u2212\u2192 M\nf\u2032 and f \u0303 the projection to M. Then\nrational map M\n0\n\u2217\n\u2022\n\u2022\u2032\n \u0303\nH (Lf (E \u2295 E )) is locally free over M.\n5. The Euler class of Perfect Derived Object\n5.1. In this subsection, we again make assumption that M (hence also\nf is integral. To define the Euler class of the complex E \u2022 , we will\nM)\nuse the top Chern class of the locally free sheaf H 0 (Lf \u2217 E \u2022 ). Let r =\nrank H 0 (E \u2022 ). The Chern class cr (H 0 (Lf \u2217 E \u2022 )) is a homomorphism\nf) \u2212\u2212\u2212\u2192 A\u2217\u2212r (M)\nf.\ncr (H 0 (Lf \u2217 E \u2022 )) : A\u2217 (M\n\nf is the Chow group of cycles on M\nf. We will assume that\nHere A\u2217 (M)\n0\n\u2022\nrank H (E ) > 0 and the higher cohomology sheaves H i (E \u2022 ) are all\ntorsion for i > 0. This way, the Euler class of the complex E \u2022 , as\nexpected, should only depend on H 0 (Lf \u2217 E \u2022 ).\nDefinition 5.2. For any integral DM stack M of dimension n and a\nderived object E \u2022 as in Theorem 4.3, let r = rank H 0 (E \u2022 ). Then we\ndefine its Euler class e(E \u2022 ) \u2208 An\u2212r (M) as:\n(5.1)\n\nf]).\ne(E \u2022 ) := f\u2217 (cr (H 0 (Lf \u2217 E \u2022 )) * [M\n\nHere A\u2217 (M) is the Chow group of cycles on M.\n\nProposition 5.3. For any integral DM stack N and a surjective birational morphism g : N \u2192 M such that H 0 (Lg \u2217 E \u2022 ) is locally free, we\nhave\nf]).\ng\u2217 (cr (H 0 (Lg \u2217 E \u2022 )) * [N]) = f\u2217 (cr (H 0 (Lf \u2217 E \u2022 )) * [M\n\n\f14\n\nYI HU AND JUN LI\n\nProof. By Proposition 4.6, we have a square\nf\u2032\n\nN \u2032 \u2212\u2212\u2212\u2192\n\uf8e6\n\uf8e6\ng\u2032 y\ng\n\nf\nM\n\uf8e6\n\uf8e6\nfy\n\nN \u2212\u2212\u2212\u2192 M.\n\u2032\nThe diagonal morphism N \u2212\u2192 M, denoted g\u0303, is a surjective birational\nmorphism. From Proposition 4.6, we have that\nH 0 (Lg\u0303 \u2217 E \u2022 ) = f \u2032\u2217 H 0 (Lf \u2217 E \u2022 )\n(note that all the sheaves involved are locally free). Observe that we\nf because f \u2032 is birational and surjective. Hence\nalso have f\u2217\u2032 [N \u2032 ] = [M]\nwe obtain\nf\u2217\u2032 (cr (H 0 (Lg\u0303 \u2217 E \u2022 )) * [N \u2032 ]) = f\u2217\u2032 (f \u2032\u2217 (cr (H 0 (Lf \u2217 E \u2022 ))) * [N \u2032 ])\n\nThis implies that\n\nf\n= cr (H 0 (Lf \u2217 E \u2022 )) * [M].\n\nf]) = f\u2217 f \u2032 (cr (H 0 (Lg\u0303 \u2217 E \u2022 )) * [N \u2032 ])\nf\u2217 (cr (H 0 (Lf \u2217 E \u2022 )) * [M\n\u2217\n= g\u0303\u2217 (cr (H 0 (Lg\u0303 \u2217 E \u2022 )) * [N \u2032 ]).\nSimilarly, we get\ng\u2217 (cr (H 0 (Lg \u2217 E \u2022 )) * [N]) = g\u2217 g\u2217\u2032 (cr (H 0 (Lg\u0303 \u2217 E \u2022 )) * [N \u2032 ])\n= g\u0303\u2217 (cr (H 0 (Lg\u0303 \u2217 E \u2022 )) * [N \u2032 ]).\nThis proves the proposition.\n\n\u0003\n\nCorollary 5.4. Let E \u2022 be a perfect object in Db (M). Suppose H i<0 (E \u2022 ) =\n0 and H i>0 (E \u2022 ) are torsion. Then the Euler class e(E \u2022 ) is well-defined\nand is independent of the choice of the bitational surjective morphisms\nf \u2212\u2192 M.\nf :M\n6. Applications to GW-Invariants\n6.1. Let P be a projective space, and let Mg (P, d) be the DM stack of\ndegree d genus g stable maps to P as before. Let\n(6.1)\n\n(f, \u03c0) : X \u2212\u2192 P \u00d7 Mg (P, d)\n\nbe its universal family. For any positive integer k, the derived object\nR\u03c0\u2217 (f\u2217 OP (k)) in Db (Mg (P, d)) is perfect.\n\n\fPRIMARY ENUMERATIVE INVARIANTS\n\n15\n\n6.2. One way to see this is to pick two sufficiently large integers n and\n\u2032\nn\u2032 and form L = f\u2217 OP (n) \u2297 \u03c9X\u2297n/M (P,d) ; then form the tautological\ng\nhomomorphism\nA0 = \u03c0 \u2217 \u03c0\u2217 (f\u2217 OP (k) \u2297 L ) \u2297 L \u22121 \u2212\u2192 f\u2217 OP (k).\nSince n and n\u2032 are sufficiently large, it is surjective. We let A\u22121 be the\nkernel of the above homomorphism. Then it is easy to see that we have\nan quasi-isomorphism\n[R1 \u03c0\u2217 A\u22121 \u2192 R1 \u03c0\u2217 A0 ] = R\u03c0\u2217 f\u2217 OP (k).\nAgain since n and n\u2032 are sufficiently large,\n[E0 \u2192 E1 ] := [R1 \u03c0\u2217 A\u22121 \u2192 R1 \u03c0\u2217 A0 ]\nis a complex of locally free sheaves. This proves that R\u03c0\u2217 f\u2217 OP (k) is\nperfect.\nDefinition 6.3. Assume d > 2g \u2212 2. We let Mg (P, d)0 \u2282 Mg (P, d) be\nthe open subset consisting of stable morphisms with irreducible domain\n\u2032\ncurves. We define the primary part Mg (P, d) of Mg (P, d) to be the\nclosure of Mg (P, d)0 in Mg (P, d).\nThe open subset Mg (P, d)0 is non-empty, smooth and has the ex\u2032\npected dimension. Thus Mg (P, d) is generically smooth and of the\nexpected dimension.\nRemark 6.4. Some remarks on the primary components are in order.\nLet C be an irreducible curve of genus g. A map u : C \u2212\u2192 P is\ngiven by (m + 1)-sections u0 , * * * , um \u2208 \u0393(u\u2217 OP (1)), where m = dim P.\nWe may assume that u\u2217 OP (1) = OC (D) for some effective divisor D.\nAssume that d > g. Then there are general divisors on the curve C.\nIf D is general, by the geometric version of Riemann-Roch theorem,\ndim \u0393(OC (D)) = d + 1 \u2212 g \u2265 2. From here, one checks that the\ndimension of Mg (P, d) at such a map is\n3g \u2212 3 + d + (d + 1 \u2212 g)m = d(m + 1) + (m \u2212 3)(1 \u2212 g),\nas expected. When d > 2g \u22122, all divisors are general. If C is reducible\nand has more than one irreducible components (of positive genera,\nfor instance) that are not contracted by the stable morphsim, then\nconjecturally they do not contribute the GW number of quintic CalabiYaus. When g < d < 2g \u22121, there are special divisors over the curve C.\nSuch divisors give rise to \u0393(OC (D)) with dim \u0393(OC (D)) > d+1\u2212g \u2265 2.\nHence they may produce a component of Mg (P, d) with dimension\nlarger than expected. When 0 < d \u2264 g, it may happen that none of\nthe irreducible components of Mg (P, d) have the expected dimension.\n\n\f16\n\nYI HU AND JUN LI\n\n6.5. We now assume d > 2g \u2212 2. We apply the constructions in the\n\u2032\nprevious sections to the complex R\u03c0\u2217 f\u2217 OP (k) restricted to Mg (P, d) .\n\u2032\nLet f\u2032 be the restriction of f to Mg (P, d) . By the vanishing of high co\u2032\nhomology, R1 \u03c0\u2217 f\u2032\u2217 OP (k)) is trivial on a dense open subset of Mg (P, d) .\nThen by \u00a75.4, we have a well-defined modular Euler class\n(6.2)\n\n\u2032\n\ne(R\u03c0\u2217 (f\u2032\u2217 OP (k))) \u2208 A\u2217 (Mg (P, d) ).\n\n\u2032\nWe denote this number by Ng,d\n, (cf. Definition 6.3).\n\u2032\n6.6. When g = 0, N0,d\n= N0,d , the usual Gromov-Witten number of\n\u2032\nthe quintic X; when g = 1, N1,d\nis the reduced genus-1 GW-invariants\n(see [7, 1]).\n\nWe believe these numbers are the reduced GW-invarains of guintics\nconjectured by Li-Zinger, (cf. Conj. 1.5).\nReferences\n[1] H.-L. Chang and J. Li, On reduced genus one GW-invariants of Quintics, in\npreparation.\n[2] H. Fitting, Die Determinantenideale eines Moduls, Jahresber Deutsch. Math.\nVerein. 46 (1936), 195-228.\n[3] W. Fulton, Intersection Theory. Springer, 1984.\n[4] R. Hartshorne, Algebraic Geometry. GTM 52 (1977), Springer-Verlag.\n[5] Yi Hu and Jun Li, Genus-One Stable Maps, Local Equations and Vakil-Zinger's\ndesingularization. Math. Ann. (2010)\n[6] Yi Hu, Jiayuan Lin and Yijun Shao, A compactification of the space of algebraic\nmaps from P1 to Pn , math.AG/0701255.\n[7] J. Li and A. Zinger, On the Genus-One Gromov-Witten Invariants of Complete\nIntersections. J. of Differential Geom. 82 (2009), no 3, 641-690.\n[8] D. G. Northcott, Finite free resolutions. Cambridge Tracts in Mathematics,\nNo. 71. Cambridge University Press, Cambridge-New York-Melbourne, 1976.\n[9] R. Vakil and A. Zinger, A Desingularization of the Main Component of the\nModuli Space of Genus-One Stable Maps into Pn . Geom. Topol. 12 (2008), no.\n1, 1\u201395.\nDepartment of Mathematics, University of Arizona, USA.\nE-mail address: yhu@math.arizona.edu\nDepartment of Mathematics, Stanford University, USA.\nE-mail address: jli@math.stanford.edu\n\n\f"}