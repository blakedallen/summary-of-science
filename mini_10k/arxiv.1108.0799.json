{"id": "http://arxiv.org/abs/1108.0799v2", "guidislink": true, "updated": "2014-08-29T18:44:12Z", "updated_parsed": [2014, 8, 29, 18, 44, 12, 4, 241, 0], "published": "2011-08-03T09:32:33Z", "published_parsed": [2011, 8, 3, 9, 32, 33, 2, 215, 0], "title": "Ito calculus without probability in idealized financial markets", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1108.5326%2C1108.1144%2C1108.3303%2C1108.4994%2C1108.4168%2C1108.4648%2C1108.0474%2C1108.0342%2C1108.4980%2C1108.4670%2C1108.1389%2C1108.2754%2C1108.2056%2C1108.1376%2C1108.3370%2C1108.0799%2C1108.4088%2C1108.5184%2C1108.1974%2C1108.4229%2C1108.5502%2C1108.1686%2C1108.4294%2C1108.2346%2C1108.3867%2C1108.3268%2C1108.4897%2C1108.5090%2C1108.2113%2C1108.3470%2C1108.4279%2C1108.1370%2C1108.1126%2C1108.4825%2C1108.1431%2C1108.0410%2C1108.6041%2C1108.0210%2C1108.6221%2C1108.3345%2C1108.5866%2C1108.0062%2C1108.0577%2C1108.1795%2C1108.4878%2C1108.1952%2C1108.2899%2C1108.5112%2C1108.0959%2C1108.2956%2C1108.3830%2C1108.1312%2C1108.1993%2C1108.1449%2C1108.4215%2C1108.3494%2C1108.0587%2C1108.5897%2C1108.6152%2C1108.6078%2C1108.0492%2C1108.2979%2C1108.1150%2C1108.5142%2C1108.3616%2C1108.2645%2C1108.3113%2C1108.1955%2C1108.2786%2C1108.0940%2C1108.6197%2C1108.6003%2C1108.2309%2C1108.2627%2C1108.3224%2C1108.3297%2C1108.5722%2C1108.5013%2C1108.1754%2C1108.0329%2C1108.0365%2C1108.5913%2C1108.5041%2C1108.4236%2C1108.3077%2C1108.4844%2C1108.3455%2C1108.0883%2C1108.1160%2C1108.0543%2C1108.5120%2C1108.5477%2C1108.4053%2C1108.1036%2C1108.2720%2C1108.6134%2C1108.4742%2C1108.6194%2C1108.0092%2C1108.1544%2C1108.6296&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Ito calculus without probability in idealized financial markets"}, "summary": "We consider idealized financial markets in which price paths of the traded\nsecurities are cadlag functions, imposing mild restrictions on the allowed size\nof jumps. We prove the existence of quadratic variation for typical price\npaths, where the qualification \"typical\" means that there is a trading strategy\nthat risks only one monetary unit and brings infinite capital if quadratic\nvariation does not exist. This result allows one to apply numerous known\nresults in pathwise Ito calculus to typical price paths; we give a brief\noverview of such results.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1108.5326%2C1108.1144%2C1108.3303%2C1108.4994%2C1108.4168%2C1108.4648%2C1108.0474%2C1108.0342%2C1108.4980%2C1108.4670%2C1108.1389%2C1108.2754%2C1108.2056%2C1108.1376%2C1108.3370%2C1108.0799%2C1108.4088%2C1108.5184%2C1108.1974%2C1108.4229%2C1108.5502%2C1108.1686%2C1108.4294%2C1108.2346%2C1108.3867%2C1108.3268%2C1108.4897%2C1108.5090%2C1108.2113%2C1108.3470%2C1108.4279%2C1108.1370%2C1108.1126%2C1108.4825%2C1108.1431%2C1108.0410%2C1108.6041%2C1108.0210%2C1108.6221%2C1108.3345%2C1108.5866%2C1108.0062%2C1108.0577%2C1108.1795%2C1108.4878%2C1108.1952%2C1108.2899%2C1108.5112%2C1108.0959%2C1108.2956%2C1108.3830%2C1108.1312%2C1108.1993%2C1108.1449%2C1108.4215%2C1108.3494%2C1108.0587%2C1108.5897%2C1108.6152%2C1108.6078%2C1108.0492%2C1108.2979%2C1108.1150%2C1108.5142%2C1108.3616%2C1108.2645%2C1108.3113%2C1108.1955%2C1108.2786%2C1108.0940%2C1108.6197%2C1108.6003%2C1108.2309%2C1108.2627%2C1108.3224%2C1108.3297%2C1108.5722%2C1108.5013%2C1108.1754%2C1108.0329%2C1108.0365%2C1108.5913%2C1108.5041%2C1108.4236%2C1108.3077%2C1108.4844%2C1108.3455%2C1108.0883%2C1108.1160%2C1108.0543%2C1108.5120%2C1108.5477%2C1108.4053%2C1108.1036%2C1108.2720%2C1108.6134%2C1108.4742%2C1108.6194%2C1108.0092%2C1108.1544%2C1108.6296&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We consider idealized financial markets in which price paths of the traded\nsecurities are cadlag functions, imposing mild restrictions on the allowed size\nof jumps. We prove the existence of quadratic variation for typical price\npaths, where the qualification \"typical\" means that there is a trading strategy\nthat risks only one monetary unit and brings infinite capital if quadratic\nvariation does not exist. This result allows one to apply numerous known\nresults in pathwise Ito calculus to typical price paths; we give a brief\noverview of such results."}, "authors": ["Vladimir Vovk"], "author_detail": {"name": "Vladimir Vovk"}, "author": "Vladimir Vovk", "arxiv_comment": "29 pages", "links": [{"href": "http://arxiv.org/abs/1108.0799v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1108.0799v2", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "q-fin.TR", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "q-fin.TR", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.PR", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "60G17, 60G05, 60G44, 91G99", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1108.0799v2", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1108.0799v2", "journal_reference": null, "doi": null, "fulltext": "arXiv:1108.0799v2 [q-fin.TR] 29 Aug 2014\n\nIt\u00f4 calculus without probability in\nidealized financial markets\nVladimir Vovk\n\nThe Game-Theoretic Probability and Finance Project\nWorking Paper #36\nFirst posted August 3, 2011. Last revised October 25, 2018.\nProject web site:\nhttp://www.probabilityandfinance.com\n\n\fAbstract\nWe consider idealized financial markets in which price paths of the traded securities are c\u00e0dl\u00e0g functions, imposing mild restrictions on the allowed size of jumps.\nWe prove the existence of quadratic variation for typical price paths, where the\nqualification \"typical\" means that there is a trading strategy that risks only one\nmonetary unit and brings infinite capital if quadratic variation does not exist.\nThis result allows one to apply numerous known results in pathwise It\u00f4 calculus\nto typical price paths; we give a brief overview of such results.\n\nContents\n1 Introduction\n\n1\n\n2 Pathwise quadratic variation\n\n2\n\n3 Typical price paths\n\n4\n\n4 Existence of quadratic variation\n\n8\n\n5 Multidimensional case\n\n16\n\n6 F\u00f6llmer's and Norvais\u0306a's quadratic variation\n\n19\n\n7 Implications of the existence of quadratic variation\n\n23\n\n8 Conclusion\n\n25\n\nReferences\n\n26\n\n\f1\n\nIntroduction\n\nIt\u00f4 calculus, based on the notion of the stochastic integral, plays an important\nrole in mathematical finance. However, the usual construction of the stochastic\nintegral relies on statistical assumptions about security prices, and it is not easy\nto come up with their realistic statistical models, as witnessed by the proliferation of various competing models in recent years. The pathwise stochastic\nintegral and It\u00f4 calculus proposed in 1981 by F\u00f6llmer [6] and developed by numerous authors (see, e.g., [14, 3]) do not depend on any statistical assumptions.\nThey, however, depend on the existence of quadratic variation for the allowed\npaths, which is postulated. The goal of this paper is to establish the existence of\nquadratic variation of security prices under weak conditions that can be justified\nfrom the economic point of view.\nThe existence of quadratic variation for typical continuous price paths was\nestablished in [21], where it served as a tool for studying properties of typical\nprice paths, such as their volatility. This paper proves the existence of quadratic\nvariation under a weaker assumption than in [21]: the price paths are assumed\nto be c\u00e0dl\u00e0g without huge jumps. A related result was obtained in [22]: that\npaper shows that the p-variation of typical prices paths is finite for p > 2. The\nassumptions of [22] are not comparable to the assumptions of this paper: on\none hand, there are no restrictions on the size of jumps in [22], but on the other\nhand, the price paths are assumed nonnegative (albeit strong, this assumption\nis natural in the context of financial markets). In this paper, we will often be\nusing results and methods of [22].\nThis paper, like [21] and [22], is written in the tradition of game-theoretic\nprobability (see, e.g., [17, 19, 11, 12, 13]). In game-theoretic probability,\nprobability-like notions (such as the upper probabilities of events and upper\nprices of functions) are defined in terms of idealized financial markets, and\nmathematical finance is a natural field of application. The key technical tool\nused in this paper will be \"high-frequency limit order strategies\", introduced in\ngame-theoretic probability by [19].\nWe start the main part of the paper by defining in Section 2 the notion of\nquadratic variation, a version of F\u00f6llmer's pathwise definition adapted to our\ngoals. The next section, Section 3, states and discusses our assumption about\nthe jumps of price paths and defines the notion of a typical price path. Our main\nresult, the existence of quadratic variation for typical price paths, is established\nin Section 4. Section 5 extends this result to typical vector-valued price paths;\nin particular, it proves the existence of quadratic covariation between two price\npaths. Section 6 compares the notion of quadratic variation used in this paper\nwith Norvais\u0306a's [14] and F\u00f6llmer's [6]; we show that under natural conditions\n(satisfied in the main example in this paper) the first two notions of quadratic\nvariation are equivalent, whereas F\u00f6llmer's notion becomes equivalent to them\nwhen another natural condition is added. Section 7 summarizes some of the\nknown results for price paths possessing quadratic variation.\n\n1\n\n\fNotation\nThe set of all real (resp. rational, resp. integer) numbers is denoted R (resp.\nQ, resp. Z). The set of all natural numbers is denoted N: N := {1, 2, . . .}; set\nN0 := N \u222a {0}. We use the usual notation u \u2228 v := max(u, v), u \u2227 v := min(u, v),\nand u+ := u \u2228 0. If s < t, we will use the notation s \u2228 u \u2227 t to mean (s \u2228 u) \u2227 t =\ns \u2228 (u \u2227 t). The expression inf \u2205 is always interpreted as \u221e.\nThe set of all c\u00e0dl\u00e0g (i.e., continuous on the right and having limits on the\nleft) functions \u03c9 : [0, T ] \u2192 R, where T > 0, will be denoted D[0, T ]. If \u03c9 \u2208\nD[0, T ] and t \u2208 (0, T ], we set \u03c9(t\u2212) := lims\u2191t \u03c9(s) and \u2206\u03c9(t) := \u03c9(t) \u2212 \u03c9(t\u2212).\nAs usual, C n (R) stands for the set of all functions f : R \u2192 R that are n times\ncontinuously differentiable.\n\n2\n\nPathwise quadratic variation\n\nLet \u03c9 : [0, T ] \u2192 R be a c\u00e0dl\u00e0g function, interpreted as the price path of a\nfinancial security over the time period [0, T ] whose end-point T > 0 is fixed\nthroughout the paper. In this section we give a modification of F\u00f6llmer's [6]\ndefinition of the quadratic variation of \u03c9; F\u00f6llmer's definition itself will be discussed in Section 6.\nA partition (of [0, T ]) is a finite sequence of numbers 0 = t0 < t1 < * * * <\ntm \u2264 T ; we also set tk := \u221e for k > m. The mesh of this partition is\nmaxk\u2208N |(tk \u2227 T ) \u2212 (tk\u22121 \u2227 T )|.\nLet \u03c0 = (\u03c0 0 , \u03c0 1 , \u03c0 2 , . . .) be a nested sequence of partitions: for each n \u2208 N,\neach element of \u03c0 n\u22121 is an element of \u03c0 n (in this paper we concentrate on\nnested sequences of partitions). The nth approximation, n = 0, 1, 2, . . ., to the\nquadratic variation of \u03c9 along \u03c0 is defined by\nAn,\u03c0\nt\n\n:=\n\n\u221e\nX\n\n\u00012\nn\n\u03c9(\u03c0kn \u2227 t) \u2212 \u03c9(\u03c0k\u22121\n\u2227 t) ,\n\nt \u2208 [0, T ],\n\n(2.1)\n\nk=1\n\nwhere, for each n \u2208 N0 , \u03c0kn , k = 0, 1, . . ., are the elements of \u03c0 n : \u03c0 n =\n(\u03c00n , \u03c01n , \u03c02n , . . .) and there is m = m(n) \u2208 N0 such that 0 = \u03c00n < \u03c01n < * * * <\nn\n\u03c0m\n\u2264 T and \u03c0kn = \u221e for all k > m. By An,\u03c0 we will mean the function\nt \u2208 [0, T ] 7\u2192 An,\u03c0\nin D[0, T ].\nt\nIn this paper we will be interested in the uniform metric on D[0, T ]:\n\u03c1(\u03c9, \u03c9 0 ) := sup |\u03c9(t) \u2212 \u03c9 0 (t)| .\nt\u2208[0,T ]\n\n(This is an unusual metric for D[0, T ], but standard for the set C[0, T ] of continuous functions on [0, T ].) Notice that D[0, T ] is complete in the metric \u03c1;\nthis will be used in the proof of Theorem 1 below.\nWe say that \u03c9 has quadratic variation along \u03c0, where \u03c0 is a nested sequence\nof partitions, if the sequence An,\u03c0 converges in the uniform metric \u03c1. The limit,\nwhen it exists, is denoted A\u03c0 and called the quadratic variation of \u03c9 along \u03c0.\n\n2\n\n\fA sequence \u03c0 of partitions is dense if limn\u2192\u221e mesh(\u03c0 n ) = 0, where mesh(\u03c0 n )\nis the mesh of \u03c0 n . Quadratic variation along a sequence of partitions is usually\n(see, e.g., [6, 14]) defined only for dense sequences of partitions. The sequences\nof partitions considered in this paper are not always dense, and instead we will\nuse the following property. For \u03c9 \u2208 D[0, T ], we say that a nested sequence \u03c0 of\npartitions \u03c0 n , n = 0, 1, 2, . . ., exhausts \u03c9 if:\n\u2022 each t \u2208 (0, T ] such that \u2206\u03c9(t) 6= 0 belongs to \u03c0 n for some n (equivalently,\nfrom some n on);\n\u2022 each open interval (u, v) in which \u03c9 is not constant contains at least one\nelement of \u03c0 n for some n (equivalently, from some n on).\nFor \u03c9 \u2208 D[0, T ] and an interval I \u2286 [0, T ] set w\u03c9 I := sups1 ,s2 \u2208I |\u03c9(s2 ) \u2212\n\u03c9(s1 )|. The oscillation of \u03c9 \u2208 D[0, T ] over a partition \u03c0 n is defined as\n\u0002 n\n\u0001\n\u0001\nn\nosc\u03c0n (\u03c9) := max w\u03c9 \u03c0k\u22121\n\u2227 T, \u03c0kn \u2227 T = max w\u03c9 \u03c0k\u22121\n\u2227 T, \u03c0kn \u2227 T .\nk\u2208N\n\nk\u2208N\n\nLemma 1. If a nested sequence of partitions \u03c0 exhausts \u03c9 \u2208 D[0, T ],\nlim osc\u03c0n (\u03c9) = 0.\n\nn\u2192\u221e\n\n(2.2)\n\nProof. Let \u000f > 0. There exist points 0 = t0 < t1 < * * * < tr = T such that\nw\u03c9 [ti\u22121 , ti ) < \u000f for all i \u2208 {1, . . . , r} ([1], Lemma 14.1). Let n be so large that\n\u03c0 n contains all ti , i \u2208 {1, . . . , r}, with \u2206\u03c9(ti ) 6= 0 and contains a point in each\ninterval (ti\u22121 , ti ), i \u2208 {1, . . . , r}, such that \u03c9 is not constant in (ti\u22121 , ti ). For\nn\n\u2227 T ) does not contain any points ti with\nany k \u2208 N0 , the interval (\u03c0kn \u2227 T, \u03c0k+1\n\u2206\u03c9(ti ) 6= 0 and does not contain any intervals (ti\u22121 , ti ), i \u2208 {1, . . . , r}, where \u03c9\nn\nis not constant. Therefore, w\u03c9 (\u03c0kn \u2227 T, \u03c0k+1\n\u2227 T ) < 2\u000f. Since \u000f can be arbitrarily\nsmall, this completes the proof of (2.2).\nLemma 2. Suppose \u03c9 \u2208 D[0, T ] and \u03c0 is a nested sequence of partitions that\nexhausts \u03c9. If the quadratic variation A\u03c0 of \u03c9 along \u03c0 exists, it is a nondecreasing c\u00e0dl\u00e0g function satisfying A\u03c00 = 0 with jumps \u2206A\u03c0t = (\u2206\u03c9(t))2 for all\nt \u2208 (0, T ].\nProof. The equality A\u03c00 = 0 is obvious, and A\u03c0 is c\u00e0dl\u00e0g as the uniform limit\nof c\u00e0dl\u00e0g functions. (These statements do not rely on \u03c0 exhausting \u03c9, but the\nother statements of the lemma do require a density condition for \u03c0: they fail,\nfor example, when \u03c0 0 = \u03c0 1 = * * * = (0, \u221e, \u221e, . . .).)\nLet us now prove that A\u03c0 is nondecreasing. If it is not, there exist t1 < t2 \u2264\nT and \u000f \u2208 (0, 1) such that A\u03c0t1 > A\u03c0t2 + 2\u000f. For sufficiently large n, we will have\nn,\u03c0\nAn,\u03c0\nt1 > At2 + \u000f.\n\n(2.3)\n\nLet n be so large that, in addition, osc\u03c0n (\u03c9) < \u000f (cf. Lemma 1). Let t1 \u2208\n[\u03c0kn0 \u22121 , \u03c0kn0 ) and t2 \u2208 [\u03c0kn00 , \u03c0kn00 +1 ); notice that k 00 \u2265 k 0 . Since An,\u03c0\n\u2265 An,\u03c0\nt2\n\u03c0 n00\nk\n\n3\n\n\fn,\u03c0\n0\n00\n\u2212 1, (2.3) implies An,\u03c0\n\u2265 An,\u03c0\nand An,\u03c0\nn + \u000f. This,\nn for k = k , . . . , k\nn\nt1 > A\u03c0k\n\u03c0k\n\u03c0k+1\n0\nhowever, contradicts\n\n\u00012\n\u00012\nn,\u03c0\nn\nAn,\u03c0\n\u2212 \u03c9(\u03c0kn0 ) \u2212 \u03c9(\u03c0kn0 \u22121 )\nt1 \u2212 A\u03c0 n0 = \u03c9(t1 ) \u2212 \u03c9(\u03c0k0 \u22121 )\nk\n\n\u00012\n\u2264 \u03c9(t1 ) \u2212 \u03c9(\u03c0kn0 \u22121 ) < \u000f2 .\nIt remains to prove that \u2206A\u03c0t = (\u2206\u03c9(t))2 for all t \u2208 (0, T ]. Fix t \u2208 (0, T ]\nand \u000f > 0. Let n be so large that osc\u03c0n (\u03c9) < \u000f (cf. Lemma 1). Define k \u2208 N0\nn\nby the condition t \u2208 (\u03c0kn , \u03c0k+1\n]. Since\n2\n\n\u2206An,\u03c0\n= (\u03c9(t) \u2212 \u03c9(\u03c0kn )) \u2212 (\u03c9(t\u2212) \u2212 \u03c9(\u03c0kn ))\nt\n\n2\n\n= (\u2206\u03c9(t))2 + 2\u2206\u03c9(t) (\u03c9(t\u2212) \u2212 \u03c9(\u03c0kn )) ,\n\u2192 \u2206A\u03c0t and \u000f can be\n\u2212 (\u2206\u03c9(t))2 \u2264 2\u000f|\u2206\u03c9(t)|. As \u2206An,\u03c0\nwe have \u2206An,\u03c0\nt\nt\n2\n\u03c0\narbitrarily small, we obtain \u2206At = (\u2206\u03c9(t)) .\n\n3\n\nTypical price paths\n\nWe consider a perfect-information game between two players called Reality (financial market) and Sceptic (speculator). Reality outputs a c\u00e0dl\u00e0g function\n\u03c9 : [0, T ] \u2192 R, interpreted as the price path of a financial security, and Sceptic tries to profit by trading in \u03c9. First Sceptic presents his trading strategy\nand then Reality chooses \u03c9. In the first two subsections of this section we will\nformalize this picture (often following [22]) by defining the allowed moves for\nReality and strategies for Sceptic.\n\nSample space\nLet \u03c8 : [0, \u221e) \u2192 (0, \u221e) be a nondecreasing function, fixed through most of this\npaper. The set of allowed moves for Reality (our sample space) is\n(\n!)\n\u03a9\u03c8 :=\n\n\u03c9 \u2208 D[0, T ] \u2200t \u2208 (0, T ] : |\u2206\u03c9(t)| \u2264 \u03c8\n\nsup |\u03c9(s)|\n\n.\n\n(3.1)\n\ns\u2208[0,t)\n\nThe function \u03c8 determines the allowed size of the jumps. It can be arbitrarily\nlarge (but needs, however, to be known in advance). Our conclusions (e.g., in\nTheorems 1 and 2) will not depend on \u03c8; therefore, our results become stronger\nas \u03c8 becomes larger.\nTwo natural examples of restrictions on the jumps are:\n\u2022 The absolute values |\u2206\u03c9(t)| of \u03c9's jumps never exceed a known constant\nc > 0. Such price paths \u03c9 belong to \u03a9c .\n\u2022 The price path \u03c9 is known to be nonnegative, and the relative values\n\u2206\u03c9(t)/ sups\u2208[0,t) |\u03c9(s)| (with 0/0 := 0) of \u03c9's jumps w.r. to their largest\n4\n\n\fvalue so far never exceed a known constant c > 0. Such \u03c9 belong to \u03a9\u03c8 ,\nwhere \u03c8(u) = (c \u2228 1)u. (There is no need to explicitly restrict downward\njumps when \u03c9 \u2265 0: they are restricted automatically by the current value\nof the security.)\nThe first example is the simplest one mathematically and will be used in the\nproof of our main result in Section 4. The second example is more relevant to\nmany real financial markets, and its generalized and elaborated version will be\ndiscussed at the end of this section.\n\nTrading strategies\nFor each t \u2208 [0, T ], Ft\u25e6 is defined to be the smallest \u03c3-algebra on \u03a9\u03c8 that makes\nall functions \u03c9 7\u2192 \u03c9(s), s \u2208 [0, t], measurable; Ft is defined as the universal\ncompletion of Ft\u25e6 . A process (more fully, adapted process) S is a family of\nfunctions St : \u03a9\u03c8 \u2192 [\u2212\u221e, \u221e], t \u2208 [0, T ], each St being Ft -measurable. An event\nis an element of the \u03c3-algebra FT . Stopping times \u03c4 : \u03a9\u03c8 \u2192 [0, T ] \u222a {\u221e} w.r.\nto the filtration (Ft ) and the corresponding \u03c3-algebras F\u03c4 are defined as usual;\n\u03c9(\u03c4 (\u03c9)) and S\u03c4 (\u03c9) (\u03c9) will often be simplified to \u03c9(\u03c4 ) and S\u03c4 (\u03c9), respectively.\nThe class of allowed strategies for Sceptic is defined in two steps. A simple\ntrading strategy G consists of: (a) a nondecreasing infinite sequence of stopping\ntimes \u03c41 \u2264 \u03c42 \u2264 * * * such that, for each \u03c9 \u2208 \u03a9\u03c8 , \u03c4n (\u03c9) < \u221e for only finitely\nmany n; (b) for each n = 1, 2, . . ., a bounded F\u03c4n -measurable function hn . To\nsuch G and an initial capital \u03b1 \u2208 R corresponds the simple capital process\nKtG,\u03b1 (\u03c9) := \u03b1 +\n\n\u221e\nX\n\n\u0001\nhn (\u03c9) \u03c9(\u03c4n+1 \u2227 t) \u2212 \u03c9(\u03c4n \u2227 t) ,\n\nt \u2208 [0, T ];\n\n(3.2)\n\nn=1\n\nthe value hn (\u03c9) will be called the position taken at time \u03c4n , and KtG,\u03b1 (\u03c9) will\nsometimes be referred to as Sceptic's capital at time t. Notice that the sum of\nfinitely many simple capital processes is again a simple capital process.\nA nonnegative capital process is any process S that can be represented in\nthe form\n\u221e\nX\nSt (\u03c9) :=\nKtGn ,\u03b1n (\u03c9),\n(3.3)\nn=1\n\nwhere the simple capital processes KtGn ,\u03b1n (\u03c9)Pare required to be nonnegative,\n\u221e\nfor all t and \u03c9, and the nonnegative series\nn=1 \u03b1n is required to converge\nin R (intuitively, the total capital invested has to be finite). The sum (3.3) is\nalways nonnegative, but we allow it to take value +\u221e. Since K0Gn ,\u03b1n (\u03c9) = \u03b1n\ndoes not depend on \u03c9, S0 (\u03c9) also does not depend on \u03c9 and will sometimes be\nabbreviated to S0 .\n\nUpper price\nThe upper price of a set E \u2286 \u03a9\u03c8 is defined as\n\b\nP(E) := inf S0 \u2200\u03c9 \u2208 \u03a9\u03c8 : ST (\u03c9) \u2265 1E (\u03c9) ,\n5\n\n(3.4)\n\n\fwhere S ranges over the nonnegative capital processes and 1E stands for the\nindicator of E. Notice that P(\u03a9\u03c8 ) = 1 (in the terminology of [17], our game\nprotocol is \"coherent\"): indeed, P(\u03a9\u03c8 ) < 1 would mean that some nonnegative\ncapital process increases between time 0 and T for all \u03c9 \u2208 \u03a9\u03c8 , and this is clearly\nimpossible for constant \u03c9.\nRemark 1. The notion of upper price (introduced in [20]) is similar to the\nnotion of upper hedging price (see, e.g., [7], Section 7.3) except that the latter\nreplaces the requirement \u2200\u03c9 : ST (\u03c9) \u2265 1E (\u03c9) in (3.4) by \"ST \u2265 1E a.s.\", thus\nrequiring a statistical model for prices (which is, however, only used via its\nfamily of events of probability zero).\nRemark 2. An alternative probability-free definition of upper price is given in\n[15], Definition 1, and [16], Definition 3.1. See [15], Section 2.1, for a comparison\nof the two definitions; an advantage of our definition for the purpose of this paper\nis that our mathematical results are at least as strong (and possibly stronger)\nwhen they use our definition than when they use the definition of [15, 16] (see\n[16], Lemma 10).\nWe say that E \u2286 \u03a9\u03c8 is null if P(E) = 0. A property of \u03c9 \u2208 \u03a9\u03c8 will be said\nto hold for typical \u03c9 if the set of \u03c9 where it fails is null. Correspondingly, a set\nE \u2286 \u03a9\u03c8 is almost certain if P(\u03a9\u03c8 \\ E) = 0. All null sets E are automatically\nstrictly null : there exists a nonnegative capital process S with S0 = 1 such that\nST (\u03c9) = \u221e for all \u03c9 \u2208 E (indeed, if E is null, we can sum nonnegative capital\nprocesses S n , n \u2208 N, such that S0n = 2\u2212n and STn \u2265 1E ). Notice that the union\nof countably (in particular, finitely) many null sets is also a null set.\n\nOur definitions in view of margin requirements\nIn the rest of this section we discuss our definitions in view of the margin\nrequirements that traders usually have to comply with. Suppose, for concreteness, that \u03c9 is the price path of a common stock. We then have \u03c9(t) \u2265 0 for all\nt \u2208 [0, T ]. Our definition (3.2) implicitly assumes the following picture. Sceptic\nstarts from the amount \u03b1 in his margin account, and he never adds funds to\nor withdraws funds from the account. He is allowed to take both positive and\nnegative positions in the stock (can go both long and short), but the capital in\nhis account should always stay nonnegative. Let us consider a somewhat more\nrealistic picture where Sceptic is required not only to keep the capital in the\nmargin account nonnegative but also to satisfy margin requirements.\nIn general, different margin requirements apply to long and short positions.\nThe rules can be summarized as follows. In the case of a long position, the\ncapital in the margin account should not only be nonnegative but should stay\nnonnegative in the imaginary event that the stock price immediately drops by\n100clg %, where clg is the minimum margin requirement for long positions. In\nthe case of a short position, the capital in the margin account should not only\nbe nonnegative but should stay nonnegative in the imaginary event that the\nstock price immediately rises by 100csh %, where csh is the minimum margin\n6\n\n\frequirement for short positions. Different values may be used for clg and csh\nat the time when the position is opened and at later times; they are called the\ninitial and maintenance margin requirements, respectively. The current initial\nmargin requirements stipulated by the Federal Reserve Board [5] are the same\nfor both long and short positions: clg = csh = 0.5. The maintenance margin\nrequirement never exceeds the initial margin requirement, and we make Sceptic's\ntask harder by setting the former to the latter. As \u03c9 \u2265 0, we always assume\nclg \u2264 1.\nIf the margin requirement becomes violated, the trader receives a request,\nknown as a margin call, to add funds to the account. If the margin call is\nignored, the account can be liquidated. We will assume that the margin account\nprovides \"non-recourse\" loans on the part of the broker, so that the trader is\nnot responsible for any possible shortfall after liquidation.\nRemark 3. Although being non-recourse is a common feature of some related\nkinds of loan, such as stock loans, margin loans themselves are legally recourse\nloans in the USA. However, the assumption that margin loans are non-recourse\nis not unusual ([8], p. 29) and there is a view that \"margin loans, while legally\nrecourse loans, might be in a limbo, somewhere between recourse and nonrecourse\" ([8], p. 38).\nThe trading strategy developed in this paper (see Theorem 1) starts with one\nmonetary unit, makes sure that the capital is always nonnegative, and brings\ninfinite capital if the quadratic variation of \u03c9 does not exist; it, however, assumes\nthat \u03c9 \u2208 \u03a9\u03c8 . (What it means for the quadratic variation of \u03c9 \u2208 \u03a9\u03c8 to exist will\nbe defined in the next section and is not important for the current discussion.)\nThe strategy, however, has two disadvantages:\n\u2022 whereas ensuring that its capital is always nonnegative when \u03c9 \u2208 \u03a9\u03c8 , it\nis not guaranteed to satisfy the margin requirements;\n\u2022 the strategy can lead to a negative capital when \u03c9 \u2208\n/ \u03a9\u03c8 .\nIf we, however, apply our result to the sample space \u03a9\u03c80 in place of \u03a9\u03c8 , where\n\u0001\n\u03c8 0 (u) := 1 \u2228 (1 + csh )\u03c8(u) + csh u ,\n(3.5)\nwe will obtain a trading strategy satisfying the following stronger guarantees: it\nstill starts with one monetary unit; it makes sure that the margin requirements\nare satisfied if \u03c9 \u2208 \u03a9\u03c8 ; it brings infinite capital if \u03c9 \u2208 \u03a9\u03c8 but the quadratic\nvariation of \u03c9 does not exist; it never loses more than the one monetary unit\n(because the strategy always ignores margin calls).\nLet us check that the trading strategy constructed for \u03a9\u03c80 will indeed satisfy\nthe margin requirements for each of the constituent accounts (corresponding to\nthe addends in (3.3)), supposing \u03c9 \u2208 \u03a9\u03c8 . Since \u03c8 0 \u2265 1, at each time when\nthe position is long the capital in the account will be no less than the value\nof the stock in the account at this time (otherwise, a 100% downward jump in\nthe price of \u03c9 would have led to a negative capital). Since clg \u2264 1, the margin\n7\n\n\frequirement will be satisfied. It remains to consider a time t when the position\nis short. The worst case is when the price jumps up by the largest allowed\namount becoming \u03c9(t) + \u03c8(sups\u2208[0,t) \u03c9(s)). The margin requirements will be\nsatisfied if the capital resulting from the imaginary event that the price again\njumps up by a factor of 1 + csh is still nonnegative. This is guaranteed by our\nstrategy since, by (3.5),\n!!\n!\n(1 + csh ) \u03c9(t) + \u03c8\n\nsup \u03c9(s)\n\n\u2264 \u03c9(t) + \u03c8 0\n\ns\u2208[0,t)\n\n4\n\nsup \u03c9(s) .\ns\u2208[0,t)\n\nExistence of quadratic variation\n\nIn this section we define a suitable sequence of partitions \u03c4 n (\u03c9) for each \u03c9 \u2208\n\u03a9\u03c8 and show that the quadratic variation of \u03c9 along this sequence exists for\ntypical \u03c9.\nFor each n \u2208 N0 , let Dn := {k2\u2212n | k \u2208 Z} and define a sequence of stopping\ntimes \u03c4kn , k = 0, 1, 2, . . ., and a sequence Dkn , k = 0, 1, 2, . . ., of F\u03c4kn -measurable\nfunctions inductively by \u03c40n := 0, D0n := sup(Dn \u2229 (\u2212\u221e, \u03c9(0)]),\n\b\nn\nn\nn\n\u03c4kn (\u03c9) := inf t \u2208 [\u03c4k\u22121\n(\u03c9), T ] | J\u03c9(\u03c4k\u22121\n), \u03c9(t)K \u2229 (Dn \\ {Dk\u22121\n(\u03c9)}) 6= \u2205 ,\nDkn (\u03c9) \u2208 argminD\u2208J\u03c9(\u03c4 n\n\nn\nk\u22121 ),\u03c9(\u03c4k )K\u2229\n\nn\n\nn\n(\u03c9)}) |D \u2212 \u03c9(\u03c4k )|\n(Dn \\{Dk\u22121\n\n(4.1)\n\nfor k = 1, 2, . . ., where we use the notation\n(\n[u, v] if u \u2264 v\nJu, vK :=\n[v, u] if u > v\nfor the convex closure of the set {u, v}. Notice that the argmin in (4.1) is a\none-element set, and so Dkn (\u03c9) is determined uniquely.\nWe will check that \u03c4kn are indeed stopping times and that Dkn are F\u03c4kn measurable in Lemma 3 below. If \u03c4kn (\u03c9) = \u221e (arising from our convention\ninf \u2205 := \u221e), we set, e.g., Dkn (\u03c9) := 0. The intuition behind Dkn is that it is the\ncurrent element of Dn at time \u03c4kn ; when \u03c9 is continuous, Dkn = \u03c9(\u03c4kn ) (this is\nthe case considered in [21]), but in general we only have |Dkn \u2212 \u03c9(\u03c4kn )| < 2\u2212n ,\nassuming \u03c4kn < \u221e. Let \u03c4 n (\u03c9) be the partition 0 = \u03c40n (\u03c9) \u2264 \u03c41n (\u03c9) \u2264 \u03c42n (\u03c9) \u2264 * * *\nn\n(in fact, we will have \u03c4kn (\u03c9) < \u03c4k+1\n(\u03c9) unless \u03c4kn (\u03c9) = \u221e), and let \u03c4 (\u03c9) be the\nn\nsequence of the partitions \u03c4 (\u03c9).\nTheorem 1. Let \u03c8 : [0, \u221e) \u2192 (0, \u221e) be a nondecreasing function. Typical\n\u03c9 \u2208 \u03a9\u03c8 have quadratic variation along \u03c4 (\u03c9).\nThe theorem says that for typical \u03c9 \u2208 \u03a9\u03c8 the sequence of functions\nAnt (\u03c9) :=\n\n\u221e\nX\n\nn\n\u03c9(\u03c4kn \u2227 t) \u2212 \u03c9(\u03c4k\u22121\n\u2227 t)\n\nk=1\n\n8\n\n\u00012\n\n,\n\nn = 0, 1, 2, . . . ,\n\n(4.2)\n\n\fconverges in the uniform metric to a function A(\u03c9) \u2208 D[0, T ]. (In this section,\nwe omit mentioning the sequence of partitions in our notation for quadratic\nvariation.) Since the sequence of partitions \u03c4 n (\u03c9) is always nested and exhausts\n\u03c9 (see Lemma 3 below), by Lemma 2, the limit A(\u03c9) will be a nondecreasing\nfunction satisfying A0 (\u03c9) = 0 and \u2206At (\u03c9) = (\u2206\u03c9(t))2 for all t \u2208 (0, T ].\nThe following lemma lists several useful properties of \u03c4kn and Dkn .\nLemma 3. The functions \u03c4kn : \u03a9\u03c8 \u2192 [0, \u221e] and Dkn : \u03a9\u03c8 \u2192 R satisfy the\nfollowing properties:\n(a) the infimum in the definition of \u03c4kn (\u03c9) is attained, provided \u03c4kn (\u03c9) < \u221e;\nn\nn\nunless \u03c4k\u22121\n= \u221e;\n(b) \u03c4kn > \u03c4k\u22121\n\n(c) for each n, \u03c4kn < \u221e for only finitely many k;\n(d) the sequences \u03c4 n are nested: for all n, k \u2208 N0 there is k 0 such that \u03c4kn+1\n=\n0\n\u03c4kn ;\n(e) for each \u03c9 \u2208 \u03a9\u03c8 , the sequence of partitions \u03c4 n (\u03c9) exhausts \u03c9;\n(f ) \u03c4kn are bona fide stopping times and Dkn are F\u03c4kn -measurable.\nProof. Parts (a) and (b) follow from the right-continuity of \u03c9.\nPart (c) follows from the observation that the total number of upcrossings\nand downcrossings of the intervals of the form (i2\u2212n , (i + 1)2\u2212n ), i \u2208 Z, by\n\u03c9 over the time interval [0, \u03c4kn ] is at least k \u2212 1; remember that functions in\nD[0, T ] are bounded and can cross any non-empty interval only finitely often\n([4], Theorem 4.22).\nPart (d) can be easily proved by induction in k if it is strengthened as\nfollows: for each n \u2208 N0 there is a (unique) sequence 0 = i0 \u2264 i1 \u2264 * * * such\nthat \u03c4in+1\n= \u03c4kn and Din+1\n\u2212 Dkn \u2264 2\u2212n\u22121 .\nk\nk\nPart (e) is obvious.\nIt remains to prove part (f). Fix n \u2208 N0 ; we will use induction in k (\u03c40n = 0\nn\nis a stopping\nis obviously a stopping time). Fix k \u2208 N and suppose that \u03c4k\u22121\nn\nn\ntime and Dk\u22121 is F\u03c4k\u22121\n-measurable. Let t \u2208 (0, T ]. The condition \u03c4kn (\u03c9) \u2264 t on\n\u03c9 can be rewritten as:\nn\nn\n\u2203u \u2208 (0, t) \u2229 Q \u2203D \u2208 Dn : \u03c4k\u22121\n\u2264 u & Dk\u22121\n=D &\n\n(4.3)\nn\n\n\u2203s \u2208 (u, t] : J\u03c9(u), \u03c9(s)K \u2229 (D \\ {D}) 6= \u2205\n\n(4.4)\n\n(this uses the right-continuity of \u03c9). To complete the proof that \u03c4kn is a stopping\ntime, it suffices to prove that for any rational number u \u2208 (0, t) and any D \u2208 Dn ,\nthe event (4.4) belongs to Ft .\nIt is clear that (4.4) can be represented as the union of events of the form\n{\u2203s \u2208 (u, t] : \u03c9(u) \u2264 D0 & \u03c9(s) \u2265 D00 }\n= {\u03c9(u) \u2264 D0 } \u2229 {\u2203s \u2208 (u, t] : \u03c9(s) \u2265 D00 }\n\n9\n\n\f(perhaps with \"\u2264\" and \"\u2265\" interchanged) for some D0 , D00 \u2208 Dn . Therefore, it\nsuffices to prove that the event\n\u2203s \u2208 (u, t] : \u03c9(s) \u2265 D00\n\n(4.5)\n\nis in Ft (the case with \"\u2264\" in place of \"\u2265\" is treated analogously).\nThe event (4.5) is the projection onto \u03a9\u03c8 of the set A := {(s, \u03c9) \u2208 (u, t] \u00d7\n\u03a9\u03c8 | \u03c9(s) \u2265 D00 }. Since c\u00e0dl\u00e0g processes are progressively measurable, A \u2208\nBt \u00d7 Ft\u25e6 , where Bt is the Borel \u03c3-algebra on [0, t] and Bt \u00d7 Ft\u25e6 is the product \u03c3algebra. This implies that the projection (4.5) is an Ft\u25e6 -analytic set (according\nto [4], Theorem III.13(3)), which in turn implies that this set is in the universal\ncompletion Ft of Ft\u25e6 (according to [4], Theorem III.33).\nWe can see that \u03c4kn is a stopping time. By induction in k, each Dkn is \u03c4kn measurable: indeed, for D \u2208 Dn , Dkn = D is equivalent to \u03c9(\u03c4kn ) \u2208 [D, D + 2\u2212n )\nn\nn\nwhen D > Dk\u22121\n, is equivalent to \u03c9(\u03c4kn ) \u2208 (D \u2212 2\u2212n , D] when D < Dk\u22121\n, and\nn\nis impossible when D = Dk\u22121 .\n\nAuxiliary results\nThe rest of this section is devoted to the proof of Theorem 1. First we notice\nthat it suffices to prove Theorem 1 only in the case where \u03c8 is constant, \u03c8 = c\nfor c > 0. Indeed, suppose Theorem 1 holds for all \u03c8 = c and let us prove it for\ngeneral nondecreasing \u03c8. Since functions in D[0, T ] are bounded and unions of\ncountably many null sets are null, it suffices to prove, for a fixed L \u2208 N, that\ntypical \u03c9 \u2208 \u03a9\u03c8 satisfying supt\u2208[0,T ] |\u03c9(t)| \u2264 2L have quadratic variation along\n\u03c4 (\u03c9). The latter can be achieved by: (a) running a trading strategy risking at\nmost one monetary unit and bringing infinite capital when \u03c9 \u2208 \u03a9c for c := \u03c8(2L )\nand \u03c9 does not have quadratic variation along \u03c4 (\u03c9), and (b) stopping trading\nat the time\n\b\n\u03c3L (\u03c9) := inf t \u2208 [0, T ] | |\u03c9(t)| \u2265 2L\n(4.6)\n(this is a stopping time: see the proof of Lemma 3(f)).\nNext we prove several auxiliary lemmas, assuming \u03c8 = c for c \u2265 1 (there is\nno loss of generality in the further assumption c \u2265 1).\nLemma 4. For each n \u2208 N, the process Stn := Ant \u2212 Atn\u22121 is a simple capital\nprocess.\nProof. We will show that Stn is the capital process of a simple trading strategy\nn\n] \u2229 [0, T ]:\nthat changes its position only at times \u03c4kn . We have, for t \u2208 [\u03c4kn , \u03c4k+1\n\u0011\n\u0001 \u0010 n\nStn \u2212 S\u03c4nkn = Ant \u2212 An\u22121\n\u2212 A\u03c4kn \u2212 An\u22121\nt\n\u03c4kn\n\u0010\n\u0011 \u0010\n\u0011\nn\u22121\n= Ant \u2212 An\u03c4kn \u2212 An\u22121\n\u2212\nA\nn\nt\n\u03c4k\n\u0010\n\u00112 \u0010\n\u0011\n2\n2\n= \u03c9(t) \u2212 \u03c9(\u03c4kn ) \u2212 (\u03c9(t) \u2212 \u03c9(\u03c4 )) \u2212 (\u03c9(\u03c4kn ) \u2212 \u03c9(\u03c4 ))\n= \u22122 (\u03c9(\u03c4kn ) \u2212 \u03c9(\u03c4 )) (\u03c9(t) \u2212 \u03c9(\u03c4kn )) ,\n10\n\n(4.7)\n\n\fwhere \u03c4 := max{\u03c4kn\u22121\n| \u03c4kn\u22121\n\u2264 \u03c4kn }. Therefore, it suffices to take position\n0\n0\nn\nn\n\u22122 (\u03c9(\u03c4k ) \u2212 \u03c9(\u03c4 )) at time \u03c4k .\nThe proof of Theorem 1 involves the following simple capital process (based\non a standard idea going back to at least Kolmogorov [9]):\n\u221e \u0010\n\u00112\nX\n.\n(4.8)\nUtn := 2\u22122n+8 c2 + n4 2\u22122n + (Stn )2 \u2212\nS\u03c4nkn \u2227t \u2212 S\u03c4nk\u22121\nn\n\u2227t\nk=1\n\nLemma 5. For each n \u2208 N,\n\nUtn\n\nis indeed a simple capital process.\n\nProof. As in the previous lemma, the position is only changed at times \u03c4kn .\nn\nWhen t \u2208 [\u03c4kn , \u03c4k+1\n] \u2229 [0, T ], we have:\n!\nk \u0010\n\u00112 \u0010\n\u00112\nX\nn\nn\nn 2\nn\nn\nn\nn\nUt \u2212 U\u03c4kn = (St ) \u2212\nS\u03c4in \u2212 S\u03c4i\u22121\n\u2212 St \u2212 S\u03c4kn\nn\ni=1\n\n\u2212\n\nk \u0010\n\u0010\n\u00112 X\n\u00112\nS\u03c4nkn \u2212\nS\u03c4nin \u2212 S\u03c4ni\u22121\nn\n\n!\n\ni=1\n\n=\n\n2S\u03c4nkn\n\n\u0010\n\nStn\n\n\u2212\n\nS\u03c4nkn\n\n\u0011\n\n= \u22124S\u03c4nkn (\u03c9(\u03c4kn ) \u2212 \u03c9(\u03c4 )) (\u03c9(t) \u2212 \u03c9(\u03c4kn ))\n(the last equality follows from (4.7)). Therefore, it suffices to take position\n\u22124S\u03c4nkn (\u03c9(\u03c4kn ) \u2212 \u03c9(\u03c4 )) at time \u03c4kn .\nSet\n\n(\nn\n\n\u03c3 := min\n\nn\n\u03c4K\n\nK \u0010\nX\n\nS\u03c4nkn\n\n\u2212\n\nS\u03c4nk\u22121\nn\n\n\u00112\n\n)\n4 \u22122n\n\n>n 2\n\n.\n\n(4.9)\n\nk=1\n\nWe will be interested in the nonnegative simple capital process U\u03c3nn \u2227t ; its\nnonnegativity (on \u03a9\u03c8 = \u03a9c ) follows from (Stn \u2212 S\u03c4nkn )2 \u2264 2\u22122n+8 c2 , where\nn\nt \u2208 [\u03c4kn , \u03c4k+1\n] \u2229 [0, T ], which in turn follows from (4.7):\nStn \u2212 S\u03c4nkn = 2 |\u03c9(\u03c4kn ) \u2212 \u03c9(\u03c4 )| |\u03c9(t) \u2212 \u03c9(\u03c4kn )|\n\u2264 2 2 \u00d7 2\u2212n+1\n\n\u0001\n\n\u0001\nc + 2 \u00d7 2\u2212n \u2264 2\u2212n+4 c.\n\nTo analyse the process U\u03c3nn \u2227t we will need a probability-free version of Doob's\nupcrossing inequality (Lemma 6 below) and its corollary (Lemma 7) obtained\nby a method proposed by Bruneau [2] and developed and simplified in [18] and\n[22].\n(a,b)\n(a,b)\nLet Mt (f ) (resp. Dt (f )) be the number of upcrossings (resp. downcrossings) of an open interval (a, b) by a function f : [0, T ] \u2192 R during the time\ninterval [0, t]. For each h > 0 set\nX (kh,(k+1)h)\nX (kh,(k+1)h)\nMt (f, h) :=\nMt\n(f ), Dt (f, h) :=\nDt\n(f ).\nk\u2208Z\n\nk\u2208Z\n\nRemember that \u03c3L is the stopping time defined by (4.6).\n11\n\n\fLemma 6. Let L \u2208 N and (a, b) \u2286 (\u22122L , 2L ) be a non-empty interval. There\nexists a nonnegative simple capital process V that starts from V0 = a + 2L + c\nand satisfies\n(a,b)\nVt (\u03c9) \u2265 (b \u2212 a) Mt (\u03c9)\n(4.10)\nfor all \u03c9 \u2208 \u03a9\u03c8 = \u03a9c and all t \u2208 [0, \u03c3L (\u03c9)].\n(Remember that V being nonnegative means that Vt (\u03c9) \u2265 0 for all t and \u03c9 \u2208\n\u03a9\u03c8 .)\nProof. The following standard argument will be easy to formalize. A simple\ntrading strategy G leading to V can be defined as follows. The initial capital\nis a + 2L + c. At first G takes position 0. When \u03c9 first hits (\u2212\u221e, a], G takes\nposition 1 until \u03c9 hits [b, \u221e), at which point G takes position 0; after \u03c9 hits\n(\u2212\u221e, a], G maintains position 1 until \u03c9 hits [b, \u221e), at which point G takes\nposition 0; etc. The only exception is that trading is stopped at time \u03c3L : the\nposition at that time becomes 0 and stays 0 afterwards. (The essential bit is that\ntrading should be stopped when \u03c9 hits (\u2212\u221e, \u22122L ], if this ever happens.) Since\n\u03c9's jumps never exceed c in absolute value, the process S will be nonnegative.\nFormally, we define \u03c41 := inf{t \u2208 [0, T ] | \u03c9(t) \u2208 (\u2212\u221e, a]} and, for n =\n2, 3, . . .,\n\u03c4n := inf{t \u2208 [0, T ] | t > \u03c4n\u22121 & \u03c9(t) \u2208 In },\nwhere In := [b, \u221e) for even n and In := (\u2212\u221e, a] for odd n. Each \u03c4n is a\nstopping time: this can be shown analogously to the proof of Lemma 3(f). We\nhave \u03c4n (\u03c9) < \u221e for only finitely many n since \u03c9 is c\u00e0dl\u00e0g: see, e.g., [4], Theorem\nIV.22.\nSince \u03c9 is a right-continuous function and (\u2212\u221e, a] and [b, \u221e) are closed\nsets, the infimum in the definition of \u03c4n , n = 1, 2, . . ., is attained when \u03c4n < \u221e.\nTherefore, \u03c9(\u03c41 ) \u2264 a, \u03c9(\u03c42 ) \u2265 b, \u03c9(\u03c43 ) \u2264 a, \u03c9(\u03c44 ) \u2265 b, and so on while \u03c4n < \u221e.\nSet, for n = 1, 2, . . .,\n\uf8f1\n\uf8f4\n\uf8f2\u03c4n if \u03c4n < \u03c3L\n\u03c4n0 := \u03c3L if \u03c4n\u22121 < \u03c3L \u2264 \u03c4n\n\uf8f4\n\uf8f3\n\u221e otherwise\n(the inequality \u03c4n\u22121 < \u03c3L is considered to be true when n = 1). The position\ntaken by G at the time \u03c4n0 , n = 1, 2, . . ., is\n(\n1 if \u03c4n0 < \u03c3L and n is odd\nhn :=\n0 otherwise,\nand the initial capital is a + 2L + c. Let t \u2208 [0, \u03c3L ] and n be the largest integer\nsuch that \u03c4n \u2264 t (with n := 0 when \u03c41 > t; the formulas below will never involve\n\u03c40 ). Now we obtain from (3.2): if n is even,\nVt (\u03c9) = V0 + (\u03c9(\u03c42 ) \u2212 \u03c9(\u03c41 )) + (\u03c9(\u03c44 ) \u2212 \u03c9(\u03c43 )) + * * * + (\u03c9(\u03c4n ) \u2212 \u03c9(\u03c4n\u22121 ))\n12\n\n\f(a,b)\n\n\u2265 a + 2L + c + (b \u2212 a) Mt\n\n(\u03c9),\n\nand if n is odd,\nVt (\u03c9) = V0 + (\u03c9(\u03c42 ) \u2212 \u03c9(\u03c41 )) + (\u03c9(\u03c44 ) \u2212 \u03c9(\u03c43 )) + * * * + (\u03c9(\u03c4n\u22121 ) \u2212 \u03c9(\u03c4n\u22122 ))\n+ (\u03c9(t) \u2212 \u03c9(\u03c4n ))\n(a,b)\n\n(\u03c9) + (\u03c9(t) \u2212 \u03c9(\u03c4n ))\n\n(a,b)\n\n(\u03c9) + (\u22122L \u2212 c \u2212 a) = (b \u2212 a) Mt\n\n\u2265 a + 2L + c + (b \u2212 a) Mt\n\u2265 a + 2L + c + (b \u2212 a) Mt\n\n(a,b)\n\n(\u03c9);\n\nin both cases, (4.10) holds. In particular, Vt (\u03c9) is nonnegative.\nLemma 7. Let L \u2208 N. For each n \u2208 N, there exists a nonnegative simple\ncapital process V such that V0 \u2264 2L + c and Vt (\u03c9) \u2265 2\u22122n\u2212L\u22121 Mt\u2212 (\u03c9, 2\u2212n ) for\nall \u03c9 \u2208 \u03a9c and all t \u2208 [0, \u03c3L (\u03c9)].\nProof. By Lemma 6, for each k \u2208 {\u22122L+n , . . . , 2L+n \u2212 1} there exists a nonnegative simple capital process V k that starts from k2\u2212n + 2L + c and satisfies\n(k2\u2212n ,(k+1)2\u2212n )\n\nVtk (\u03c9) \u2265 2\u2212n Mt\n\n(\u03c9)\n\nfor all t \u2208 [0, \u03c3L (\u03c9)]. Summing 2\u2212L\u2212n\u22121 V k over k = \u22122L+n , . . . , 2L+n \u2212 1 (i.e.,\naveraging V k ), we obtain a nonnegative simple capital process V such that\n2L+n\nX\u22121\n\n\u2212L\u2212n\u22121\n\nV0 = 2\n\nk2\u2212n + 2L + c \u2264 2L + c,\n\nk=\u22122L+n\n\u22122n\u2212L\u22121\n\nVt (\u03c9) \u2265 2\n\nMt (\u03c9, 2\u2212n ) for all t < \u03c3L ;\n\nat t = \u03c3L (\u03c9) we are only guaranteed to have Vt (\u03c9) \u2265 2\u22122n\u2212L\u22121 Mt\u2212 (\u03c9, 2\u2212n )\nbecause of the possibility \u03c9(t) \u2208\n/ [\u22122L , 2L ].\nCorollary 1. Let L \u2208 N. For typical \u03c9 \u2208 \u03a9c , from some n \u2208 N on,\nM\u03c3L \u2212 (\u03c9, 2\u2212n ) \u2264 n2 22n and D\u03c3L \u2212 (\u03c9, 2\u2212n ) \u2264 n2 22n .\nProof. It suffices to prove that M\u03c3L \u2212 (\u03c9, 2\u2212n ) \u2264 n1.5 22n from some n on (since\nD\u03c3L \u2212 (\u03c9, 2\u2212n ) \u2264 M\u03c3L \u2212 (\u03c9, 2\u2212n ) + 2n+L ). Consider the event E that the inequality M\u03c3L \u2212 (\u03c9, 2\u2212n ) > n1.5 22n holds for infinitely many n. (This is the complementary event to the event that we are proving to be almost certain.) For each\nn \u2208 N let Vtn be a nonnegative simple capital process such that V0n \u2264 2L + c\nand V\u03c3nL \u2265 2\u22122n\u2212L\u22121 M\u03c3L \u2212 (\u03c9, 2\u2212n ) (see Lemma 7). Then, for infinitely many\nn, V\u03c3nL \u2265 2\u2212L\u22121 n1.5 on\nP E. To see that the event E is null, it suffices to notice that the process n n\u22121.5 V n starts from V0 < \u221e and satisfies V\u03c3L = \u221e\non E.\n\n13\n\n\fProof of Theorem 1 (for \u03c8 = c)\nLet L \u2208 N. For all \u03c9 \u2208 \u03a9c and for t := \u03c3L (\u03c9), the infinite sum in (4.8) can be\nbounded above as follows (cf. (4.7)):\n\u221e \u0010\nX\n\nn\nS\u03c4nk+1\nn\n\u2227\u03c3L \u2212 S\u03c4kn \u2227\u03c3L\n\n\u00112\n\nk=0\n2\n\n=2\n\n\u221e\nX\n\n(\u03c9(\u03c4kn \u2227 \u03c3L ) \u2212 \u03c9(\u03c4 \u2227 \u03c3L ))\n\n2\n\n\u00012\nn\n\u03c9(\u03c4k+1\n\u2227 \u03c3L ) \u2212 \u03c9(\u03c4kn \u2227 \u03c3L )\n\nk=0\n\n\u2264 26\u22122n\n\n\u221e\nX\n\n\u00012\nn\n\u03c9(\u03c4k+1\n\u2227 \u03c3L ) \u2212 \u03c9(\u03c4kn \u2227 \u03c3L ) .\n\n(4.11)\n\nk=0\n\nFix an \u03c9 \u2208 \u03a9c such that, from some n \u2208 N on, M\u03c3L \u2212 (\u03c9, 2\u2212n ) \u2264 n2 22n\nand D\u03c3L \u2212 (\u03c9, 2\u2212n ) \u2264 n2 22n ; by Corollary 1, this condition is satisfied for typical \u03c9 \u2208 \u03a9c . Let N \u2208 {2, 3, . . .} be so large that M\u03c3L \u2212 (\u03c9, 2\u2212n ) \u2264 n2 22n and\nD\u03c3L \u2212 (\u03c9, 2\u2212n ) \u2264 n2 22n for all n \u2265 N . In particular, for all m \u2265 N :\n\u2022 the number of k \u2208 N0 such that \u03c4km < \u221e does not exceed 2m2 22m + 2 \u2264\n3m2 22m ;\n\u2022 the number of jumps of \u03c9 of size 2\u2212m+1 or more over the time interval\n[0, \u03c3L (\u03c9)) does not exceed 2m2 22m . (By the size of a jump of \u03c9 at t \u2208\n(0, T ] we mean its absolute value |\u2206\u03c9(t)|.)\nWe will write t \u2208 \u03c4 n to mean that t is an element of the partition \u03c4 n : there\nexists k \u2208 N0 such that t = \u03c4kn .\nSuppose n \u2265 N . We will bound different addends in (4.11) in different ways:\nn\n(A) If \u03c4kn \u2264 \u03c3L \u2264 \u03c4k+1\n, we use the trivial bound\nn\n\u03c9(\u03c4k+1\n\u2227 \u03c3L ) \u2212 \u03c9(\u03c4kn \u2227 \u03c3L ) \u2264 21\u2212n + c.\n\nThere are at most two such addends. We ignore the zero addends for\nn\nwhich \u03c4kn > \u03c3L , and so assume \u03c4k+1\n< \u03c3L in the rest of this list.\nn\n(B) If \u03c4k+1\n\u2208\n/ \u03c4 n\u22121 ,\nn\n\u03c9(\u03c4k+1\n\u2227 \u03c3L ) \u2212 \u03c9(\u03c4kn \u2227 \u03c3L ) \u2264 22\u2212n .\n\nThe number of such k is at most 3n2 22n .\nn\nn\n(C) If \u03c4k+1\n\u2208 \u03c4 n\u22121 and the size of the jump of \u03c9 at \u03c4k+1\nis below 2\u2212n+1 ,\nn\n\u03c9(\u03c4k+1\n\u2227 \u03c3L ) \u2212 \u03c9(\u03c4kn \u2227 \u03c3L ) \u2264 21\u2212n + 2\u2212n+1 = 22\u2212n .\n\nThe number of such k is at most 3n2 22n .\n\n14\n\n\fn\nn\n(D) If \u03c4k+1\n\u2208 \u03c4 n\u22121 and the size of the jump of \u03c9 at \u03c4k+1\nbelongs to\n\u2212m+1 \u2212m+2\n[2\n,2\n), where m \u2208 {n, n \u2212 1, . . . , N },\nn\n\u03c9(\u03c4k+1\n\u2227 \u03c3L ) \u2212 \u03c9(\u03c4kn \u2227 \u03c3L ) \u2264 21\u2212n + 2\u2212m+2 .\n\nThe number of such k is at most 2m2 22m .\nn\nn\n(E) If \u03c4k+1\n\u2208 \u03c4 n\u22121 and the size of the jump of \u03c9 at \u03c4k+1\nis 2\u2212N +2 or more,\nwe will use the trivial bound\nn\n\u03c9(\u03c4k+1\n\u2227 \u03c3L ) \u2212 \u03c9(\u03c4kn \u2227 \u03c3L ) \u2264 21\u2212n + c.\n\nThe number of such k is bounded by a constant C (it is a constant in the\nsense of not depending on n, but it depends on \u03c9 and L).\nNow we can bound the last sum in (4.11) as follows:\n\u221e\nX\n\n\u00012\n\u00012\nn\n\u03c9(\u03c4k+1\n\u2227 \u03c3L ) \u2212 \u03c9(\u03c4kn \u2227 \u03c3L ) \u2264 2(21\u2212n + c)2 + 3n2 22n 22\u2212n\n\nk=0\n\n+ 3n2 22n 22\u2212n\n\n\u00012\n\n+\n\nn\nX\n\n2m2 22m 21\u2212n + 2\u2212m+2\n\n\u00012\n\n+ C(21\u2212n + c)2 \u2264 2\u22126 n4 ,\n\nm=N\n\nthe last inequality being true from some n on. Remembering the definitions\n(4.8) and (4.9) of Utn and \u03c3 n , we can see that, from some n on, \u03c3 n (\u03c9) > \u03c3L (\u03c9)\nand, therefore,\nU\u03c3nn \u2227t (\u03c9) = Utn (\u03c9) \u2265 (Stn (\u03c9))2\n(4.12)\nfor all t \u2264 \u03c3L (\u03c9).\nWe have shown that, for typical \u03c9 \u2208 \u03a9c , from some n on, (4.12) holds for all\nt \u2264 \u03c3L (\u03c9). On the other hand, for typical \u03c9 \u2208 \u03a9c from some n on we will have\n\u2200t \u2208 [0, \u03c3L (\u03c9)] : U\u03c3nn \u2227t (\u03c9) < n6 2\u22122n .\n\n(4.13)\n\nIndeed, if Vtn is the process U\u03c3nL \u2227\u03c3n \u2227t stopped when it reaches the value n6 2\u22122n ,\nthe nonnegative capital process\nVt :=\n\n\u221e\nX\n\nn\u22126 22n Vtn\n\nn=1\n\nwill have a finite initial value and satisfy VT (\u03c9) = \u221e for \u03c9 such that, for\ninfinitely many n, \u2203t \u2208 [0, \u03c3L (\u03c9)] : U\u03c3nn \u2227t (\u03c9) \u2265 n6 2\u22122n . Combining (4.12) and\n(4.13), we obtain that, for typical \u03c9 \u2208 \u03a9c , from some n on, we have |Stn | < n3 2\u2212n\nfor all t \u2208 [0, \u03c3L (\u03c9)].\nWe can see that, for typical \u03c9 \u2208 \u03a9c , the uniform distance between An\u22121 and\nn\nA does not exceed n3 2\u2212n from some n on provided \u03c3L = T . Therefore, for\ntypical \u03c9 \u2208 \u03a9c the sequence An is convergent in the uniform metric provided\n\u03c3L = T . Since the union of countably many null sets is a null set, we can omit\n\"provided \u03c3L = T \".\n15\n\n\f5\n\nMultidimensional case\n\nThe goal of this section is to establish the existence of quadratic covariation between different price paths. We will be using a standard expression of quadratic\ncovariation in terms of quadratic variation (the \"polarization identity\", used in\n[6], Remark 1 on p. 147).\nLet \u03c9 m \u2208 \u03a9\u03c8 , m = 1, . . . , M . In our informal discussions we will assume\nthat \u03c9 m , m = 1, . . . , M , are the price paths of all securities traded in a financial\nmarket. We will write \u03c9 for the function whose value \u03c9(t) at time t \u2208 [0, T ]\nis the vector (\u03c9 1 (t), . . . , \u03c9 M (t)) \u2208 RM ; the set of all such functions \u03c9 with\ncomponents \u03c9 m \u2208 \u03a9\u03c8 will be denoted \u03a9M\n\u03c8 .\nIn this section we set \u03a9 := \u03a9M\n(little,\nhowever, will depend on this specific\n\u03c8\ndefinition of \u03a9, and the definitions and statements below work for a wide class\nof \u03a9). The \u03c3-algebra Ft\u25e6 , t \u2208 [0, T ], is the smallest \u03c3-algebra on \u03a9 that makes\nall functions \u03c9 \u2208 \u03a9 7\u2192 \u03c9 m (s), where m \u2208 {1, . . . , M } and s \u2208 [0, t], measurable.\nThe \u03c3-algebras Ft , processes, stopping times \u03c4 , and \u03c3-algebras F\u03c4 on \u03a9 are\ndefined for the sample space \u03a9 in the same way as for the sample space \u03a9\u03c8 :\nreplacing \u03a9\u03c8 by \u03a9 is the only change. The other definitions of Section 3 carry\nover to the case of \u03a9 = \u03a9M\n\u03c8 , with the following changes. In the definition of\nsimple trading strategies, the bounded F\u03c4n -measurable functions hn now take\nvalues in RM , and the definition (3.2) of a simple capital process now becomes\nKtG,\u03b1 (\u03c9) := \u03b1 +\n\n\u221e\nX\n\n\u0001\nhn (\u03c9) * \u03c9(\u03c4n+1 \u2227 t) \u2212 \u03c9(\u03c4n \u2227 t) ,\n\nt \u2208 [0, T ],\n\nn=1\n\nwhere \"*\" stands for dot product in RM .\nFor all \u03c9 \u2208 \u03a9 and n \u2208 N0 , let us define a sequence \u03c4kn (\u03c9), k = 0, 1, 2, . . ., as\nthe finite set\n\b\n\n\u03c4kn (\u03c9 m ) | k \u2208 N0 , m \u2208 {1, . . . , M }\n\b\n\u222a \u03c4kn (\u03c9 m + \u03c9 l ) | k \u2208 N0 , m \u2208 {1, . . . , M }, l \u2208 {1, . . . , M }\n\nordered in the increasing order (with repetitions removed, by the definition of\na set); to make the sequence \u03c4 n (\u03c9) infinite, we complement it by \u221e, \u221e, . . . on\nthe right. It is clear that \u03c4kn (\u03c9) as functions of \u03c9 \u2208 \u03a9 are stopping times.\nThe sequence (\u03c40n (\u03c9), \u03c41n (\u03c9), . . .) will be denoted \u03c4 n (\u03c9); for a fixed \u03c9, this\nis a partition of [0, T ]. By \u03c4 (\u03c9) we denote the sequence of partitions \u03c4 n (\u03c9),\nn \u2208 N0 .\nm\nTheorem 2. For typical \u03c9 \u2208 \u03a9 = \u03a9M\n\u03c8 , each \u03c9 , m \u2208 {1, . . . , M }, has quadratic\nvariation along \u03c4 (\u03c9), and each \u03c9 m + \u03c9 l , (m, l) \u2208 {1, . . . , M }2 , has quadratic\nvariation along \u03c4 (\u03c9).\n\nBefore proving Theorem 2, let us see how to use it to define quadratic\ncovariation. We will use the notation [\u03c9 m ] for the quadratic variation of\n\u03c9 m , m \u2208 {1, . . . , M }, and [\u03c9 m + \u03c9 l ] for the quadratic variation of \u03c9 m + \u03c9 l ,\n16\n\n\f(m, l) \u2208 {1, . . . , M }2 , along \u03c4 (\u03c9). Now we define the quadratic covariation\nprocesses between different price paths by\n[\u03c9]m,l\n:=\nt\n\n\u0001\n1\n[\u03c9 m + \u03c9 l ]t \u2212 [\u03c9 m ]t \u2212 [\u03c9 l ]t ,\n2\n\nt \u2208 [0, T ], (m, l) \u2208 {1, . . . , M }2 ;\n(5.1)\n\nthey exist for typical \u03c9 \u2208 \u03a9. Notice that [\u03c9]m,m = [\u03c9 m ] and that\nX\n\u0001c\n[\u03c9]m,l\n= [\u03c9]m,l t +\n\u2206\u03c9 m (s)\u2206\u03c9 l (s),\nt\ns\u2208(0,t]\n\nwhere f c stands for the continuous part of a function f .\n\nProof of Theorem 2\nWe have already proved that \u03c9 m have quadratic variation, but along a different\nsequence of partitions, \u03c4 (\u03c9 m ) rather than \u03c4 (\u03c9). Now we stop and change our\npositions as soon as any security in the market or the sum of two securities\nsignificantly change their value, so we have one sequence of partitions for the\nwhole market. But the argument of Section 4 still works, as it depends on\nrelatively few properties of the sequence of partitions, which are still satisfied.\nTo see what properties of the array \u03c4kn of stopping times were used in Section 4, let \u03b9nk (n \u2208 N0 , k \u2208 N0 ) be a general array of stopping times on \u03a9 of the\nsame kind as \u03c4kn : \u03b9n (\u03c9), n \u2208 N0 , are nested partitions of [0, T ] for each \u03c9 \u2208 \u03a9\nand all \u03b9nk are stopping times; in particular, 0 = \u03b9n0 \u2264 \u03b9n1 \u2264 * * * and all \u03b9nk take\nvalues in [0, T ] \u222a {\u221e}. We say that the sequence \u03b9 of random (i.e., depending\non \u03c9 \u2208 \u03a9) nested partitions \u03b9n is of dyadic type for a process W (such as \u03c9 m or\n\u03c9 m + \u03c9 l ) if there exist a polynomial p and a constant C > 0 such that:\n(a) For all \u03c9 \u2208 \u03a9, all n \u2208 N0 , and all 0 \u2264 s < t \u2264 T such that |Wt \u2212 Ws | >\nC2\u2212n , there exists k such that \u03b9nk (\u03c9) \u2208 (s, t].\n(b) For typical \u03c9 \u2208 \u03a9, from some n on, the number of k such that \u03b9nk (\u03c9) < \u221e\nis at most p(n)22n .\nIntuitively, (a) says that the partitions are sufficiently fine, and (b) says that\nthey are not too fine. Condition (a) implies that \u03b9(\u03c9) should exhaust \u03c9 and can\nbe regarded as a quantitative version of this requirement.\nA process W has moderate jumps if there exists a nondecreasing function\n\u03c6 : [0, \u221e) \u2192 (0, \u221e) such that, for each \u03c9 \u2208 \u03a9,\n!\n\u2200t \u2208 (0, T ] : |\u2206Wt (\u03c9)| \u2264 \u03c6\n\nsup |Ws (\u03c9)|\ns\u2208[0,t)\n\n(cf. (3.1)). We let W (\u03c9), where W is a process and \u03c9 \u2208 \u03a9, stand for the function\nt \u2208 [0, T ] 7\u2192 Wt (\u03c9) \u2208 R. The quadratic variation of W (\u03c9) along \u03b9(\u03c9) is defined\n\n17\n\n\fas before (cf. (2.1) and (4.2)) with W (\u03c9) in place of \u03c9, namely, as the uniform\nlimit as n \u2192 \u221e of\n\u221e \u0010\n\u00112\nX\nn,\u03c4\nAt (\u03c9) :=\nW\u03b9nk \u2227t (\u03c9) \u2212 W\u03b9nk\u22121 \u2227t (\u03c9) .\nk=1\n\nWe saw in Section 4 that the sequence \u03c4 (\u03c9) of partitions defined earlier in this\nsection is of dyadic type for all \u03c9 \u2208 \u03a9 (with C := 2 and p(n) := (M 2 + M )3n2\nsufficient). This shows, in combination with Proposition 2 below, that the\nfollowing proposition generalizes Theorem 1.\nProposition 1. If an array \u03b9nk of stopping times on \u03a9 is of dyadic type for a\nsimple capital process W that has moderate jumps, W (\u03c9) has quadratic variation\nalong \u03b9(\u03c9) for typical \u03c9 \u2208 \u03a9.\nProof. It is easy to check that the proof of Theorem 1, with suitable changes,\nstill works in our current more general situation; now we consider paths W (\u03c9)\ninstead of \u03c9.\nCondition (a) (with C = 2) was used in establishing the nonnegativity of\nthe simple capital process (4.8) over [0, \u03c3 n \u2227 T ] and our upper bound on the\ninfinite sum (4.11) in (4.8). For our arguments to go through, the definition\nof the simple capital process (4.8) should be modified: the addend 2\u22122n+8 c2\nshould be replaced by a constant (depending only on c and C) times 2\u22122n ,\nand the polynomial n4 in the addend n4 2\u22122n should be replaced by a different\npolynomial (depending on p). To upper bound (4.11), we have used (in the\ncases (A)\u2013(E) of Section 4) the inequality\nn\nn\n\u03c9(\u03c4k+1\n(\u03c9)) \u2212 \u03c9(\u03c4kn (\u03c9)) \u2264 21\u2212n + \u2206\u03c9(\u03c4k+1\n)\nn\n(\u03c9) < \u03c3L (\u03c9). This inequality continues to hold with 21\u2212n reassuming \u03c4k+1\n\u2212n\nplaced by C2\nin our current situation: indeed, condition (a) implies that\n\n\u03c9(\u03b9nk+1 (\u03c9)\u2212) \u2212 \u03c9(\u03b9nk (\u03c9)) \u2264 C2\u2212n .\nCondition (b) can be used in the cases (B)\u2013(D) in Section 4 to bound the\nnumber of k covered by each of those cases. We need the weaker requirement\nthat \u03b9nk < \u221e for only finitely many k also to satisfy a requirement in the definition of simple trading strategies.\nLet m, l \u2208 {1, . . . , M }. The processes \u03c9 m and \u03c9 m + \u03c9 l have moderate jumps\n(with \u03c6 := \u03c8 and \u03c6 := 2\u03c8, respectively). Both \u03c9 m and \u03c9 m + \u03c9 l are simple\ncapital processes. We can see that, for typical \u03c9 \u2208 \u03a9, \u03c9 m and \u03c9 m + \u03c9 l have\nquadratic variation along \u03c4 (\u03c9).\nThe proof of Theorem 2 is now complete. However, there remains the question of invariance of our definitions; e.g., is the quadratic variation A\u03c4 (\u03c9) (\u03c9 m ) of\n\u03c9 m along \u03c4 (\u03c9) (our new definition) the same function as the quadratic variation\nm\nA\u03c4 (\u03c9 ) (\u03c9 m ) of \u03c9 m along \u03c4 (\u03c9 m ) (our old definition)? The proof of Theorem 1\nshows that they are. For simplicity, we will only spell out the argument in the\nframework of Proposition 1.\n18\n\n\fProposition 2. If arrays \u03b9nk and \u03bank of stopping times on \u03a9 are of dyadic type\nfor a simple capital process W , W (\u03c9) has the same quadratic variation along\n\u03b9(\u03c9) and along \u03ba(\u03c9) for typical \u03c9 \u2208 \u03a9.\nProof. Without loss of generality we can assume that \u03b9 is nested in \u03ba: for all\n\u03c9 \u2208 \u03a9, n \u2208 N0 , and k \u2208 N0 , there exists k 0 \u2208 N0 such that \u03bank0 (\u03c9) = \u03b9nk (\u03c9).\n(Indeed, this special case will imply that general \u03b9 and \u03ba lead to the same\nquadratic variation as their union.) The argument in the proof of Theorem 1\n(applied to \u03b9(\u03c9) and \u03ba(\u03c9) in place of \u03c4 n\u22121 (\u03c9) and \u03c4 n (\u03c9), so that Stn (\u03c9) :=\nn,\u03b9\nAn,\u03ba\nt (\u03c9) \u2212 At (\u03c9)) shows that, for typical \u03c9 \u2208 \u03a9, the uniform distance between\nn,\u03b9\nA (\u03c9) and An,\u03ba (\u03c9) converges to 0 (exponentially fast) as n \u2192 \u221e. Therefore,\nthe uniform limits of An,\u03b9 (\u03c9) and An,\u03ba (\u03c9) coincide.\n\n6\n\nF\u00f6llmer's and Norvais\u0306a's quadratic variation\n\nIn this section we adapt F\u00f6llmer's [6] and Norvais\u0306a's [14] definitions of quadratic\nvariation to our framework (in particular, to our bounded time interval [0, T ]).\nLet \u03c9 \u2208 D[0, T ] and \u03c0 be a nested sequence of partitions that exhausts \u03c9.\nWe say that \u03c9 has F\u00f6llmer's quadratic variation along \u03c0 if the sequence of\nfinite measures\nn\n\n\u03be :=\n\n\u221e\nX\n\n\u00012\nn\nn\n\u03c9(\u03c0kn \u2227 T ) \u2212 \u03c9(\u03c0k\u22121\n\u2227 T ) \u03b4\u03c9(\u03c0k\u22121\n\u2227T )\n\nk=1\n\n(\u03b4t being the Dirac measure at t) on [0, T ] weakly converges to a finite measure\n\u03be on [0, T ] whose discrete part is given by the squared jumps of \u03c9:\nX\nV (t) = V c (t) +\n(\u2206\u03c9(s))2 ,\n(6.1)\ns\u2208(0,t]\n\nwhere V is the distribution function of \u03be and V c is its continuous part. We will\nsay that V is F\u00f6llmer's quadratic variation of \u03c9 along \u03c0.\nF\u00f6llmer's [6] original definition of quadratic variation is different from the\ndefinition above in the following respects: it does not require the sequence \u03c0 of\npartitions to be nested; it does not require \u03c0 to exhaust \u03c9; it requires \u03c0 to be\ndense; it assumes the unbounded time interval [0, \u221e). F\u00f6llmer uses the notation\n[\u03c9, \u03c9] for the function V and does not use the term \"quadratic variation\" in\nrespect of V .\nWe say that \u03c9 has Norvais\u0306a's quadratic variation along \u03c0 if there exists a\nfunction V \u2208 D[0, T ] such that, for all 0 \u2264 s < t \u2264 T ,\nV (t) \u2212 V (s) = lim\n\n\u221e\nX\n\nn\u2192\u221e\n\n\u00012\nn\n\u03c9(s \u2228 \u03c0kn \u2227 t) \u2212 \u03c9(s \u2228 \u03c0k\u22121\n\u2227 t)\n\n(6.2)\n\nk=1\n\nand, for any t \u2208 (0, T ],\n\u2206V (t) = (\u2206\u03c9(t))2 .\n19\n\n(6.3)\n\n\fThe function V is called Norvais\u0306a's quadratic variation of \u03c9 along \u03c0.\nNorvais\u0306a's ([14], p. 1) original definition is different from the definition in the\nprevious paragraph in the following respects: it does not require \u03c0 to exhaust\n\u03c9; it requires \u03c0 to be dense; it only requires \u03c9 to be a regulated, rather than\nc\u00e0dl\u00e0g, function. Norvais\u0306a calls V the bracket function of \u03c9.\nWe can also weaken Norvais\u0306a's requirements to the function V . Namely, we\nwill say that \u03c9 has weak quadratic variation along \u03c0 if there exists a function\nV \u2208 D[0, T ] such that\nV (t) = lim\n\nn\u2192\u221e\n\n\u221e\nX\n\n\u00012\nn\n\u03c9(\u03c0kn \u2227 t) \u2212 \u03c9(\u03c0k\u22121\n\u2227 t)\n\n(6.4)\n\nk=1\n\nat all points t \u2208 [0, T ] of continuity of V and (6.3) holds for all t \u2208 (0, T ]. The\nfunction V is then called the weak quadratic variation of \u03c9 along \u03c0.\nThe last two notions of quadratic variation are equivalent to the one defined\nin Section 2:\nProposition 3. Let \u03c9 \u2208 D[0, T ] and \u03c0 be a nested sequence of partitions that\nexhausts \u03c9. The following three conditions are equivalent:\n(a) the quadratic variation of \u03c9 along \u03c0 exists (in the sense of Section 2) and\nis V = A\u03c0 ;\n(b) Norvais\u0306a's quadratic variation of \u03c9 along \u03c0 exists and is V ;\n(c) the weak quadratic variation of \u03c9 along \u03c0 exists and is V .\nProof. First we assume condition (a) and prove condition (b). We know that\n(6.2) (with V := A\u03c0 ) holds for s = 0, so we assume s > 0. In this case, (6.2) is\nequivalent to\n\u0010\n\n\u00112 \u0010\n\u00112\nn\nn\nn\n) \u2212 \u03c9(\u03c0k(s,n)\n) \u2212 \u03c9(s) \u2212 \u03c9(\u03c0k(s,n)\n)\n\u03c9(\u03c0k(s,n)\n\u0010\n\u00112\nn\n\u2212 \u03c9(\u03c0k(s,n)\n) \u2212 \u03c9(s) \u2192 0\n\n(n \u2192 \u221e), (6.5)\n\nwhere k(s, n) is the largest k satisfying \u03c0kn \u2264 s and k(s, n) is the smallest k\nsatisfying \u03c0kn \u2265 s ((6.5) assumes that \u03c9 is not constant over [s, t]; the simple\ncase where it is has to be considered separately). We can rewrite (6.5) as\n\u0011\u0010\n\u0011\n\u0010\nn\nn\n\u03c9(\u03c0k(s,n)\n) \u2212 \u03c9(s) \u03c9(s) \u2212 \u03c9(\u03c0k(s,n)\n) \u2192 0,\nwhich immediately follows from Lemma 1: if s \u2208 (k(s, n), k(s, n)) for all n (this\nis the non-trivial case), the first factor stays bounded and the second tends to\n0 as n \u2192 \u221e. This proves (6.2), and (6.3) holds by Lemma 2.\nIt is obvious that (b) implies (c).\nFinally, we assume condition (c) and prove (a). We know that An,\u03c0 \u2192 V at\nall points of continuity of V as n \u2192 \u221e, and our goal is to prove that An,\u03c0 \u2192 V\n20\n\n\funiformly. By the compactness of [0, T ], it suffices to prove that, for each point\nt\u2217 \u2208 [0, T ], An,\u03c0 \u2192 V uniformly in some neighbourhood of t\u2217 . Fix such t\u2217 . We\nconsider two cases separately:\n\u2022 Suppose \u2206V (t\u2217 ) = 0. Let \u000f \u2208 (0, 1). Choose t0 < t\u2217 and t00 > t\u2217 such\nthat \u2206V (t0 ) = 0, \u2206V (t00 ) = 0, and V (t) belongs to (V (t\u2217 ) \u2212 \u000f, V (t\u2217 ) + \u000f)\nfor all t \u2208 [t0 , t00 ]. From some n on, An,\u03c0\nbelongs to (V (t0 ) \u2212 \u000f, V (t0 ) + \u000f)\nt0\nn,\u03c0\n00\n00\nand At00 belongs to (V (t ) \u2212 \u000f, V (t ) + \u000f). Therefore, from some n on,\n\u2217\n\u2217\nboth An,\u03c0\nand An,\u03c0\nt0\nt00 belong to (V (t ) \u2212 2\u000f, V (t ) + 2\u000f). From the proof\nof Lemma 2 we know that, from some n on, An,\u03c0\nnever drops by more\nt\nthan \u000f as t increases (see (2.3), which we show to be impossible from some\nn on when t1 < t2 ; the simple argument in that proof only depends on\nconditions that are satisfied in our current context). Therefore, from some\nbelongs to (V (t\u2217 ) \u2212 3\u000f, V (t\u2217 ) + 3\u000f) for all t \u2208 [t0 , t00 ]. We can\nn on, An,\u03c0\nt\nsee that, from some n on, An,\u03c0\nbelongs to (V (t) \u2212 4\u000f, V (t) + 4\u000f) for all\nt\nt \u2208 [t0 , t00 ].\n\u2022 Suppose that \u2206V (t\u2217 ) 6= 0. Let \u000f \u2208 (0, 1). Choose t0 < t\u2217 and t00 > t\u2217 such\nthat \u2206V (t0 ) = 0, \u2206V (t00 ) = 0, V (t) belongs to the interval (V (t\u2217 \u2212) \u2212\n\u000f, V (t\u2217 \u2212) + \u000f) for all t \u2208 [t0 , t\u2217 ), and V (t) belongs to (V (t\u2217 ) \u2212 \u000f, V (t\u2217 ) + \u000f)\nfor all t \u2208 [t\u2217 , t00 ]. From some n on,\n\u0001\n\u2217\n\u2217\nAn,\u03c0\n(6.6)\nt0 \u2208 V (t \u2212) \u2212 2\u000f, V (t \u2212) + 2\u000f ,\n\u0001\nn,\u03c0\n\u2217\n\u2217\nAt00 \u2208 V (t ) \u2212 2\u000f, V (t ) + 2\u000f .\n(6.7)\nn\nFrom some n on there is a k such that t\u2217 = \u03c0kn and \u03c0k\u22121\n\u2208 (t0 , t\u2217 ) (unless\n0 \u2217\nn\n\u03c9 is constant over (t , t ), in which case \u03c0k\u22121 should be replaced by t0 in\nthe rest of this proof); and from some n on, osc\u03c0n (\u03c9) < \u000f (Lemma 1).\nSince \u2206V (t\u2217 ) = (\u2206\u03c9(t\u2217 ))2 , for such n we have\n\u00012\nn,\u03c0\nn\nAn,\u03c0\n= \u03c9(t\u2217 ) \u2212 \u03c9(\u03c0k\u22121\n) > \u2206V (t\u2217 ) \u2212 2\u2206\u03c9 \u000f,\n(6.8)\n\u03c0 n \u2212 A\u03c0 n\nk\n\nk\u22121\n\nwhere \u2206\u03c9 := supt\u2208(0,T ] |\u2206\u03c9(t)|. We know that, from some n on, An,\u03c0\nt\nnever drops by more than \u000f as t increases. According to (6.6), (6.7), and\n(6.8), we then have\n\uf8f1\nn,\u03c0\nn,\u03c0\n\u2217\n\uf8f4\n\uf8f4\n\uf8f2A\u03c0n \u2212 A\u03c0n > \u2206V (t ) \u2212 2\u2206\u03c9 \u000f\nk\n\nk\u22121\n\n\u2217\nAn,\u03c0\n\u03c0 n < V (t ) + 3\u000f\n\nk\n\uf8f4\n\uf8f4\n\uf8f3An,\u03c0\n> V (t\u2217 \u2212) \u2212 3\u000f.\n\u03c0n\nk\u22121\n\nThis system of three inequalities immediately implies\n( n,\u03c0\nA\u03c0n > V (t\u2217 ) \u2212 2\u2206\u03c9 \u000f \u2212 3\u000f\nk\n\nAn,\u03c0\n< V (t\u2217 \u2212) + 2\u2206\u03c9 \u000f + 3\u000f.\n\u03c0n\nk\u22121\n\nCombining this with (6.6), (6.7), and osc\u03c0n (\u03c9) < \u000f, we can see that\n(\nAn,\u03c0\n\u2208 (V (t\u2217 ) \u2212 2\u2206\u03c9 \u000f \u2212 4\u000f, V (t\u2217 ) + 3\u000f)\nif t \u2208 [t\u2217 , t00 ]\nt\nAn,\u03c0\n\u2208 (V (t\u2217 \u2212) \u2212 3\u000f, V (t\u2217 \u2212) + 2\u2206\u03c9 \u000f + 4\u000f) if t \u2208 [t0 , t\u2217 ).\nt\n21\n\n\fTherefore, from some n on, we have\n|An,\u03c0\n\u2212 V (t)| < 2\u2206\u03c9 \u000f + 5\u000f\nt\nfor all t \u2208 [t0 , t00 ].\nIn both cases An,\u03c0 converges to V uniformly in some neighbourhood of t\u2217 , which\ncompletes the proof.\nOn the other hand, F\u00f6llmer's notion of quadratic variation is different and\neven anomalous unless \u03c0 is dense. Set, e.g.,\n\uf8f1\n\uf8f4\n\uf8f20 if t \u2208 [0, T /2)\n\u03c9(t) := 1 if t \u2208 [T /2, T )\n\uf8f4\n\uf8f3\n0 if t = T\nand consider the sequence of nested partitions\n\u03c0 1 = \u03c0 2 = * * * := (0, T /2, T, \u221e, \u221e, . . .),\nwhich exhausts \u03c9. The three definitions whose equivalence is asserted in Proposition 3 give the same quadratic variation V of \u03c9 along \u03c0,\n\uf8f1\n\uf8f4\n\uf8f20 if t \u2208 [0, T /2)\nV (t) := 1 if t \u2208 [T /2, T )\n\uf8f4\n\uf8f3\n2 if t = T ,\nwhereas F\u00f6llmer's does not exist: the first part of the definition gives\n(\n1 if t \u2208 [0, T /2)\nV (t) :=\n2 if t \u2208 [T /2, T ],\nwhich fails to satisfy (6.1) at t = T (V (0) 6= 0 also looks anomalous). The\nanomalies disappear when \u03c0 is dense:\nProposition 4. Let \u03c9 \u2208 D[0, T ] and \u03c0 be a dense nested sequence of partitions.\n(a) If the quadratic variation V of \u03c9 along \u03c0 exists in the sense of any of the\nthree definitions of Proposition 3, V is also F\u00f6llmer's quadratic variation\nof \u03c9 along \u03c0.\n(b) If F\u00f6llmer's quadratic variation V of \u03c9 along \u03c0 exists, V is also the\nquadratic variation of \u03c9 along \u03c0 in the sense of the three definitions of\nProposition 4.\nProof. We start from (a). Let V be the quadratic variation of \u03c9 along \u03c0 in\nthe sense of the definitions of Proposition 3. Since (6.1) is obviously equivalent\n\n22\n\n\fto (6.3), the definition of F\u00f6llmer's quadratic variation shows that it suffices to\nprove\nX\n\u00012\nn\n\u03c9(\u03c0kn \u2227 T ) \u2212 \u03c9(\u03c0k\u22121\n) \u2192 V (t)\n(6.9)\nn\n\u2264t\nk\u2208N:\u03c0k\u22121\n\nas n \u2192 \u221e, where t \u2208 [0, T ] is such that V is continuous at t, i.e., by (6.3), \u03c9\nis continuous at t. Comparing (6.9) with (6.4), we can see that, furthermore, it\nsuffices to prove\n\u0010\n\n\u00112 \u0010\n\u00112\nn\nn\nn\n) \u2212 \u03c9(\u03c0k(t,n)+1\n\u2227 T ) \u2212 \u03c9(\u03c0k(t,n)\n) \u2192 0,\n\u03c9(t) \u2212 \u03c9(\u03c0k(t,n)\n\n(6.10)\n\nwhich immediately follows from the continuity of \u03c9 at t provided \u03c0 is dense.\nThe argument in the previous paragraph (cf. (6.10)) also establishes (b).\nRemark 4. F\u00f6llmer's [6] and Norvais\u0306a's [14] condition that the sequence of\npartitions \u03c0 should be dense would not in fact be a big obstacle in this paper:\nto make the random sequence of partitions \u03c4 n formed by the stopping times \u03c4kn\n(as defined in Section 4 or Section 5) dense we can simply complement \u03c4 n (\u03c9)\nby the points T k2\u2212n , k = 1, . . . , 2n \u2212 1. The properties (a)\u2013(b) of Section 5 will\nbe still satisfied after this extension and the sequence will be still nested. This\nstep is, however, awkward, and we avoid it.\n\n7\n\nImplications of the existence of quadratic variation\n\nThis section reviews some known implications (the simpler ones from [6] and\n[14]) of the existence of quadratic variation. Let \u03c9 \u2208 D[0, T ] and \u03c0 = (\u03c0 n ) be a\nnested sequence of partitions that exhausts \u03c9. We are mainly interested in the\ncase where \u03c0 = (\u03c0 n (\u03c9)) is the sequence of partitions formed by the stopping\ntimes \u03c4kn , as defined in Section 4. We know that in this case the quadratic\nvariation of \u03c9 exists unless \u03c9 is in a null set (Theorem 1). To simplify notation,\nwe do not consider the multidimensional case (Section 5 and Theorem 2).\nThroughout this section, we fix \u03c9 \u2208 D[0, T ] and \u03c0 = (\u03c0 n ) such that \u03c0 is a\nnested sequence of partitions that exhausts \u03c9 and the quadratic variation of \u03c9\nalong \u03c0 exists (cf. Proposition 3). As in Section 5, we use square brackets to\ndenote the quadratic variation along \u03c0, when it exists; e.g., [\u03c9] is the quadratic\nvariation of \u03c9 along \u03c0. A minor difference of the results that we state in this\nsection from the original ones stated in [6] and [14] is that we do not assume\nthat \u03c0 is dense: the assumption of denseness becomes redundant under our\nassumptions since we can always remove all intervals of constancy from the\ndomain of \u03c9.\n\n23\n\n\fStochastic integration and It\u00f4's lemma\nSuppose f : R \u2192 R. For each t \u2208 [0, T ] and \u03c9 \u2208 D[0, T ], define\nZ\n\nf (\u03c9(s\u2212))d\u03c9(s) := lim\n0\n\n\u221e\nX\n\nt\nn\u2192\u221e\n\n\u0001\nn\nf (\u03c9(\u03c0kn (\u03c9) \u2227 t)) \u03c9(\u03c0k+1\n\u2227 t) \u2212 \u03c9(\u03c0kn \u2227 t) .\n\nk=0\n\n(7.1)\nThe following two propositions are F\u00f6llmer's ([6], p. 144) theorem adapted to\nour framework. The first proposition says that the stochastic integral (7.1)\nexists.\nProposition 5. Let f \u2208 C 1 (R). The limit in (7.1) exists for each t \u2208 [0, T ],\nand as a function of t \u2208 [0, T ] is an element of D[0, T ].\nThe second proposition gives the It\u00f4\u2013F\u00f6llmer formula.\nProposition 6. Let F \u2208 C 2 (R). For all t \u2208 [0, T ],\nZ\n\nt\n\n1\nF (\u03c9(s\u2212))d\u03c9(s) +\n2\n0\n\nZ\n\nt\n\nF (\u03c9(t)) = F (\u03c9(0)) +\nF 00 (\u03c9(s))d[\u03c9]cs\n0\n0\n\u0011\nX \u0010\n+\n\u2206F (\u03c9(s)) \u2212 F 0 (\u03c9(s\u2212))\u2206\u03c9(s) .\ns\u2208(0,t]\n\nFor the extension of the stochastic integral and the It\u00f4\u2013F\u00f6llmer formula to\nthe case of \u03c9 taking values in Rm , see [6], pp. 147\u2013148. This extension uses the\nquadratic covariation processes: see (5.1).\nAn important development of F\u00f6llmer's results is their extension by Cont\nand Fourni\u00e9 [3] to non-anticipative functionals. The existence of the limit in\n(7.1) when f (\u03c9(\u03c0kn (\u03c9)\u2227t)) is replaced by g(\u03c9|[0,\u03c0kn (\u03c9)\u2227t] ), where g is a functional\nsatisfying certain regularity conditions (including being non-anticipative), is established in Theorem 4 of [3]. The same theorem gives an It\u00f4\u2013F\u00f6llmer formula\nfor non-anticipative functionals.\n\nQuadratic variation for other processes\nWe now state some known results for the existence of quadratic variation for\ntwo kinds of processes different from the basic process Wt (\u03c9) := \u03c9(t): namely,\nfor functions of the form f (\u03c9(t)), where f \u2208 C 1 (R), and for stochastic integrals\nw.r. to \u03c9.\nSuppose f \u2208 C 1 (R). F\u00f6llmer notices in [6] (Remark 2 on p. 148) that a\nstandard argument in the theory of stochastic integration (as in [10], Theorem\nVI.5 on p. 359) implies that the quadratic variation of f (\u03c9) along \u03c0 exists and\nis equal to\nZ t\nX\n\u00012\n2\n[f (\u03c9)]t =\n(f 0 (\u03c9(s))) d[\u03c9]cs +\n\u2206f (\u03c9(s)) .\n0\n\ns\u2208(0,t]\n\n24\n\n\fNorvais\u0306a's Theorem 3.26 in [14] implies that the quadratic variation of the\nRt\nstochastic integral \u03a6(t) := 0 f (\u03c9(s\u2212))d\u03c9(s) exists and is equal to\nZ\n[\u03a6]t =\n\nt\n\nf 2 (\u03c9(s\u2212))d[\u03c9]s .\n\n0\n\nSuppose that \u03c9 \u2208 D[0, T ] is positive (cf. the second example discussed in\nSection 3). In this case it is natural to measure quadratic variation on the\nrelative rather than absolute scale, and so to consider the quadratic variation of\nthe logarithm of \u03c9. By F\u00f6llmer's result, the quadratic variation process of ln \u03c9\nis\nZ t\nX\n\u00012\nd[\u03c9]cs\n+\n\u2206 ln \u03c9(s) .\n[ln \u03c9]t =\n2\n0 \u03c9 (s)\ns\u2208(0,t]\n\nBy Norvais\u0306a's\nresult, the quadratic variation process of the stochastic logarithm\nR t d\u03c9(s)\nLn \u03c9(t) := 0 \u03c9(s\u2212)\nof \u03c9 is\nZ\n[Ln \u03c9]t =\n0\n\n8\n\nt\n\nd[\u03c9]s\n.\n\u03c9 2 (s\u2212)\n\nConclusion\n\nIn this section we discuss possible directions of further research. This paper\nshows the existence of quadratic variation for typical price paths in \u03a9\u03c8 . It is easy\nto see that Theorem 1 becomes false if we simply set \u03c8 := \u221e, but an interesting\nquestion is whether we can set \u03c8 := \u221e if we only consider nonnegative \u03c9 (for\nmany securities, \u03c9 \u2265 0 can be assumed from economic considerations).\nAnother possible way to get rid of the assumption that the jumps of \u03c9 are\nbounded by a function of \u03c9 is to allow trading in American, or binary American,\noptions to hedge against huge jumps of \u03c9. If the prices of such out-of-the-money\noptions tend to zero sufficiently fast as their moneyness decreases, we can expect\nthat the analogue of Theorem 1 will continue to hold even for \u03c8 := \u221e.\nIn Section 4, we proved the existence of quadratic variation only for a specific\narray of stopping times (\u03c4kn ). In Section 5, we noticed that the argument of\nSection 4 works for the class of arrays (\u03c4kn ) which we called arrays of dyadic\ntype and that any two arrays of dyadic type lead to the same values of quadratic\nvariation for typical \u03c9. It is clear that this observation can be extended to a\nmuch wider class of arrays.\nOne interpretation of the stochastic integral (7.1) is that it is the capital\nof a trading strategy. We, however, also define capital processes directly: see\n(3.2) and (3.3). Can all nonnegative capital processes (3.3) be represented\nas stochastic integrals? It is clear that the \"Markovian\" definition (7.1) is not\nsufficient (the trading strategy in (7.1) takes into account only the current price),\nso this question is about the extension of (7.1) to non-anticipating functionals,\nas in [3].\n\n25\n\n\fAcknowledgments\nAn earlier version of this paper was the basis of my talk at the 2014 Vilnius\nConference on Probability Theory and Mathematical Statistics (section \"Random processes\", session \"Rough paths\"), and I am grateful to the organizers for\ninviting me and to the listeners for useful comments, with special thanks to Rimas Norvais\u0306a. This research was supported by the Air Force Office of Scientific\nResearch (grant FA9550-14-1-0043).\n\nReferences\n[1] Patrick Billingsley. Convergence of Probability Measures. Wiley, New York,\n1968.\n[2] Michel Bruneau. Sur la p-variation des surmartingales. S\u00e9minaire de probabilit\u00e9s de Strasbourg, 13:227\u2013232, 1979.\n[3] Rama Cont and David-Antoine Fourni\u00e9. Change of variable formulas for\nnon-anticipative functionals on path space. Journal of Functional Analysis,\n259:1043\u20131072, 2010.\n[4] Claude Dellacherie and Paul-Andr\u00e9 Meyer. Probabilities and Potential.\nNorth-Holland, Amsterdam, 1978. Chapters I\u2013IV. French original: 1975;\nreprinted in 2008.\n[5] Federal Reserve Board. Credit by brokers and dealers (Regulation T). 12\nCFR 220.12, 2014.\n[6] Hans F\u00f6llmer. Calcul d'It\u00f4 sans probabilit\u00e9s. S\u00e9minaire de probabilit\u00e9s de\nStrasbourg, 15:143\u2013150, 1981.\n[7] Hans F\u00f6llmer and Alexander Schied. Stochastic Finance: An Introduction\nin Discrete Time. De Gruyter, Berlin, third edition, 2011.\n[8] Peter Fortune. Margin requirements, margin loans, and margin rates: practice and principles. New England Economic Review, pages 19\u201344, September/October 2000.\n[9] Andrei N. Kolmogorov. Sur la loi des grands nombres. Atti della Reale\nAccademia Nazionale dei Lincei. Classe di scienze fisiche, matematiche, e\nnaturali. Rendiconti Serie VI, 185:917\u2013919, 1929.\n[10] Paul-Andr\u00e9 Meyer. Un cours sur les int\u00e9grales stochastiques. S\u00e9minaire de\nprobabilit\u00e9s de Strasbourg, 10:245\u2013400, 1976.\n[11] Kenshi Miyabe and Akimichi Takemura. Convergence of random series and\nthe rate of convergence of the strong law of large numbers in game-theoretic\nprobability. Stochastic Processes and their Applications, 122:1\u201330, 2012.\n\n26\n\n\f[12] Kenshi Miyabe and Akimichi Takemura. The law of the iterated logarithm\nin game-theoretic probability with quadratic and stronger hedges. Stochastic Processes and their Applications, 123:3132\u20133152, 2013.\n[13] Kenshi Miyabe and Akimichi Takemura. Derandomization in gametheoretic probability. Stochastic Processes and their Applications, 2014.\nTo appear.\n[14] Rimas Norvais\u0306a. Quadratic variation, p-variation and integration with\napplications to stock price modelling. Technical Report arXiv:0108090\n[math.CA], arXiv.org e-Print archive, August 2001.\n[15] Nicolas Perkowski and David J. Pr\u00f6mel. Pathwise stochastic integrals\nfor model free finance. Technical Report arXiv:1311.6187 [math.PR],\narXiv.org e-Print archive, November 2013.\n[16] Nicolas Perkowski and David J. Pr\u00f6mel. Local times for typical price\npaths and pathwise Tanaka formulas. Technical Report arXiv:1405.4421\n[math.PR], arXiv.org e-Print archive, May 2014.\n[17] Glenn Shafer and Vladimir Vovk. Probability and Finance: It's Only a\nGame! Wiley, New York, 2001.\n[18] Christophe Stricker. Sur la p-variation des surmartingales. S\u00e9minaire de\nprobabilit\u00e9s de Strasbourg, 13:233\u2013237, 1979.\n[19] Kei Takeuchi, Masayuki Kumon, and Akimichi Takemura. A new formulation of asset trading games in continuous time with essential forcing of\nvariation exponent. Bernoulli, 15:1243\u20131258, 2009.\n[20] Vladimir Vovk. A logic of probability, with application to the foundations\nof statistics (with discussion). Journal of the Royal Statistical Society B,\n55:317\u2013351, 1993.\n[21] Vladimir Vovk. Continuous-time trading and the emergence of probability. The Game-Theoretic Probability and Finance project, Working Paper\n28, http://probabilityandfinance.com, July 2011. Journal version: Finance and Stochastics, 16:561\u2013609, 2012.\n[22] Vladimir Vovk. Rough paths in idealized financial markets. The GameTheoretic Probability and Finance project, Working Paper 35, http://\nprobabilityandfinance.com, arXiv:1005.0279, 2011. Journal version:\nLithuanian Mathematical Journal 51:274\u2013285, 2011.\n\n27\n\n\f"}