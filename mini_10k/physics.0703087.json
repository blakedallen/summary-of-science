{"id": "http://arxiv.org/abs/physics/0703087v1", "guidislink": true, "updated": "2007-03-07T20:12:08Z", "updated_parsed": [2007, 3, 7, 20, 12, 8, 2, 66, 0], "published": "2007-03-07T20:12:08Z", "published_parsed": [2007, 3, 7, 20, 12, 8, 2, 66, 0], "title": "Unveiling community structures in weighted networks", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=physics%2F0703090%2Cphysics%2F0703053%2Cphysics%2F0703052%2Cphysics%2F0703226%2Cphysics%2F0703225%2Cphysics%2F0703071%2Cphysics%2F0703232%2Cphysics%2F0703152%2Cphysics%2F0703160%2Cphysics%2F0703260%2Cphysics%2F0703083%2Cphysics%2F0703277%2Cphysics%2F0703241%2Cphysics%2F0703050%2Cphysics%2F0703169%2Cphysics%2F0703134%2Cphysics%2F0703098%2Cphysics%2F0703210%2Cphysics%2F0703145%2Cphysics%2F0703254%2Cphysics%2F0703157%2Cphysics%2F0703002%2Cphysics%2F0703274%2Cphysics%2F0703121%2Cphysics%2F0703238%2Cphysics%2F0703162%2Cphysics%2F0703180%2Cphysics%2F0703087%2Cphysics%2F0703281%2Cphysics%2F0703102%2Cphysics%2F0703099%2Cphysics%2F0703246%2Cphysics%2F0703119%2Cphysics%2F0703262%2Cphysics%2F0703016%2Cphysics%2F0703171%2Cphysics%2F0703239%2Cphysics%2F0703224%2Cphysics%2F0703047%2Cphysics%2F0703179%2Cphysics%2F0703193%2Cphysics%2F0703057%2Cphysics%2F0703172%2Cphysics%2F0703080%2Cphysics%2F0703223%2Cphysics%2F0703074%2Cphysics%2F0703218%2Cphysics%2F0703164%2Cphysics%2F0703153%2Cphysics%2F0703242%2Cphysics%2F0703249%2Cphysics%2F0703163%2Cphysics%2F0703216%2Cphysics%2F0703147%2Cphysics%2F0703055%2Cphysics%2F0703182%2Cphysics%2F0703073%2Cphysics%2F0703033%2Cphysics%2F0703037%2Cphysics%2F0703062%2Cphysics%2F0703028%2Cphysics%2F0703007%2Cphysics%2F0703072%2Cphysics%2F0703196%2Cphysics%2F0703060%2Cphysics%2F0703084%2Cphysics%2F0703005%2Cphysics%2F0703214%2Cphysics%2F0703077%2Cphysics%2F0703081%2Cphysics%2F0703192%2Cphysics%2F0703263%2Cphysics%2F0703270%2Cphysics%2F0703026%2Cphysics%2F0703097%2Cphysics%2F0703227%2Cphysics%2F0703020%2Cphysics%2F0703006%2Cphysics%2F0703159%2Cphysics%2F0703101%2Cphysics%2F0703143%2Cphysics%2F0703187%2Cphysics%2F0703022%2Cphysics%2F0703186%2Cphysics%2F0703085%2Cphysics%2F0703064%2Cphysics%2F0703257%2Cphysics%2F0703273%2Cphysics%2F0703025%2Cphysics%2F0703021%2Cphysics%2F0703268%2Cphysics%2F0703092%2Cphysics%2F0703250%2Cphysics%2F0703215%2Cphysics%2F0703206%2Cphysics%2F0703279%2Cphysics%2F0703122%2Cphysics%2F0703151%2Cphysics%2F0703061%2Cphysics%2F0703228%2Cphysics%2F0703205&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Unveiling community structures in weighted networks"}, "summary": "Random walks on simple graphs in connection with electrical resistor networks\nlead to the definition of Markov chains with transition probability matrix in\nterms of electrical conductances. We extend this definition to an effective\ntransition matrix $P_{ij}$ to account for the probability of going from vertex\n$i$ to any vertex $j$ of the original connected graph $G$. Also, we present an\nalgorithm based on the definition of this effective transition matrix among\nvertices in the network to extract a topological feature related to the manner\ngraph $G$ has been organized. This topological feature corresponds to the\ncommunities in the graph.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=physics%2F0703090%2Cphysics%2F0703053%2Cphysics%2F0703052%2Cphysics%2F0703226%2Cphysics%2F0703225%2Cphysics%2F0703071%2Cphysics%2F0703232%2Cphysics%2F0703152%2Cphysics%2F0703160%2Cphysics%2F0703260%2Cphysics%2F0703083%2Cphysics%2F0703277%2Cphysics%2F0703241%2Cphysics%2F0703050%2Cphysics%2F0703169%2Cphysics%2F0703134%2Cphysics%2F0703098%2Cphysics%2F0703210%2Cphysics%2F0703145%2Cphysics%2F0703254%2Cphysics%2F0703157%2Cphysics%2F0703002%2Cphysics%2F0703274%2Cphysics%2F0703121%2Cphysics%2F0703238%2Cphysics%2F0703162%2Cphysics%2F0703180%2Cphysics%2F0703087%2Cphysics%2F0703281%2Cphysics%2F0703102%2Cphysics%2F0703099%2Cphysics%2F0703246%2Cphysics%2F0703119%2Cphysics%2F0703262%2Cphysics%2F0703016%2Cphysics%2F0703171%2Cphysics%2F0703239%2Cphysics%2F0703224%2Cphysics%2F0703047%2Cphysics%2F0703179%2Cphysics%2F0703193%2Cphysics%2F0703057%2Cphysics%2F0703172%2Cphysics%2F0703080%2Cphysics%2F0703223%2Cphysics%2F0703074%2Cphysics%2F0703218%2Cphysics%2F0703164%2Cphysics%2F0703153%2Cphysics%2F0703242%2Cphysics%2F0703249%2Cphysics%2F0703163%2Cphysics%2F0703216%2Cphysics%2F0703147%2Cphysics%2F0703055%2Cphysics%2F0703182%2Cphysics%2F0703073%2Cphysics%2F0703033%2Cphysics%2F0703037%2Cphysics%2F0703062%2Cphysics%2F0703028%2Cphysics%2F0703007%2Cphysics%2F0703072%2Cphysics%2F0703196%2Cphysics%2F0703060%2Cphysics%2F0703084%2Cphysics%2F0703005%2Cphysics%2F0703214%2Cphysics%2F0703077%2Cphysics%2F0703081%2Cphysics%2F0703192%2Cphysics%2F0703263%2Cphysics%2F0703270%2Cphysics%2F0703026%2Cphysics%2F0703097%2Cphysics%2F0703227%2Cphysics%2F0703020%2Cphysics%2F0703006%2Cphysics%2F0703159%2Cphysics%2F0703101%2Cphysics%2F0703143%2Cphysics%2F0703187%2Cphysics%2F0703022%2Cphysics%2F0703186%2Cphysics%2F0703085%2Cphysics%2F0703064%2Cphysics%2F0703257%2Cphysics%2F0703273%2Cphysics%2F0703025%2Cphysics%2F0703021%2Cphysics%2F0703268%2Cphysics%2F0703092%2Cphysics%2F0703250%2Cphysics%2F0703215%2Cphysics%2F0703206%2Cphysics%2F0703279%2Cphysics%2F0703122%2Cphysics%2F0703151%2Cphysics%2F0703061%2Cphysics%2F0703228%2Cphysics%2F0703205&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Random walks on simple graphs in connection with electrical resistor networks\nlead to the definition of Markov chains with transition probability matrix in\nterms of electrical conductances. We extend this definition to an effective\ntransition matrix $P_{ij}$ to account for the probability of going from vertex\n$i$ to any vertex $j$ of the original connected graph $G$. Also, we present an\nalgorithm based on the definition of this effective transition matrix among\nvertices in the network to extract a topological feature related to the manner\ngraph $G$ has been organized. This topological feature corresponds to the\ncommunities in the graph."}, "authors": ["Nelson Augusto Alves"], "author_detail": {"name": "Nelson Augusto Alves"}, "author": "Nelson Augusto Alves", "links": [{"title": "doi", "href": "http://dx.doi.org/10.1103/PhysRevE.76.036101", "rel": "related", "type": "text/html"}, {"href": "http://arxiv.org/abs/physics/0703087v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/physics/0703087v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "physics.soc-ph", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "physics.soc-ph", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "cond-mat.stat-mech", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "physics.data-an", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/physics/0703087v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/physics/0703087v1", "arxiv_comment": null, "journal_reference": "Physical Review E 76 (2007) 036101", "doi": "10.1103/PhysRevE.76.036101", "fulltext": "Unveiling community structures in weighted networks\n\narXiv:physics/0703087v1 [physics.soc-ph] 7 Mar 2007\n\nNelson A. Alves\u2217\nDepartamento de F\u0131\u0301sica e Matem\u00e1tica, FFCLRP Universidade de S\u00e3o Paulo, Avenida Bandeirantes 3900,\nCEP 14040-901, Ribeir\u00e3o Preto, S\u00e3o Paulo, Brazil\n(Dated: February 27, 2007)\nRandom walks on simple graphs in connection with electrical resistor networks lead to the definition of Markov chains with transition probability matrix in terms of electrical conductances. We\nextend this definition to an effective transition matrix Pij to account for the probability of going\nfrom vertex i to any vertex j of the original connected graph G. Also, we present an algorithm\nbased on the definition of this effective transition matrix among vertices in the network to extract\na topological feature related to the manner graph G has been organized. This topological feature\ncorresponds to the communities in the graph.\n\nKeywords: communities in networks, weighted graph,\nelectrical network, random walks, Laplacian spectrum.\nPACS-No.: 89.75.-k, 89.75.Hc, 05.10.-a\n\n1.\n\nINTRODUCTION\n\nNetwork modeling is becoming an essential tool to\nstudy and understand the complexity of many natural\nand artificial systems [1]. Applications [2, 3, 4] include\ntechnological networks as the Internet, World Wide Web\nand electric power grid; biological networks as metabolic\n[5, 6, 7] and amino acid residue networks [8, 9, 10, 11];\nand far more studied, social networks. This understanding firstly passes through the analysis of their topological\nfeatures, usually related to complex networks. Examples\nare the degree distribution P (k), average degree hki, clustering coefficient C, the \"betweenness\" of a vertex i and\n\"assortative mixing\" describing correlations among vertices in the network.\nNowadays, an important research issue within complex network (graph) field is the study and identification of its community structure, a problem also known\nas graph partitioning. Many definitions of community\nare presented in the literature. In essence, this amounts\nto divide the network into groups where vertices inside\neach group share denser connections among them when\ncompared with connections across any two groups. The\nmain concerns in proposing methods to find communities are in developing well successful automatic discovery\ncomputer algorithms and execution time that can not be\nprohibitive for large network sizes n.\nMore recently various methods have been proposed to\nfind good divisions of networks [12, 13]. In particular,\nsome techniques are based on Betweenness measures [14],\nresistor network [15], Laplacian eigenvalues [16, 17], implementing quantitative definitions of community structures in networks [18] or through out benefit functions\nknown as modularity [14, 16]. Those methods discover\n\n\u2217 E-mail:\n\nalves@ffclrp.usp.br\n\ncommunities in time runs that typically scale with the\nnetwork size as O(n3 ) or even O(n4 ). However, there is a\nproposal that scales linearly in time but needs a parameter dependent considerations [15]. This method views\nthe network as an electric circuit with current flowing\nthrought all edges represented by resistors. The automatic community finding procedure is hampered by the\nneed of electing two nodes (poles) that lie in different\ncommunities and defining a threshold in voltage spectrum.\nHere we show how random walkers on graphs, also\nin connection with electrical networks, unveil the hierarchies of subnetworks or the so called community structure. Our method combines Laplacian eigenvalue approach with electrical network theory. A brief review of\nhow the spectral graph theory can characterize the structural properties of graphs using the eigenvectors of the\nLaplacian matrix, related to the adjacency matrix, has\nbeen presented by Newman [16].\nThe main aspect of the method relies on a generalization of the usual transition probability matrix P. The\nmatrix element Pij means the probability for a walk on\na weighted graph at i to its adjacent vertex j. The interpretation of conductances, the inverse of resistances,\namong any vertices leads to the definition of an effective\ntransition matrix that accounts for hops on the graph.\nDefining a similarity matrix as a function of the effective transition matrix elements it is possible to extract\na topological feature related to the manner graph G has\nbeen organized. It turns out that this topological feature\ncorresponds to hierarchical classes of vertices which we\ninterpret as communities of the network theory.\nTo explain our method, we present the essential of the\nspectral analysis of Laplacian matrices in Section 2. In\nSection 3 we present the arguments leading to the similarity matrix that sets a scale to extract the community\nstructure. In Section 4 we describe how to implement the\nalgorithm and show the results for the karate club network studied by Zachary [19] and for the model designed\nby Ravasz and Barab\u00e1si [20], an example of network with\nscale-free property and modular structure. Section 5 concentrates our discussions on weighted graphs and the final\nSection 6 contains our conclusions.\n\n\f2\n2.\n\nLAPLACIAN EIGENVALUES AND\nTRANSITION MATRIX\n\nLet us consider a simple graph G, i.e., undirected and\nwith no loops or multiple edges, on a finite vertex set\nV = {1, 2, * * * , n} and edge set E, represented by the\nadjacency matrix A. The degree ki for each vertex\nPn i is\nobtained from the adjacency matrix A as ki = j=1 Aij .\nFor non-weighted graphs, the symmetric n \u00d7 n adjacency\nmatrix takes values Aij = 1, if there is an edge connecting\nvertices (i, j) and 0 otherwise. Thus, ki counts the number of edges that connect the selected vertex i to other\nvertices. This extends naturally to weighted adjacency\nmatrix but we leave its version to Section 5.\nFor our purpose we study the graph G through a positive semidefinite matrix representation. This is achieved\nin the usual manner using the Laplacian. The Laplacian\nmatrix of a graph G on n vertices, denoted by L(G), is\nsimply the matrix with elements\n\uf8f1\nif i = j\n\uf8f2 ki\n(1)\nLij = \u22121 if i and j are adjacents\n\uf8f3 0 otherwise ,\nwhich corresponds to the degree diagonal matrix minus\nthe adjacency matrix, L = K \u2212 A. The Laplacian matrix\nhas a long history. It was introduced by Kirchhoff in\n1847 with a paper related to electrical networks [21] and\nconsequently is also known as Kirchhoff matrix.\nThe Laplacian matrix is real and symmetric. Moreover, L is a positive semidefinite singular matrix with\nn eigenvalues \u03bbi and eigenvectors vi . If we label the\neigenvalues in increasing order \u03bb1 \u2264 \u03bb2 \u2264 * * * \u2264 \u03bbn ,\nwe have L(G) v1 = 0. The eigenvalue \u03bb1 = 0 is always the smallest \u221a\none and has the normalized eigenvector\nv1 = (1, 1, * * * , 1)/ n. Since the matrix L(G) is singular,\nit has no inverse, but in such cases it is possible to introduce the so-called generalized inverse (L\u2020 ) of L according\nto Moore and Penrose's definition [22].\nAmong many properties for the second smallest eigenvalue \u03bb2 (G), known as the algebraic connectivity, we recall that [21, 23] \u03bb2 (G) = 0 iff G is not connected. For\nconnected networks, the eigenvector components of the\nfirst non-null eigenvalue (\u03bb2 ) has been applied as an approximate method for grouping vertices into communities\n[16, 17, 24]. However the success in partitioning depends\non how well \u03bb2 is separated from other eigenvalues.\nFrom now on we identify the graph G = (V, E) with\nan electrical network connected by edges of unit resistances [25, 26]. A random walk on G is a sequence of\nstates (vertices) chosen among their adjacent neighbors.\nTo describe the overall behavior of a walker on G, one\nneeds to go beyond the usual analysis of Markov chains\nwith transition matrix Pij , probability to go from vertex i to an adjacent vertex j, to include also hops, i.e.,\nmoves across the graph. For this end, we evaluate the effective resistances rij between all distinct vertices i and\nj of G. Those effective resistances rij can be numerically\n\nevaluated by means of the electrical network theory as\n[27, 28]\nrij = (L\u2020 )ii + (L\u2020 )jj \u2212 (L\u2020 )ij \u2212 (L\u2020 )ji ,\n\n(2)\n\nfor i 6= j and rij = 0 for i = j. Here, L\u2020 (G) is the\nMoore-Penrose generalized inverse of the Laplacian matrix L(G). Its definition amounts to write L\u2020 (G) as\n(L\u2020 )ij =\n\nn\u22121\nX\nk=1\n\n1\nvki vkj .\n\u03bbk\n\n(3)\n\nThis leads to a simple formulation of the effective resistances between all pairs of vertices as a function of the\neigenvalues and eigenvectors of L(G),\nrij =\n\nn\u22121\nX\nk=1\n\n1\n(vki \u2212 vkj )2 .\n\u03bbk\n\n(4)\n\nAs a natural generalization, it is convenient to define the\neffective conductances cij for all pairs of vertices (i, j) as\ncij = 1/rij , for i 6= j.\nAs a consequence of the above results it is possible\nto extend the usual random process that moves around\nthrough adjacent states i and j to hops on the graph.\nWe define the hop transition probability from vertex i to\nany vertex j by\nPij =\n\ncij\n,\nci\n\n(5)\n\nwhereP\ncij is the effective conductance from i to j and\nci =\nj cij . Since a connected network is considered,\nthe probability that a walker who begins the run at any\ngiven vertex i and reaches any other given vertex does\nnot vanish.\n3.\n\nMETHOD\n\nAlthough Pij is not necessarily equal to Pji , it is possible to describe hierarchical classes of states perceived by\nthe walker as follows.\nFirstly, we consider the generalized \"distance\" expression,\n\u0010P\n\u00111/q\nn\n|Pik \u2212 Pjk |q\nk6\n=\ni,j\n(q)\ndij =\n,\n(6)\nn\u22122\n\nwhere q is a positive real number, as a similarity mea(q)\nsure between any vertices. Small dij would imply high\nsimilarity between i and j and could be used to set a hierarchical classification. Unfortunately this measure does\nnot provide a good score to classify those states into communities. We have realized that the fluctuations Sij in\n|Pik \u2212 Pjk | indeed play the main role for that classification. Let us take q = 1 and define\nPn\nk6=i,j |Pik \u2212 Pjk |\n(7)\ndij =\nn\u22122\n\n\f3\nas the average \"distance\" between i and j. The standard\ndeviation between those vertices is given by\n\uf8f91/2\n\uf8ee\nn\nX\n\u0001\n1\n2\n|Pik \u2212 Pjk | \u2212 d(i, j) \uf8fb\nSij = \uf8f0\n. (8)\nn\u22123\nk6=i,j\n\nAs a matter of fact, this quantity gives a better description of the similarity among the vertices in opposite to\nthe average value in Eq. (6). The importance of those\nfluctuations to classify vertices into communities may be\nsurmised saying that we should not ask how far away two\nvertices are, but who are their neighbors.\nSecondly, we explore the behavior of Pij because low\ntransition probability to go from state i to j means\nthat state j is less accessible from state i. On the\nother hand, high transition probability among states defines a class of easily connected states. This is better understood in terms of 1/Pij . Since the elements\nPij are not necessarily symmetric, we define how close\ni and j are by taken as distance min{1/Pij , 1/Pji } =\nmax\n1/max{Pij , Pji } \u2261 1/P{ij}\n. In other words, the quanmax\ntity 1/P{ij} sets different levels of transient classes on\nG(V, E).\nThirdly, in order to have a well defined class of states\nwe should expect small transition probability for leavmin\ning it. Let us also introduce the notation P{ij}\n\u2261\nmin\nmax\nmin{Pij , Pji }. Thus, a large value of \u2206ij \u2261 P{ij} \u2212 P{ij}\nis consequence of small value for the leaving probability\nmin\nmax\nP{ij}\nand large value for P{ij}\n.\nTherefore, we extract the desired hierarchical analysis\ndefining heuristically a similarity matrix (or \"distance\nmatrix\") D taken simultaneously into account the above\nremarks:\nDij =\n\nmin\nmax{\u2206ij , P{ij}\n}\nSij\nmax\nP{ij}\n\n.\n\n(9)\n\nmin\nComparative values of P{ij}\n, for different (i, j) pairs, may\nbe translated as a penalty when they are rather large,\nwhich has an intimate connection with \u2206ij . Thus, the\nmin\nmaximum between \u2206ij and P{ij}\nenters in the nominator\nof Eq. (9) as an extra term to help to set a similarity (or\nproximity) scale. As we will show in the next sections, the\nsymmetric matrix D is able to unveil the entire transient\nclasses of states.\n\n4.\n\nEVALUATING COMMUNITY\nIDENTIFICATION\n\nTo understand the meaning of those transient classes\nwe investigate in some examples the structure of G(V, E)\nencoded by the similarity matrix. Our analysis reveal\nwell-defined classes of vertices. They occur at different\nlevels of the hierarchical tree under Dij with the interesting interpretation of communities i.e., with the structure\nof well-defined subnetworks.\n\nA.\n\nPerformance on artificial community graphs\n\nBefore discussing a particular issue on how to implement the algorithm we report its performance on\ngraphs with a well known fixed community structure [14].\nOur method was tested on large number of graphs with\nn = 128 vertices and designed to have four communities\nof 32 vertices. Each graph is randomly generated with\nprobability pin to connect vertices in the same community and probability pout to those vertices in different\ncommunities. Those probabilities are evaluated in order\nto make the average degree of each vertex equals to 16.\nThe test amounts to evaluate the fraction of vertices correctly classified as a function of zout , the average number\nof edges a given vertex has to outside of its own community. Our algorithm classifies correctly vertices into the\nfour communities for small values of zout , decreasing its\nperformance towards zout = 8. We have, for example, the\nfractions 0.99 \u00b1 0.01, 0.95 \u00b1 0.01, 0.81 \u00b1 0.02, 0.57 \u00b1 0.03,\nrespectively for zout = 5, 6, 7 and 8. The error bar was\nevaluated over 100 randomly generated graphs. Those\nresults are competitive with the analyzed algorithms in\nRef. [13]. Moreover, we stress that the proposed method\nis fully parameter independent. Also, its computational\ncost is limited to methods in computing the eigenvalues and eigenvectors of symmetric matrices. In general\nit amounts to initial O(n3 ) operations, with subsequent\nless expensive iterations O(n2 ).\nB.\n\nA graph with leaves\n\nThe method is quite simple and much of the computer\ntime is spent in calculating the eigenvalues and eigenvectors of L. All that remains to calculate is the effective\nresistances in Eq. (4) and, with the elements Pij , the\nfinal similarity matrix D in Eq. (9). However, some care\nis needed when the graph presents what we call leaves.\nThis is explained as follows.\nWe present in Fig. 1 a small graph to display the information contained in the matrix D and how to perform\nthe hierarchical analysis. This example shows a graph\ncontaining a subgraph with tree-like topology. A tree is\na connected acyclic graph. In this example, the tree is the\nsubgraph with vertex numbers 5, 6 and 7, which we call\nleaves. Their effective resistances are r56 = r57 = r35 = 1\nand therefore we have r36 = r37 = 2. For tree-like subgraphs the effective resistances correspond to the number of edges lij connecting vertices i and j. Therefore,\nrij = lij for acyclic branches. Also r48 = 1 because\nthere is only one way of reaching vertex 8 from vertex\n4. On the other hand, whenever we have different paths\njoining adjacent vertices (i, j), we obtain rij < 1 as consequence of calculating the effective resistance of resistors connected in parallel and in series. For example,\nr89 = r8(10) = r9(10) = 0.6667. To unveil the hierarchical structure of graphs with leaves, we need to proceed as\n\n\f4\n\nFIG. 1: A simple graph with a tree-like subgraph: vertices\n5, 6 and 7. Our graph figures are drawn using VISONE\n(www.visone.de).\n\nfollows because well-defined transient classes of states are\nonly identified for graphs with no local tree-like topology.\nSuppose we start with a graph with m vertices (m = 10).\nIf the graph has leaves, we collect leaf after leaf to remove\nacyclic branches and we end up with a reduced number\nof vertices n (n < m). After collecting all leaves, we\nwork with the Laplacian matrix of order n obtained from\nthe reduced adjacency matrix. During this process we\nkeep trace of the original labels. The hierarchical structure of this example is shown in Fig. 2 as a dendrogram\nwhere we have joined the previously removed vertices (6,\n7 and 5) to vertex 3 because they naturally belong to the\nsame community as vertex 3 does. All presented dendrograms have their similarity (y-axis) D scaled to be in the\nrange (0, 100). This allows a comparative display of their\nbranches.\n\nFIG. 3: The karate club network studied by Zachary. Individual numbers represent the members of the club and\nedges their relationships as observed outside the normal\nactivities of the club. Squares and circles indicate the\nobserved final splitting of the karate club into two communities led by the administrator (34) and the instructor\n(1). A clear further splitting is identified with shaded\ncircles.\n\nanalyze two well known networks in the literature.\nThe first example (Fig. 3) corresponds to the network\nof members of the karate club studied by Zachary [19].\nThis graph contains a single leaf: member 12. Our analysis led to the hierarchical structure shown in Fig. 4\nby means of a hierarchical clustering tree, defining communities at different levels. The two main communities\nreproduce exactly the observed splitting of the Zachary\nclub and studied by different community finding techniques [12, 13, 14, 15, 17, 18, 29, 30]. Interestingly, a\nsmaller community presented by the hierarchical tree can\nbe clearly identified in Fig. 3. It consists of members\ndisplayed with shaded circles. This small group is only\ninfluenced by its members and has a direct interaction\nwith the instructor.\n\nFIG. 2: The community structure of graph in Fig. 1\nis depicted as a hierarchical tree or dendrogram with\nthe complete linkage method for the similarity matrix D. Our dendrogram figures are drawn with the\ndata plotting package and programming language R\n(http://www.R-project.org).\n\nC.\n\nZachary karate club network\n\nTo illustrate further the meaning of transient classes\non G(V, E) from global information carried out by D we\n\nFIG. 4: The hierarchical structure of network in Fig.\n3 is shown as a dendrogram with the complete linkage\nmethod. It correctly identifies the two main communities\nof the karate club.\n\n\f5\n\nFIG. 5: The deterministic hierarchical scale-free model\nwith n = 5 vertices proposed by Ravasz et al. [6]. It is\nbuilt by generating replicas of the small 5-vertex module\n(a) shown at left side.\n\nD.\n\nRavasz and Barab\u00e1si square hierarchical\nnetwork\n\nThe second example is shown in Fig. 5. It was designed\nby Ravasz and Barab\u00e1si [20] as a prototype of hierarchical organization we may encounter in real network with\nscale-free topology and high modularity. The main figure is built with the module in (a). A similar figure but\nwith more connections between vertices can be built with\nthe module in (b). The study of Dij reveals community\nstructures at different hierarchical levels in Fig. 6, respectively for the graphs generated with the modules (a)\nand (b).\nThe hierarchical trees present similar structures, but\nthe hierarchical levels in both figures clearly display different network formation patterns. Moreover, the hierarchical formation pattern of G(V, E) with branches at\ndifferent heights may be seen as a measure of how cohesive those subgroups are. The normalized scale for Dij\nthen can be used to also set degrees of cohesiveness related to the community formation.\n5.\n\nWEIGHTS ON THE EDGES\n\nOur method also applies to graphs such that each edge\nhas a positive real number, the weight of the edge. The\nstructure of the graph is now represented by the corresponding weighted adjacency matrix W. It assigns\nweight wij > 0 if and only if i and j are connected\nvertices and 0, otherwise. The concept of the Laplacian matrix extends directly toPweighted edges, L(G) =\nn\nE(G) \u2212 W(G), where Eii =\nj=1 wij is the diagonal\nweighted matrix whose values are the total weight of the\n\nFIG. 6: Hierarchical structure for the formation pattern\nof the network in Fig. 5. Dendrogram (a) refers to the\nnetwork built with module (a) in Fig. 5 whereas dendrogram (b) refers to the graph built with module (b) in\nFig.5.\n\nedges adjacents to vertex i. Again, L(G) is a real symmetric matrix where the row sums and the column sums\nare all zero. Thus, we have the same spectral properties\nas recalled to the particular case wij = 1 for all adjacent\nvertices i and j. Therefore, the method presented to unweighted graphs extends naturally to weighted ones with\nno change in the algorithm.\n\nA.\n\nPerformance on artificial community weighted\ngraphs\n\nWe have also verified the performance of this method\non weighted graphs with fixed community structure [31].\nOur test is performed on the same artificial graphs randomly generated as described in Section 4.A. The computer generated graphs have 128 vertices and are divided\ninto four groups of 32 vertices. Here, edges among vertices are randomly chosen such that the average degree\nis fixed at 16. The test is performed for the most difficult situation where zout = zin = 8. That is, each vertex\nhas as many adjacent connections to inside as to outside its community. For each graph, we attach a weight\nw > 1 to the edges inside each community and keep the\nfixed weight 1 for those edges which lie between communities. We evaluate again the fraction of vertices classified correctly as a function of w. As w increases from\nthe starting value 1, the weights enhance the community\nstructure. This is clearly highlighted by our method.\nOur performance amounts to the following fractions of\ncorrectly classified vertices, 0.89, 0.94, 0.97 and 0.98, respectively for w = 1.4, 1.6, 1.8 and 2. The averages were\ncalculated over 100 randomly generated graphs, with error bars smaller than 0.01.\n\n\f6\n7. Its structure exhibits the formation of various communities. For comparison with the results in [32], we also\npick out the four main groups. The study of the their\nmembers reveals an association mainly according to race\nand gender, as also found in Ref. [32]. However, there\nare some differences in the members identification in each\ngroup. This may be due to the fact we are not analyzing exactly the same weighted network: our network is\nmade undirect throught out an average process while the\noriginal one was handled in its original directed form.\n\nFIG. 7: Network community of professional discussions\namong teachers at \"Our Hamilton High\".\n\nB.\n\nidentifying cohesive subgroups\n\nAs an example, we apply our method to the problem\nof analyzing weighted interactions related to verify how\npairs of teachers are engaged in professional discussions\n[32]. This is a social network with n = 24 members.\nTheir edges are characterized by the professional discussions in a high school, called \"Our Hamilton High\", during the 1992-1993 school year. Teachers were asked to\nlist and weight the frequency of their discussions in that\nschool to at most five teachers. This way of attributing\nweights leads to a directed network. The weights should\nfollow a scale running from 1, for discussions occuring\nless than once a month, to the largest weight value 4, for\nalmost daily discussions [32]. Every vertex number contains characteristics of teachers as gender, race, subject\nfield, room assignment, among others. To perform our\nanalysis we have defined the weights to each edge as the\naverage of the values placed on the edges in the original directed network. Thus, this new weighted network\nis characterized by edges with real values in the range\n(0.5, 4) as representing the interactions among the members of that school. The community structure revealed\nby our analysis is represented by the dendrogram in Fig.\n\n[1] A.-L. Barab\u00e1si, Nature Phys. 1, 68 (2005).\n[2] R. Albert and A.-L. Barab\u00e1si, Rev. Mod. Phys. 74, 47\n(2002).\n[3] S.N. Dorogovtsev and J.F.F. Mendes, Adv. Phys. 51,\n1079 (2002).\n[4] M.E.J. Newman, SIAM Review 45, 167 (2003).\n[5] P. Holme, M. Huss and H. Jeong, Bioinformatics 19, 532\n(2003).\n[6] E. Ravasz, A.L. Somera, D.A. Mongru, Z.N. Oltvai and\nA.-L. Barab\u00e1si, Science 297, 1551 (2002).\n[7] R. Guimer\u00e0 and L.A.N. Amaral, Nature 433 895 (2005).\n[8] M. Vendruscolo, N.V. Dokholyan, E. Paci and M.\nKarplus, Phys. Rev. E 65, 061910 (2002).\n[9] L.H. Greene and V.A. Higman, J. Mol. Biol. 334, 781\n\n6.\n\nCONCLUSIONS\n\nIn conclusion, random walks on graphs in connection\nwith electrical networks highlight a topological property\nof G(V, E): transient classes of vertices which we interpret as communities in the original graph. Here we emphasize that those special classes of vertices are a direct\nconsequence of effective transition probabilities, which\ndisplay a global perspective about the map of interactions that characterize the graph. We demonstrate its\nhigh performance in identifying community structures in\nsome examples which became benchmark for initial algorithm validation. Moreover, it is parameter tunning\nindependent. Our criterion to define communities depends only on G(V, E) and not on any explicit definition\nof what a community structure must be.\nIt is likely that our proposed algorithm may produce\nnew insights for large graphs. Application examples\nmay include protein-protein interactions and the compartment identification in food-web structures. The visual information about how members form communities\nalong the hierarchical tree may permit understand and\ncharacterize cohesive communities.\nAcknowledgments\nThe author acknowledges valuable discussions with\nO. Kinouchi, A.S. Martinez and the support from the\nBrazilian agencies CNPq (303446/2002-1) and FAPESP\n(2005/04067-6).\n\n(2003).\n[10] A.R. Atilgan, P. Akan and C. Baysal, Biophys. J. 86, 85\n(2004).\n[11] N.A. Alves and A.S. Martinez, Physica A 375 336 (2007).\n[12] M.E.J. Newman, Eur. Phys. J. B. 38, 321 (2004).\n[13] L. Danon, A. Diaz-Guilera, J. Duch and A. Arenas, J.\nStat. Mech. P09008 (2005).\n[14] M.E.J. Newman and M. Girvan, Phys. Rev. E 69, 026113\n(2004).\n[15] F. Wu, B.A. Huberman, Eur. Phys. J. B 38, 331 (2004).\n[16] M.E.J. Newman, Phys. Rev. E 74 036104 (2006).\n[17] L. Donetti and M. A. Mu\u00f1oz, J. Stat. Mech. P10012\n(2004).\n[18] F. Radicchi, C. Castellano, F. Cecconi, V. Loreto and\n\n\f7\n\n[19]\n[20]\n[21]\n[22]\n[23]\n[24]\n\nD. Parisi, Proc. Natl. Acad. Sci. USA 101 2658 (2004);\nC. Castellano, F. Cecconi, V. Loreto, D. Parisi, and F.\nRadicchi, Eur. Phys. J. B 38, 311 (2004);\nW.W. Zachary, J. Anthropological Research 33, 452\n(1977).\nE. Ravasz and A.-L. Barab\u00e1si, Phys. Rev. E 67, 026112\n(2003).\nR. Grone, Linear Algebra Appl. 150, 167 (1991) and references therein.\nS.L. Campbell and C.D. Meyer, Generalized Inverses of\nLinear Transformations. Dover Publications, New York\n(1991).\nA. Baltz and L. Kliemann, Lecture Notes in Computer\nScience 3418, 373 (2005).\nK.M. Hall, Manag. Sci. 17, 219 (1970).\n\n[25] B. Bollob\u00e1s, Modern Graph Theory, Springer-Verlag,\nNew York 1998.\n[26] P.G. Doyle and J.L. Snell, Random walks and electric\nnetworks, Mathematical Association of America, 1999.\n(http://math.dartmouth.edu/\u223cdoyle/docs/walks/walks.ps)\n[27] W. Xiao and I. Gutman, Theor. Chem. Acc. 110, 284\n(2003).\n[28] I. Gutman and W. Xiao, Bulletin de l'Academie Serbe\ndes Sciences et des Arts (Cl. Math. Natur.) 129, 15\n(2004).\n[29] M.E.J. Newman, Phys. Rev. E 69, 066133 (2004).\n[30] H. Zhou, Phys. Rev. E 67, 061901 (2003).\n[31] M.E.J. Newman, Phys. Rev. E 70, 056131 (2004).\n[32] K.A. Frank, Social Networks 18, 93 (1996).\n\n\f"}