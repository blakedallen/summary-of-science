{"id": "http://arxiv.org/abs/0809.4336v2", "guidislink": true, "updated": "2009-06-11T12:55:19Z", "updated_parsed": [2009, 6, 11, 12, 55, 19, 3, 162, 0], "published": "2008-09-25T08:25:41Z", "published_parsed": [2008, 9, 25, 8, 25, 41, 3, 269, 0], "title": "Modules on involutive quantales: canonical Hilbert structure,\n  applications to sheaf theory", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=0809.2918%2C0809.3711%2C0809.1044%2C0809.2886%2C0809.5093%2C0809.2912%2C0809.4336%2C0809.0709%2C0809.4225%2C0809.2734%2C0809.2562%2C0809.0918%2C0809.4734%2C0809.1901%2C0809.3391%2C0809.3855%2C0809.1518%2C0809.4017%2C0809.3958%2C0809.1262%2C0809.4286%2C0809.2502%2C0809.3576%2C0809.2338%2C0809.5181%2C0809.0222%2C0809.3737%2C0809.0069%2C0809.1934%2C0809.4447%2C0809.0159%2C0809.0951%2C0809.3122%2C0809.0587%2C0809.0536%2C0809.5246%2C0809.1057%2C0809.4861%2C0809.0784%2C0809.2637%2C0809.1110%2C0809.2855%2C0809.4599%2C0809.5116%2C0809.0128%2C0809.1043%2C0809.0739%2C0809.1301%2C0809.3612%2C0809.2778%2C0809.5014%2C0809.0038%2C0809.0917%2C0809.0550%2C0809.5126%2C0809.1906%2C0809.1652%2C0809.4218%2C0809.3014%2C0809.0337%2C0809.1357%2C0809.4376%2C0809.1601%2C0809.3537%2C0809.3325%2C0809.2239%2C0809.1496%2C0809.0922%2C0809.1565%2C0809.5271%2C0809.2672%2C0809.2696%2C0809.4483%2C0809.0934%2C0809.3730%2C0809.1351%2C0809.5154%2C0809.4127%2C0809.0042%2C0809.3154%2C0809.2091%2C0809.1804%2C0809.5244%2C0809.3996%2C0809.0048%2C0809.3810%2C0809.3284%2C0809.3015%2C0809.2476%2C0809.3440%2C0809.4695%2C0809.4328%2C0809.1341%2C0809.0648%2C0809.2424%2C0809.2263%2C0809.3089%2C0809.4201%2C0809.5035%2C0809.0470%2C0809.0981&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Modules on involutive quantales: canonical Hilbert structure,\n  applications to sheaf theory"}, "summary": "We explain the precise relationship between two module-theoretic descriptions\nof sheaves on an involutive quantale, namely the description via so-called\nHilbert structures on modules and that via so-called principally generated\nmodules. For a principally generated module satisfying a suitable symmetry\ncondition we observe the existence of a canonical Hilbert structure. We prove\nthat, when working over a modular quantal frame, a module bears a Hilbert\nstructure if and only if it is principally generated and symmetric, in which\ncase its Hilbert structure is necessarily the canonical one. We indicate\napplications to sheaves on locales, on quantal frames and even on sites.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=0809.2918%2C0809.3711%2C0809.1044%2C0809.2886%2C0809.5093%2C0809.2912%2C0809.4336%2C0809.0709%2C0809.4225%2C0809.2734%2C0809.2562%2C0809.0918%2C0809.4734%2C0809.1901%2C0809.3391%2C0809.3855%2C0809.1518%2C0809.4017%2C0809.3958%2C0809.1262%2C0809.4286%2C0809.2502%2C0809.3576%2C0809.2338%2C0809.5181%2C0809.0222%2C0809.3737%2C0809.0069%2C0809.1934%2C0809.4447%2C0809.0159%2C0809.0951%2C0809.3122%2C0809.0587%2C0809.0536%2C0809.5246%2C0809.1057%2C0809.4861%2C0809.0784%2C0809.2637%2C0809.1110%2C0809.2855%2C0809.4599%2C0809.5116%2C0809.0128%2C0809.1043%2C0809.0739%2C0809.1301%2C0809.3612%2C0809.2778%2C0809.5014%2C0809.0038%2C0809.0917%2C0809.0550%2C0809.5126%2C0809.1906%2C0809.1652%2C0809.4218%2C0809.3014%2C0809.0337%2C0809.1357%2C0809.4376%2C0809.1601%2C0809.3537%2C0809.3325%2C0809.2239%2C0809.1496%2C0809.0922%2C0809.1565%2C0809.5271%2C0809.2672%2C0809.2696%2C0809.4483%2C0809.0934%2C0809.3730%2C0809.1351%2C0809.5154%2C0809.4127%2C0809.0042%2C0809.3154%2C0809.2091%2C0809.1804%2C0809.5244%2C0809.3996%2C0809.0048%2C0809.3810%2C0809.3284%2C0809.3015%2C0809.2476%2C0809.3440%2C0809.4695%2C0809.4328%2C0809.1341%2C0809.0648%2C0809.2424%2C0809.2263%2C0809.3089%2C0809.4201%2C0809.5035%2C0809.0470%2C0809.0981&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We explain the precise relationship between two module-theoretic descriptions\nof sheaves on an involutive quantale, namely the description via so-called\nHilbert structures on modules and that via so-called principally generated\nmodules. For a principally generated module satisfying a suitable symmetry\ncondition we observe the existence of a canonical Hilbert structure. We prove\nthat, when working over a modular quantal frame, a module bears a Hilbert\nstructure if and only if it is principally generated and symmetric, in which\ncase its Hilbert structure is necessarily the canonical one. We indicate\napplications to sheaves on locales, on quantal frames and even on sites."}, "authors": ["Hans Heymans", "Isar Stubbe"], "author_detail": {"name": "Isar Stubbe"}, "author": "Isar Stubbe", "arxiv_comment": "21 pages, revised version accepted for publication", "links": [{"href": "http://arxiv.org/abs/0809.4336v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/0809.4336v2", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.CT", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.CT", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.QA", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/0809.4336v2", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/0809.4336v2", "journal_reference": null, "doi": null, "fulltext": "Modules on involutive quantales:\ncanonical Hilbert structure, applications to sheaf theory\n\narXiv:0809.4336v2 [math.CT] 11 Jun 2009\n\nHans Heymans\u2217 and Isar Stubbe\u2020\nWritten: August 2008\nSubmitted: 10 September 2008\nRevised: 18 May 2009\n\nAbstract\nWe explain the precise relationship between two module-theoretic descriptions of sheaves\non an involutive quantale, namely the description via so-called Hilbert structures on modules\nand that via so-called principally generated modules. For a principally generated module\nsatisfying a suitable symmetry condition we observe the existence of a canonical Hilbert\nstructure. We prove that, when working over a modular quantal frame, a module bears a\nHilbert structure if and only if it is principally generated and symmetric, in which case its\nHilbert structure is necessarily the canonical one. We indicate applications to sheaves on\nlocales, on quantal frames and even on sites.\n\n1\n\nIntroduction\n\nJan Paseka [1999, 2002, 2003] introduced the notion of Hilbert module on an involutive quantale:\nit is a module equipped with an inner product. This provides for an order-theoretic notion of\n\"inner product space\", originally intended as a generalisation of complete lattices with a duality.\nRecently, Pedro Resende and Elias Rodrigues [2008] applied this definition to a locale X and\nfurther defined what it means for a Hilbert X-module to have a Hilbert basis. These Hilbert\nX-modules with Hilbert basis describe, in a module-theoretic way, the sheaves on X.\nAt the same time, the present authors defined the notion of (locally) principally generated\nmodule on a quantaloid [Heymans and Stubbe, 2009]. Our aim too was to describe \"sheaves as\nmodules\", albeit sheaves on quantaloids in the sense of [Stubbe, 2005b]. In this formulation the\nordinary sheaves on a locale X are described as locally principally generated X-modules whose\nlocally principal elements satisfy an extra \"openness\" condition.\nWhereas Hilbert locale modules easily generalise to modules on involutive quantales, the\nprincipally generated quantaloid modules straightforwardly specialise to involutive quantales.\n\u2217\n\nDepartment of Mathematics and Computer Science, University of Antwerp, Middelheimlaan 1, 2020 Antwerpen, Belgium, hans.heymans@ua.ac.be\n\u2020\nPostdoctoral Fellow of the Research Foundation Flanders (FWO), Department of Mathematics and Computer\nScience, University of Antwerp, Middelheimlaan 1, 2020 Antwerpen, Belgium, isar.stubbe@ua.ac.be\n\n1\n\n\fThus we have two module-theoretic approaches to sheaves on involutive quantales: in this note\nwe explain the precise relationship between them.\nThis work can be summarised as follows: After some preliminary definitions we show in\nSection 2 that any principally generated module on an involutive quantale comes with a canoncial\n(pre-)inner product. In Section 3 we first present the notion of Hilbert basis for modules on\nan involutive quantale [Resende, 2008]. After introducing a suitable notion of symmetry for\nsuch modules, termed principal symmetry, we prove that a module is principally generated and\nprincipally symmetric if and only if it admits a canonical Hilbert structure (= canonical inner\nproduct plus canonical Hilbert basis). When working over a modular quantal frame it is a fact,\nas we prove in Section 4, that a module bears a Hilbert structure if and only if it is principally\ngenerated and principally symmetric, in which case the given inner product is necessarily the\ncanonical one (admitting the canonical Hilbert basis). That is to say, in this case the only\npossible (and thus the only relevant) Hilbert structure is the canonical one. We illustrate all\nthis module-theory with many examples. In the final Section 5 we draw some conclusions from\nour work.\nWe explain all new results in this paper in a self-contained manner in the language of quantale\nmodules, focussing on the purely order-theoretic aspects. However, in some examples, particularly those concerned with sheaf theory in one way or another, we freely use material from\nthe references without recalling much of the details. Thus, the reader who is mainly interested\nin order theory can safely skip those examples; but the reader who is also interested in the\napplications to sheaf theory will most likely have to have a quick look at the cited papers too,\ninsofar as the notions involved are not already familiar to her or him.\n\n2\n\nCanonical inner product\n\nW\nWe begin by recalling some definitions. Throughout this paper, Q = (Q, , \u25e6, 1) stands for a\nquantale, i.e. a monoid in the monoidal category Sup of complete lattices and maps that preserve\nW\narbitrary suprema. Explicitly, a quantale Q consists of a complete lattice (Q, ) equipped with\na binary operation Q \u00d7 Q / Q: (f, g) 7\u2192 f \u25e6 g and a constant 1 \u2208 Q such that\nf \u25e6 (g \u25e6 h) = (f \u25e6 g) \u25e6 h,\n\n1\u25e6f =f =f \u25e61\n\nand\n\n(\n\n_\n\ni\u2208I\n\nfi ) \u25e6 (\n\n_\n\nj\u2208J\n\ngj ) =\n\n__\n\n(fi \u25e6 gj )\n\ni\u2208I j\u2208J\n\nfor all f, g, h, fi , gj \u2208 Q. (Some call this a unital quantale, but since we shall not encounter\n\"non-unital quantales\" in this work we drop that adjective.)\nDefinition 2.1 A map Q / Q: f 7\u2192 f o is an involution, and the pair (Q, (\u2212)o ) forms an\ninvolutive quantale, if it is order-preserving (f \u2264 g \u21d2 f o \u2264 go ), involutive (f oo = f ) and\nmultiplication-reversing ((f \u25e6 g)o = g o \u25e6 f o ).\nIt follows that an involution is an isomorphism of complete lattices, and also unit-preserving\n(1o = 1). Most often we shall simply speak of \"an involutive quantale Q\" and leave it understood\nthat the involution is written as f 7\u2192 f o .\nDefinition 2.2 An element f \u2208 Q of an involutive quantale is symmetric if f o = f .\n2\n\n\fA symmetric idempotent element of Q (f o = f = f \u25e6 f ) is sometimes called a projection.\nExample 2.3 Among the many examples of involutive quantales, we point out some of particular interest.\n1. A quantale Q is commutative if and only if the identity map 1Q : Q / Q: q 7\u2192 q is an\nW\ninvolution. In particular is every locale (also called frame) X = (X, , \u2227, \u22a4) an involutive\nquantale for this trivial involution.\n/ S op such\n2. Let S be a complete lattice with a duality, i.e. a supremum-preserving map d: S\nthat d(x) = d\u2217 (x) and d(d(x)) = x for all x \u2208 S, where d\u2217 is the right adjoint to d (abbreviated as d \u22a3 d\u2217 ) in the category Ord of ordered sets and order-preserving maps, explicitly,\nW\nW\n/ S: y 7\u2192 {x \u2208 S | d(x) \u2264op y}. The quantale Q(S) := (Sup(S, S), , \u25e6, 1S ) has\nd\u2217 : S op\na natural involution [Mulvey and Pelletier, 1992]: for f \u2208 Q(S) put f o := dop \u25e6 (f \u2217 )op \u25e6 d\n(where f \u22a3 f \u2217 in Ord). When putting fo := dop \u25e6 f op \u25e6 d, we have f o \u22a3 fo in Ord.\n\n3. A modular quantale Q is an involutive one which satisfies Freyd's modular law [Freyd and\nScedrov, 1990]: (p \u25e6 q \u2227 r) \u2264 p \u25e6 (q \u2227 po \u25e6 r) for all p, q, r \u2208 Q. We follow [Resende, 2007]\nin speaking of a quantal frame when we mean a quantale whose underlying lattice is a\nframe (= locale); the term modular quantal frame then speaks for itself. It is a matter of\nfact that modular quantal frames are precisely the one-object locally complete distributive\nallegories of P. Freyd and A. Scedrov [1990]. Allegories are closely related to toposes; below\nwe shall see that modular quantal frames in particular appear in the study of sheaves (cf.\nTheorem 4.1 and Example 4.7).\n4. An inverse quantal frame is a modular quantal frame Q in which every element is the join\nof so-called partial units (p \u2208 Q is a partial unit if po p \u2228 ppo \u2264 1Q ); it suffices that the top\nof Q is such a join. This definition is equivalent to the original one given in [Resende, 2007]\nbecause it is proved in that reference that inverse quantal frames arise as quotients (as\nframes and as involutive quantales) of quantal frames that are evidently modular. There is\na correspondence up to isomorphism between inverse quantal frames and \u00e9tale groupoids\n[Resende, 2007], providing a context to consider \u00e9tendues in terms of quantales.\n5. (In this and the next example we use notions that, for a lack of space, we cannot recall;\nbut we do include ample references.) A quantaloid is a Sup-enriched category. If A is an\nobject of a quantaloid Q, then Q(A, A) is a quantale; in particular, a quantaloid with only\none object is precisely a quantale. A quantaloid Q has a direct-sum completion, which can\nbe described as Matr(Q), the quantaloid of matrices with elements in Q. All definitions\nabove can straightforwardly be generalised from quantales to quantaloids. For details, see\ne.g. [Freyd and Scedrov, 1990; Rosenthal, 1996; Stubbe, 2005a]. A small quantaloid Q is\nMorita equivalent to the quantale Q := Matr(Q)(Q0 , Q0 ) [Mesablishvili, 2004], and it is\neasily seen that several properties of Q are carried over to its Morita-equivalent quantale\nQ: for example, if Q is involutive then so is Q.\n6. For a small site (C, J), i.e. C a small category and J a Grothendieck topology on C, the\nop\nJ-closed relations between the representables in SetC form a locally complete distributive\n\n3\n\n\fallegory, i.e. a modular quantaloid Q whose hom-objects are frames [Walters, 1982; Betti\nand Carboni, 1983]. It is easy to verify that this small quantaloid's Morita-equivalent\nquantale Q is a modular quantal frame, and that Q can be identified with a subquantaloid\nof the universal splitting of the symmetric idempotents of Q.\nWhen we speak of a (right) Q-module M we mean so in the obvious way in Sup. That is to say,\nW\n(M, ) is a complete lattice on which Q acts by means of a function M \u00d7Q / M : (m, f ) 7\u2192 m*f\nsatisfying\n_\n_\n__\nm * (f \u25e6 g) = (m * f ) * g, m * 1 = m and ( mi ) * ( fj ) =\n(mi * fj )\ni\u2208I\n\nj\u2208j\n\ni\u2208I j\u2208J\n\n/ N between two Q-modules\nfor all m, mi \u2208 M and f, g, fj \u2208 Q. Accordingly, a function \u03c6: M\nis a Q-module morphism if\n_\n_\n\u03c6(m * f ) = \u03c6(m) * f and \u03c6( mi ) =\n\u03c6(mi )\ni\u2208I\n\ni\u2208I\n\nfor all m, mi \u2208 M and f \u2208 Q. We shall write Mod(Q) for the category of Q-modules and module\nmorphisms. Of course Q itself is a Q-module, with action given by multiplication in Q.\nDefinition 2.4 (Paseka, 1999) Let M be a module on an involutive quantale Q. A map\nM \u00d7M\n\n/ Q: (m, n) 7\u2192 hm, ni\n\nis a pre-inner product if, for all m, n \u2208 M ,\n1. hm, \u2212i: M\n\n/ Q is a module morphism,\n\n2. hm, nio = hn, mi (which we refer to as Hermitian symmetry).\nIt is an inner product if it moreover satisfies\n3. h\u2212, mi = h\u2212, ni implies m = n\nand it is said to be strict if\n4. hm, mi = 0 implies m = 0.\nNow we shall recall some definitions from [Heymans and Stubbe, 2009], where they are given\nfor quantaloids but which we apply here to quantales.\nLet e \u2208 Q be an idempotent. The fixpoints of e \u25e6 \u2212: Q / Q form a Q-module which we shall\nwrite as Qe : the action of Q on Qe is given by multiplication, so the inclusion\n\u03b9e : Qe\n\n/ Q: f 7\u2192 f\n\nis a module morphism. Further, if M is any Q-module then for any m \u2208 M the map\n\u03c4m : Q\n\n/ M : f 7\u2192 m * f\n\n4\n\n\fis a module morphism. Thus also the composite\nQe @\n\n\u03b6m\n\n@@\n@@\n\u03b9e @@@\n\nQ\n\n/M\n\u007f?\n\u007f\n\u007f\u007f\n\u007f\u007f \u03c4m\n\u007f\n\u007f\n\nis a module morphism. Essentially as an application of the Yoneda Lemma for enriched categories\n[Kelly, 1982] we find the following characterisation.\nProposition 2.5 Let Q be a quantale, e \u2208 Q an idempotent, and M a Q-module. There is a\n/ M and the module morphisms from\none-one correspondence between the fixpoints of \u2212 * e: M\ne\nQ to M .\n/ M is any module morphism, then m\u03b6 := \u03b6(e) \u2208 M satisfies m\u03b6 * e = m\u03b6 ;\nProof : If \u03b6: Qe\n/ M : f 7\u2192 m * f is a module morphism.\nconversely, if m \u2208 M satisfies m * e = m, then \u03b6m : Qe\nThis is easily seen to set up a one-one correspondence.\n\u2737\n/ M between complete lattices preserves suprema; therefore\nIn particular, such a map \u03b6m : Qe\nit has an infima-preserving right adjoint in the category of ordered sets and order-preserving\nmaps. However, in general the order-preserving right adjoint need not be a module morphism,\ni.e. it need not be right adjoint to \u03b6m in the category Mod(Q) of Q-modules.\n\nDefinition 2.6 (Heymans and Stubbe, 2009) Let Q be a quantale and M a Q-module. An\nelement m \u2208 M is said to be locally principal at an idempotent e \u2208 Q if m * e = m and\n\u03b6 m : Qe\n\n/ M : f 7\u2192 m * f\n\nhas a right adjoint in Mod(Q).\nProposition 2.7 Let Q be a quantale, e \u2208 Q an idempotent, and M a Q-module. There is\na one-one correspondence between M 's locally principal elements at e and left adjoint module\nmorphisms from Qe to M .\n/ Qe for the right adjoint to a given module\nIn what follows we shall always write \u03b6 \u2217 : M\n/ M , whenever we know or assume it exists.\nmorphism \u03b6: Qe\nNow we come to a trivial but crucial observation.\n\nProposition 2.8 Let Q be an involutive quantale, E \u2286 Q the set of symmetric idempotents,\nand M a Q-module. The formula\no\n_n\n/ M left adjoint in Mod(Q)\nhm, nican :=\n(\u03b6 \u2217 (m))o \u25e6 \u03b6 \u2217 (n) e \u2208 E, \u03b6: Qe\ndefines a pre-inner product, called the canonical pre-inner product, on M .\n\n/ M , the pointwise multiplication of the\nProof : For any e \u2208 E and any left adjoint \u03b6: Qe\ncomposite module morphism\n\u03b6 \u2217 / e \u03b9e /\nQ\nQ\nM\n\n5\n\n\fwith the element (\u03b6 \u2217 (m))o \u2208 Q gives a module morphism\n(\u03b6 \u2217 (m))o \u25e6 \u03b6 \u2217 (\u2212): M\n\n/ Q.\n\nAs any pointwise supremum of parallel module morphisms is again a module morphism, we find\nthat\no\n_n\n/ M left adjoint in Mod(Q)\nhm, \u2212ican =\n(\u03b6 \u2217 (m))o \u25e6 \u03b6 \u2217 (\u2212) e \u2208 E, \u03b6: Qe\n\nis a module morphism from M to Q. It is a triviality that the function h\u2212, \u2212ican : M \u00d7 M\nis symmetric.\n\n/Q\n\n\u2737\n\nExample 2.9 We shall compute some more explicit examples in the next section, but we already\ninclude the following here.\n1. Every involutive quantale Q, regarded as a module over itself, has a natural inner product\n[Paseka, 1999]: for f, g \u2208 Q let hf, gi := f o \u25e6 g. And the canonical pre-inner product on a\nQ-module M is expressed as a supremum of values of the natural inner product on Q.\n/ S op we can consider the natural\n2. Particularly for a complete lattice S with duality d: S\ninner product on the involutive quantale Q(S): we have for s, t \u2208 S and f, g \u2208 Q(S) that\n\nhf, gi(s) \u2264 t \u21d0\u21d2 g(s) \u2264 fo (t).\nFrom this it is easy to verify that hf, gi = 0 if and only if f and g are disjoint: f (s) \u2264 d(g(t))\nfor all s, t \u2208 S.\n\n3\n\nCanonical Hilbert basis\n\nWe start by recalling another definition from [Heymans and Stubbe, 2009] (where it was actually\nstated more generally for modules on quantaloids).\nDefinition 3.1 Let Q be a quantale, E \u2286 Q any set of idempotent elements containing the unit\n1, and M a Q-module. If, for all m \u2208 M ,\no\n_n\ne\n\u2217\n/\nM left adjoint in Mod(Q)\nm=\n\u03b6(\u03b6 (m)) e \u2208 E, \u03b6: Q\n\nthen M is E-principally generated (which is short for: generated by its elements which are\nlocally principal at some e \u2208 E).\nThis Definition 3.1 resembles the following notion, which was originally defined by Resende\nand Rodrigues [2008] for pre-Hilbert modules on a locale, but which can straightforwardly be\nextrapolated to pre-Hilbert modules on an involutive quantale, as [Resende, 2008] does:\nDefinition 3.2 Let Q be an involutive quantale, and M a Q-module with pre-inner product\nh\u2212, \u2212i. If a subset \u0393 \u2286 M satisfies, for all m \u2208 M ,\n_\nm=\ns * hs, mi\ns\u2208\u0393\n\n6\n\n\fthen it is a Hilbert basis1 for M .\nIf a Q-module M bears a pre-inner product admitting a Hilbert basis, we speak of its Hilbert\nstructure; unless explicitly stated otherwise we shall always write h\u2212, \u2212i for the pre-inner product\nand \u0393 for the Hilbert basis. As also pointed out in [Resende, 2008], it is trivial to check that:\nProposition 3.3 If Q is an involutive quantale, and M a Q-module with a pre-inner product\nh\u2212, \u2212i admitting a Hilbert basis \u0393, then h\u2212, \u2212i is in fact an inner product.\nProof : Given m, n \u2208 M such that h\u2212, mi = h\u2212, ni, we certainly have hs, mi = hs, ni for all\ns \u2208 \u0393. The formula in Definition 3.2 then allows us to compute that\n_\n_\nm=\ns * hs, mi =\ns * hs, ni = n\ns\u2208\u0393\n\ns\u2208\u0393\n\nand we are done.\n\n\u2737\n\nBoth Definitions 3.1 and 3.2 speak of a \"generating set\" for Q-modules... But already in the\nlocalic case these two definitions are different!\nW\nExample 3.4 Let X be a locale, view it as a quantale (X, , \u2227, \u22a4) with identity involution.\nThe set E of symmetric idempotents in X coincides with X, and it is shown in [Stubbe, 2005b;\nHeymans and Stubbe, 2009] that an E-principally generated X-module is the same thing as an\nordered sheaf on X, i.e. an ordered object in Sh(X). On the other hand, as proved in [Resende\nand Rodrigues, 2008], a pre-Hilbert X-module with Hilbert basis is the same thing as a sheaf\non X.\nThis example hints at the importance of the intrinsic symmetry in the notion of \"pre-Hilbert\nQ-module with Hilbert basis\", i.e. the symmetry of the involved pre-inner product. Indeed\nnotice that Definitions 2.4 and 3.2 ask for a module on an involutive quantale \u2013 without which\nit would simply be impossible to coherently speak of symmetry \u2013 whereas Definition 3.1 has no\nsuch requirement at all. To systematically explain the relation between the two definitions we\nmust therefore develop a suitable notion of symmetry in the context of E-principally generated\nQ-modules.\nProposition 3.5 Let Q be an involutive quantale, E \u2286 Q the set of symmetric idempotents,\nand M a Q-module. The following statements are equivalent:\n1. for any e \u2208 E, any left adjoint \u03b6: Qe\n\n/ M and any m \u2208 M : \u03b6 \u2217 (m) = h\u03b6(e), mican ,\n\n2. for any e, f \u2208 E and any left adjoints \u03b6: Qe\n\n/ M , \u03b7: Qf\n\n/ M : \u03b6 \u2217 (\u03b7(f )) = h\u03b6(e), \u03b7(f )ican ,\n\n3. for any e, f \u2208 E and any left adjoints \u03b6: Qe\n\n/ M , \u03b7: Qf\n\n/ M : \u03b6 \u2217 (\u03b7(f )) = (\u03b7 \u2217 (\u03b6(e)))o .\n\nIn this case we say that M is E-principally symmetric.\n1\n\nAs also remarked in [Resende and Rodrigues, 2008], the word \"basis\" is quite deceiving: since there is no\nfreeness condition, it would be more appropriate to speak of Hilbert generators. However, for the sake of clarity\nwe shall adopt the terminology that was introduced in the cited references.\n\n7\n\n\fProof : The only non-trivial implication is (3 \u21d2 1). In fact, the \"\u2264\" in statement 1 always\nholds: because\n\u03b6 \u2217 (m) = e \u25e6 \u03b6 \u2217 (m) = eo \u25e6 \u03b6 \u2217 (m) \u2264 (\u03b6 \u2217 (\u03b6(e)))o \u25e6 \u03b6 \u2217 (m) \u2264 h\u03b6(e), mican\nwhere we used respectively: \u03b6 \u2217 (m) \u2208 Qe ; e = eo ; the unit of the adjunction \u03b6 \u22a3 \u03b6 \u2217 to get\ne \u2264 \u03b6 \u2217 (\u03b6(e)) from which eo \u2264 (\u03b6 \u2217 (\u03b6(e)))o because the involution preserves order; and finally the\ndefinition of the canonical pre-inner product.\nThus, assuming statement 3 we must show that the \"\u2265\" in statement 1 holds. But we can\n/ M,\ncompute that, for any f \u2208 E and any left adjoint \u03b7: Qf\n(\u03b7 \u2217 (\u03b6(e)))o \u25e6 \u03b7 \u2217 (m) = \u03b6 \u2217 (\u03b7(f )) \u25e6 \u03b7 \u2217 (m) = \u03b6 \u2217 \u25e6 \u03b7 \u25e6 \u03b7 \u2217 (m) \u2264 \u03b6 \u2217 (m)\nusing respectively: the assumption; the fact that \u03b6 \u2217 (\u03b7(f )) is the representing element for the\n/ Qe (cf. Proposition 2.5); and the counit of the adjunction\nQ-module morphism \u03b6 \u2217 \u25e6 \u03b7: Qf\n\u2217\n\u03b7\u22a3\u03b7 .\n\u2737\nRemark that (1 \u21d2 2 \u21d2 3) in Proposition 3.5 holds for any pre-inner product on M (but (3 \u21d2 1)\ndoes not!): that is to say, if one can prove the first or the second condition for a given preinner product on M (not necessarily the canonical one), then it follows that M is E-principally\nsymmetric. This shall be useful in the proof of Lemma 4.5.\nWe can now prove a first \"comparison\" between Definitions 3.1 and 3.2.\nTheorem 3.6 Let Q be an involutive quantale, E \u2286 Q the set of symmetric idempotents, and\nM a Q-module. The following are equivalent:\n1. M is E-principally generated and E-principally symmetric,\n2. the set\n\u0393can := {all elements of M which are locally principal at some e \u2208 E}\nis a Hilbert basis for the canonical pre-inner product on M , called the canonical Hilbert\nbasis.\nIn this case, it follows by Proposition 3.3 that the canonical pre-inner product is an inner product;\nwe speak of the canonical Hilbert structure on M .\nProof : (1\u21d22) Assuming that M is E-principally generated we have by definition that, for any\nm \u2208 M,\no\n_n\n/ M left adjoint in Mod(Q) .\nm=\n\u03b6(\u03b6 \u2217 (m)) e \u2208 E, \u03b6: Qe\n\nAssuming moreover that M is E-principally symmetric we can compute\n\n\u03b6(\u03b6 \u2217 (m)) = \u03b6(e \u25e6 \u03b6 \u2217 (m)) = \u03b6(e \u25e6 h\u03b6(e), mican ) = \u03b6(e) * h\u03b6(e), mican\nusing respectively: \u03b6 \u2217 (m) \u2208 Qe ; the first statement in Proposition 3.5; and the fact that \u03b6 is a\nmodule morphism. Replacing this in the right hand side of the first expression, we obtain\no\n_n\n/ M left adjoint in Mod(Q)\nm=\n\u03b6(e) * h\u03b6(e), mican e \u2208 E, \u03b6: Qe\n8\n\n\fso that, if we put\nn\n\u0393can := \u03b6(e) e \u2208 E, \u03b6: Qe\n\no\n\n/ M left adjoint in Mod(Q) ,\n\nwhich we know by Proposition 2.7 indeed corresponds to the set of elements of M which are\nlocally principal at some e \u2208 E, we find precisely what we claimed.\n/ M , there certainly is a module morphism\n(2\u21d21) For any e \u2208 E and left adjoint \u03b6: Qe\n/ Q. But we can compute that, for any m \u2208 M ,\nh\u03b6(e), \u2212ican : M\ne \u25e6 h\u03b6(e), mican = h\u03b6(e) * eo , mican = h\u03b6(e \u25e6 eo ), mican = h\u03b6(e), mican\nusing: the \"conjugate-linearity\" of h\u2212, mican ; the module morphism \u03b6; the fact that e is a\n/ Qe .\nsymmetric idempotent. Therefore, this module morphism corestricts to h\u03b6(e), \u2212ican : M\ne\nWe claim that it is right adjoint to \u03b6: Q / M . Indeed, if for q \u2208 Q and m \u2208 M we assume that\nq \u2264 h\u03b6(e), mican then we can compute\n\u03b6(q) = \u03b6(e \u25e6 q) = \u03b6(e) * q \u2264 \u03b6(e) * h\u03b6(e), mican \u2264 m\nusing: q \u2208 Qe , i.e. e \u25e6 q = q; \u03b6 is a module morphism; the assumed inequality which is preserved\nby \u03b6(e) * \u2212; and finally the hypothesis that M has Hilbert basis \u0393. Assuming conversely that\n\u03b6(q) \u2264 m, then we can compute\nq = e \u25e6 q \u2264 h\u03b6(e), \u03b6(e)ican \u25e6 q = h\u03b6(e), \u03b6(e) * qican\n= h\u03b6(e), \u03b6(e \u25e6 q)ican = h\u03b6(e), \u03b6(q)ican \u2264 h\u03b6(e), mican\nusing: q \u2208 Qe ; the unit of \u03b6 \u22a3 \u03b6 \u2217 in e = eo \u25e6 e \u2264 (\u03b6 \u2217 (\u03b6(e)))o \u25e6 \u03b6 \u2217 (\u03b6(e)) \u2264 h\u03b6(e), \u03b6(e)ican ; the\nmodule morphism h\u03b6(e), \u2212ican ; the module morphism \u03b6; again q \u2208 Qe ; and finally the assumed\ninequality which is preserved by the module morphism h\u03b6(e), \u2212ican . Hence, for any q \u2208 Qe and\nm \u2208 M,\nq \u2264 h\u03b6(e), mican \u21d0\u21d2 \u03b6(q) \u2264 m.\nAdjoints are unique and so we obtain that \u03b6 \u2217 (m) = h\u03b6(e), mican for all m \u2208 M . By Proposition\n3.5 this exactly means that M is E-principally symmetric. Since we assume that \u0393 is a Hilbert\nbasis, we have that\no\n_n\n/ M left adjoint in Mod(Q) .\n\u03b6(e) * h\u03b6(e), mican e \u2208 E, \u03b6: Qe\nm=\nBut the previous computation allows us to write\n\n\u03b6(e) * h\u03b6(e), mican = \u03b6(e) * \u03b6 \u2217 (m) = \u03b6(e \u25e6 \u03b6 \u2217 (m)) = \u03b6(\u03b6 \u2217 (m))\nhence we find that\nm=\nas wanted.\n\n_n\n\n\u03b6(\u03b6 \u2217 (m)) e \u2208 E, \u03b6: Qe\n\no\n\n/ M left adjoint in Mod(Q)\n\n\u2737\n\nExample 3.7 We shall give some examples of Q-modules with Hilbert structure, and then make\na comment on the category of Q-modules with Hilbert structure.\n9\n\n\f1. Cf. Example 2.9\u20131, \u0393 := {1Q } is a Hilbert basis for the natural inner product on Q.\nMore generally, if e \u2208 Q is an idempotent, then Qe is a Q-module with inner product\nhf, gi := f o \u25e6 g admitting \u0393 := {e} as Hilbert basis.\n2. Let Q be the 2-element chain 2 = {0 < 1} (with \u2227 as multiplication, trivial involution,\netc.); both its elements are symmetric idempotents. Let (A, \u2264) be an ordered set and\nconsider Dwn(A, \u2286), the downclosed subsets of A ordered by inclusion. This is the typical\nexample of an E-principally generated 2-module [Heymans and Stubbe, 2009] and is also\none of the fundamental constructions in [Resende and Rodrigues, 2008]. If D \u2208 Dwn(A, \u2286)\nis a locally principal element, then it is either the empty downset D = \u2205 (locally principal\nat 0 \u2208 2) or a principal downset D = \u2193x for some x \u2208 A (locally principal at 1 \u2208 2). For\nany D, E \u2208 Dwn(A, \u2286), their canonical inner product is\n(\n1 if D \u2229 E 6= \u2205\nhD, Eican =\n0 otherwise\nTo say that Dwn(A, \u2286) is E-principally symmetric is to require that for any x, y \u2208 A:\n\u2193x \u2286 \u2193y \u21d0\u21d2 \u2193y \u2286 \u2193x.\nThis makes the order (A, \u2286) in reality an equivalence relation (A, \u2248).\n3. The localic case: Let X be any locale and S any set. Then X S is an X-module, with\npointwise suprema and (f * x)(s) = f (s) \u2227 x, for any f \u2208 X S , x \u2208 X and s \u2208 S. Take now\n/ S (= a family (\u03a3(y, x))(x,y)\u2208S\u00d7S of elements of X) satisfying\nan X-matrix \u03a3: S\n\u03a3(z, y) \u2227 \u03a3(y, x) \u2264 \u03a3(z, x) and\n\n\u03a3(x, x) \u2227 \u03a3(x, y) = \u03a3(x, y) = \u03a3(x, y) \u2227 \u03a3(y, y)\n\nand consider the X-submodule R(\u03a3) of X S consisting of those functions f : S\nfying\n_\nf (s) =\n\u03a3(s, x) \u2227 f (x).\n\n/ X satis-\n\nx\u2208S\n\nIn the terminology of [Stubbe, 2005b], \u03a3 is a totally regular X-semicategory and R(\u03a3) is\n(up to the identification of X-modules with cocomplete X-categories [Stubbe, 2006]) the\ncocomplete X-category of (totally) regular presheaves on \u03a3. This is the typical example\nof a locally principally generated X-module [Heymans and Stubbe, 2009] and is one of the\nfundamental constructions of [Resende and Rodrigues, 2008] too. It is not too difficult to\nshow by direct calculations, but it also follows from our further results, that R(\u03a3) is Eprincipally symmetric if and only if \u03a3 is a symmetric X-matrix. Moreover, for a symmetric\nX-matrix \u03a3 to satisfy the above conditions is equivalent to it being an idempotent, hence\nthe module R(\u03a3) is E-principally generated and E-principally symmetric if and only if \u03a3\nis a so-called projection matrix (with elements in X). Our upcoming Theorem 4.1 says\nthat such structures coincide in turn with X-modules with (necessarily canonical) Hilbert\nstructure.\n4. The previous example is an instance of a more general situation. We write Hilb(Q) for\nthe quantaloid whose objects are Q-modules with Hilbert structure and whose morphisms\n10\n\n\fare module morphisms. And we write Matr(Q) for the quantaloid whose objects are sets\n/ T is an\nand whose morphisms are matrices with elements in A: such a matrix \u039b: S\nindexed set of elements of Q, (\u039b(y, x))(x,y)\u2208S\u00d7T \u2208 Q. Matrices compose straightforwardly\nwith a \"linear algebra formula\", and the identity matrix on a set S has all 1's on the\ndiagonal and 0's elsewhere. This matrix construction makes sense for any quantale (and\neven quantaloid), and whenever Q is involutive then so is Matr(Q): the involute of a matrix\nis computed elementwise. Now there is an equivalence of quantaloids2\nHilb(Q) \u2243 Proj(Q),\nwhere the latter is the quantaloid obtained by splitting the symmetric idempotents in\nMatr(Q), i.e. the quantaloid of so-called projection matrices with elements in Q. Explicitly,\n/ S is such a projection matrix, then\nif \u03a3: S\n_\n/ Q | \u2200s \u2208 S : f (s) =\n\u03a3(s, x) \u25e6 f (x)}\nR(\u03a3) := {f : S\ns\u2208S\n\nis a Q-module with inner product and Hilbert basis respectively\n_\n/ Q: x 7\u2192 \u03a3(x, s) | s \u2208 S}.\nhf, gi :=\n(f (s))o \u25e6 g(s) and \u0393 := {fs : S\ns\u2208S\n\nThis object correspondence \u03a3 7\u2192 R(\u03a3) extends to a Sup-functor from Proj(Q) to Hilb(Q):\nit is the restriction to symmetric idempotent matrices of the embedding of the Cauchy\ncompletion of Q qua one-object Sup-category \u2013 i.e. the quantaloid obtained by splitting all\nidempotents of Matr(Q) \u2013 into Mod(Q). Conversely, a module M with inner product h\u2212, \u2212i\nand Hilbert basis \u0393 obviously determines a projection matrix \u03a3: \u0393 / \u0393 with elements\n\u03a3(s, t) := hs, ti; this easily extends to a Sup-functor from Hilb(Q) to Proj(Q). These two\nfunctors set up the equivalence.\n5. A notable consequence of the previous example is the existence of an involution on Hilb(Q),\n/ N in\ninduced by the obvious involution on Proj(Q): the involute of a morphism \u03c6: M\n/ M characterised by\nHilb(Q) is the unique module morphism \u03c6o : N\nh\u03c6(s), ti = hs, \u03c6o (t)i\nfor all basis elements s of M and t of N .\nIn the localic case (cf. the example above) we can moreover prove an alternative formulation of\nthe symmetry condition in Proposition 3.5: an \"openness\" condition formulated on the principal\nelements. In the next example we recall and explain this.\nExample 3.8 Let X be a locale. Every element u \u2208 X is a symmetric idempotent, and the\n/ X. If M is an\nopen sublocale \u2193u \u2286 X is precisely the X-module of fixpoints of u \u2227 \u2212: X\n/\nM is open, in the sense that\nX-module for which each left adjoint \u03b6: \u2193u\nfor all x \u2264 u and m \u2208 M : \u03b6(x \u2227 \u03b6 \u2217 (m)) = \u03b6(x) \u2227 m,\n2\n\n[Resende, 2008] also notes the object correspondence, but not the morphism correspondence, and thus not\nthe equivalence of these quantaloids.\n\n11\n\n\fthen it is E-principally symmetric. The converse also holds, provided that M is E-principally\ngenerated, in which case M is an \u00e9tale X-module in the terminology of [Heymans and Stubbe,\n2009].\n/ M be left adjoints, suppose that \u03b6 is open: with x := u and\nProof : Let \u03b6: \u2193u / M and \u03b7: \u2193v\nm := \u03b7(v) in the above formula, it follows that\n\n\u03b6(\u03b6 \u2217 (\u03b7(v))) = \u03b6(u) \u2227 \u03b7(v).\nApplying \u03b7 \u2217 (which preserves infima) gives\n(\u03b7 \u2217 \u25e6 \u03b6)(\u03b6 \u2217 (\u03b7(v))) = \u03b7 \u2217 (\u03b6(u)) \u2227 \u03b7 \u2217 (\u03b7(v)).\nThe right hand side equals \u03b7 \u2217 (\u03b6(u)) because \u03b7 \u2217 (\u03b7(v)) = v (the adjunction \u03b7 \u22a3 \u03b7 \u2217 splits). The\nleft hand side equals \u03b7 \u2217 (\u03b6(u)) \u2227 \u03b6 \u2217 (\u03b7(v)), because the X-module morphism \u03b7 \u2217 \u25e6 \u03b6: \u2193u / \u2193v is\nrepresented by \u03b7 \u2217 (\u03b6(u)) \u2264 u \u2227 v. Thus we get\n\u03b7 \u2217 (\u03b6(u)) \u2227 \u03b6 \u2217 (\u03b7(v)) = \u03b7 \u2217 (\u03b6(u)), or in other words \u03b7 \u2217 (\u03b6(u)) \u2264 \u03b6 \u2217 (\u03b7(v)).\nGoing through the same argument but exchanging \u03b6 and \u03b7 proves that M is E-principally\nsymmetric.\nTo prove the converse, we assume that M is E-principally generated. We showed in [Heymans\nand Stubbe, 2009, Prop. 8.2] that then necessarily M is a locale and that there is a locale\n/ X such that m * x = m \u2227 f \u2217 (x) for all m \u2208 M and x \u2208 X. It follows easily\nmorphism3 f : M\nfrom this characterisation that, for all s \u2208 \u0393can ,\nM\n\n/ M : m 7\u2192 s \u2227 m\n\nis an X-module morphism. But under the hypothesis that M is E-principally symmetric, we\n/ M : x 7\u2192 s * x with its right adjoint\ncan compose the left adjoint module morphism \u2193hs, sican\n/ \u2193hs, sican : m 7\u2192 hs, mican to obtain\nM\nM\n\n/ M : m 7\u2192 s * hs, mican .\n\nWe claim that these module morphisms are equal: we shall show that they coincide on elements\nof \u0393can , which suffices because \u0393can is a Hilbert basis. Indeed, for r, t \u2208 \u0393can we can compute\nthat\nhr, s \u2227 tican = hr, sican \u2227 hr, tican = hr, sican \u2227 hs, tican = hr, s * hs, tican ican .\n(The first equality holds because hr, \u2212ican is a right adjoint, and the second equality holds\nbecause hr, sican \u2227 hr, tican = hs, rican \u2227 hr, tican = hs, r * hr, tican ican \u2264 hs, tican and similarly\nhr, sican \u2227 hs, tican \u2264 hr, tican .) Taking the supremum over all r \u2208 \u0393can proves that\n_\n_\nr * hr, s * hs, tican ican = s * hs, tican\nr * hr, s \u2227 tican =\ns\u2227t=\nr\u2208\u0393can\n\nr\u2208\u0393can\n\n3\n\nThat locale morphism satisfies some further particular properties, which made us call it a skew local homeomorphism in that reference.\n\n12\n\n\fas claimed. For any left adjoint \u03b6: \u2193u / M in Mod(X) we can apply the above to s := \u03b6(u) \u2208\n\u0393can , to find that\n\u03b6(\u03b6 \u2217 (m)) = \u03b6(u) \u2227 m\nfor any m \u2208 M . This allows us to verify in turn that for any x \u2264 u,\n\u03b6(x \u2227 \u03b6 \u2217 (m)) = \u03b6(\u03b6 \u2217 (m)) * x = (\u03b6(u) \u2227 m) * x = (\u03b6(u) * x) \u2227 m = \u03b6(x) \u2227 m\nas wanted.\n\n\u2737\n\nThe above direct argument relies on elementary order theory. There is a shorter alternative,\nusing results in the literature: an \u00e9tale X-module is the same thing as local homeomorphism into\nX [Heymans and Stubbe, 2009, Theorem 7.12], which is the same thing as a Hilbert X-module\n[Rodrigues and Resende, 2008, Theorem 3.15], which is the same thing as an E-principally\ngenerated and E-principally symmetric X-module (by our upcoming Theorem 4.1).\n\n4\n\n(Sometimes) all Hilbert structure is canonical\n\nThe previous section was concerned with the canonical Hilbert structure on a Q-module M : we\nshowed that there is a canonical Hilbert basis for the canonical (pre-)inner product on M if and\nonly if M is E-principally generated and E-principally symmetric, two natural notions based\non the behaviour of certain adjunctions in Mod(Q). This section is devoted to the perhaps\nsurprising fact that, for a certain class of quantales (containing many cases of interest), the only\npossible Hilbert structure is the canonical one.\nTheorem 4.1 Let Q be a modular quantal frame, E \u2286 Q the set of symmetric idempotents, and\nM a Q-module. If M bears a Hilbert structure, then necessarily M is E-principally generated\nand E-symmetric, and the involved inner product is the canonical one, which moreover is strict\n(and, by Theorem 3.6, admits the canonical Hilbert basis).\nThe proof of the theorem shall be given as a series of lemmas. The first one straightforwardly\nextrapolates a result known to [Resende and Rodrigues, 2009] in the case of modules on a\nlocale, and appears in [Resende, 2008]. We recalled the construction of the category Matr(Q) of\nmatrices with entries in Q in Example 3.7\u20134, and remarked that whenever Q is involutive then\nso is Matr(Q).\nLemma 4.2 If Q is an involutive quantale and M is a Q-module with an inner product h\u2212, \u2212i\nadmitting a Hilbert basis \u0393, then the following holds for all m, n \u2208 M :\n_\nhm, si \u25e6 hs, ni = hm, ni.\ns\u2208\u0393\n\nIn particular, (\u0393, h\u2212, \u2212i) is a so-called projection matrix: a symmetric idempotent in the involutive quantaloid Matr(Q).\nW\nProof : In hm, ni, use n = s\u2208\u0393 s * hs, ni and apply the linearity of hm, \u2212i.\n\u2737\n\nThe following lemma refers to the notion of total regularity, which we here state in a barebones matrix-form, but which actually has deep connections with sheaf theory; it was introduced\n13\n\n\fin the context of quantaloid-enriched categorical structures by Stubbe [2005b] and played a\ncrucial role in [Heymans and Stubbe, 2009] too.\nLemma 4.3 Let Q be an involutive quantale, and M a Q-module with an inner product h\u2212, \u2212i\nadmitting a Hilbert basis \u0393. The following statements are equivalent:\n1. for all s \u2208 \u0393: s = s * hs, si,\n2. for all s \u2208 \u0393: s \u2264 s * hs, si,\n3. the projection matrix (\u0393, h\u2212, \u2212i) is totally regular, i.e. for all s, t \u2208 \u0393:\nhs, ti \u25e6 ht, ti = hs, ti = hs, si \u25e6 hs, ti.\nIf Q moreover satisfies q \u2264 q \u25e6 q o \u25e6 q for every q \u2208 Q, then these equivalent conditions always\nhold4 .\nW\nProof : Due to the Hilbert basis, s * hs, si \u2264 t\u2208\u0393 t * ht, si = s for any s \u2208 \u0393 and thus (2 \u21d2 1).\nTo see that (2 \u21d2 3), compute for s, t \u2208 \u0393 that hs, ti = hs, t * ht, tii = hs, ti \u25e6 ht, ti. Conversely,\n(3 \u21d2 2) because, fixing a t \u2208 \u0393 we have for all s \u2208 \u0393 that hs, ti = hs, ti \u25e6 ht, ti = hs, t * ht, tii; but\ntherefore\n_\n_\ns * hs, t * ht, tii = t * ht, ti.\ns * hs, ti =\nt=\ns\u2208\u0393\n\ns\u2208\u0393\n\nNow if moreover every element q \u2208 Q satisfies q \u2264 q \u25e6 q o \u25e6 q then we can compute for s, t \u2208 \u0393\nthat\n\uf8f1\n\uf8f4\n\uf8f2 \u2264 hs, si \u25e6 hs, ti \u2264 hs, ti\no\nhs, ti \u2264 hs, ti \u25e6 hs, ti \u25e6 hs, ti = hs, ti \u25e6 ht, si \u25e6 hs, ti\n\uf8f4\n\uf8f3 \u2264 hs, ti \u25e6 ht, ti \u2264 hs, ti\n\nprecisely as wanted in the second condition. (We used that hr, si\u25e6hs, ti \u2264 hr, ti for any r, s, t \u2208 \u0393,\nas follows trivially from the formula in Lemma 4.2.)\n\u2737\nParticularly for a modular quantale Q the above result is interesting: because q \u2264 q \u25e6 q o \u25e6 q holds\nas consequence of the modular law, it follows that for every Q-module with Hilbert structure its\nHilbert basis is totally regular.\nNext are two lemmas which contain the important (and less straightforward) matter.\nLemma 4.4 If Q is an involutive quantale, and M a Q-module with an inner product h\u2212, \u2212i\nadmitting a Hilbert basis \u0393 satisfying the equivalent conditions in Lemma 4.3, then for any s \u2208 \u0393\nthere is an adjunction\ns*\u2212\n(\nM\nQhs,si h\n\u22a5\nhs, \u2212i\nin Mod(Q). Writing E \u2286 Q for the set of symmetric idempotents, such an an M is always\nE-principally generated; and if M is moreover E-principally symmetric then h\u2212, \u2212i coincides\nwith the canonical (pre-)inner product h\u2212, \u2212ican .\n4\n\nMore generally, under this condition it is true that any projection matrix with entries in Q, i.e. any symmetric\nidempotent in Matr(Q), is totally regular.\n\n14\n\n\f/ Q with the module morphism s * \u2212: Q\nProof : For s \u2208 \u0393, compose the inclusion Qhs,si\nto obtain a module morphism\n/ M : q 7\u2192 s * q.\n\u03b6s : Qhs,si\n\n/M\n\nBecause we assume s = s * hs, si it follows that hs, si \u25e6 hs, mi = hs * hs, si, mi = hs, mi for any\n/ Q co-restricts to a module\nm \u2208 M , and therefore the obvious module morphism hs, \u2212i: M\nmorphism\n/ Qhs,si : m 7\u2192 hs, mi.\n\u03b6s\u2032 : M\nWe shall show that \u03b6s \u22a3 \u03b6s\u2032 in Mod(Q); in fact, it suffices to prove that this adjunction holds\nin the category of ordered sets and order-preserving maps. Thus, consider q \u2208 Qhs,si and\nm \u2208 M : if s * q \u2264 m then q = hs, si \u25e6 q = hs, s * qi \u2264 hs, mi; conversely, if q \u2264 hs, mi then\nW\ns * q \u2264 s * hs, mi \u2264 t\u2208\u0393 t * ht, mi = m.\nThe module M is E-principally generated because for any m \u2208 M we have\n_\nm =\ns * hs, mi\ns\u2208\u0393\n\n=\n\n_\n\n\u03b6s \u03b6s\u2217 (m)\n\ns\u2208\u0393\n\n\u2264\n\n_n\n\n\u03b6(\u03b6 \u2217 (m)) e \u2208 E, \u03b6: Qe\n\no\n\n/ M left adjoint in Mod(Q)\n\n\u2264 m.\n\nIt follows directly from Lemma 4.2 that\nhm, ni =\n\n_\n\n(\u03b6s\u2217 (m))o \u25e6 \u03b6s\u2217 (n),\n\ns\u2208\u0393\n\nand from the above it is clear that this is smaller than\n_n\nhm, nican =\n(\u03b6 \u2217 (m))o \u25e6 \u03b6 \u2217 (n) e \u2208 E, \u03b6: Qe\n\no\n\n/ M left adjoint in Mod(Q) .\n\nNow suppose that M is E-principally symmetric. Fixing a left adjoint \u03b6: Qe\nwith e \u2208 E, we can compute for any s \u2208 \u0393 that\n\n/ M in Mod(Q),\n\nh\u03b6(e), si = hs, \u03b6(e)io = (\u03b6s\u2217 (\u03b6(e)))o = \u03b6 \u2217 (\u03b6s (hs, si)) = \u03b6 \u2217 (s * hs, si) = \u03b6 \u2217 (s);\nthe symmetry was crucially used in the third equality, and the assumption that the equivalent\nconditions in Lemma 4.3 hold in the last one. But morphisms in Mod(Q) with domain M are\nequal if they coincide on the Hilbert basis \u0393, so for all m \u2208 M we have h\u03b6(e), mi = \u03b6 \u2217 (m).\nTherefore we find that\n(\u03b6 \u2217 (m))o \u25e6 \u03b6 \u2217 (n) = hm, \u03b6(e)i \u25e6 \u03b6 \u2217 (n)\n= hm, \u03b6(e) * \u03b6 \u2217 (n)i\n= hm, \u03b6(\u03b6 \u2217 (n))i\n\u2264 hm, ni.\nTo pass from the third to the fourth line we use the counit of the adjunction \u03b6 \u22a3 \u03b6 \u2217 . All this\nmeans that hm, nican \u2264 hm, ni, and we are done.\n\u2737\nIt is only in the next statement that we require Q to be a modular quantal frame.\n15\n\n\fLemma 4.5 If Q is a modular quantal frame, and M a Q-module with an inner product h\u2212, \u2212i\nadmitting a Hilbert basis \u0393, then M is E-principally symmetric (for E \u2286 Q the set of symmetric\nidempotents).\nProof : We shall prove that the first of the equivalent conditions in Proposition 3.5 holds for the\ngiven inner product on M ; as we have remarked right after the proof of that Proposition, this\nsuffices to infer the E-principal symmetry of M . Because here we assume M to have a Hilbert\n/ M and any s \u2208 \u0393:\nbasis \u0393, it in fact suffices to show that, for any e \u2208 E, any left adjoint \u03b6: Qe\n\u2217\n\u03b6 (s) = h\u03b6(e), si.\nFirst remark that, with these notations,\n\u03b6(e) * \u03b6 \u2217 (s) = \u03b6(\u03b6 \u2217 (s)) \u2264 s\ntrivially holds. On the other hand, using all assumptions we can compute that\ne = e \u2227 \u03b6 \u2217 (\u03b6(e))\n\u0011\n\u0010_\ns * hs, \u03b6(e)i\n= e \u2227 \u03b6\u2217\n\u0011\n_ \u0010s\u2208\u0393\n= e\u2227\n\u03b6 \u2217 (s) \u25e6 hs, \u03b6(e)i\ns\u2208\u0393\n\u0011\n_\u0010\n=\ne \u2227 \u03b6 \u2217 (s) \u25e6 hs, \u03b6(e)i\ns\u2208\u0393\n\u0011\n_\u0010\ne \u25e6 hs, \u03b6(e)io \u2227 \u03b6 \u2217 (s) \u25e6 hs, \u03b6(e)i\n\u2264\ns\u2208\u0393\n\u0011\n_\u0010\n=\nh\u03b6(e), si \u2227 \u03b6 \u2217 (s) \u25e6 hs, \u03b6(e)i\ns\u2208\u0393\n_\n\u2264\nh\u03b6(e), si \u25e6 hs, \u03b6(e)i\n\n(unit of \u03b6 \u22a3 \u03b6 \u2217 )\n(\u0393 is a Hilbert basis)\n(\u03b6 \u2217 is a module morphism)\n(Q is a frame)\n(by the modular law)\n(symmetry)\n(trivially)\n\ns\u2208\u0393\n\n= h\u03b6(e), \u03b6(e)i.\n\n(by Lemma 4.2)\n\nHence, combining both the previous inequalitites,\n\u03b6 \u2217 (s) = e \u25e6 \u03b6 \u2217 (s) \u2264 h\u03b6(e), \u03b6(e)i \u25e6 \u03b6 \u2217 (s) = h\u03b6(e), \u03b6(e) * \u03b6 \u2217 (s)i \u2264 h\u03b6(e), si\nand we have the \"\u2264\" of the required equality. To see that also \"\u2265\" holds, we first apply the\nmodularity of Q again to compute\n\u0011\n_\u0010\ne \u2227 \u03b6 \u2217 (s) \u25e6 hs, \u03b6(e)i\n(as above)\ne =\ns\u2208\u0393\n\u0010\n\u0011\n_\n\u2264\n\u03b6 \u2217 (s) \u25e6 (\u03b6 \u2217 (s))o \u25e6 e \u2227 hs, \u03b6(e)i\n(by the modular law)\ns\u2208\u0393\n_\n\u2264\n\u03b6 \u2217 (s) \u25e6 (\u03b6 \u2217 (s))o .\n(trivial)\ns\u2208\u0393\n\n16\n\n\fNow we combine this with the first inequality that we proved to obtain\nh\u03b6(e), si = e \u25e6 h\u03b6(e), si\n_\n\u2264\n\u03b6 \u2217 (t) \u25e6 (\u03b6 \u2217 (t))o \u25e6 h\u03b6(e), si\nt\u2208\u0393\n_\n=\n\u03b6 \u2217 (t) \u25e6 h\u03b6(e) * \u03b6 \u2217 (t) , si\nt\u2208\u0393\n_\n\u2264\n\u03b6 \u2217 (t) \u25e6 ht, si\nt\u2208\u0393\u0010 _\n\u0011\n\u2217\nt * ht, si\n= \u03b6\n\n(trivial)\n(by the above)\n(\"conjugate-linearity\" of inner product)\n(because \u03b6(e) * \u03b6 \u2217 (t) \u2264 t)\n(\u03b6 \u2217 is a module morphism)\n\nt\u2208\u0393\n\n= \u03b6 \u2217 (s).\n\n(\u0393 is a Hilbert basis)\n\nand we are done.\n\n\u2737\n\nRelying on categorical machinery, the previous Lemma can alternatively be proved as follows:\nBearing in mind Example 3.7\u20135, the requirement that \u03b6 \u2217 (s) = h\u03b6(u), si at the end of the first\nparagraph of the proof above is equivalent to asking for \u03b6 \u2217 = \u03b6 o in the category Hilb(Q). But Q\nbeing a modular quantal frame is equivalent to the matrix quantaloid Matr(Q) being modular,\nwhich in turn implies that the quantaloid Proj(Q) of projection matrices, obtained by splitting\nthe symmetric idempotents in Matr(Q), is modular too. In any modular quantaloid, the right\nadjoint of a morphism, should it exist, is necessarily its involute: this thus holds in Proj(Q), and\n/ M,\nalso in its equivalent Hilb(Q). Therefore in particular \u03b6 \u2217 = \u03b6 o for any left adjoint \u03b6: Qe\nas wanted.\nLastly we have a simple lemma asserting the strictness of inner products in certain cases.\nLemma 4.6 Let Q be an involutive quantale in which q \u2264 q \u25e6 q o \u25e6 q holds for any q \u2208 Q. If M\nis a Q-module with an inner product h\u2212, \u2212i admitting a Hilbert basis \u0393, then this inner product\nis strict.\nProof : Let q \u2208 Q: if q o \u25e6 q = 0 then q \u2264 q \u25e6 q o \u25e6 q = q \u25e6 0 = 0 hence q = 0. Now suppose that\nhm, mi = 0 for an m \u2208 M . The formula in Lemma 4.2 implies that\n_\nhs, mio \u25e6 hs, mi = hm, si \u25e6 hs, mi \u2264\nhm, ti \u25e6 ht, mi = 0\nt\u2208\u0393\n\nfor all s \u2208 \u0393, whence hs, mi = 0 for all s \u2208 \u0393. But then m =\n\nW\n\ns\u2208\u0393 s\n\n* hs, mi = 0 as required. \u2737\n\nHaving all these lemmas, we assemble the proof of the statement in the beginning of this\nsection.\nProof of Theorem 4.1 : Because Q is by hypothesis a modular quantal frame we have by Lemma\n4.5 that M is E-principally symmetric. It follows from Q's modularity and Lemma 4.3 that\nLemma 4.4 applies, showing that M is E-principally generated. Together with the fact that\nM is E-principally symmetric this moreover entails the equality of the given inproduct with the\ncanonical one. Finally, the strictness of the (canonical) inner product is a consequence of Lemma\n4.6.\n\u2737\nExample 4.7 We end with examples that refer to the category Hilb(Q) of Hilbert modules, and\nparticularly to applications in sheaf theory.\n17\n\n\f1. As in Example 3.7\u20134 we write Hilb(Q) for the quantaloid of Q-modules with Hilbert structure. For a modular quantal frame Q, Theorem 4.1 allows us to consider Hilb(Q) as a\nfull subquantaloid of Mod(Q): there is only one relevant Hilbert structure on a Q-module.\n/ N is a left adjoint in Hilb(Q), then\nMoreover, Lemma 4.5 implies that, whenever \u03c6: M\no\n\u03c6 \u22a3 \u03c6 (compare with Example 3.7\u20135). Because in this case every symmetric idempotent\nin Matr(Q) is totally regular, we therefore get the equivalences of quantaloids\nHilb(Q) \u2243 Proj(Q) \u2243 Disto (QE )\nwhere QE denotes the quantaloid obtained as universal splitting of the symmetric idempotents of Q, and Disto (QE ) is the full subquantaloid of Dist(QE ) (= the quantaloid of\nQE -enriched categories and distributors [Stubbe, 2005a]) determined by the symmetric\nQE -categories.\n2. Sheaves on sites: For a small site (C, J) and Q the associated modular quantal frame as\nin Example 2.3\u20136, the category Sh(C, J) is equivalent to the category of Q-modules with\ncanonical Hilbert structure and the left adjoint module morphisms between them:\nSh(C, J) \u2243 Map(Hilb(Q)).\nWith a bit more work this can be rephrased as equivalent quantaloids:\nRel(Sh(C, J)) \u2243 Disto (Q) \u2243 Hilb(Q).\nSketch of the proof: Let Q be as in Example 2.3\u20136. Walters [1982] proved that Sh(C, J)\nis equivalent to Map(Disto (Q)), the full subcategory of Map(Dist(Q)) determined by the\nsymmetric Q-categories. In the previous example we indicated that Hilb(Q) \u2243 Proj(Q) \u2243\nDisto (QE ), hence it suffices to prove that Dist(Q) \u2243 Dist(QE ). But this follows from\nthe fact that Q, regarded as a subquantaloid of QE , is dense in QE : for any X \u2208 QE ,\nW\n/ X a left adjoint with Xi \u2208 Q0 . This property is due\nidX = i\u2208I fi \u25e6 fi\u2217 with each fi : Xi\nto the modularity of Q and the coreflexive idempotents (e \u2264 iddom(e) ) of Q (corresponding\nto closed sieves on C) being suprema of the form above.\n\u2737\n3. Sheaves on an \u00e9tale groupoid: We understand that Resende [2008] defines a \"sheaf\" on\nan involutive quantale Q to be a Q-module M with Hilbert structure satisfying moreover\nW\n\u0393 = \u22a4M , and proves \u2013 via the correspondence between \u00e9tale groupoids and inverse\nquantal frames from [Resende, 2007] \u2013 that, for an \u00e9tale groupoid G, the topos of Gsheaves is equivalent to the category with as objects those \"sheaves\" on an inverse quantal\nframe O(G) and as morphisms the left adjoint O(G)-module morphisms that have their\ninvolute as right adjoint (which he describes as \"direct image homomorphisms\"). This\nmay appear to be in contradiction with the examples above: sheaves (on a site) can be\ndescribed as modules (on a modular quantal frame) with Hilbert structure without any\nfurther conditions. However it turns out that, when Q is an inverse quantal frame (as in\nthe main example of [Resende, 2008]), then the extra condition is anyway a consequence\nof the features of Q (see the proof below). We further repeat from Example 4.7\u20131 that,\nbecause O(G) is a modular quantal frame, any left adjoint in Hilb(O(G)) has its involute as\n18\n\n\fright adjoint (but this need not be so for involutive quantales in general, where we think\nthis is an important extra condition). Conclusively, by Theorem 4.1 the topos of sheaves\non an \u00e9tale groupoid G is equivalent to Map(Hilb(O(G))).\nProof: If Q is an inverse quantal frame and M a Q-module with inner product h\u2212, \u2212i\nadmitting a Hilbert basis \u0393, we may assume without loss of generality that \u0393 is maximal\nin the following way:\no\nn\n\u0393 = s \u2208 M \u2200m \u2208 M : s * hs, mi \u2264 m .\nIf p \u2208 Q is a partial unit and s \u2208 \u0393 then s * p \u2208 \u0393: because for all m \u2208 M ,\n(s * p) * hs * p, mi = (s * ppo ) * hs, mi \u2264 s * hs, mi \u2264 m;\nW\nhence certainly s * p \u2264 \u0393. Since \u22a4Q is by assumption the join of all partial units, this\nW\nimplies s * \u22a4Q \u2264 \u0393, whence\n_\n_\n_\n\u22a4M =\ns * hs, \u22a4M i \u2264\ns * \u22a4Q \u2264\n\u0393\ns\u2208\u0393\n\ns\u2208\u0393\n\nwhich proves the claim.\n\n5\n\n\u2737\n\nConcluding remarks\n\nIn this paper we proved the following results in the theory of quantale modules: (1) every module\non an involutive quantale Q bears a canonical (pre-)inner product; (2) that canonical (pre-)inner\nproduct admits the canonical Hilbert basis if and only if the module is principally generated\nand principally symmetric; and (3) if Q is a modular quantal frame then the only possible\nHilbert structure (= inner product plus Hilbert basis) on a Q-module is the canonical one. In\nthe examples we explained the use of these results in sheaf theory: we argued in particular that\nthe category of sheaves on a site (C, J) is equivalent to a category of quantale modules with\n(canonical) Hilbert structure.\nThese results are a natural continuation of our previous work. Whereas Stubbe [2005b]\ndescribed ordered sheaves on a quantaloid Q as particular Q-enriched categorical strutures,\nHeymans and Stubbe [2009] reformulated this \u2013 via the correspondence between cocomplete\nQ-categories and Q-modules, and the particular role of Q-modules in the theory of ordered\nsheaves on Q [Stubbe, 2006, 2007] \u2013 in a module-theoretic language: ordered sheaves on Q are\nthe same thing as principally generated Q-modules. The material in this paper suggests that\nthe \"symmetrically ordered\" sheaves (i.e. sheaves tout court) on an involutive quantale Q are\nthose principally generated Q-modules which are moreover principally symmetric. The latter\nin turn coincide with modules bearing a canonical Hilbert structure (which, for modules on a\nmodular quantal frame, is the only possible Hilbert structure).\nOur current research is concerned with a further elaboration of that novel notion, \"principal symmetry\": we extend it from quantale modules to quantaloid modules, and even to\nquantaloid-enriched categories. A future paper shall in particular contain all remaining details\nfrom Examples 2.3\u20136 and 4.7\u20132.\n19\n\n\fReferences\n[1] [Renato Betti and Aurelio Carboni, 1983] Notion of topology for bicategories, Cahiers Top.\net G\u00e9om. Diff. 24, pp. 19\u201322.\n[2] [Peter J. Freyd and Andre Scedrov, 1990] Categories, Allegories, North-Holland Mathematical Library 39, Amsterdam.\n[3] [Hans Heymans and Isar Stubbe, 2009] On principally generated Q-modules in general,\nand skew local homeomorphisms in particular, Ann. Pure Appl. Logic, in press (DOI:\n10.1016/j.apal.2009.05.001).\n[4] [G. Max Kelly, 1982] Basic concepts of enriched category theory, Cambridge University\nPress, Cambridge. Also available as: Reprints in Theory Appl. Categ. 10 (2005).\n[5] [Saunders Mac Lane and Ieke Moerdijk, 1992] Sheaves in geometry and logic, SpringerVerlag, New York.\n[6] [Bachuki Mesablishvili, 2004] Every small Sl-enriched category is Morita equivalent to an\nSl-monoid, Theory Appl. Categ. 13, pp. 169\u2013171.\n[7] [Christopher J. Mulvey and Joan W. Pelletier, 1992] A quantisation of the calculus of\nrelations, Canad. Math. Soc. Conf. Proc. 13, pp. 345\u2013360.\nW\n[8] [Jan Paseka, 1999] Hilbert Q-modules and nuclear ideals in the category of -semilattices\nwith a duality, Electr. Notes Theor. Comput. Sci. 29, pp. 1\u201319.\n[9] [Jan Paseka, 2002] Morita equivalence in the context of Hilbert modules, Proceedings of the\nNinth Prague Topological Symposium (2001), Topology Atlas, North Bay, pp. 223\u2013251.\n[10] [Jan Paseka, 2003] Interior tensor product of Hilbert modules, Contributions to general\nalgebra 13 (Velk\u00e9 Karlovice 1999/Dresden 2000), Heyn, Klagenfurt, pp. 253\u2013263.\n[11] [Pedro Resende, 2007] Etale groupoids and their quantales, Adv. Math. 208, pp. 147\u2013209.\n[12] [Pedro Resende, 2008] Groupoid sheaves as Hilbert modules. Preprint available on the\narXiv: 0807.4848v1.\n[13] [Pedro Resende and Elias Rodrigues, 2008] Sheaves as modules, Appl. Categ. Structures,\non-line (DOI: 10.1007/s10485-008-9131-x).\n[14] [Kimmo I. Rosenthal, 1996] The theory of quantaloids, Pitman Research Notes in Mathematics Series 348, Longman, Harlow.\n[15] [Isar Stubbe, 2005a] Categorical structures enriched in a quantaloid: categories, distributors\nand functors, Theory Appl. Categ. 14, pp. 1\u201345.\n[16] [Isar Stubbe, 2005b] Categorical structures enriched in a quantaloid: orders and ideals over\na base quantaloid, Appl. Categ. Structures 13, pp. 235\u2013255.\n\n20\n\n\f[17] [Isar Stubbe, 2006] Categorical structures enriched in a quantaloid: tensored and cotensored\ncategories, Theory Appl. Categ. 16, pp. 283\u2013306.\n[18] [Isar Stubbe, 2007] Q-modules are Q-suplattices, Theory Appl. Categ. 19, pp. 50\u201360.\n[19] [Robert F. C. Walters, 1982] Sheaves on sites as cauchy complete categories, J. Pure Appl.\nAlgebra 24, pp. 95\u2013102.\n\n21\n\n\f"}