{"id": "http://arxiv.org/abs/cond-mat/0702610v2", "guidislink": true, "updated": "2007-04-11T10:17:34Z", "updated_parsed": [2007, 4, 11, 10, 17, 34, 2, 101, 0], "published": "2007-02-26T17:29:57Z", "published_parsed": [2007, 2, 26, 17, 29, 57, 0, 57, 0], "title": "The Phase Diagram of 1-in-3 Satisfiability Problem", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=cond-mat%2F0702597%2Ccond-mat%2F0702397%2Ccond-mat%2F0702280%2Ccond-mat%2F0702234%2Ccond-mat%2F0702240%2Ccond-mat%2F0702161%2Ccond-mat%2F0702611%2Ccond-mat%2F0702129%2Ccond-mat%2F0702602%2Ccond-mat%2F0702191%2Ccond-mat%2F0702316%2Ccond-mat%2F0702507%2Ccond-mat%2F0702195%2Ccond-mat%2F0702298%2Ccond-mat%2F0702335%2Ccond-mat%2F0702206%2Ccond-mat%2F0702243%2Ccond-mat%2F0702239%2Ccond-mat%2F0702399%2Ccond-mat%2F0702509%2Ccond-mat%2F0702535%2Ccond-mat%2F0702630%2Ccond-mat%2F0702536%2Ccond-mat%2F0702039%2Ccond-mat%2F0702079%2Ccond-mat%2F0702149%2Ccond-mat%2F0702364%2Ccond-mat%2F0702176%2Ccond-mat%2F0702270%2Ccond-mat%2F0702690%2Ccond-mat%2F0702633%2Ccond-mat%2F0702255%2Ccond-mat%2F0702168%2Ccond-mat%2F0702184%2Ccond-mat%2F0702323%2Ccond-mat%2F0702142%2Ccond-mat%2F0702627%2Ccond-mat%2F0702409%2Ccond-mat%2F0702354%2Ccond-mat%2F0702529%2Ccond-mat%2F0702493%2Ccond-mat%2F0702604%2Ccond-mat%2F0702676%2Ccond-mat%2F0702171%2Ccond-mat%2F0702573%2Ccond-mat%2F0702087%2Ccond-mat%2F0702172%2Ccond-mat%2F0702578%2Ccond-mat%2F0702295%2Ccond-mat%2F0702284%2Ccond-mat%2F0702012%2Ccond-mat%2F0702277%2Ccond-mat%2F0702075%2Ccond-mat%2F0702629%2Ccond-mat%2F0702343%2Ccond-mat%2F0702428%2Ccond-mat%2F0702188%2Ccond-mat%2F0702650%2Ccond-mat%2F0702610%2Ccond-mat%2F0702387%2Ccond-mat%2F0702134%2Ccond-mat%2F0702180%2Ccond-mat%2F0702135%2Ccond-mat%2F0702560%2Ccond-mat%2F0702127%2Ccond-mat%2F0702281%2Ccond-mat%2F0702003%2Ccond-mat%2F0702369%2Ccond-mat%2F0702359%2Ccond-mat%2F0702634%2Ccond-mat%2F0702289%2Ccond-mat%2F0702577%2Ccond-mat%2F0702185%2Ccond-mat%2F0702056%2Ccond-mat%2F0702004%2Ccond-mat%2F0702459%2Ccond-mat%2F0702624%2Ccond-mat%2F0702564%2Ccond-mat%2F0702198%2Ccond-mat%2F0702153%2Ccond-mat%2F0702391%2Ccond-mat%2F0702645%2Ccond-mat%2F0702167%2Ccond-mat%2F0702201%2Ccond-mat%2F0702008%2Ccond-mat%2F0702432%2Ccond-mat%2F0702077%2Ccond-mat%2F0702096%2Ccond-mat%2F0702549%2Ccond-mat%2F0702162%2Ccond-mat%2F0702659%2Ccond-mat%2F0702420%2Ccond-mat%2F0702429%2Ccond-mat%2F0702322%2Ccond-mat%2F0702333%2Ccond-mat%2F0702297%2Ccond-mat%2F0702267%2Ccond-mat%2F0702336%2Ccond-mat%2F0702518%2Ccond-mat%2F0702533%2Ccond-mat%2F0702157&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "The Phase Diagram of 1-in-3 Satisfiability Problem"}, "summary": "We study the typical case properties of the 1-in-3 satisfiability problem,\nthe boolean satisfaction problem where a clause is satisfied by exactly one\nliteral, in an enlarged random ensemble parametrized by average connectivity\nand probability of negation of a variable in a clause. Random 1-in-3\nSatisfiability and Exact 3-Cover are special cases of this ensemble. We\ninterpolate between these cases from a region where satisfiability can be\ntypically decided for all connectivities in polynomial time to a region where\ndeciding satisfiability is hard, in some interval of connectivities. We derive\nseveral rigorous results in the first region, and develop the\none-step--replica-symmetry-breaking cavity analysis in the second one. We\ndiscuss the prediction for the transition between the almost surely satisfiable\nand the almost surely unsatisfiable phase, and other structural properties of\nthe phase diagram, in light of cavity method results.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=cond-mat%2F0702597%2Ccond-mat%2F0702397%2Ccond-mat%2F0702280%2Ccond-mat%2F0702234%2Ccond-mat%2F0702240%2Ccond-mat%2F0702161%2Ccond-mat%2F0702611%2Ccond-mat%2F0702129%2Ccond-mat%2F0702602%2Ccond-mat%2F0702191%2Ccond-mat%2F0702316%2Ccond-mat%2F0702507%2Ccond-mat%2F0702195%2Ccond-mat%2F0702298%2Ccond-mat%2F0702335%2Ccond-mat%2F0702206%2Ccond-mat%2F0702243%2Ccond-mat%2F0702239%2Ccond-mat%2F0702399%2Ccond-mat%2F0702509%2Ccond-mat%2F0702535%2Ccond-mat%2F0702630%2Ccond-mat%2F0702536%2Ccond-mat%2F0702039%2Ccond-mat%2F0702079%2Ccond-mat%2F0702149%2Ccond-mat%2F0702364%2Ccond-mat%2F0702176%2Ccond-mat%2F0702270%2Ccond-mat%2F0702690%2Ccond-mat%2F0702633%2Ccond-mat%2F0702255%2Ccond-mat%2F0702168%2Ccond-mat%2F0702184%2Ccond-mat%2F0702323%2Ccond-mat%2F0702142%2Ccond-mat%2F0702627%2Ccond-mat%2F0702409%2Ccond-mat%2F0702354%2Ccond-mat%2F0702529%2Ccond-mat%2F0702493%2Ccond-mat%2F0702604%2Ccond-mat%2F0702676%2Ccond-mat%2F0702171%2Ccond-mat%2F0702573%2Ccond-mat%2F0702087%2Ccond-mat%2F0702172%2Ccond-mat%2F0702578%2Ccond-mat%2F0702295%2Ccond-mat%2F0702284%2Ccond-mat%2F0702012%2Ccond-mat%2F0702277%2Ccond-mat%2F0702075%2Ccond-mat%2F0702629%2Ccond-mat%2F0702343%2Ccond-mat%2F0702428%2Ccond-mat%2F0702188%2Ccond-mat%2F0702650%2Ccond-mat%2F0702610%2Ccond-mat%2F0702387%2Ccond-mat%2F0702134%2Ccond-mat%2F0702180%2Ccond-mat%2F0702135%2Ccond-mat%2F0702560%2Ccond-mat%2F0702127%2Ccond-mat%2F0702281%2Ccond-mat%2F0702003%2Ccond-mat%2F0702369%2Ccond-mat%2F0702359%2Ccond-mat%2F0702634%2Ccond-mat%2F0702289%2Ccond-mat%2F0702577%2Ccond-mat%2F0702185%2Ccond-mat%2F0702056%2Ccond-mat%2F0702004%2Ccond-mat%2F0702459%2Ccond-mat%2F0702624%2Ccond-mat%2F0702564%2Ccond-mat%2F0702198%2Ccond-mat%2F0702153%2Ccond-mat%2F0702391%2Ccond-mat%2F0702645%2Ccond-mat%2F0702167%2Ccond-mat%2F0702201%2Ccond-mat%2F0702008%2Ccond-mat%2F0702432%2Ccond-mat%2F0702077%2Ccond-mat%2F0702096%2Ccond-mat%2F0702549%2Ccond-mat%2F0702162%2Ccond-mat%2F0702659%2Ccond-mat%2F0702420%2Ccond-mat%2F0702429%2Ccond-mat%2F0702322%2Ccond-mat%2F0702333%2Ccond-mat%2F0702297%2Ccond-mat%2F0702267%2Ccond-mat%2F0702336%2Ccond-mat%2F0702518%2Ccond-mat%2F0702533%2Ccond-mat%2F0702157&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We study the typical case properties of the 1-in-3 satisfiability problem,\nthe boolean satisfaction problem where a clause is satisfied by exactly one\nliteral, in an enlarged random ensemble parametrized by average connectivity\nand probability of negation of a variable in a clause. Random 1-in-3\nSatisfiability and Exact 3-Cover are special cases of this ensemble. We\ninterpolate between these cases from a region where satisfiability can be\ntypically decided for all connectivities in polynomial time to a region where\ndeciding satisfiability is hard, in some interval of connectivities. We derive\nseveral rigorous results in the first region, and develop the\none-step--replica-symmetry-breaking cavity analysis in the second one. We\ndiscuss the prediction for the transition between the almost surely satisfiable\nand the almost surely unsatisfiable phase, and other structural properties of\nthe phase diagram, in light of cavity method results."}, "authors": ["Jack Raymond", "Andrea Sportiello", "Lenka Zdeborov\u00e1"], "author_detail": {"name": "Lenka Zdeborov\u00e1"}, "author": "Lenka Zdeborov\u00e1", "links": [{"title": "doi", "href": "http://dx.doi.org/10.1103/PhysRevE.76.011101", "rel": "related", "type": "text/html"}, {"href": "http://arxiv.org/abs/cond-mat/0702610v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/cond-mat/0702610v2", "rel": "related", "type": "application/pdf"}], "arxiv_comment": "30 pages, 12 figures", "arxiv_primary_category": {"term": "cond-mat.stat-mech", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "cond-mat.stat-mech", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "cond-mat.dis-nn", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/cond-mat/0702610v2", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/cond-mat/0702610v2", "journal_reference": "Phys. Rev. E 76, 011101 (2007)", "doi": "10.1103/PhysRevE.76.011101", "fulltext": "The Phase Diagram of 1-in-3 Satisfiability Problem\n1\n\nJack Raymond1 , Andrea Sportiello2 , Lenka Zdeborov\u00e13\n\nNCRG; Aston University, Aston Triangle, Birmingham, B4 7EJ\nUniversit\u00e0 degli Studi di Milano, via Celoria 16, I-20133 Milano\nCNRS; Univ. Paris-Sud, UMR 8626, Orsay CEDEX, France 91405, LPTMS\n(Dated: September 13, 2018)\n\narXiv:cond-mat/0702610v2 [cond-mat.stat-mech] 11 Apr 2007\n\n2\n\n3\n\nWe study the typical case properties of the 1-in-3 satisfiability problem, the boolean satisfaction problem where a clause is satisfied by exactly one literal, in an enlarged random ensemble\nparametrized by average connectivity and probability of negation of a variable in a clause. Random\n1-in-3 Satisfiability and Exact 3-Cover are special cases of this ensemble. We interpolate between\nthese cases from a region where satisfiability can be typically decided for all connectivities in polynomial time to a region where deciding satisfiability is hard, in some interval of connectivities.\nWe derive several rigorous results in the first region, and develop the one-step\u2013replica-symmetrybreaking cavity analysis in the second one. We discuss the prediction for the transition between the\nalmost surely satisfiable and the almost surely unsatisfiable phase, and other structural properties\nof the phase diagram, in light of cavity method results.\nPACS numbers: 89.20.Ff, 75.10.Nr, 05.70.Fh, 02.70.-r\n\nI.\n\nINTRODUCTION AND MOTIVATION\n\nClassification of the average-case computational complexity of the constraint satisfaction problems is\na major task in theoretical computer science. Many problems were successfully analyzed by rigorous\nprobabilistic methods. However, the average-case complexity remains an open question for most of the\nwell known NP-complete problems [1, 2], for example the K-satisfiability, Vertex Coloring, and also 1in-K satisfiability, on the commonly studied random ensembles (sparse random regular or Erd\u00f6s-R\u00e9nyi\ngraphs).\nIn recent years heuristic methods from statistical physics [3, 4, 5] have allowed us to understand some\naverage-case properties of large random instances [6]. The aim of these studies was not to prove average\nNP-completeness [7], it was rather to understand why the problems appear hard for some local algorithms,\nin some intervals of ensemble parametrization. These efforts culminated in designing a new polynomial\nalgorithm, survey propagation [8, 9], which empirically outspeeds all the previously known heuristics.\nRigorous undertanding of this algorithm is, however, still missing.\nThe fact that lies behind this success is the intrinsic similarity of the combinatorial optimization problems to physical systems called spin glasses [10]. The organization of solutions is analogous to the structure\nof the free energy landspace of the physical models. Several phases can be located in the parameter space,\nwith abrupt transitions between the different phases. An example is the SAT/UNSAT transition, i.e. the\ntransition from the SATisfiable (SAT) phase where almost every instance is satisfiable (ground state of\nenergy zero) to the UNSATisfiable (UNSAT) phase where almost every instance is unsatisfiable (positive\nground-state energy). Another is the glassy transition where the phase space splits into many clusters\nand metastable states, and where many dynamical procedures (a physical dynamics or an algorithm)\nare unable to find the ground state. This connection between the structure of solution and the average algorithmic performance was the main motivation for detailed studies of the phase diagram of the\nK-satisfiability [5, 8, 9, 11], Vertex Coloring [12, 13] and many other problems.\nThe presented study of the phase diagram of the 1-in-K satisfiability (sometimes called exact satisfiability [14]) problem adds one more item to this list. But prolonging a list is not the main motivation for\nthis work. 1-in-K SAT on the symmetric ensemble (probability that a variable in a clause is negated is\n1/2) is one of the few NP-complete problem which has been proven to be on average polynomial (Easy)\n[15]. On the other hand for the positive ensemble (no negations, equivalent to Exact Cover) no such proof\nexists, nor is there a heuristic algorithm with empirically polynomial time performance in the vinicity of\nthe SAT/UNSAT transition. However, by analogy with K-SAT and coloring, we may expect polynomial\ntime performance in this region using survey propagation.\nOur main motivation is to interpolate between the symmetric and positive ensemble to show how the\nphase space changes. For this reason we introduce a \u01eb\u20131-in-K SAT problem, and study the phase diagram\nin parameters (\u03b3, \u01eb), where \u01eb stays for the probability that a variable in a clause is negated, and \u03b3 is the\naverage connectivity of a variable. To our knowledge, this general ensemble is considered here for the first\ntime. We generalize the rigorous probabilistic analysis to the general \u01eb case. Then we use the replica-\n\n\f2\nsymmetric and one-step\u2013replica-symmetry-breaking cavity methods [3, 4] to understand more features of\nthe problem in the whole space of parameters.\nOur motivation is similar to the one which led to the introduction of the (2+p)-SAT problem [16, 17, 18],\nwhere the instances are a mixture of 2-SAT and 3-SAT clauses on Erd\u00f6s-R\u00e9nyi graphs. A parameter p\ninterpolates between the ensemble of random 3-SAT formulas, which are know to be computationally hard\n[8, 9] in a region including the SAT/UNSAT transition, and random 2-SAT formulas, for which an anycase\npolynomial algorithm exists. A statistical physics approach has been applied to study the (2 + p)-SAT\nproblem, however only the replica-symmetric solution was investigated. Analogical interpolation between\nP and NP-complete cases of some other problems have been investigated in [19, 20].\nA.\n\nThe model\n\nA factor graph G = (Vv , Vc ; E) is a bipartite graph, where the two species of vertices are called respectively variables i \u2208 Vv and clauses a \u2208 Vc . It is a common graphical object used in computer science in\norder to encode the geometrical framework of a problem in combinatorial optimization, as it often allows\nus to shorten and clarify the \"rules of the game\".\nThis is the case also for 1-in-K-SAT. Indeed, cases of both K-SAT and 1-in-K-SAT are example of\nboolean satisfiability problems, and thus formally inscribed in a framework of boolean logic expressions:\nwe deal with M boolean clauses over N variables, which should be simultaneously satisfied (i.e. evalued to\nTrue), in order to consider the N -tuple of assignments to the variables a solution of the problem instance.\nEach clause a involves K out of the 2N literals x1 , . . . , xN , x\u03041 , . . . , x\u0304N (not xi and x\u0304i simultaneously).\nWhile a K-SAT clause is satisfied if at least one of the involved literals is True, a 1-in-K-SAT clause is\nsatisfied if exactly one of the involved literals is True.\nFor both problems, a factor graph G (whose clause-nodes a have degree K) and a function J : E(G) \u2192\n\u00b11 fully encode an instance: if clause a involves literal xi or x\u0304i we will have an edge (i, a) \u2208 E(G), and\nJai = +1 or \u22121 respectively. It is customary to draw edges with J = +1 as solid lines, and edges with\nJ = \u22121 as dashed lines.\nIf we use the common identification with \"spin variables\" si\nxi = True\nxi = False\n\n\u2190\u2192\n\u2190\u2192\n\nsi = +1\nsi = \u22121\n\nthe function E{Ja } (s) corresponding to a 1-in-K-SAT clause is\n(\nTrue si1 Jai1 + * * * + siK JaiK = 2 \u2212 K\nE{Ja } (s) =\nFalse otherwise\n\n(1)\n\nV\nand we say that s is a solution of the given instance if a E{Ja } (s) = True.\n1-in-K-SAT is polynomial in the case K = 2 (coinciding with 2-XOR-SAT, or 2-Coloring), while it is\nNP-complete for K \u2265 3, even in the restriction to all J's positive (unlike K-SAT).\nFor what concerns average-case complexity, two Erd\u00f6s-R\u00e9nyi-like random ensembles of instances are\ncommonly considered. In both cases we have N variables and every possible clause is present with\nprobability p such that the average number of clauses is M = N \u03b3/K, and variables have Poissonian\ndegree with average \u03b3. Then we distinguish\nPositive Poisson ensemble: The edge parameters Jai are all +1. In this case we use a shorthand for\nthe energy function EJa =(+,+,+) = Ea .\nSymmetric Poisson ensemble: The edge parameters Jai are random independent in {\u00b11} with equal\nprobability.\nThe positive version of the problem is the one which corresponds to Exact Cover, in the case of incidence\nmatrices whose columns have K nonzero entries.\nIn this paper we study the generalization to the ensemble in which the J's are taking value \u00b11 independently, \u01eb \u2208 [0, 1/2] being the probability of having J = \u22121. We call this generalization \u01eb\u20131-in-K SAT,\nin order not to confuse with the 1-in-K SAT by which is often meant only the symmetric ensemble. We\ndescribe the phase diagram of this problem in the parameters (\u01eb, \u03b3).\n\n\f3\nB.\n\nMain results and the paper organization\n\nThroughout this paper we present methods and results relevant to the problem of \u01eb\u20131-in-K-SAT with\nK = 3 only. Generalisation to instances of larger clause length requires, in most cases, only small changes\nin methodology.\nIn section II and appendices A-B we derive algorithmic and probabilistic bounds, both rigorous, for\nthe SAT/UNSAT threshold in the \u01eb\u20131-in-3-SAT problem. The most remarkable result of those sections is\nthat the bound is tight for \u01eb \u2208 [0.2726, 1/2], so in that interval the SAT/UNSAT threshold is rigorously\nknown. This generalizes the result of [15] for the symmetric ensemble \u01eb = 1/2.\nIn section III we develop the Replica-Symmetric (RS) solution. First we write the replica-symmetric\nequations III A, then we discuss the zero-temperature limit III B. We analyze the hard-fields solution in\nIII C, and the soft-fields solution in III D. However, as we show in III E, this solution cannot be correct\n(cease to be stable) above a certain connectivity not larger than the expected SAT/UNSAT transition.\nAt this connectivity the belief propagation algorithm would fail to converge. In fact, there even exists\na region in the phase diagram, where the RS solution is not stable, and yet the Short Clause Heuristics\n(SCH) algorithm is proven to work in on average polynomial time. To our knowledge this does not happen\nin any of the previously studied models, and is a point worth further investigation.\nIn section IV we work out the one-step\u2013Replica-Symmetry-Breaking (1RSB) solution. In this case we\nassume the existence of many disconnected clusters of solutions, and many metastable states, which can\nactually trap most of the traditional algorithms. We write the general equations in section IV A, then\nwe concentrate on the zero-temperature zero-energy case IV B, which leads to the survey propagation\nequations. The zero-temperature positive-energy case is studied in appendix C. In appendix D we check\nthe local stability of the 1RSB solution.\nThe main result of the 1RSB analysis is the prediction for the SAT/UNSAT threshold, fig. 1. For\n\u01eb < 0.07 the 1RSB approach is stable around the SAT/UNSAT line, so the threshold is likely to be exact.\nWhereas for 0.07 < \u01eb < 0.2726 the 1RSB result is unstable, and a more involved analysis would be required\nto locate exactly the SAT/UNSAT threshold (the 1RSB result is expected to be an upper bound). The\npresence of a nontrivial 1RSB solution in the small-\u01eb region suggests the presence of a Hard-SAT region.\nDetails of these results are discussed in section IV C.\nFIG. 1: The phase diagram of \u01eb\u20131-in-3 SAT problem, for what concerns the SAT/UNSAT transition. The parameters \u01eb and \u03b3 describe the probability\nof negations\nand the average variable connectivity. For \u01eb > 0.2726,\n`\n \u0301\nthe threshold is rigorously \u03b3 \u2217 (\u01eb) = 1/ 4\u01eb(1 \u2212 \u01eb) (drawn as a solid line), since the unit-clause upper bound and\nshort-clause-heuristic lower bound coincide in that region. For \u01eb < 0.2726, the dot-dashed, dashed and dotted line\ndenore respectively the SCH lower bound, and the UC and first-moment-method (1MM) upper bounds. The solid\nline is our one-step replica-symmetry-breaking (1RSB) prediction for the SAT/UNSAT threshold. For 0 \u2264 \u01eb < 0.07\nthe 1RSB result is stable (gray shading) and so the threshold is likely to be exact. For 0.07 < \u01eb < 0.2726 the\n1RSB result is unstable, and so the threshold is just approximate (expected to be an upper bound).\n\u03b3\n\nUC upper bound\n1MM upper bound\nSCH lower bound\n1RSB prediction\nstable\n\nUNSAT\n\n2.0\n1.932\n1.8789\n1.8\n\n1.639\n1.6\n\nEasy UNSAT\n1.4\n\nEasy SAT\n1.2\n\n1\n\n1\n0\n\n0.07 0.1\n\n0.2\n\n0.2726 0.3\n\n0.4\n\n0.5\n\n\u01eb\n\n\f4\nII.\n\nRIGOROUS BOUNDS ON THE SAT/UNSAT THRESHOLD\nA.\n\nUnit-Clause Propagation Analysis\n\nUnit-Clause (UC) algorithms are a class of randomized algorithms for boolean satisfiability problems,\nwhich when applied to a specific instance, seek a solution or a certificate of unsatisfiability by assigning variables to \u00b11 (or \"True/False\") whilst maximizing the amount of logical deductions coming from\nuniquely determined constraints (unit clauses). In the absense of immediate deductions, variables are\nfixed by some heuristic rule, and these free steps determine a branching process on the space of feasible\nconfigurations. Our analysis of unit-clause propagation is elucidated in appendix A, while for a more\ngeneral description consider [21].\nAlgorithms based on unit-clause propagation have been already analysed for the problems of symmetric and positive 1-in-K SAT. For the positive ensemble (\u01eb = 0) the best known lower bound to the\nSAT/UNSAT transition is \u03b3 = 1.638 [22], and no upper bound is known from unit-clause algorithms.\nFor the symmetric ensemble (\u01eb = 1/2), the method allows us to determine that the exact SAT/UNSAT\ntransition is \u03b3 = 1 [15]. Here we extend these results to compute the upper bound \u03b3uc (\u01eb) and the lower\nbound \u03b3sch (\u01eb) for general probability of negation, which describe regions that are almost surely (a.s.)\nEasy SAT or Easy UNSAT for an instance of the \u01eb\u20131-in-3-SAT, sampled from the random (\u01eb, \u03b3) ensemble\n(cfr. section I A).\nIn appendix A 1 we demonstrate the upper bound \u03b3uc (\u01eb) to the connectivity above which an Easy\nUNSAT phase exists. Whenever \u03b3 > \u03b3uc (\u01eb), the instance is a.s. proven to be UNSAT by a randomized\nlinear-time decimation algorithm in which one tests, for all variables i, if both fixing si = +1 or si = \u22121\nlead to contradictions\nthrough unit-clause implications alone. This line has the analytic form \u03b3uc (\u01eb) =\n\u0001\n1/ 4\u01eb(1 \u2212 \u01eb) .\nIn appendix A 2 we obtain the lower bound \u03b3sch (\u01eb) to the connectivity below which an Easy SAT phase\nexists. Now, we perform an extensive number of free choices, and thus we should specify our heuristic\nrule. It turns out that, among those tested, the Short Clause Heuristics (SCH; assigning a variable in\none of the shortest clauses remaining) is the one attaing the best bound on the whole interval of \u01eb. If\n\u03b3 < \u03b3sch (\u01eb), by fixing variables according to SCH one can find a solution with finite probability on any\nrun. Restarting the procedure many times allows us to find a solution in on average linear time. This\nextends the idea employed for Exact Cover in [22]. At all \u01eb we find lower bounds by numerical integration\n(see above figure), including \u03b3sch (0) = 1.639, consistent with the analysis of [22].\nFinally in appendix A 3 we prove analytically that on the interval \u01eb \u2208 [0.2726, 1/2] the curves \u03b3uc (\u01eb)\nand \u03b3sch (\u01eb) coincide. The result includes the symmetric ensemble, for which it was originally proven in\n[15]. This fact indicates that there exists a region of the phase diagram in which typical instances of the\n(\u01eb, \u03b3) ensemble are easily solved, except at the exactly determined SAT/UNSAT transition line.\nB.\n\nUpper bounds for small \u01eb\n\nFor \u01eb \u2192 0 we have \u03b3uc \u223c \u01eb\u22121 and so we would like to find a better upper bound by some different\nmethod. An improvement is obtained through the First Moment Method (1MM) on the 2-core of the\ngraph. Restriction to the 2-core makes the bound tighter, as it reduces instance-to-instance fluctuations.\nThis provides a line \u03b31mm (\u01eb), which is finite everywhere, and thus beats \u03b3uc in some interval of small \u01eb\n(details are in appendix B 1). The best known upper bound for the positive ensemble (\u01eb = 0) is \u03b3 = 1.932,\nobtained by a refinement of the first moment method [23].\nStill, the first moment method is only probabilistic, and does not allow us to find a certificate in polynomial time for a given instance. Such a task is achieved at finite \u03b3, also in the region of small \u01eb and \u01eb = 0,\nthrough the embedding of 1-in-3-SAT into an instance of 3-XOR-SAT. While Ea1-in-3 (s1 , s2 , s3 ) = True on\nthe three configurations (s1 , s2 , s3 ) = (+, \u2212, \u2212), (\u2212, +, \u2212) and (\u2212, \u2212, +), the function Ea3-XOR (s1 , s2 , s3 )\nalso allows for (s1 , s2 , s3 ) = (+, +, +). So all the constraints are linear relations, and the problem is\nformally solved by Gaussian elimination. This gives an upper bound for an \"Easy-UNSAT\" phase, independently of \u01eb at \u03b3 = 3\u03b1\u2217 = 2.754 where \u03b1\u2217 is the SAT/UNSAT threshold (clause-to-variable ratio)\nin 3-XOR-SAT [24, 25] (cfr. appendix B 2 for details). Note for comparison that in random 3-SAT at\ngiven finite \u03b1 (however large) in the UNSAT phase, there is no polynomial algorithm which can find a.s. a\ncertificate for a typical instance, and intuition strongly suggests that such an algorithm can not exist [26].\n\n\f5\nIII.\n\nRS CAVITY APPROACH\n\nThe cavity method is developed within a statistical mechanics formulation. For this purpose we choose\nan integer-valued \"energy function\" for a single clause, E{Ja } (s), to be associated to the original booleanbool\nbool\nvalued function E{J\n(s) in (1); just as E{Ja } (s) = 0 or 1 respectively if E{J\n(s) = True or False. We\na}\na}\nthus have a Hamiltonian\nX\nH(s) =\n2E{Ja } (s) ,\n(2)\na\n\nwhich counts (twice) the number of contradictions. The factor 2 is a useful convention, so that all the cavity\nparameters to be introduced below (cavity fields and biases) will be integer in the \"zero-temperature\"\nlimit.\nThe introduction of the cost function above allows us to define a Gibbs weight e\u2212\u03b2H(s) , where \u03b2 is some\nparameter (inverse temperature), so that a single contradiction causes a dump of a factor e\u22122\u03b2 in the\nmeasure of the configuration. As customary in statistical mechanics, one introduces a partition function\nX\nZ(\u03b2) =\ne\u2212\u03b2H(s)\n(3)\ns\n\nand a set of observables (say, probabilities of having patterns A)\nX\nprob(A) := Z \u22121\ne\u2212\u03b2H(s) .\n\n(4)\n\ns: A happens\n\nWithin this framework the cavity method translates certain obvious recurrence relations for interaction\nstructures on a factorized graph (tree) to approximate self-consistent equations for local expectation values\non a graph which is only \"locally tree-like\" (e.g. a sparse Erd\u00f6s-R\u00e9nyi graph at large N , where loops are\nexpected to arise at lengths of order ln N ).\nThe replica-symmetric (RS) assumption is used at a certain point. It consists in assuming that there\nis a single pure state describing the equilibrium behaviour of the ensemble. In turns, it will allow to\nneglect certain connected correlation functions. In this section we develop the cavity method under this\nhypothesis, while extensions are discussed in later sections.\nWe will not review in detail all the derivations of the equations, instead we just introduce, in section\nIII A, some notations on the \"easy\" case of interaction on a tree, and give without proof the further\nformulas which are valid in the various contexts. A heuristic consideration of the complications arising\non a random graph with long loops can be found in [3, 4].\nA.\n\nRS cavity equations\n\nConsider a problem defined on a factor graph G, such that, for a certain edge (i, a), G is composed of\nfactorized components attached to the vertices in a neighbourhood of radius 1 of (i, a). Call (\u2202i r a) the\nset of other clauses, besides a, neighbouring i, and (\u2202ari) the set of other variables, besides i, neighboring\na. This description motivates a factor graph of the form on fig. 2 left, where \"gray bubbles\" stands for\nsome other parts of the graph, and there are no paths connecting distinct bubbles, except through the\nexplicitly drawn neighborhood of (i, a).\nFor a variable j \u2208 (\u2202ar i), call Zsj\u2192a the quantity Z *prob(sj = s) on the system consisting of the (graybubble) subgraph attached to vertex j, see fig. 2 right, Z being the partition function of this subsystem.\nSimilarly for a clause b \u2208 (\u2202i r a), call Ysb\u2192i the quantity Z * prob(si = s) on the system consisting on the\nsubgraph attached to node i through edge (b, i), see fig. 2 right. Then we have the composition relations\n(say \u2202a r i = {j, k} for our clause of degree 3)\nY\n=\nZsi\u2192a\n,\n(5a)\nYsb\u2192i\ni\ni\nb\u2208\u2202ira\n\nYsa\u2192i\ni\n\n=\n\nX\n\nsj ,sk\n\nZsk\u2192a\n.\ne\u22122\u03b2E{Ja } (si ,sj ,sk ) Zsj\u2192a\nj\nk\n\n(5b)\n\n\f6\n\u2202i r a\n\u2202a r i\n\nj\nZsj\u2192a\nj\n\nb\ni\n\nj\n\na\n\n:\n\n\u2701\u2715\n\nfixed to sj\n\nk\n\nb\nYsb\u2192i\ni\n\ni\n\n:\n\n\u2701\u2715\n\nfixed to si\nFIG. 2: Left: Factor graph representing the 1-in-3 SAT problem, in a neighbourhood of an edge (i, a). Right:\nDefinition of the cavity partition functions.\n\nAt this stage we note that, in rewriting the cavity partition sums in terms of probabilities, the belief\npropagation equations [27, 28], familiar to computer scientists, are attained.\nAs usual in physics we reparametrize the pairs Z+ , Z\u2212 as different natural quantities, a free energy\nF = 1/\u03b2 ln(Z+ + Z\u2212 ) and a magnetic field h = 1/(2\u03b2) ln(Z+ /Z\u2212 ), the field that, if applied to the\nvariable in substitution of the whole system, would cause the same average magnetization. We define the\ncavity fields and cavity biases in the following way\ne2\u03b2hi\u2192a :=\n\ni\u2192a\nZ+\n,\ni\u2192a\nZ\u2212\n\ne2\u03b2ua\u2192i :=\n\nY+a\u2192i\n.\nY\u2212a\u2192i\n\nThe recursion equations for h and u then follows from (5)\nX\nhi\u2192a =\nub\u2192i ,\n\n(6)\n\n(7a)\n\nb\u2208\u2202ira\n\nua\u2192i\n\n\u0002\n\u0003\nP\n1\nsj ,sk exp \u03b2(hj\u2192a sj + hk\u2192a sk \u2212 2E{Ja } (+1, sj , sk ))\n\u0002\n\u0003.\n=\nln P\n2\u03b2\nsj ,sk exp \u03b2(hj\u2192a sj + hk\u2192a sk \u2212 2E{Ja } (\u22121, sj , sk ))\n\n(7b)\n\nOne can think of u's and h's as messages being attached to the edges of the graph, and oriented (the u's\ntowards the variable, the h's towards the clause). Then, the update functions (7) are represented on the\nvariable- and clause-nodes, as in the figure below.\nhj\u2192a\nj\nua\u2192i\na\nk\n\ni\n\nhk\u2192a\n\nSimilarly, we handle the free energies. First define the accessory quantities\nY\nY\nZi =\nY+a\u2192i +\nY\u2212a\u2192i ,\na\u2208\u2202i\n\nYa =\n\nX\n\n(8a)\n\na\u2208\u2202i\n\nZsk\u2192a\n.\nZsj\u2192a\ne\u22122\u03b2E{Ja } (si ,sj ,sk ) Zsi\u2192a\nj\ni\nk\n\n(8b)\n\nsi ,sj ,sk\n\nThen we write the free-energy shift \u2206F a\u222a\u2202a after adding a clause a and connecting all its neighbors i \u2208 \u2202a,\nand free-energy shift \u2206F i after connecting all the components incident on variable i\ne\u2212\u03b2\u2206F\n\na\u222a\u2202a\n\ne\u2212\u03b2\u2206F\n\ni\n\nYa\n,\nb\u2192i + Y b\u2192i )\n\u2212\ni\u2208\u2202a\nb\u2208\u2202ira (Y+\n\b \u0002\n\u0003\nP\nsi ,sj ,sk exp \u03b2 hi\u2192a si + hj\u2192a sj + hk\u2192a sk \u2212 2E{Ja } (si , sj , sk )\nQ\nQ\n,\n=\ni\u2208\u2202a\nb\u2208\u2202ira 2 cosh(\u03b2ub\u2192i )\nP\n2 cosh(\u03b2 a\u2208\u2202i ua\u2192i )\nZi\nQ\n= Q\n=\n.\na\u2192i + Y a\u2192i )\n\u2212\na\u2208\u2202i 2 cosh(\u03b2ua\u2192i )\na\u2208\u2202i (Y+\n\n= Q\n\nQ\n\n(9a)\n\n(9b)\n\n\f7\nFinally, for the free energy, F = 1/\u03b2 ln Z(G), of a tree graph one gets\nX\nX\n(di \u2212 1)\u2206F i ,\nF (\u03b2) =\n\u2206F a\u222a\u2202a \u2212\na\n\n(10)\n\ni\n\nwhere di is degree of variable i. Writing this in terms of fields we note the cancellation of the factors\n2 cosh(\u03b2ua\u2192i ) between\nP the denominators of (9a) and (9b). Furthermore, in the numerator of (9b), the\ncombination hi :=\na\u2208\u2202i ua\u2192i appears. This is the \"total field\" parameter for the magnetization of\nvariable i in cavity approximation.\nThe free energy as a function of inverse temperature\n\u03b2 on a given graph allows us to determine,\n\u0001\nby Legendre transform, the number exp S(E) of configurations of given energy E (number of violated\nclauses). Both S and E are extensive, i.e. of order N , and corrections decreasing with 1/N are understood.\n\u2202(\u03b2F (\u03b2))\n;\n\u2202\u03b2\n\nE(\u03b2) =\n\nS(E) = (E \u2212 F ) \u03b2(E) .\n\n(11)\n\nThe main insight here is that we can think of the set of cavity fields as parameterization for the local\n\"magnetizations\" of variables i (i.e. probability of being si = +1, for two-state variables), in a system in\nwhich the interaction of i with a neighboring clause a has been modified (cavity system). If the clause\na has been \"switched off\", the nodes in the neighborhood of a now become well-separated on the graph\nwhich effectively describes the cost function. An assumption of decorrelation of variables, which is exactly\ntrue for variables in disconnected components, and approximatively valid for variables sufficiently far\naway on the graph, out of a critical temperature and within a pure thermodynamic phase, provides us\nself-consistent equations for the cavity fields. The equations are exactly the same as those we wrote for\nfactorized graphs and hold in the leading order in the system size N , in particular eq. (10), see [3]. The\ncavity assumption can be self-consistently checked as we will describe in section III E.\nB.\n\nThe zero-temperature limit: Hard and soft fields\n\nIn the limit of zero temperature, \u03b2 \u2192 \u221e, the update of cavity biases (7) simplifies significantly to\nX\nhi\u2192a =\nub\u2192i ,\n(12a)\nb\u2208\u2202ira\n\nua\u2192i =\n\n\u0001\n1h\nmax hj\u2192a sj + hk\u2192a sk \u2212 2E{Ja } (+1, sj , sk )\n2 sj ,sk\n\n\u0001i\n\u2212 max hj\u2192a sj + hk\u2192a sk \u2212 2E{Ja } (\u22121, sj , sk ) .\n\n(12b)\n\nsj ,sk\n\nIt is immediately seen that, as E{Ja } (s) is evaluated over {0, 1}, it is self-consistent to assume that h \u2208 Z\nand u \u2208 {\u22121, 0, +1}.\nIn fact the only characteristic property of E{Ja } (s) we need to have is that E{Ja } (s) = 0 if and only\nif s satisfies clause a, and that E{Ja } (s1 , s2 , s3 ) \u2212 E{Ja } (\u2212s1 , s2 , s3 ) \u2208 {\u22121, 0, +1}, (a kind of discrete\n\"Lipschitz\" condition), which clearly holds for our choice of Hamiltonian (2).\nThe only other choice of Hamiltonian for 1-in-3-SAT sharing this property is\nX\n\u2032\nH\u2032 (s) = 2\n(s) ,\n(13)\nE{J\na}\na\n\nEa\u2032 (s)\n\nwhere\ncoincides with Ea (s) except that on (+, +, +), where it is valued E \u2032 = 2 instead of 1 (because\n2 flips are required in order to satisfy the clause).\nThe fact that h, u \u2208 Z is much more than self-consistent, it is necessary, even for the \"true\" cavity\nfields (the ones that we would find from the evaluation of global partition functions, instead of the ones\nbeing solution of the cavity equations), and approximatively true in a P\nwhole region of large \u03b2 (it suffices\ni\u2192a\nthat \u03b2 \u226b ln N ). Let us concentrate first on hi\u2192a and say that Z+\n= n g+ (n)e\u22122\u03b2n , where the integer\ncoefficients g+ (n) count the configurations with n violated clauses, in the proper cavity system labeled\nby (i \u2192 a). There will be a certain value n+ corresponding to the first non-vanishing coefficient g+ (n).\nIdentical definitions are assumed for + \u2194 \u2212. Then we have\nhi\u2192a =\n\nZ i\u2192a\n1\n1\ng+ (n+ )\n\u22122\u03b2\nln +\n).\ni\u2192a = (n\u2212 \u2212 n+ ) + 2\u03b2 ln g (n ) + O(e\n2\u03b2 Z\u2212\n\u2212 \u2212\n\n(14)\n\n\f8\nSo, at all orders in a purely algebraic expansion in powers of 1/\u03b2, we only have two terms: a first one,\n(n\u2212 \u2212 n+ ), the hard field, is constrained to be integer; and secondly the coefficient in the second term, the\nsoft field, which being the logarithm of the ratio of two (potentially large in N ) integers, is simply taken\nas a value over R.\nIn particular the ground-state energy, \u03b2 \u2192 \u221e limit of eq. (11), can be computed using only the hard\nfields. On the other hand, to compute the ground-state entropy the soft fields are necessary (the general\nrelation follows from (11), but is rather lengthy).\nWe will see in the next section that working only with the hard fields has huge computational advantages,\nhowever, as they do not contain all the information, we come back to the soft fields in section III D.\nC.\n\nThe hard-fields analysis: Warning Propagation\n\nIn this section we return to equations (12), and neglect for this moment the 1/\u03b2 part of the field. The\ncorresponding equations are called warning propagation, and the discrete set of possible values for the\nbiases takes an interpretation in terms of \"kinds of warnings\":\nua\u2192i = \u22121\nua\u2192i = 0\nua\u2192i = +1\n\nClause a tells to variable i: \"I think you should be \u22121\"\nClause a tells to variable i: \"I can deal with any value you take\"\nClause a tells to variable i: \"I think you should be +1\"\n\nThe analogous interpretation for fields h is\nhi\u2192a < 0\n\nVariable i tells to clause a: \"I would prefer to be \u22121\"\n\nhi\u2192a = 0\n\nVariable i tells to clause a: \"I don't have any strong preferences\"\n\nhi\u2192a > 0\n\nVariable i tells to clause a: \"I would prefer to be +1\"\n\nFrom which the prescriptions (12) on how to update the \"warnings\" over the graph also become intuitive.\nWe now determine statistics over the ensemble of random pairs (G, {Ja }). It turns out that, although\nfields h can take infinite values, by virtue of the Poisson ensemble the equations are closed under a finite\nnumber of parameters: We define probabilities p\u2212 /p+ /p0 that cavity fields h are negative/positive/zero,\nand similar probabilities q\u2212 /q+ /q0 that biases u are \u22121/+1/0. Then, the statistical average of equations\n(12), seen as defining a dynamics of time evolution for the distributions of the fields, gives the following\ndynamical map over q = (q+ , q\u2212 ) (the auxiliary vector p = (p+ , p\u2212 ) is also defined)\nq = M q\u2032 ;\np = M p\u2032 ;\n\nq\u2032 = (p2\u2212 , 2p+ \u2212 2p2+ ) ;\np\u2032 = (f (\u03b3q+ , \u03b3q\u2212 ), f (\u03b3q\u2212 , \u03b3q+ )) ;\n\n(15a)\n(15b)\n\nwhere we recall that \u03b3 is the mean degree of variable, while matrix M describes the probability of negations\n\u0013\n\u0012\n1\u2212\u01eb\n\u01eb\n(16)\nM=\n\u01eb 1\u2212\u01eb.\nFinally the function f (r, s) gives the probability that the difference of two Poissonian-distributed integers\n(resp. with rate r and s) is positive\nf (r, s) :=\n\n\u221e\nX\n\n\u221e\nX\n\nm=0 n=m+1\n\nPoissr (n)Poisss (m) ;\n\nPoiss\u03b1 (n) := e\u2212\u03b1\n\n\u03b1n\n.\nn!\n\n(17)\n\nThe \"paramagnetic\" state q\u0001 = 0 is everywhere a solution of (15). It is however numerically unstable above\nthe line \u03b3uc = 1/ 4\u01eb(1 \u2212 \u01eb) (coinciding with the unit-clause upper bound). A non-paramagnetic q 6= 0\nsolution appears continuously above this line and is stable. Conversely, for \u01eb < \u01eb\u2217 , the non-paramagnetic\n\u2217\nsolution appears discontinuously at connectivity \u03b3RS\n, and is a stable local attractor.\n\u2217\n\u2217\n\u2217\nThe line \u03b3RS (\u01eb), and even the \"triple point\" \u01eb at which \u03b3RS\n(\u01eb) touches \u03b3uc , depend on the choice\n\u2032\nof Hamiltonian H (2) or H (13), and are plotted in fig. 3. Since the ground-state energy E(\u03b2 \u2192 \u221e)\n\u2217\n(11) is zero if and only if q = 0 we conclude that the line \u03b3RS\nfor \u01eb < \u01eb\u2217 , and \u03b3UC for \u01eb \u2265 \u01eb\u2217 is the\nreplica-symmetric prediction for the SAT/UNSAT threshold.\n\n\f9\nFIG. 3: Results of the replica-symmetric cavity analysis and its stability. The continuous curves with no bullets are\nthe rigorous bounds left for comparison. The line with diamonds corresponds to the replica-symmetric prediction\nfor the SAT/UNSAT threshold derived from the Hamiltonian H, with Ea (+, +, +) = 1, while the line with triangles\nto the one derived from the Hamiltonian H\u2032 , with Ea\u2032 (+, +, +) = 2. The dotted line is the soft-fields instability\nof the replica-symmetric solution, it is separating the stable region (below) from the unstable one (above). For\n\u01eb > 0.33 \u00b1 0.02 the stability line seems to coincide with the SAT/UNSAT threshold.\n\u03b3\n2.0\n\n0.2429\n0.2277 0.2726\n0.05\n\n0.1\n\n0.15\n\n0.2\n\n0.25\n\n\u01eb\n0.3\n\n0.35\n\n0.4\n\n0.45\n\nUNSAT\n1.875 (3)\n1.861\n\nEasy UNSAT\n\n1.8\n\nRS sat/unsat w. H\nRS sat/unsat w. H\u2032\nRS instability H\n\n1.639\n1.6\n\n1.4\n\n1.2\n\nEasy SAT\n1\n\nThere are striking hints towards the badness of the replica-symmetric solution. For example, the\n\u2217\npredicted critical value \u03b3RS\n(\u01eb = 0) is different from the numerical one, and even larger than the rigorous\nupper bound. But there is also an inconsistency internal to the method. It is not possible that the\nsatisfiability line in the phase diagram depends on the finite-temperature Hamiltonian used in the cavity\n\u2217\nequations, but the lines \u03b3RS\ncoming from H and H\u2032 are different. Another argument comes from the\ncavity prediction of the ground-state energy Emin = E(\u03b2 \u2192 \u221e) (11) which is zero if and only if q = 0.\nThe discontinuous appearance of a new fixed point leads to a discontinuity in \u03b3 of Emin (\u03b3, \u01eb), but this is\nimpossible, as we have the Lipschitz condition\n\u0003\n\u0002\n\u2202\nEmin (\u03b3, \u01eb) \u2208 0, 31\n\u2202\u03b3\n\n(18)\n\ncoming from the fact that adding randomly M \u2032 clauses to an instance whose minimum energy is Emin\ncan only give an instance with minimum energy in the range [Emin , Emin + M \u2032 ]. In section III E we will\nexplain in detail why and where exactly the replica-symmetric solution breaks down.\nD.\n\nThe soft-fields analysis\n\nIn the region of the phase diagram where the RS hard-fields analysis predicts zero ground-state energy\n(SAT region) all the hard fields and biases are zero (g+ (0), g\u2212 (0) > 0 in the language of equation (14)).\nWe denote with capital letters Ua\u2192i and Hi\u2192a the soft fields, i.e.\nua\u2192i = 0 +\n\nUa\u2192i\n;\n\u03b2\n\nhi\u2192a = 0 +\n\nTheir update is deduced analyzing the general cavity equations (7)\nX\nHi\u2192a =\nUb\u2192i ;\n\nHi\u2192a\n.\n\u03b2\n\n(19)\n\n(20)\n\nb\u2208\u2202ira\n\n\u0001\n1\nJai Ua\u2192i = \u2212 ln e2Jaj Hj\u2192a + e2Jak Hk\u2192a ;\n2\n\n(21)\n\n\f10\nDefining q(U ) and p(H) as the probability distributions of U and H over the graph, we have the selfconsistent equations\np(H) = (1 \u2212 \u01eb)p\u0303(H) + \u01eb p\u0303(\u2212H) ;\nZ Y\nk\nk\n\u221e\n\u0011\nX\nX\n\u0002\n\u0003 \u0010\n\u03b3k\nUi ;\ndUi q(Ui ) \u03b4 H \u2212\np\u0303(H) =\ne\u2212\u03b3\nk!\ni=1\ni=1\n\n(22)\n(23)\n\nk=0\n\nbeing the analogue of (15b), while for the (15a) one has\nq(U ) = (1 \u2212 \u01eb)q\u0303(U ) + \u01eb q\u0303(\u2212U )\nZ\n\u0010\n\u0001\u0011\n1\nq\u0303(U ) = dHj dHk p(Hj ) p(Hk ) \u03b4 U + ln e2Hj + e2Hk\n2\n\n(24)\n(25)\n\nThese equations are already beyond the possibilities of an analytical treatment, and can be solved only\nby a population-dynamics technique [3].\nIn this \"paramagnetic\" region the expression for the RS ground-state entropy (logarithm of the number\nof SAT configurations) simplifies. Thus, knowing the distributions q(w) and p(g) we can compute the\naverage entropy. In appendix B 1 we compute the average number of solutions hN i, annealed entropy\nln(hN i), whereas the RS computation leads to quenched average of the entropy hln N i. The same quantity\nmay be computed for a given large sparse graph from the message passing procedure (21). However, the\nresult will be valid only in the region where the RS assumption is valid, see section III E.\nE.\n\nThe RS stability\n\nThe replica-symmetric solution will turn out to be incorrect if the assumption of having a single pure\nphase is proven to fail. As we know, a necessary condition for this is that fields incoming to a given node\nare uncorrelated. This property can be tested on the RS solution: if the spin-glass susceptibility diverges,\nthen all the fields (and in particular the pairs of incoming ones) are strongly co-fluctuating, and the RS\nassumption is inconsistent. The (nonlinear) spin-glass susceptibility is defined as [29, 30]\n\u03c7SG (G) =\n\n1\nN\n\nX\n\nhsi sj i2c ;\n\n\u03c7SG =\n\n\u221e\nX\n\n(2\u03b3)d E(hs0 sd i2c ) .\n\n(26)\n\nd=0\n\ni,j\u2208V (G)\n\nOn the left is the definition for a fixed graph G, hsi sj ic is the connected correlation function between\nnodes i and j. On the right we consider the average over instances, in the thermodynamic limit, where\nsites s0 and sd are at distance d. The factor (2\u03b3)d stands for the average number of neighbours at distance\nd, when d \u226a ln N . Assuming that the limit for large d of the summands in (26) exists (with the limit\nN \u2192 \u221e performed first), we relate it to the stability parameter :\n\u0010\n\u0011 d1\n\u03bb = lim (2\u03b3) E(hs0 sd i2c ) .\nd\u2192\u221e\n\n(27)\n\nThen the series in (26) is essentially geometric, and converges if and only if \u03bb < 1.\nUsing the fluctuation-dissipation theorem we relate the correlation hs0 sd ic to the variation of magnetization in s0 , caused by an infinitesimal magnetic field in sd . Then, one relates this quantity to cavity\nfields, i.e., up to a factor C independent from d,\n\"\u0012\n\u00132 #\nX\n\u2202ua\u2192d\n2\nE(hs0 sd ic ) = C *\nE\n.\n(28)\n\u2202ub\u21920\na\u2208\u2202d\nb\u2208\u22020\n\nFinally, using the fact that we perform the large-N limit first, the variation above is dominated by the\ndirect influence through the length-d path between the two nodes, and this induces a \"chain\" relation: if\nthe path involves the clause and variable nodes (ad , d, ad\u22121 , d \u2212 1, . . . , a0 , 0) we have\n\" d \u0012\n\u00132 #\nY\n\u2202u\na\n\u2192l\nl\n.\n(29)\nE(hs0 sd i2c ) = C * E\n\u2202ual\u22121 \u2192l\u22121\nl=1\n\n\f11\n\n{b \u2208 \u2202j r a}\n\n{ub\u2192j }\nhj\u2192a\nj\n\na\n\nk\n{c \u2208 \u2202k r a}\n\nua\u2192i\ni\n\nhk\u2192a\n{uc\u2192k }\n\nInside the paramagnetic phase and in the zero-temperature limit (but keeping soft fields of section III D),\nfrom (21), we have for a path like the upper one in the above figure\nJai\n\n\u2202ua\u2192i\n\u2202Ua\u2192i\n\u2212Jaj e2Jaj Hj\u2192a\n= Jai\n= 2Jaj Hj\u2192a\n.\n+ e2Jak Hk\u2192a\n\u2202ub\u2192j\n\u2202Ub\u2192j\ne\n\n(30)\n\nInstead of directly computing the stability parameter \u03bb, it is equivalent, and numerically easier, to associate\nevery bias ua\u2192i in the population-dynamics algorithm with a positive number va\u2192i . We update this\nnumber together with the fields according to\nX \u0012 \u2202ua\u2192i \u00132\nX \u0012 \u2202ua\u2192i \u00132\nva\u2192i =\nvb\u2192j +\nvc\u2192k ,\n(31)\n\u2202ub\u2192j\n\u2202uc\u2192k\nb\u2208\u2202jra\n\nc\u2208\u2202kra\n\n(we recall that, when performing population-dynamics technique, the labels \"a \u2192 i\" do not have any\nspatial meaning: the population is just a collection, and messages are randomly combined at each step).\nAfter equilibration, the numbers v will change on average geometrically, with a factor \u03bb.\nNumerically, we see that for a given \u01eb the stability parameter grows with connectivity \u03b3. On fig. 3 we\nsee the line above which the replica-symmetric solution is unstable (i.e. \u03bb > 1). This line coincides with\nthe unit-clause upper bound within the errors from about \u01eb > 0.33 \u00b1 0.02. In particular all the region\nwhere the RS results are contradictory is unstable. It is furthermore remarkable (and unexpected) that\nthere exist a region in which RS solution is not stable, and yet the short clause heuristics a.s. finds a\nsolution in polynomial time.\nIV.\n\n1RSB CAVITY APPROACH AND ITS IMPLICATIONS FOR THE PHASE DIAGRAM\n\nThe understanding of the role of ergodicity in the validity of the replica-symmetric cavity assumption\nallows us to recast the cavity method as a more powerful tool, for the case in which there are (exponentially)\nmany phases. The assumptions underlying this process go under the jargon term \"1RSB\" type of symmetry\nbreaking [3, 4]. In the 1RSB approach we assume that exponentially many pure thermodynamical states\n(phases) exists, and that the neighbors of a node in absence of this node are uncorrelated only within\neach of these states. This happens because the cluster property (the small correlation of observables far\nfrom each other) holds only within a pure phase. The name replica symmetry breaking is due to historical\nreasons, since the mechanism was first proposed by Parisi [31], while using the \"replica trick\" in analysing\na spin-glass model.\nThe necessary but conceptually impossible handling of the multiplicity of pure phases may be replaced\nby a \"survey\" over these phases. The only memory of the original structure is through the free energies F\u03b1\nof the various phases \u03b1. As the phases have to be weighted with a Boltzmann weight in F\u03b1 , a reweighting\nterm has to be introduced in the \"survey\" equations, as we show in section IV A. In the zero-temperature\nlimit the analysis leads to what are now called survey propagation equations, which are developed fully in\nsection IV B.\nThe solution to these equations is described in section IV C 1, in section IV C 2 are results of the stability\nanalysis of this solution. Checking the validity of the 1RSB cavity assumption (1RSB stability analysis)\ngives us a hint if this solution could be the final correct one. This has been done for the K-SAT [11, 32] and\nColoring problems [12] on random graphs. The results in those cases supported strongly the conclusion\nthat the SAT/UNSAT thresholds computed with the 1RSB cavity method were exact. The 1RSB stability\nanalysis is technically involved, we summarize the main steps in appendix D.\n\n\f12\nA.\n\nGeneral 1RSB cavity equations\n\nWe define a complexity function \u03a3(F ) as the logarithm of number of states, and hence it is computable\nby Legendre transform\n\u2202\u03a3(F )\n= \u03b2m ;\n\u2202F\n\n\u2212\u03b2m\u03a6(m, \u03b2) = \u2212\u03b2mF (\u03b2) + \u03a3(F ) ;\n\n(32)\n\nwhere the parameter m plays role of a second temperature, for free energies of states instead of energies of\nconfigurations, and is called the Parisi parameter of the replica symmetry breaking. The function \u03a6(m, \u03b2)\nis called the \"replicated free energy\".\nInstead of one field and one bias on every edge, now we need to keep one field and one bias for every\nedge and every state. Or equivalently, as we assumed that there is a huge number of states, a distribution\nof fields and biases on every edge. The self-consistent equation for this distribution is [3, 4]\nZ Y\nZ Y\n\u22121\nP a\u2192i (ua\u2192i ) = Za\u2192i\ndub\u2192k P b\u2192k (ub\u2192k )\ndub\u2192j P b\u2192j (ub\u2192j )\n(33)\nb\u2208\u2202kra\nb\u2208\u2202jra\n\u0001\na\u2192i\n* \u03b4 ua\u2192i \u2212 F ({ub\u2192j }, {ub\u2192j }) * exp(\u2212\u03b2m\u2206F\n).\n\nThe function F is the single-phase update of biases given by equations (7), and the last term is the\nreweighting of states, where \u2206F a\u2192i is the free-energy shift after adding clause a and all its neighbors\nexcept i. Referring to our calculations in equation (9a), this free-energy shift is\ne\u2212\u03b2\u2206F\n\na\u2192i\n\na\u2192i\na\u2192i\nY+1\n+ Y\u22121\nQ\nb\u2192j\nb\u2192j\nj\u2208\u2202ari\nb\u2208\u2202jra (Y+1 + Y\u22121 )\n\u0002\n\u0001\u0003\nP\nsi ,sj ,sk exp \u03b2 hj\u2192a sj + hk\u2192a sk \u2212 E{Ja } (si , sj , sk )\nQ\nQ\n=\n.\nj\u2208\u2202ari\nb\u2208\u2202jra (2 cosh \u03b2ub\u2192j )\n\n= Q\n\nThen, in analogy with (10), the replicated free energy \u03a6 is calculated as\nX\nX\n(di \u2212 1)\u2206\u03a6i ,\n\u03a6(m, \u03b2) =\n\u2206\u03a6a\u222a\u2202a \u2212\na\n\n(34)\n\n(35)\n\ni\n\nwhere di is the degree of the node i. The replicated free-energy shifts are\nZ\nZ\ni\n\u2212\u03b2m\u2206\u03a6a\u222a\u2202a\n\u2212\u03b2m\u2206F a\u222a\u2202a\n\u2212\u03b2m\u2206\u03a6i\ne\n= e\n;\ne\n= e\u2212\u03b2m\u2206F .\n\n(36)\n\nThe integrals are making\nR an average over Rthe distributions Rof the fields incoming to the cavity, similarly\nas in equation (33), i.e. f (u1 , . . . , uk ) = du1 P (1) (u1 ) * * * duk P (k) (uk )f (u1 , . . . , uk ).\nSince we are interested mainly in the ground-state properties of the \u01eb\u20131-in-3 SAT problem, we need to\ntake the zero-temperature limit. There are two standard ways of doing this\nThe energetic T \u2192 0 limit [4]: We take the limit \u03b2 \u2192 \u221e, m \u2192 0 with y = \u03b2m fixed and finite. Then\n\u2212 y\u03a6(y) = \u2212yE + \u03a3(E) .\n\n(37)\n\nHere we neglected the entropic contribution and we can obtain complexity as a function of energy.\nThis is the 1RSB analog of the RS analysis with hard fields (warnings).\nThe entropic T \u2192 0 limit [33]: We take the limit \u03b2 \u2192 \u221e at energy fixed to zero, E = 0. Then\nm\u03a6\u0303(m) = mS + \u03a3(S) ;\n\n(38)\n\nwhere \u2212\u03b2\u03a6(\u03b2, m) \u2192 \u03a6\u0303(m). Here we are fixed to zero energy, but on the other hand we can compute\ncomplexity (number of states) as a function of the state internal entropy. This is the 1RSB analog\nof the RS analysis with soft fields (beliefs).\n\n\f13\nIn this paper we work out only the simpler energetic limit, the same as in [9] for K-SAT, or in [13] for\nColoring. We will see how this analysis alone already gives us a large amount of information about the\nphase diagram.\nThe reweighting (34) becomes in the zero-temperature energetic limit\nX\nX\n\u0001\n\u2206E a\u2192i = \u2212 max hj\u2192a sj + hk\u2192a sk \u2212 E{Ja } (si , sj , sk ) +\n|ub\u2192j | +\n|ub\u2192k | .\n(39)\nsi ,sj ,sk\n\nb\u2208\u2202jra\n\nb\u2208\u2202kra\n\nSince the fields h and biases u are integers, by relations (12), \u2206E a\u2192i also takes nonnegative integer values.\nIn fact it counts the number of contradictions in one warning-propagation update.\nWe want to determine whether a typical \u01eb\u20131-in-3 SAT instance has any satisfying configuration. We do\nthis in section IV B, by taking the y \u2192 \u221e limit. The reweighting term exp (\u2212y\u2206E a\u2192i ) then guarantees\nthat we keep only the cases without contradictions, \u2206E a\u2192i = 0. Conversely, in order to compute the\nground-state energy in the UNSAT region, or the complexity at energies higher than zero, we need to\nkeep y finite. We undertake this in appendix C.\nB.\n\nThe zero-energy case, survey propagation\n\nIn the limit y \u2192 \u221e we fix the energy to be zero. The energy shift \u2206E a\u2192i is zero if and only if:\n\u2022 The {ub\u2192j }b\u2208\u2202jra are all nonnegative or all nonpositive,\n\u2022 The {ub\u2192k }b\u2208\u2202kra are all nonnegative or all nonpositive,\nP\nP\n\u2022 The terms Jaj b\u2208\u2202jra ub\u2192j and Jak b\u2208\u2202kra ub\u2192k are not both positive.\n\nWe begin by simplifying the form of eq. (33). In the zero-temperature energetic limit we can write the\ndistribution of fields and biases over states on every edge as\na\u2192i\na\u2192i\nP a\u2192i (ua\u2192i ) = q\u2212\n\u03b4(ua\u2192i + 1) + q+\n\u03b4(ua\u2192i \u2212 1) + q0a\u2192i \u03b4(ua\u2192i ) ;\n\nP\n\ni\u2192a\n\n(hi\u2192a ) =\n\ni\u2192a\np\u2212\n\u03bc\u2212 (hi\u2192a )\n\n+\n\ni\u2192a\np+\n\u03bc+ (hi\u2192a )\n\n+\n\np0i\u2192a \u03b4(hi\u2192a ) ;\n\n(40)\n(41)\n\ni\u2192a\ni\u2192a\na\u2192i\na\u2192i\n+ p0i\u2192a = 1, and \u03bc\u00b1 (h) are normalized measures with support\n+ p+\n+ q0a\u2192i = p\u2212\n+ q+\nwhere q\u2212\nover Z\u00b1 .\nSo, to every oriented edge we associate a triple of numbers q = (q\u2212 , q0 , q+ ) or a triple p = (p\u2212 , p0 , p+ )\n(resp. if oriented towards the variable or the clause). In analogy with the self-consistent equations (7) for\nfields and biases we can write self-consistent equations for probabilities (surveys) q and p.\n\n{b \u2208 \u2202j r a}\n\nq b\u2192j\npj\u2192a\nj\n\nq a\u2192i\na\n\nk\n\ni\n\npk\u2192a\n{c \u2208 \u2202k r a}\n\nq\n\nc\u2192k\n\nConsidering only the combinations with \u2206E a\u2192i = 0, the surveys of fields are given by incoming surveys\nof biases as\nY\n\u22121\ni\u2192a\na\u2192i\np+\n+ p0i\u2192a = Ni\u2192a\n(q+\n+ q0a\u2192i ) ;\n(42a)\nb\u2208\u2202ira\n\ni\u2192a\np\u2212\n\n+\n\np0i\u2192a\n\n=\n\n\u22121\nNi\u2192a\n\nY\n\nb\u2192i\n(q\u2212\n+ q0b\u2192i ) ;\n\n(42b)\n\nq0b\u2192i ;\n\n(42c)\n\nb\u2208\u2202ira\n\u22121\np0i\u2192a = Ni\u2192a\n\nY\n\nb\u2208\u2202ira\n\n\f14\nwhere Ni\u2192a is the normalization factor (in the update, we have three equations for three independent\nunknown, p\u00b1 and N ). And the surveys of biases are given by the incoming surveys of fields\n\u22121\nk\u2192a\n= Na\u2192i\npj\u2192a\nqJa\u2192i\n\u2212Jaj p\u2212Jak ;\nai\na\u2192i\nq\u2212J\nai\n\n=\n\npj\u2192a\nJaj (1\n\n\u22121\nNa\u2192i\n\n\u2212\n\n(43a)\n\npk\u2192a\nJak )\n\n+ (1 \u2212\n\n\u0001\nk\u2192a\npj\u2192a\n;\nJaj )pJak\n\nj\u2192a\n\u22121\nk\u2192a\nq0a\u2192i = Na\u2192i\npj\u2192a\n+ pj\u2192a\npk\u2192a\np0\n\u2212Jak + p0\n0\n\u2212Jaj p0\n\n(43b)\n\n\u0001\nk\u2192a\n\n;\n\n(43c)\n\nwhere Na\u2192i is the normalization factor, and the lower indexes of q's and p's are multiplied by \u22121 when\nvariable is negated in the clause.\nThese equations describe survey propagation [9], and can be used inside an algorithm to find a solution\nto a typical instance of \u01eb\u20131-in-3 SAT, hopefully also in a region of parameters (\u01eb, \u03b3) where short-clause\u2013like\nheuristics or belief-propagation methods fail. They might also be used to compute quantities averaged over\ninstances in our random ensemble, particularly the complexity function which determines the SAT/UNSAT\ntransition.\nIn the zero-temperature limit, the replicated free energy (35) becomes\n\u0012Z\n\u0013\n\u0013 X\nX \u0012Z\n\u2212y\u2206E i\n\u2212y\u2206E a\u222a\u2202a\n(di \u2212 1) ln\n\u2212 y\u03a6(y) =\n,\n(44)\nln\ne\n\u2212\ne\na\n\ni\n\nwhere from (9) and (36) we get the energy shifts\n\u2206E a\u222a\u2202a = \u2212 max\n\nsi ,sj ,sk\n\n\u2206E i = \u2212\n\nX\n\n\u0001 X X\nhi\u2192a si + hj\u2192a sj + hk\u2192a sk \u2212 E{Ja } (si , sj , sk ) +\n|ub\u2192i | ;\n\n(45)\n\ni\u2208\u2202a b\u2208\u2202ira\n\nua\u2192i +\n\na\u2208\u2202i\n\nX\n\n|ua\u2192i | ;\n\n(46)\n\na\u2208\u2202i\n\nagain both these energy shifts are non-negative integers.\nFurthermore in the y \u2192 \u221e limit, we distinguish only if \u2206E = 0, then exp(\u2212y\u2206E) = 1, or if \u2206E > 0,\nthen exp(\u2212y\u2206E) = 0. From eq. (44) we get for the complexity at zero energy\nX\n\u0001 X\n\u0001\n\u03a3(E = 0) =\nln prob(\u2206E a\u222a\u2202a = 0) \u2212\n(di \u2212 1) ln prob(\u2206E i = 0) ,\n(47)\na\n\nwhere, calling\n\nP0i\n\n:=\n\ni\n\na\u2192i\na\u2208\u2202i q0\n\nQ\n\nand\n\ni\nP\u00b1\n\n:=\n\na\u2192i\na\u2208\u2202i (q\u00b1\n\nQ\n\n+ q0a\u2192i ),\n\ni\ni\nprob(\u2206E i = 0) = P+\n+ P\u2212\n\u2212 P0i ;\nY\nY\nY\ni\u2192a\ni\u2192a\nprob(\u2206E a\u222a\u2202a = 0) =\n\u2212 P0i\u2192a ) \u2212\n+ P\u2212J\n(PJi\u2192a\n\u2212 P0i\u2192a ) \u2212\n(P\u2212J\n\u2212 P0i\u2192a )\n(PJi\u2192a\nai\nai\nai\nai\ni\u2208\u2202a\n\n\u2212\n\nX\n\ni\u2208\u2202a\n\ni\u2192a\nP\u2212J\nai\n\ni\u2208\u2202a\n\nY\n\n(PJj\u2192a\naj\n\n\u2212\n\nP0j\u2192a ) .\n\ni\u2208\u2202a\n\n(48a)\n\n(48b)\n\nj\u2208\u2202ari\n\nThe second equation collects the contributions from all combinations of arriving fields except the \"contradictory\" ones (+, +, +), (\u2212, \u2212, \u2212), (+, +, 0) and (+, +, \u2212) (plus permutations of the latters). Note at\nthis point that all these equations (42)-(48) correctly do not depend on the choice of Hamiltonian (2) or\n(13).\nC.\n\n1RSB results for the phase diagram\n\nIn this section we give results of 1RSB cavity analysis for the \u01eb-1-in-3 SAT problem. In the first two\nsubsections we concetrate on the positive 1-in-3 SAT (\u01eb = 0). In the third one IV C 3 we show results for\ngeneral probability of negation.\n1.\n\nComplexity as a function of connectivity\n\nTo compute numerically the average value of complexity from eq. (47) we first need to find a fixed point\nof the survey propagation equations (42) and (43). We do that using the population-dynamics algorithm\n[3]. The result is in fig. 4.\n\n\f15\n\u03a3/N 1.8 1.822 1.85 1.879 1.9\n0.004\n\n1.992\n\n\u03b3\nsymbol popul. size\n\n0.002\n\n+\n\n0\n\n\u0003\n\n-0.002\n-0.004\n\n1.95\n\n\u25e6\n1.875 1.8789\n\n1.885\n0.0005\n\n0.5 \u00d7 105\n1.0 \u00d7 105\n2.0 \u00d7 105\n\n-0.006\n-0.008\n\n0\n\n-0.010\n-0.0005\n-0.012\n\nFIG. 4: Average complexity density (logarithm of number of states divided by size of the graph) as a function of\nmean degree \u03b3 for the positive 1-in-3 SAT problem. At \u03b3sp = 1.822 a nontrivial solution of survey propagation\nequations appears, with positive complexity. At \u03b3 = \u03b3 \u2217 = 1.8789 \u00b1 0.0002 the complexity becomes negative: this\nis the SAT/UNSAT transition. At \u03b3p = 1.992 the solution at zero energy ceases to exist. The inset magnifies the\nregion where the complexity crosses zero, together with the error bar for the SAT/UNSAT transition.\n\nBelow mean degree \u03b3sp = 1.822 \u00b1 0.001 the survey propagation equations (42, 43) have only the trivial\nparamagnetic solution, with p0 = q0 = 1 and q\u00b1 = p\u00b1 = 0 for all edges. At \u03b3sp a solution of survey\npropagation equations with positive complexity appears discontinuously. The emergence of this transition\nfar below the numerically known SAT/UNSAT threshold suggests that, in a whole interval of parameters\nnear to the threshold the phase space restricted to solutions is clustered into many pure states, a HardSAT phase [9] exists. Furthermore, in that interval, there are also many metastable states, entropically\nrelevant, and local minima with positive energy cost separated by macroscopic barriers. This means that\nlocal algorithms, like decimation heuristics or variants of annealed Monte Carlo, get trapped and are\nunable to find any ground state in polynomial time. Nonetheless, a decimation procedure based on the\nstationary distribution of survey propagation equations is expected to work beyond this threshold.\nNote that \u03b3sp is referred to as a \"dynamical threshold\" in [9, 13], we stress that it is not this point which\nis connected to a real dynamical transition [34]. Neither is it the point where the local algorithm ceases\nto work in polynomial time. We come back to comment about this point in the discussion, section V.\nAt mean degree \u03b3 \u2217 = 1.8789 \u00b1 0.0002 the complexity becomes negative. Instead of having a.s. in each\ninstance an exponential number of clusters which contain at least one solution, the fraction of instances\nhaving any cluster which contains at least one solution (i.e. the fraction of SAT instances) becomes\nexponentially small. So this point identifies the SAT/UNSAT transition.\nWe are aware of two works where results from numerical simulation for this SAT/UNSAT threshold are\ngiven. In [22] they conclude the value of threshold is \u03b3 \u2217 = 1.86 \u00b1 0.03. In [23] they give \u03b3 \u2217 = 1.875 \u00b1 0.015.\nIn fact, the latter do not give an error bar, so we guessed it from their fig. 4. Our result agrees with these\nestimations, and as it is based on an analytical method we reduce the error bar by one order of magnitude\nwith a very small numerical effort.\nAt mean degree \u03b3p = 1.992 \u00b1 0.001 the solution at zero energy ceases to exist. In the y \u2192 \u221e limit the\npopulation dynamics converges to a solution which shows a finite fraction of surveys of type (p\u00b1 , p0 , p\u2213 ) =\n(0, 0, 1). Then, with finite probability we would find two such surveys creating a contradiction, the\nnormalization in (43) then would be zero. We call this situation a \"hard contradiction\".\nNote that such a phenomenon does not occur in K-SAT or Coloring problems. Cavity equations deal\nwith the messages incoming to a clause from all neighbours but one. In both K-SAT and Coloring (and\nin many other problems, like NAE-K-SAT, Vertex Covering, and so on), there is no way of making a\nclause unsatisfied if one of the neighbouring variables is not restricted, and indeed a \u03b3p threshold has\nnever appeared in the cavity analysis for these systems.\nIn order to obtain a non-singular solution above connectivity \u03b3p , we need to work with the equations at\nfinite y, which is able to account for the positive energy contributions. The results of the finite y analysis\nare shown in appendix C 1.\n\n\f16\n2.\n\nln \u03bcII\n\nThe stability analysis\n\n\u03b3=1.825\n\n\u03bcI\n1.04\n\n0.1\n\n1.03\n\n0\n\n\u03b3\n\n1.83\n\n1.85\n\u03b3=1.83\n\n\u22120.1\n1.0\n\n1.01\n\nd ln \u03bcII (d)\n0.5\n\n\u03b3=1.835\n\n1\n0.99\n\n0\n\u03b3=1.84\n\n0.98\n\n\u03b3=1.845\n\n0.97\n\n\u22120.5\n\u22121.0\n\n1.02\n\n4\n\n8\n\n12\n\n16\n\nd\n\u03b3=1.85\n\n0.96\n\n1.93\n\n1.94\n\n1.9475\n\n1.95\n\n1.96\n\n\u03b3\n\nFIG. 5: The stability parameter of the second kind ln(\u03bcII (d)) (D3) for positive 1-in-3 SAT for different connectivities\nas a function of length of the chain d. When the slope is negative, the 1RSB at this connectivity is stable against\nbug proliferation, and vice versa. This happens for \u03b3 > \u03b3II = 1.838 \u00b1 0.002. Right: The stability parameter of the\nfirst kind \u03bcI (D9) as a function of connectivity for positive 1-in-3 SAT. The stability parameter is smaller than 1\nfor \u03b3 < \u03b3I = 1.948 \u00b1 0.002, for these connectivities the 1RSB equations are stable against noise propagation.\n\nIn appendix D we introduce two stability parameters \u03bcI (D9) and \u03bcII (D3). Their meaning is analogous\nto that of the replica-symmetric stability parameter \u03bb (27). The 1RSB solution is stable if and only if\nboth \u03bcI < 1 and \u03bcII < 1.\nThe results for stability parameter of the second kind \u03bcII (D3) for positive 1-in-3 SAT are shown in\nfig. 5 (left), for finite d. Extrapolation to d \u2192 \u221e is done by linear fit, which looks reasonable from the\ndata points. So our criterion is that, if the slope in the logarithmic plot is positive, the limit value \u03bcII is\nlarger than 1, and vice versa. We estimate that 1RSB is \"type-II\" stable for \u03b3 > \u03b3II = 1.838 \u00b1 0.002.\nMore directly, for the stability parameter of the first kind \u03bcI (D9), the results are shown in fig. 5, right.\nSo we get that 1RSB is \"type-I\" stable for \u03b3 < \u03b3I = 1.948 \u00b1 0.002 (the generous error estimate is due to\npotential biases caused by finite population sizes).\nThe 1RSB solution may be correct only if both the stability parameters are smaller than one. For\npositive 1-in-3 SAT this happens for connectivities in the range 1.838 \u2243 \u03b3II < \u03b3 < \u03b3I \u2243 1.948. So, in\nparticular, the SAT/UNSAT threshold \u03b3 \u2217 is in the range of stability, and its value is to be considered\nexact. Note that such a situation, in which the SAT/UNSAT threshold falls into a narrow stability region,\nis quite common, and it has been seen also in K-SAT [11] and Coloring [12].\n3.\n\n1RSB results for general probability of negation\n\nWe applied the techniques of section IV C to the problem at finite \u01eb. As expected, all the critical\nconnectivities describe curves which are continuous at \u01eb = 0. We thus show, in figure 6 (left), the curves\n\u03b3 \u2217 (\u01eb), \u03b3sp (\u01eb) and \u03b3p (\u01eb), and, in the magnification on the right of fig. 6, also \u03b3I (\u01eb) and \u03b3II (\u01eb).\nAs \u01eb approaches about 0.20, the interesting interval \u03b3sp < \u03b3 < \u03b3p becomes very narrow (fig. 6, right),\nand the complexity value very small, \u03a3 \u2248 10\u22125 , three orders of magnitude smaller than the analogous\nvalues for \u01eb = 0. Above \u01eb = 0.20 we do not have sufficient numerical resolution to examine this region at\nall.\n\u2217\nIn fig. 6 (right) we plot the four curves \u03b3sp (\u01eb), \u03b3p (\u01eb), \u03b3I (\u01eb) and \u03b3II (\u01eb), shifted by the\n\u0001 curve \u03b3 (\u01eb), which\n\u0001\nis used as a reference. This allows us to appreciate that the differences \u03b3 \u2217 \u2212 \u03b3sp (\u01eb) and \u03b3p \u2212 \u03b3 \u2217 (\u01eb)\nseem to vanish linearly at about \u01ebp = 0.21 \u00b1 0.01, these two linear fits extrapolating to the same value of\n\u01eb with reasonable confidence.\nAbove \u01ebp , as soon as a nontrivial solution of (energetic finite-y) 1RSB cavity equations exists, it has\nimmediately a complexity \u03a3(E) of the qualitative shape for the connectivities above \u03b3p , (for example see\nfig. 8 in appendix C). We are thus led to conclude that in this interval the line \u03b3p (\u01eb) should be taken as\nthe 1RSB prediction for the SAT/UNSAT line \u03b3 \u2217 (\u01eb). At about \u01eb = 0.26 \u00b1 0.01 the curve \u03b3p (\u01eb) joints the\nunit-clause upper bound.\n\n\f17\nWe should add that, above \u01eb \u2243 0.07, both stability criteria fail along the curve \u03b3 \u2217 (\u01eb) (and then, along\n\u03b3p (\u01eb), for \u01eb > \u01ebp ), so that the 1RSB prediction for the SAT/UNSAT transition is not expected to be exact,\nbut only an upper bound, in the range 0.07 < \u01eb < 0.2726 [35, 36].\n\u03b3 \u2212 \u03b3 \u2217 (\u01eb)\n\n\u03b3\n\n0.10\n\n2.0\n\u03b3p =1.992\n\nUNSAT\n\nEasy UNSAT\n\n\u03b3 \u2217 =1.8789\n\n0.05\n\n\u03b3sp =1.822\n1.8\n0\n\u03b3sch =1.639\n1.6\n\n\u01eb\n\n\u22120.05\n0.05\n\n0.10\n\n0.15\n\n0.20\n\nstable\n1.4\n\n\u03b3 \u2217 (\u01eb)\n\u03b3p (\u01eb)\n\u03b3sp (\u01eb)\n\nEasy SAT\n\n1.2\n0.05\n\n0.07\n\n0.1\n\n0.15\n\n0.2\n\n0.21\n\n0.25\n\n0.2726\n\n0.3\n\n0.35\n\n\u01eb\n\n\u03b3I (\u01eb)\n\u03b3II (\u01eb)\n\nFIG. 6: Left: plot of the three curves \u03b3 \u2217 (\u01eb), \u03b3sp (\u01eb) and \u03b3p (\u01eb) described in the text. We left for comparison the SCH\nlower bound (dot-dashed curve) and the RS instability line (dotted curve with stars data points). Right: The same\ndata, with connectivity plotted with respect to the SAT/UNSAT threshold prediction \u03b3 \u2217 (\u01eb). Also the stability\nlines \u03b3I (\u01eb) and \u03b3II (\u01eb) are shown, and the interval of stability for the SAT/UNSAT curve is \u01eb \u2208 [0, 0.07 \u00b1 0.01]. In\nthe inset, all the error bars are approximately as big as the point size.\n\nV.\n\nDISCUSSION AND CONCLUSIONS\n\nWe studied the average-case behaviour of 1-in-3 SAT in the random \u01eb\u20131-in-3 SAT ensemble, where\n\u01eb \u2208 [0, 1/2] is the probability of negation. This generalizes the random (symmetric) 1-in-3 SAT problem\n(\u01eb = 1/2) and random positive 1-in-3 SAT problem (\u01eb = 0), which is a special ensemble of Exact Cover.\nOur main result is the phase diagram in fig. 1, and, magnified, in fig. 6 above. It fills the conceptual\ngap between the symmetric problem, of polynomial average-case complexity both in the SAT and UNSAT regions, and the positive problem, which shows a Hard-complexity phase around the SAT/UNSAT\nthreshold.\nConcerning the SAT/UNSAT transition curve, \u03b3 \u2217 (\u01eb), we computed upper bounds coming from unitclause technique (UC), and from first moment method with restriction to the 2-core (1MM), and the lower\nbound coming from short clause heuristics (SCH). The UC and SCH bounds have been proven to coincide\non the interval \u01eb \u2208 [0.2726, 1/2], and thus determine the corresponding portion of the SAT/UNSAT line\nrigorously.\nAll the other results are obtained with the non-rigorous cavity method. The results of the replicasymmetric calculations do not give us a better result for the SAT/UNSAT threshold than the UC and\nSCH bounds, since its prediction have to be rejected above the RS stability line \u03b3RS , fig. 3.\nIt is remarkable that a region of the phase diagram exists, where the replica symmetry is broken, while\nthe short clause heuristics is proven to succeed a.s. in polynomial time. For what we know, such a feature\nhas not been proven in any of the previously studied models, while it has been often observed empirically\nthat some local algorithms, e.g. the Walk-SAT [37, 38, 39, 40], works in linear time inside a phase with\nreplica-symmetry breaking. We are tempted to say that this result actually proves that the onset of\na non-trivial replica symmetry broken solution does not imply to the onset of computational hardness\n(unfortunately the cavity results are not rigorous and the term \"computational hardness\" would have to\nbe defined properly to be allowed to speak about a proof). However, we hope that this could be used to\nstudy in a new way the nature of the replica-symmetry-broken phase. On the other hand, and as claimed\nbefore, we are persuaded that a stable 1RSB solution suggest an existence of a Hard-SAT phase near to\nthe SAT/UNSAT transition (nearer than the stability threshold). For quantitative study of this point for\n\n\f18\nthe coloring problem see [41]. The analysis of [41] should be repeated for 1-in-K SAT problem in future\nworks.\nOur main insights for the region with \u01eb < 0.2726 comes from the one-step\u2013Replica-Symmetry-Breaking\n(1RSB) calculations by analsis of the energetic zero-temperature limit of the 1RSB cavity equations (33),\nin which we keep only the weights of the hard fields instead of whole probability distribution.\nFor \u01eb < 0.21 we can locate, on the curves for the zero-energy complexity function \u03a3(\u03b3) fig. 4, the\nconnectivities \u03b3 \u2217 (\u01eb) at which \u03a3 vanishes, this corresponding to the SAT/UNSAT transition. The same\ncomputation shows the existence of a nontrivial solution above \u03b3sp (\u01eb) < \u03b3 \u2217 (\u01eb), thus predicting a whole\ninterval of Hard-SAT phase with many pure states. However for exact location of the \"dynamical transition\" we would need to keep the information about the soft fields and compute when a nontrivial solution\nof eq. (33) appears for the entropically dominating clusters, see [34]. Note here also that the inequality\n\u03b3sp < \u03b3RS for small \u01eb is due to the discontinuity of the transition towards nontrivial 1RSB phase, that can\nnot be seen by the local RS stability analysis. Analysis of [34] would also show that a nontrivial 1RSB\nsolution exists everywhere in the region of \u03b3 > \u03b3RS . This analysis for 1-in-K SAT might be a direction\nfor future work.\nAbove the line \u03b3p (\u01eb), fig. 6, the system shows a transition to a phase where the 1RSB solution at zero\nenergy ceases to exists, while it still exists above some value Emin (\u03b3, \u01eb). This is due to the presence of\nhard contradictions, a phenomenon specific of strongly constrained problems, like 1-in-K SAT, and to our\nknowledge it is a newly observed fact. Interpretation of this transition may be that the SAT formulas\nstart to be subexponentially rare at the connectivity \u03b3p .\nFor \u01eb > 0.21 the nontrivial 1RSB solution at zero energy never exists, and we can trace only the curve\n\u03b3p . This would be the 1RSB prediction for the SAT/UNSAT transition. This result suggests that for\n\u01eb > 0.21 a Hard-SAT region might actually be absent. Specifying what sort of replica-symmetry-broken\nsolution is connected with the breakdown of local algorithms, like decimation heuristics or variants of\nannealed Monte Carlo, is an important direction of future research.\nWe have checked the local stability of 1RSB solution towards 2RSB. The result is that 1RSB is stable\nonly in a small region between the lines \u03b3I and \u03b3II in fig. 6. This means, among other things, that the\n1RSB location of the SAT/UNSAT transition for \u01eb < 0.07 is likely to be exact. In particular, this is true\nfor the positive 1-in-3 SAT threshold, \u03b3 \u2217 = 1.8789. For 0.07 < \u01eb < 0.2726 the 1RSB result is unstable so\nthe exact location of the SAT/UNSAT transition in that region remains an open question. We can only\nconjecture that our 1RSB result is an upper bound, in analogy with proofs for other models in [35, 36].\nFurthermore, it would be interesting to compare our results with the behaviour of the structurally affine\n(2 + p)-SAT problem [16, 17] for which the 1RSB analysis is still missing.\nFinally, as we mentioned in several places above, the 1RSB cavity approach allows for algorithmic\nimplementations. We started studying this aspect also together with Elitza Maneva and Talya Meltzer,\nand the results will be published elsewhere.\nAcknowledgments\n\nWe thank the organizers of the \"Complex Systems\" July '06 Les Houches Summer School (Session 85),\nwhere this work has been started. This work has been supported in part by the EU through the network\nMTR 2002-00319 \"STIPCO\" and the FP6 IST consortium \"EVERGROW\". A.S. also thanks the LPTMS\nof Orsay \u2013 Paris Sud for support and kind hospitality in large stages of the work.\nWe thank also Elitza Maneva and Talya Meltzer for collaboration in some still unpublished algorithmic\nparts of this work. We appreciated a lot discussions with Florent Krza\u0327kala, R\u00e9mi Monasson and last but\nnot least we thank Marc M\u00e9zard for his precious hints.\nAPPENDIX A: UPPER AND LOWER BOUNDS FROM UNIT-CLAUSE PROPAGATION\nAND DECIMATION HEURISTICS\n\nConsider an instance drawn from an appropriate ensemble, and subject to a decimation algorithm\nwherby in each time set a variable is set to \u00b11. Call X the discrete decimation time (number of variables\nset, among the N total) and Ci (X) the number of clauses remaining of length i \u2265 2. Thus the initial\nconditions for the instance are X = 0 and Ci (X) = N \u03b33 \u03b4i,3 . Assume for now these quantities are sufficient\nto describe the instance in the absence of clauses of \"length 1\" (unit clauses). If we assume a variable\nis fixed (decimated) from such an instance, the remaining instance involves a smaller number of literals,\n\n\f19\nso it is simplified in some respect. More importantly, some of the clauses are shortened, and may even\nbe reduced to unit clauses. The unit clauses, being only 1 literal, allows no ambiguity in the values their\nvariables must take in order for the instance to be SAT. The initial fixing of one variable by this process,\nforces the value of some other variables, which may again propagate, i.e. a branching process. So, a single\nbinary choice could decrease the number of variables by a considerable amount, as a result of a cascade\nof these unit-clause implications.\nThe justification in considering the instance at all times described by {Ci (X)} and X is the following. For sufficiently simple decimation rules, the distribution of remaining variables within clauses will\nbe uniform and random at all X, and if N is sufficiently large the values of Ci (X) are self-averaging.\nFurthermore, at fixed clause length, the fraction of clauses with a given number of negations is the one\nexpected\n\u0001 from an independent Bernoulli process: among clauses of length i, at all times there is a fraction hi \u01ebh (1 \u2212 \u01eb)i\u2212h of clauses with h negations. All these elements are necessary to allow a sufficiently\nconcise dynamical description to make the progress in the following sections. Among the various possible\nheuristics \u2013 which determine the values set in the absence of unit clauses, one typically is interested in the\n(suboptimal) subset of heuristics which preserve these decorrelation properties of the Poissonian ensemble,\nso that a statistical analysis is achievable.\nIt is useful to consider the algorithm as partitioned into rounds, which consist of a single application\nof the heuristic rule (free step), followed by the cascade of unit-clause propagations (forced steps). In\nexpectation, the number of variables fixed throughout a round of unit-clause propagation is described by\na transition matrix depending on the clause distribution {Ci (X)}, which are constant to leading order\nduring any \"subcritical\" round (defined below). The unit clauses generated in the first free step go on\nto generate other unit clauses and so forth, this can be described by a geometric series in the transition\nmatrix M(X). Calling p = (pT , pF ) and m = (mT , mF ) respectively the expectations for the numbers of\nvariables fixed to (True, False) at the first level of the cascade (p), and on the whole cascade (m), we have\nm = p + M(x)p + M2 (x)p + * * * = (I \u2212 M(x))\u22121 p .\n\n(A1)\n\nThe matrix inverse above is justified from the fact that, for consistency of the approximations, we require\nthe round to be subcritical, thus we must consider the range of parameters where the modulus of the\nlargest eigenvalue of M is smaller than 1. This is also responsible for the approximation that M(x)\nremains invariant (up to order N1 ) during the cascade.\nThe transition matrix has two components. A first one comes from K-clauses which are \"broken\" into a\nbunch of K \u2212 1 unit-clauses, because the fixed variable already satisfies the original one, and all the other\nK \u2212 1 variables thus should take the value not satisfying the clause. A second one comes from 2-clauses\n(if any) which were just \"shortened\" because although the fixed variables are not satisfying them, the\nleft over variables must, by definition creating unit clauses. Since there are Ci (x) clauses of length i and\nN \u2212 X variables left in the instance, these two terms are combined in the expression\n\"\n!\n!#\n2\n\u01eb(1 \u2212 \u01eb)\n\u01eb2\n\u01eb(1 \u2212 \u01eb) (1 \u2212 \u01eb)2\nM(x) =\n(C2 (X) + 3C3 (X))\n+ C2 (X)\n.\n(A2)\nN \u2212X\n(1 \u2212 \u01eb)2 \u01eb(1 \u2212 \u01eb)\n\u01eb2\n\u01eb(1 \u2212 \u01eb)\nHere we identify that the unit-clause cascades on a large graph are a simple uncorrelated process, governed\nby the spectrum of a certain finite-size \"transition matrix\" (in our case, 2 \u00d7 2). If all the eigenvalues have\n|\u03bbi | < 1, the process is subcritical : the typical size of the cascades is \u223c 1/ mini (1 \u2212 |\u03bbi |), and their average\nsize concentrates. Conversely, when the gap 1 \u2212 |\u03bbi | vanishes, a single cascade could visit a finite fraction\nof a graph even in the large N limit, and thus could lead to a contradiction.\nAlso note that both the upper- and lower-bound arguments later derived are complemented by an\nanalysis of the concentration properties of the process [21], and by a non-rigorous argument on the\napproximate decorrelation of distinct random restarts on a fixed instance. The vulgate version reads: \"If\na random algorithm succeeds with finite probability p on its first run, after \u223c n independent runs the\nprobability of success will be \u223c 1 \u2212 exp(\u2212n ln(1 \u2212 p) + * * * )\", where the dots stand for some function of\nthe correlations, small in n/N , caused by working with a fixed finite instance. We do not discuss here\nthese complex technical points.\n1.\n\nUpper bound\n\nIf, for a variable i selected randomly from the initial instance, both the cascades initiated by s(i) = +1\nand s(i) = \u22121 percolate, there is a finite probability that they result in a certificate of contradiction.\n\n\f20\nThus the upper bound for the SAT/UNSAT transition comes from the requirement that the cascades\nare on the edge of criticality already at time X = 0. At this point we have C2 = 0 and C3 = N \u03b3/3, so\nthat we get\n!\n\u0001\n\u0001\n\u01eb(1 \u2212 \u01eb)\n\u01eb2\nM(0) = 2\u03b3\n\u2212\u2192\n\u03bb1 , \u03bb2 = 4\u03b3 \u01eb(1 \u2212 \u01eb), 0 .\n(A3)\n2\n(1 \u2212 \u01eb) \u01eb(1 \u2212 \u01eb)\nFrom this we see that a random instance is a.s. (randomized linear time) provable to be unsatisfiable for\n\u03b3 larger than the percolation threshold\n\u03b3uc (\u01eb) =\n\n2.\n\n1\n.\n4\u01eb(1 \u2212 \u01eb)\n\n(A4)\n\nLower bound\n\nThe differential equations studied here are a generalization of those found by Kalapala and Moore [22]\nfor the case of positive 1-in-K-SAT.\nThe heuristic determines the nature of the free step in our rounds. The two rules examined here in\nare random heuristic (RH[p]) and short clause heuristic (SCH). In RH[p] a variable is chosen at random,\nwith uniform probability, from the remaining unassigned variables and set to true with probability p. In\nSCH, a random 2-clause is selected (if any exists) and a random literal set to satisfy the clause (hence the\nother literal is set to not satisfy it). If at some time no 2-clauses exist, a RH choice is performed, but fact\nwill not be relevant in our statistical analysis: criticality of the cascade process will always arise after a\ntime interval throughout which an extensive number of short-length clauses have been present (except at\nX = O(1)).\nIf at some time X, pT variables are set to True and pF to False in expectation, then Ci changes\naccordingly. If an i-clause contains the variable just fixed, it is reduced to an (i \u2212 1)-clause, and similarly\nan (i + 1)-clause can be reduced to an i-clause. Call \u01eb = (\u01eb, 1 \u2212 \u01eb), p = (pT , pF ), and 1 = (1, 1). Still in\nexpectation:\n\u0012\n\u0013\n\u0001\ni\ni+1\nCi (X + 1 * p) = Ci (X) \u2212 a\u03b4i,2 (1 \u2212 \u03b4C2 (X),0 ) 1 \u2212\n(1 * p) +\n(\u01eb * p) Ci+1 (X) ; (A5)\nN \u2212X\nN \u2212X\nwhere a = 0 or 1 respectively in the case of RH[p] and SCH. The two heuristics are distinguished in that\nto initiate the cascades for RH[p] we have pRH[p] = (p, 1 \u2212 p), and for SCH we have pSCH = (1, 1). The\nSCH value can be understood since setting one random literal in a two clause implies setting the other to\nthe opposite value, thus setting variables to either \u00b11 is equally likely in expectation.\nA round can be described by incorporating the variables set in the forced steps. Suppose that during a\nsubcritical round mT variables are set to True and mF to False in expectation (including the free step),\nand call m the vector (mT , mF ). To leading order in N \u2212 X the variation is\n\u0013\n\u0012\n\u0001\ni+1\ni\n(1 * m) +\n(\u01eb * m) Ci+1 (X) , (A6)\nCi (X + 1 * m) = Ci (X) \u2212 a\u03b4i,2 (1 \u2212 \u03b4C2 (X),0 ) 1 \u2212\nN \u2212X\nN \u2212X\n\nA final simplification in the clause dynamics is to summarize the behavior by continuous variables x = X/N\nand ci = Ci /N . In the hypothesis of subcriticality, m/N is infinitesimal, and we attain a differential\nequation description\n\u001d\n\u001c\nD\u01eb * mE\n\u0011\nd\n1 \u0010\n1\n+\n\u2212ici (x) + (i + 1)\nci+1 (x) ,\n(A7)\nci (x) = \u2212a\u03b4i,2 \u03b8(c2 (x))\ndx\n1*m\n1\u2212x\n1*m\nFor both RH[p] and SCH rules, the equation for c3 (x) gives\nc3 (x) =\n\n\u03b3\n(1 \u2212 x)k ,\n3\n\n(A8)\n\nInstead, for c2 (x) the equation is nonlinear. Indeed we get that hmT i and hmF i are given by the combination of equations (A1, A2, A8), and thus depend on the unknown function c2 (x) (besides, of course, x,\n\n\f21\nFIG. 7: On the left, profiles of \u03bb(x) along decimation time x, for RH[1], at various \u01eb and at the corresponding critical\nvalue of \u03b3. In all the cases, the functions \u03bb(x) are concave (up to the limit value \u01eb = 1/2, where \u03bb(x) = 1 \u2212 x).\nFor \u01eb larger or smaller than the tricritical value \u01eb\u2217 = 0.272633, the maximum of \u03bb(x) is achieved respectively at\nx = 0 or at x > 0. On the right, critical curves \u03b3sch (\u01eb) and \u03b3RH[1] (\u01eb), obtained through short-clause (SCH) and\nrandom heuristic at optimal parameter p = 1 (RH[1]). For a comparison with other values and curves here out of\nrange, cfr. figures 1, and 3.\n\u03bb(x)\n1\n\n\u03b3\n\n0.8\n0.6\n\n1.639\n1.603\n\n\u01eb=0\n\n\u03b3sch\n\u03b3uc =\n\u03b3rh[1]\n\n\u01eb = \u01eb\u2217\n\n1\n4\u01eb(1\u2212\u01eb)\n\n1.4\n\n\u01eb = 0.5\n0.4\n\n1.261\n1.2\n\n0.2\n0.2\n\n0.4\n\n0.6\n\n0.8\n\n1 x\n\n\u01eb\n0\n\n0.1\n\n0.2\n\n0.3\n0.272633\n\n\u01eb and \u03b3). Using this expression within (A7) allows us to determine c2 (x) by numerical integration, and\nthence \u03bbmax (x).\nThe best choice for the parameter p in RH[p] is the one which creates the smallest cascades, i.e. the\none \"more orthogonal\" to the principal eigenvalue \u01eb = (\u01eb, 1 \u2212 \u01eb), but compatible with the probabilistic\ninterpretation of p. Thus, in the whole interval \u01eb \u2208 [0, 1/2], the choice p = 1 is optimal.\nHere we thus show the results for RH[1] and for SCH. The latter is always at least as good as the\nformer, and gives a lower bound of \u03b3sch = 1.6393, while RH[1] attains \u03b3rh = 1.6031, for the case \u01eb = 0.\nKalapala and Moore calculated these quantities for positive 1-in-K SAT, with compatible results for the\nK = 3 case (up to maybe a misprint exchanging RH[p] with RH[1 \u2212 p]).\n3.\n\nExact SAT/UNSAT threshold for \u01eb > 0.2726\n\nThis section proves the coincidence of the curves \u03b3sch (\u01eb) and \u03b3uc (\u01eb) for \u01eb > 0.2726. It was shown in\nthe previous section that whenever the cascades remain subcritical we are in the Easy-SAT phase. The\ncriteria for the cascades to be subcritical at x = 0 is precisely \u03b3 < \u03b3uc (\u01eb). It thus suffices to show that\nthe maximum (over the decimation time x) of the maxi |\u03bbi (x)|, is attained for x = 0. This is indeed what\nhappens in the interval \u01eb \u2208 [0.2726, 1/2].\nBuilding on the previous section we will see that, for \u01eb\u20131-in-3-SAT and our heuristics, \u03bb(x) is a concave\nfunction. So, the interval on which \u03b3uc (\u01eb) and \u03b3sch (\u01eb) coincide is the one in which\nd\u03bb(x; \u01eb, \u03b3 = \u03b3uc (\u01eb))\ndx\n\n\u2264 0,\n\n(A9)\n\nx=0\n\nthe endpoint being determined by the corresponding equality.\nIt is possible to calculate the characteristic polynomial (and differentiate w.r.t. x). The expressions\nthereby found can, however, only be evaluated exactly at x = 0. At this value we have expressions for\nci (x) and there derivatives in terms of the initial conditions and m.\nAs we increase connectivity towards the critical limit, 4\u03b3 \u01eb(1 \u2212 \u01eb) = 1, a further simplification is in the\neigenvectors of M which become \u01eb and its orthogonal, the latter having null eigenvalue. Regardless of p\n(which must have a component along \u01eb in order to have positive components), we have\n\u01eb*m\n\u01eb*\u01eb\nF (x, \u01eb) :=\n;\nF (0, \u01eb) =\n= 1 \u2212 2\u01eb(1 \u2212 \u01eb) .\n(A10)\n1*m\n1*\u01eb\nFinally, the condition (A9) becomes\n\u0012\n\u00132 !\n\u01eb\n1\u2212\u01eb\n1\n(1 \u2212 2\u01eb(1 \u2212 \u01eb)) \u2212 2 \u2264 0 .\n+\n1+\n4 1\u2212\u01eb\n\u01eb\n\n(A11)\n\n\f22\nSo that finally, after the change of variable x = 2\u01eb(1 \u2212 \u01eb), one gets the equation for the endpoint of the\ninterval\n2x3 \u2212 2x2 + 3x \u2212 1 = 0 ,\n\n(A12)\n\nwhose only real solution gives \u01eb = 0.272633, or its symmetric point.\nTo show that the properties at x = 0 are sufficient to determine \u03b3sch it is necessary to show that\nwhenever criteria (A11) is met, and \u03bb(0) < 1, the algorithm is subcritical at all x. If we want a true\nanalytic proof, besides the numerical evidence of figure 7 (left), a method is to find a function \u03bb\u0302(x) such\nthat\n\u03bb(x) \u2264 \u03bb\u0302(x) \u2264 \u03bb(0) ,\n\n(A13)\n\nhence establishing the result.\nSince we find that \u03bb(x) is a monotonically increasing function of c2 (x), an upper bound \u01092 (x) > c2 (x)\nimplies an upper bound in \u03bb(x) also which we take to be \u03bb\u0302(x). The bound function \u01092 is defined by\nreplacing the complicated function F (x, \u01eb) by the constant value F (0, \u01eb) in the expression (A7), which are\nthen exactly solvable for all x as\n\u0001\n(A14)\n\u01092 (x) = \u03b3x(1 \u2212 x)2 F (0, \u01eb) = \u03b3x(1 \u2212 x)2 1 \u2212 2\u01eb(1 \u2212 \u01eb) .\n\nFor RH[ 12 ] and certain other heuristics this approximation can be shown to produce an upper bound for\nc2 (x), and yet be exact at x = 0 in both absolute value and derivative.\n\nThis then allows an exact expression for d\u03bb\u0302(x)\ndx to be written in terms of x. Though the dependency on\nx remains complicated it can be established that\nd\u03bb\u0302(x)\n<0\ndx\n\nand\n\n\u03bb\u0302(0) < 1 ,\n\n(A15)\n\nexactly in the same interval of \u01eb in which (A11) holds. These fact proves that our \"local\" analysis at\nx = 0 was sufficient for the purpose of identifying the maximum over x of \u03bb(x) in this interval.\nAs a final remark we note that the proof of this exact bound is indirectly reliant on the convexity of\nthe curves for all \u01eb (figure 7 left). Interestingly we found that for \u01eb\u20131-in-3-SAT with k > 3 the curves are\nnot convex for some \u01eb; the gradient at x = 0 may be negative and yet the global maximum in lambda\nappears at x > 0. On first inspection a rigorous bound appears more challenging to obtain in these cases.\nAPPENDIX B: OTHER BOUNDS\n1.\n\nUpper bound from first moment method\n\nHere we obtain the statistical properties of the 2-core of random bipartite graphs, in the Erd\u00f6s-R\u00e9nyi\nensemble described in section I A, with K = 3. Assuming \u03b3 > 1/2, the percolation transition, we solve\nself-consistently for the probability that a given branch of the graph is not percolating.\nWe use \"giant\" or \"small\" for synonymous of \"of size of order N \" or \"of size of order 1\" respectively.\nIndeed, for graphs in our ensemble, a.s. there is a single giant 2-core component. Each edge is either\nattached on both sides to a small tree; is attached to a small tree on one of the two extrema, and to the\ngiant 2-core on the other one (i.e. it is in the leaf-part of the giant component); or is connected to the\n2-core through both extrema. Only in this last case is it in the 2-core of the graph.\nConsider an incoming edge from a clause on the original graph. Call q the probability that the part\nof the graph \"downstream\" is a tree. The edge will be attached to a variable, participating in k other\nclauses (k Poissonian distributed of rate \u03b3). For each clause there will be two incoming edges, which must\nalso be connected to finite trees. Self-consistency will thus require that\nq=\n\nX\nk\n\ne\u2212\u03b3\n\n2\n\u03b3 k 2k\nq = e\u2212\u03b3(1\u2212q ) .\nk!\n\n(B1)\n\nThe two functions q(\u03b3) and \u03b3(q), inverse of each other, are both monotonic on our domains q \u2208 [0, 1],\n\u03b3 \u2208 [1/2, +\u221e). In particular, \u03b3(q) has an algebraic form\n\u03b3(q) = \u2212\n\nln q\n1 \u2212 q2\n\n(B2)\n\n\f23\nso that using q as a parameter instead of \u03b3 will simplify our equations.\nThe probability that an incoming branch from a variable is connected to a tree is q 2 , as it is the\nprobability that both outgoing branches from the neighbouring clause are connected to a tree. Thus,\nthe average number of variables of coordination k \u2265 2, hNk i, is proportional to a Poissonian with rate\n\u03b3(1 \u2212 q 2 ) = \u2212 ln q. Then, there will be hM3 i = (1 \u2212 q)3 M clauses remaining of degree 3, and hM2 i =\n3q(1 \u2212 q)2 M clauses reducing\nto 2-sat clauses, all the others are decimated by the leaf removal. The\nP\nnumber of edges is E = k kNk = 3M3 + 2M2 , so on average hEi = N (\u2212 ln q)(1 \u2212 q). All these averaged\nquantities are concentrated.\nConsider the ensemble of configurations s, in \"spin\" notations as in the rest of the paper. Call xk the\nfraction of variables of degree k which take value +1: the space of configurations is thus described by the\ninfinite vector {xk }k\u22652 , with each x in [0, 1], and a vector {xk } comes with an entropy\nX\nSvar (~x) =\nNk h(xk ) ,\n(B3)\nk\n\nwhere we use the common two-state entropy function h(x) = \u2212x ln x \u2212 (1 \u2212 x) ln(1 \u2212 x). Denote by x the\nfraction of incoming edges from variables assigned value +1\n1 X\nx=\nkNk xk ,\n(B4)\nE\nk\n\nand by p the fraction of edges (ai) such that Jai si = +1, and hence p = (1 \u2212 \u01eb)x + \u01eb(1 \u2212 x) = \u01eb + (1 \u2212 2\u01eb)x.\nThe probability that a 1-in-3\u2013clause is satisfied is thus 3p(1 \u2212 p)2, and the probability that a 2-sat clause\nis satisfied is 1 \u2212 p2 . So we get for the entropy term coming from clauses\nScla (p(~x)) = M3 ln(3p(1 \u2212 p)2 ) + M2 ln(1 \u2212 p2 ) .\n\n(B5)\n\nThe upper bound on the SAT/UNSAT transition is achieved by the line, in the (q, \u01eb) plane (with range\n[0, 1] \u00d7 [0, 1/2]), where the total (intensive) entropy S(q, \u01eb) vanishes:\nS(q, \u01eb) = max S(q, \u01eb; ~x) ;\n\nS(q, \u01eb; ~x) = Svar (~x) + Scla (p(~x)) .\n\n{xk }\n\n(B6)\n\nThis variational problem is infinite dimensional, thus at first sight intractable. Instead, stationarity with\nrespect to xk produces\n\u0013\n\u0012\n2p\nxk\nq\n(1 \u2212 q) 1 \u2212 3p\n1\n=: y(p) .\n(B7)\n= (1 \u2212 2\u01eb)\nln\n\u2212\nk 1 \u2212 xk\n3(1 + q) p(1 \u2212 p) 1 + q 1 \u2212 p2\nRemarkably, a single parameter y describes the family of possibly stationary vectors {xk }, this being a\nresidue of the original independence of the Poisson ensemble.\nxk (y) =\n\n1\n.\n1 + e\u2212ky\n\n(B8)\n\nThen, we can get self-consistently p from y, through the xk 's\np(y) = \u01eb + (1 \u2212 2\u01eb)\n\n1\nq X (\u2212 ln q)k\n1\n1 X\n=\n\u01eb\n+\n(1\n\u2212\n2\u01eb)\nkNk\n.\n\u2212ky\n\u2212(k+1)y\nE\n1+e\n1\u2212q\nk!\n1+e\nk\nk\n\nSo, the expression for the entropy S(q, \u01eb) is given by the function\nX (\u2212 ln q)k \u0012 1 \u0013 (\u2212 ln q)(1 \u2212 q)\n\u0001\n+\n(1 \u2212 q) ln(3p(1 \u2212 p)2 ) + 3q ln(1 \u2212 p2 ) ,\nh\nS(q, \u01eb) = q\nky\nk!\n1+e\n3(1 + q)\n\n(B9)\n\n(B10)\n\nk\n\nwhere the values of p and y are determined by the (only) solution of the nonlinear system of two equations\n(B7) and (B9). The set of points (\u01eb, \u03b3(q)) where the function S(q, \u01eb) vanishes describes a curve which\nappears in the figures 1 and 3.\nFinally, we remark that a better upper bound can be achieved if one realizes that a further removal\nprocedure is allowed: if a variable is connected only to 2-sat clauses, and with edges all of the same sign,\nthen one can safely fix it, satisfying all the neighboring clauses. The new reduced instance is SAT if and\nonly if the original one is, but the number of solutions is potentially smaller: as this decreases fluctuations,\nthe bound is improved.\nFor the case \u01eb = 0, this program is achieved in [23], although in the restriction to the variational space\nof xk all equal, and leads in that case to the (better) bound \u03b3c \u2264 1.932.\n\n\f24\n2.\n\nAlgorithmic upper bound through embedding into 3-XOR-SAT\n\nAn instance of 1-in-3-SAT is SAT only if the corresponding 3-XOR-SAT instance is SAT, where 3-XOR\nclauses allows also for the extra \"spurious\" configuration (J1 \u03c31 , J2 \u03c32 , J3 \u03c33 ) = (+, +, +).\nRandom Erd\u00f6s-R\u00e9nyi graphs with K = 3 have a finite core (under hypergraph leaf removal: if a variable\nhas degree 1, one removes it together with the incident clause) beyond a \"dynamical\" threshold \u03b1d = 0.818.\nIn a range \u03b1d < \u03b1 < \u03b1c = 0.918 there is an exponential number of solutions in the XOR-SAT problem,\neven if restricted to the core. However, beyond the critical value \u03b1c there are no longer solutions (other\nthan the single trivial one, with all \u03c3i = +1, in the case of \"positive\" instances with all Jai = +1). These\nresults can be found, for example, in [24, 25].\nThe last situation can be detected in polynomial time, by Gaussian elimination on the adjacency matrix:\nif the rank equals the number of variables (more generally, if it is smaller by at most O(ln N )), the solutions\non the core can be checked in polynomial time. As a.s. all the variables are forced to be +1, a fraction\nof order 1 of the clauses in the core will be proven to be satisfiable only by the \"spurious\" configuration\n(+, +, +). This provides a certificate of unsatisfiability for the original instance in the random \u01eb\u20131-in-3SAT ensemble.\nSo, at all \u01eb, for \u03b3 > 3\u03b1c = 2.754, one gets a.s. a certificate of unsatisfiability in randomized cubic time\n(an upper bound for matrix triangulation). This proves that the Easy-UNSAT phase starts from a finite\n\u03b3 at all \u01eb.\nThe method strongly relies on the fact that a XOR-SAT core exists in the instance. Unfortunately,\nthis is not the case for the customary reductions of SAT to \u01eb\u20131-in-K-SAT, even at large \u03b1 (as the former\nconstraints are much more sloppy than the latter, the reduction makes use of auxiliary leaf structures), so\nthe method does not extend to a randomized polynomial-time algorithm for finding a certificate in large-\u03b1\n3-SAT instances, in agreement with the widespread conjecture that such an algorithm can not exist [26].\nAPPENDIX C: 1RSB AT POSITIVE ENERGY (FINITE y)\n\nIn this appendix we describe the 1RSB solution in the energetic zero-temperature limit, but at finite\nvalue of parameter y. That allows us to compute the dependence of complexity \u03a3 on energy E for a given\nprobability of negation \u01eb and connectivity \u03b3.\nThe survey propagation equations (42), (43) at finite y becomes\n\u0010X\n\u0011\nX\n\u22121\ni\u2192a\np+\n+ p0i\u2192a = Ni\u2192a\ne\u2212yr prob(\u2206\u1ebc i\u2192a = r,\nub\u2192i \u2265 0) ;\n(C1a)\nr\n\n\u22121\ni\u2192a\np\u2212\n+ p0i\u2192a = Ni\u2192a\n\n\u0010X\n\nb\u2208\u2202ira\n\ne\u2212yr prob(\u2206\u1ebc i\u2192a = r,\n\nr\n\n\u22121\np0i\u2192a = Ni\u2192a\n\n\u0010X\n\nX\n\nb\u2208\u2202ira\n\ne\u2212yr prob(\u2206\u1ebc i\u2192a = r,\n\nr\n\nX\n\nb\u2208\u2202ira\n\n\u0011\nub\u2192i \u2264 0) ;\n\n\u0011\nub\u2192i = 0) ;\n\n(C1b)\n(C1c)\n\nP\nP\nwhere Ni\u2192a is the normalization factor, and \u2206\u1ebc i\u2192a = b\u2208\u2202ira |ub\u2192i | \u2212\nb\u2208\u2202ira ub\u2192i . When using\nHamiltonian H as in (2) (as we did), the probabilities of biases are given by the incoming probabilities of\nfields as\n\u22121\nk\u2192a\n= Na\u2192i\npj\u2192a\nqJa\u2192i\n\u2212Jaj p\u2212Jak ;\nai\n\n(C2a)\n\nj\u2192a\n\u22121\na\u2192i\nk\u2192a\n= Na\u2192i\nq\u2212J\npj\u2192a\n;\nJaj (1 \u2212 pJak ) + (1 \u2212 pJaj )pJak\nai\n\u0002\n\u0003\nj\u2192a k\u2192a\nj\u2192a k\u2192a\nj\u2192a k\u2192a \u0001\n\u22121\na\u2192i\nk\u2192a \u2212y\nq0 = Na\u2192i p\u2212Jaj p0\n+ p0 p\u2212Jak + p0 p0\n;\n+ pj\u2192a\nJaj pJak e\n\n\u0001\nk\u2192a\n\n(C2b)\n(C2c)\n\nwhere Na\u2192i is again the normalization. If we were using H\u2032 of equation (13) instead, the last summand\nin (C2c), proportional to e\u2212y , would have appeared in (C2b).\nSimilarly, for the replicated free energy and energy we have\n\u0011\n\u0011 X\n\u0010X\nX \u0010X\ne\u2212yr prob(\u2206E i = r) ;\n(C3)\ne\u2212yr prob(\u2206E a\u222a\u2202a = r) \u2212\n\u2212y\u03a6(y) =\n(di \u2212 1) ln\nln\na\n\nr\n\ni\n\nr\n\nP\n\u2212yr\nX P r e\u2212yr prob(\u2206E a\u222a\u2202a = r) X\nprob(\u2206E i = r)\nrre\nr\nP \u2212yr\nP\n(d\n\u2212\n1)\n\u2212\n;\nE(y) =\ni\n\u2212yr prob(\u2206E i = r)\nprob(\u2206E a\u222a\u2202a = r)\nr e\nr e\na\ni\n\n(C4)\n\n\f25\n\n\u03b3\n1.850\n1.879\n1.900\n1.935\n1.970\n2.000\n2.050\n2.100\n2.150\n2.200\n\nyex ymax\n2.9 3.35\n2.1 2.83\n1.6 2.64\n1.0 2.40\n0.6 2.25\n0.4 2.09\n0.1 2.04\n0.1 1.94\n0.1 1.86\n0.1 1.67\n\nEmax\n0.000410\n0.000969\n0.00143\n0.00236\n0.00336\n0.00428\n0.00573\n0.00613\n0.00766\n0.00993\n\n\u03a3max\n0.00414\n0.00441\n0.00471\n0.00480\n0.00517\n0.00534\n0.00611\n0.00815\n0.0104\n0.0126\n\nygs\n\n5.31\n4.31\n3.83\n3.60\n3.27\n3.04\n2.88\n2.72\n\nEgs\n0\n0\n0.000282\n0.000939\n0.00176\n0.00255\n0.00406\n0.00580\n0.00632\n0.00674\n\nymin\n\nEmin\n\n7.37\n6.37\n5.76\n5.27\n5.32\n\n0.000149\n0.00107\n0.00232\n0.00377\n0.00549\n\n\u03a3min\n(+0.00247)\n(\u22120.00015)\n(\u22120.00215)\n(\u22120.00570)\n(\u22120.00954)\n\u22120.0111\n\u22120.0121\n\u22120.0130\n\u22120.0138\n\u22120.0155\n\nTABLE I: Values at special points in the complexity vs. energy curves of figure 8. The parametrizations E(y) and\n\u03a3(y) at various gamma exist for y & yex (\u03b3) (the estimate is an upper bound, being the first value for which a\nnon-paramagnetic RS solution emerged). All energies E and complexities \u03a3 are extensive, and factors 1/N in the\ntable entries are understood. The triplets (y, E, \u03a3)max and (if any) (y, E, \u03a3)min are the two turning points, while\n(y, E, \u03a3 = 0)gs is the point where the complexity vanishes, along the physical branch of the curve. In the column\nfor \u03a3min , the first 5 values are instead \u03a3(E = 0), as Emin = 0 without turning point in that case.\n\nThe probabilities prob(\u2206E = r) have to be computed algorithmically (sum over all combinations). We\nfound a closed formulas only when r = 0 (no contradictions), equations (42) and (48).\n1.\n\nComplexity as a function of energy\n\nAgain with the population-dynamics algorithm we solve eqs. (C1)-(C4) and from the solution obtain\nthe replicated potential \u03a6(y) (C3). The function \u03a3(E), plotted in fig. 8, is obtained by fitting function\n\u03a6(y) and computing the Legendre transform (37) of the fit:\n\u0001\n\u2202 y\u03a6(y)\n\u2202\u03a6(y)\n;\n\u03a3(y) = y 2\n.\n(C5)\nE(y) =\n\u2202y\n\u2202y\nA non-paramagnetic solution of (C1,C2) exists only above a value yex (\u03b3), which decreases monotonically,\nfrom its asymptotics yex \u2192 +\u221e for \u03b3 \u0581 \u03b3sp to yex \u2192 0 for \u03b3 \u2192 \u221e. The function \u03a3(E) is parametrically\nidentified from the two \u03a3(y) and E(y) above. Assuming the latter are regular functions and noting that\n\u2202\u03a3(E)/\u2202E = y, one also finds that \u03a3(E) is regular, and convex or concave respecively if parameter y grows\ntowards right or left, up to (possibly) special points where the curve changes concavity (turning points).\nNote that only the concave parts have a physical meaning, while the convex parts are the \"non-physical\"\nportion of the formal solution.\nIt turns out that, for \u03b3sp < \u03b3 < \u03b3p , there is a single turning point, from convex at small y to concave\nat large y, the values Emax and ymax labeling the values of E and y at this point. Instead, for \u03b3 > \u03b3p , a\nsecond turning point, from concave to convex, arises at higher values of y, thus defining the values Emin\nand ymin .\nThe labels of \"max\" and \"min\" stand for the fact that there exist phases with energy E (a number\napproximatively exp(\u03a3(E)), if \u03a3(E) > 0, or in a fraction of instances of order exp(\u03a3(E)), if \u03a3(E) < 0),\nonly for energies in a range Emin < E < Emax (where Emin = 0 for \u03b3 < \u03b3p ), while we should interpret\nthat there are no pure phases with energy E out of the range above, up to a subexponential fraction of\ninstances.\nWe find that, for all \u03b3, \u03a3(Emax ) > 0, while for \u03b3 > \u03b3p , \u03a3(Emin ) < 0. An intermediate value Emin <\nEgs < Emax , corresponding to the one at which the complexity vanishes, exists for all \u03b3 > \u03b3 \u2217 . It is\nthe value of minimum energy of a configuration in a typical instance sampled from the corresponding\nensemble, so it is important for the statistical properties of the \"optimization\" problem in the UNSAT\nphase.\nIn the table I we show the numerical values of the quantities described above, for a range of relevant\n\u03b3's, obtained by population dynamics.\n\n\f26\n1\n\u03a3(E/N )\nN\n0.006\n0.004\n0.002\n\n0\n\n0.2\n\n0.4\n\n0.6\n\n0.8\n\n1.0\n\n1.2\n\n\u00d710\u22122 E/N\n\n\u22120.002\n\nFor curves from left to right:\n\n\u22120.004\n\n\u03b3=1.850\n\u03b3=1.879 \u2243 \u03b3 \u2217\n\n\u22120.006\n\n\u03b3=1.900\n\u03b3=1.935\n\n\u22120.008\n\n\u03b3=1.970\n****** (\u03b3p =1.992)\n\u03b3=2.000\n\n\u22120.010\n\n\u03b3=2.050\n\u03b3=2.100\n\n\u22120.012\n\n\u03b3=2.150\n\u03b3=2.200\n\n\u22120.014\n\n\u22120.016\n\nFIG. 8: Complexity as a function of energy for positive 1-in-3 SAT, for several different connectivities. \u03b3 = 1.850\nis in the SAT region, \u03b3 = 1.879 is near the SAT/UNSAT transition, 1.900 \u2264 \u03b3 \u2264 1.970 is in the UNSAT region\nand 2.000 \u2264 \u03b3 \u2264 2.200 is in the UNSAT region where a solution at zero energy does not exists.\nE/N\n0.014\n0.012\n\nEmax (\u03b3)\nEgs (\u03b3)\nEmin (\u03b3)\n\n0.010\n0.008\n0.006\n0.004\n0.002\n0\n\u03b3sp =1.822\n1.9\n\u03b3 \u2217 =1.879\n\n2.0\n\u03b3p =1.992\n\n2.1\n\n2.2\n\n\u03b3\n\nFIG. 9: The values of Emax (\u03b3), Egs (\u03b3) and Emin (\u03b3), and a quadratic fit which extrapolates to Emax (\u03b3sp ) =\nEgs (\u03b3 \u2217 ) = Emin (\u03b3p ) = 0.\n\nLet us mention that, in our interpretation, the possibility of hard contradictions, peculiar to 1-in-3 SAT\nand other highly constrained NP-complete problems and absent in the more intensively studied K-SAT\nand Coloring, is responsible also for the existence of the second turning point, and the second unphysical\nbranch at high values of y, which is indeed a new feature of this system.\nAPPENDIX D: STABILITY OF 1RSB\n\nIn this appendix we describe how to check the self-consistency (stability) of the 1RSB solution, with\na treatment similar to the one in section III E, for the replica-symmetric solution. We do it only for\nthe solution at zero energy, y \u2192 \u221e: as we will see, this is sufficient to determine the SAT/UNSAT\n\n\f27\ntransition line in an interval of \u01eb near \u01eb = 0, thus complementing the informations we already have for\nthe neighbourhood of \u01eb = 1/2.\nThe stability analysis of the replica-symmetric solution investigates if the replica-symmetric state tends\nto split into exponentially many states. In the case of 1RSB we have two stability conditions to test\nthis. The type I stability condition determines the tendency of 1RSB states to aggregate, and the type\nII determines the tendency of the states to split. The names type I and type II comes form [11, 29]. In\nthe case that the 1RSB solution is not stable, i.e. the states tend to split or aggregate, we would deduce\ninstability towards the 2-step of Replica-Symmetry-Breaking (2RSB). However, this is not expected to be\nthe correct picture, while what more probably occurs is what is called full-RSB [31], or something else\nstill unknown.\nThe method for computing these stabilities for models on random graphs was introduced in [29] and\napplied to K-SAT [11, 32] and later to many other problems. For both types of 1RSB stability there exist\nseveral equivalent analyses.\nFor the stability of type II we choose the bug proliferation. This is developed concisely in section D 1\nfor the 1RSB solution of zero energy (y \u2192 \u221e). For more theoretical background for this method see\npapers [29, 30, 32].\nFor type I instability it is possible to consider the convergence of survey propagation equations (42, 43)\non a single graph. However, we choose to consider the noise propagation method, which uses a populationdynamics technique similar to that used for stability of the replica-symmetric solution, eq. (31). Again\nwe give just the formulas and results in section D 2, for general explanation see [29, 30, 32].\n1.\n\nStability of the second kind, bug proliferation\n\nSuppose that, in a neighbourhood of edge (a, i), with j and k being the other two variables incident\non a, an incoming warning ub\u2192j is changed from value u to another value u\u2032 . Assume also that there are\nn\u2212 1 other clauses c2 , . . . , cn (besides a and b) incoming to node j, the warnings having values respectively\nu2 , . . . , un , and that there are m other clauses c\u20321 , . . . , c\u2032m (besides a) incoming to node k, the\n\u0001 warnings\nhaving values respectively v1 . . . vm . Conditioned to the existence of the path (bj), (ja), (ai) , the other\ncoordinations m and n \u2212 1 are decorrelated and Poissonian distributed, with rate \u03b3. Denote with the\nletter J the set of parameters describing the characteristics of the graph in this neighbourhood\nJ = (n \u2212 1, m; Jai , Jaj , Jak ) ;\n\n(D1)\n\nLabels w and w\u2032 will describe the value of the output warning, ua\u2192i , under ub\u2192j = u and u\u2032 respectively:\nb\n\nu(\u2192 u\u2032 )\n\nc2\n\nw(\u2192 w\u2032 )\na\ni\n\nj\n\ncn\nc\u20321\n\nc\u2032m\n\nDefine the six-dimensional transition matrix, in the index pairs (u, u\u2032 ) and (w, w\u2032 ), pairs of distinct\nelements in {0, \u00b11}2\nPJ (w \u2192 w\u2032 |u \u2192 u\u2032 ) =\n\n1\nN\n\nX\n\nc\u2032 \u2192k\n\nquc22\u2192j * * * qucnn\u2192j qv11\n\nc\u2032 \u2192k\n\nm\n* * * qvm\n\nu2 ***un \u2208{0,\u00b11}\nv1 ***vm \u2208{0,\u00b11}\n\n* \u03b4F a\u2192i (u,u2 ...,vm ),w \u03b4F a\u2192i (u\u2032 ,u2 ...,vm ),w\u2032 \u03b4\u2206E a\u2192i (u\u2032 ,u2 ...,vm ),0 . (D2)\nThe quantity P(w \u2192 w\u2032 |u \u2192 u\u2032 ) is proportional to the probability that the change u \u2192 u\u2032 in warning ub\u2192j\n\u2032\n\u2032\nhas induced a change w \u2192 w\u2032 in the warning ua\u2192i . Here F a\u2192i (ub\u2192j , uc2 \u2192j . . . , ucn\u2192j , uc1 \u2192k . . . , ucm \u2192k )\nimplements the cavity equations at zero energy (12), with the appropriate disorder parameters\n(Jai , Jaj , Jak ), so the delta's force this value to be equal to ua\u2192i , in the two cases (ub\u2192j = u, ua\u2192i = w)\n\n\f28\nand (ub\u2192j = u\u2032 , ua\u2192i = w\u2032 ). The delta in the energy shift is the residual of the reweightening factor\nexp(\u2212y\u2206E a\u2192i ) in the limit y \u2192 \u221e (note that it only appears on the pair (u\u2032 , w\u2032 ) of biases along the\nchain). Normalizations N = Nj\u2192a Nk\u2192a Na\u2192i are those from eqs. (42, 43).\nThe transition matrix defined above determines if a small fluctuation in the equilibrium distribution of\nthe fields is reinforced through the cavity iterations, thus leading to an instability. After d iterations, the\nmodulus of the fluctuation changes on average by some factor (2\u03b3)d TrhPJ1 . . . PJd i, because there are on\naverage (2\u03b3)d chains of length d ending on a given edge, and the trace of a \"chain\" of transition matrices\nestimates the influence of changing a bias at an edge at distance d upstream. So we define the (finite-d\nand d \u2192 \u221e) type-II stability parameters\n1\n\n\u03bcII (d) = 2\u03b3 TrhPJ1 . . . PJd i d ;\n\n\u03bcII = lim \u03bcII (d) ;\nd\u2192\u221e\n\n(D3)\n\nwhere the average is over the connectivity distribution and the disorder in negations, i.e. the parameters\nglobally identified above with the letter J . The various J 's refers to the different segments of the chain,\nand thus are independent. Again, the stability condition reads\n\u03bcII < 1 .\n\n(D4)\n\nThe matrix P for the \u01eb\u20131-in-3 SAT problem is six-dimensional, and we computed it for general realizations\nof negation and connectivities. It has a block-triangular form (a change 0 \u2192 \u00b11 never induces changes\nother than 0 \u2192 \u00b11 and a change \u00b11 \u2192 0 never induces \u00b11 \u2192 \u22131). Moreover two of the three 2 \u00d7 2\nblocks on the diagonal, B, are equal and have elements always larger than those of the third block B \u2032\n0\u2192\u00b11 \u00b11\u21920 \u00b11\u2192\u22131\n\nP(w \u2192 w\u2032 |u \u2192 u\u2032 ) :\n\n0\u2192\u00b11\n\nB\n\n0\n\n0\n\n\u00b11\u21920\n\n\u2217\n\nB\n\n0\n\n\u00b11\u2192\u22131\n\n\u2217\n\n\u2217\n\nB\u2032\n\nSo in the large-d limit we need to analyze only the 2 \u00d7 2 block BJ of elements, propagating the 'bug'\n0 \u2194 \u00b11. For J = (n \u2212 1, m; Jai , Jaj , Jak ), the block elements take the form\n\"\n!\n!#\n!\"\n!\n!#\n1 0\n0 1\n0 \u03b1\n1 0\n0 1\nB = \u03b4Jaj ,+1\n+ \u03b4Jaj ,\u22121\n\u03b4Jai ,+1\n+ \u03b4Jai ,\u22121\n;\n(D5)\n0 1\n1 0\n\u03b2 0\n0 1\n1 0\n\u03b1=\n\nm\nY\n\nq0l\n\nl=1\n\nn\nY\n\nq0j ;\n\n\u03b2=\n\nj=2\n\nm\nY\n\nl\nq0l + q\u2212J\nak\n\nl=1\n\nn\n\u0001Y\n\nq0j ;\n\n(D6)\n\nj=2\n\ne\ne\nand triplets (q0e , q\u2212\n, q+\n) for different edges are independently sampled from the stationary distribution.\nResults for the type-II stability are presented in figure 5.\n\n2.\n\nStability of the first kind, the noise propagation\n\nIn a similar way to bug proliferation, we write a sort of transfer matrix T\na\u2192i\nTb\u2192j\n\n\u0001\n\n\u03c3,\u03c4\n\n=\n\n\u2202q\u03c4a\u2192i\n\u2202q\u03c3b\u2192j\n\n\u03c3, \u03c4 \u2208 {+, \u2212} .\n\n,\n\n(D7)\n\nThe dependence of q a\u2192i on q b\u2192j is given by the survey propagation equations (42,43).\nWe perform a population-dynamics analysis, where to every edge in the population is associated a triple\nfor the surveys, (q\u2212 , q0 , q+ ), updated with the cavity equations (42,43), and a pair of noise parameters,\n~v = (v+ , v\u2212 ), which are updated according to\nX\nX\na\u2192i b\u2192j\na\u2192i c\u2192k\n~v a\u2192i =\nTb\u2192j\n~v\n+\nTc\u2192k\n~v\n.\n(D8)\nb\u2208\u2202jra\n\nc\u2208\u2202kra\n\nThe motivation is to compute whether a small change in the equilibrated incoming survey q b\u2192j is dumped\nunder cavity iterations.\n\n\f29\nThe analysis goes in complete analogy with the one in section III E. We initialize the noise parameters\nwith an arbitrary\nrandom\n\u0001 procedure, and wait for equilibration of the distribution, up to a scaling overall,\nP\ne\ne\nkvkt := e |v+\n| + |v\u2212\n| where t denotes the iteration time, and the sum is over the population. The\nstability parameter is now, for some time t larger than equilibration,\n\u001d\n\u001c\nkvkt+1\n,\n(D9)\n\u03bcI =\nkvkt\nand the stability condition is \u03bcI < 1.\n\n[1] Cook S, The Complexity of Theorem Proving Procedures, Proc. of the third annual ACM symposium on\nTheory of computing, (1971), 151-158\n[2] Garey M R and Johnson D S Computers and Intractability: A Guide to the Theory of NP-Completeness, WH\nFreeman & Co. New York, NY, USA, 1979.\n[3] M\u00e9zard M and Parisi G, The Bethe lattice spin glass revisited, 2001 Eur. Phys. J. B 20 217\n[4] M\u00e9zard M and Parisi G, The cavity method at zero temperature, 2003 J. Stat. Phys 111 N. 1-34\n[5] Biroli G, Monasson R and Weigt M, A variational description of the ground state structure in random satisfiability problems, 2000 Eur. Phys. J. B 14 551\n[6] Theoretical Computer Science 265 (2001), Special Issue on NP Hardness and Phase Transitions.\n[7] Levin L A, Average case complete problems, 1986 SIAM Journ. on Comp. 15 285-286\n[8] M\u00e9zard M, Parisi G and Zecchina R, Analytic and Algorithmic Solution of Random Satisfiability Problems,\n2002 Science 297 812.\n[9] M\u00e9zard M and Zecchina R, The random K-satisfiability problem: from an analytic solution to an efficient\nalgorithm, 2002 Phys. Rev. E 66 056126\n[10] M\u00e9zard M, Parisi G and Virasoro M A, Spin-glass Theory and Beyond, vol. 9 of Lecture notes in Physics.\nWorld Scientific, Singapore, 1987\n[11] Montanari A, Parisi G and Ricci-Tersenghi F, Instability of one-step replica symmetry broken phase in satisfiability problems, 2004 J. Phys. A 37, 2073\n[12] Krza\u0327kala F, Pagnani A and Weigt M, Threshold values, stability analysis and high-q asymptotics for the\ncoloring problem, 2004 Phys. Rev. E 70, 046705\n[13] Mulet R, Pagnani A, Weigt M and Zecchina R, Coloring random graphs, 2002 Phys. Rev. Lett. 89 268701\n[14] Rosenthal J W, Speckenmeyer R and Kemp R, Exact satisfiability, a natural extension of set partition, and\nits average case behavior, Annals of Mathematics and Artificial Intelligence, Volume 6, N. 1-3/March, 1992\n[15] Achlioptas D, Chtcherba A D, Istrate G and Moore C, The phase transition in 1-in-k SAT and NAE 3-SAT,\n2001 SODA, 721-722,\n[16] Monasson R, Zecchina R, Tricritical Points in Random Combinatorics: the (2+p)-SAT case, 1998 J. Phys. A\n31, 9209\n[17] Monasson R, Zecchina R, Kirkpatrick S, Selman B and Troyansky L, Determining computational complexity\nfrom characteristic 'phase transitions', 1999 Nature 400, 133\n[18] Achlioptas D, Kirousis L M, Kranakis E and Krinzanc D, Rigorous Results for (2 + p) \u2212 SAT , Theoretical\nComputer Science, 265 (1-2), (2001), 109-129.\n[19] Walsh T, From P to NP: COL, XOR, NAE, 1-in-k, and Horn SAT, Proceedings of AAAI-2002, 2002.\n[20] Walsh T, 2+p-COL Proceedings of the Computational Symposium on Graph Coloring and its Generalizations,\nheld alongside CP-2002, Cornell, 2002.\n[21] Deroulers C and Monasson R, Criticality and Universality in the Unit-Propagation Search Rule, 2006\nEur. Phys. J. B 49 339\n[22] Kalapala V and Moore C, The Phase Transition in Exact Cover, cs.CC/0508037\n[23] Knysh S, Smelyanskiy V N and Morris E R, Approximating the satisfiability transition by surppresing fluctuations, cond-mat/0403416\n[24] Ricci-Tersenghi F, Weigt M and Zecchina R, Simplest random K-satisfiability problem, 2001 Phys. Rev. E 63,\n026702\n[25] M\u00e9zard M, Ricci-Tersenghi F and Zecchina R, Alternative solutions to diluted p-spin models and XORSAT\nproblems, 2003 J. Stat. Phys. 111 505\n[26] Chv\u00e1tal V and Szemer\u00e9di E, Many hard examples for resolution, 1988 Journal of the ACM 35 759\n[27] Pearl J, Probabilistic Reasoning in Intelligent Systems: Networks of Plausible Inference (2nd edition). Morgan\nKaufmann Publishers, San Francisco, 1988.\n[28] Yedidia J S, Freeman W T and Weiss Y, Understanding Belief Propagation and Its Generalizations, Exploring\nArtificial Intelligence in the New Millennium, Chap. 8, pp. 239-269, 2003.\n[29] Montanari A and Ricci-Tersenghi F, On the nature of the low-temperature phase in discontinuous mean-field\nspin glasses, 2003 Eur. Phys. J. B 33 339\n\n\f30\n[30] Rivoire O, Biroli G, Martin O C and M\u00e9zard M, Glass models on Bethe lattices, 2004 Eur. Phys. J. B 37\n55-78\n[31] Parisi G, A sequence of Approximated Solution to the S-K Model for Spin Glasses, 1980 J. Phys. A 13 L115L121\n[32] Mertens S, M\u00e9zard M and Zecchina R, Threshold Values of Random K-SAT from the Cavity Method, 2006\nRand. Struct. Alg. 28, 340-373\n[33] M\u00e9zard M, Palassini M and Rivoire O, Landscape of solutions in constraint satisfaction problems, 2005\nPhys. Rev. Lett. 95, 200202\n[34] Krza\u0327kala F, Montanari A, Ricci-Tersenghi F, Semerjian G and Zdeborov\u00e1 L, Gibbs states and the set of\nsolutions of random constraint satisfaction problems, to be published in PNAS (2007).\n[35] Franz S and Leone M, Replica bounds for optimization problems and diluted spin systems, 2003 J. Stat. Phys.\n111 535\n[36] Franz S, Leone M and Toninelli F L, Replica bounds for diluted non-Poissonian spin systems, 2003 J. Phys. A\n36 10967\n[37] Selman B, Kautz H A and Cohen B, Noise strategies for improving local search, Proc. of the 12th nat. conf. on\nArtificial Intelligence (vol. 1), p.337-343, Seattle, United States, 1994\n[38] Seitz S and Orponen P, An efficient local search method for random 3-satisfiability, Proc. LICS03 Workshop\non Typical Case Complexity and Phase Transitions. Electr. Notes in Discr. Math., 16 (2003).\n[39] Seitz S, Alava M and Orponen P, Focused local search on random 3-Satisfiability, J. Stat. Mech. P06006 (2005)\n[40] Ardelius J and Aurell E, Behavior of heuristics and state space structure near SAT/UNSAT transition,\nPhys. Rev. E 74, 037702 (2006).\n[41] Zdeborov\u00e1 L and Krza\u0327kala F, Phase transitions in the Coloring of Random Graphs, arXiv:0704.1269v1 [condmat.dis-nn]\n\n\f"}