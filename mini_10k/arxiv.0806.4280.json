{"id": "http://arxiv.org/abs/0806.4280v3", "guidislink": true, "updated": "2010-11-08T01:38:13Z", "updated_parsed": [2010, 11, 8, 1, 38, 13, 0, 312, 0], "published": "2008-06-26T17:37:52Z", "published_parsed": [2008, 6, 26, 17, 37, 52, 3, 178, 0], "title": "Large-scale structure of a nation-wide production network", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=0806.3785%2C0806.4920%2C0806.0599%2C0806.4002%2C0806.2982%2C0806.3369%2C0806.3883%2C0806.4289%2C0806.2271%2C0806.4353%2C0806.4481%2C0806.2245%2C0806.4203%2C0806.3981%2C0806.1852%2C0806.4084%2C0806.0754%2C0806.2156%2C0806.3506%2C0806.1402%2C0806.2335%2C0806.3021%2C0806.4607%2C0806.4852%2C0806.4399%2C0806.4164%2C0806.2922%2C0806.1201%2C0806.3509%2C0806.1258%2C0806.2132%2C0806.1407%2C0806.1781%2C0806.1564%2C0806.4280%2C0806.1203%2C0806.1958%2C0806.1216%2C0806.1336%2C0806.2684%2C0806.2197%2C0806.1163%2C0806.3156%2C0806.4135%2C0806.4253%2C0806.0284%2C0806.2115%2C0806.1760%2C0806.2942%2C0806.1589%2C0806.4214%2C0806.2294%2C0806.0630%2C0806.0659%2C0806.3594%2C0806.4004%2C0806.2149%2C0806.3560%2C0806.3784%2C0806.2045%2C0806.0609%2C0806.3045%2C0806.0148%2C0806.4649%2C0806.2856%2C0806.2665%2C0806.3435%2C0806.0050%2C0806.0927%2C0806.1252%2C0806.3131%2C0806.1369%2C0806.1838%2C0806.4161%2C0806.3953%2C0806.3214%2C0806.1636%2C0806.1184%2C0806.3046%2C0806.2894%2C0806.3168%2C0806.1735%2C0806.0746%2C0806.1266%2C0806.3022%2C0806.1940%2C0806.3657%2C0806.3438%2C0806.1738%2C0806.2860%2C0806.4136%2C0806.4917%2C0806.0003%2C0806.1424%2C0806.2774%2C0806.1728%2C0806.3618%2C0806.3410%2C0806.0924%2C0806.2044%2C0806.3533&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Large-scale structure of a nation-wide production network"}, "summary": "Production in an economy is a set of firms' activities as suppliers and\ncustomers; a firm buys goods from other firms, puts value added and sells\nproducts to others in a giant network of production. Empirical study is lacking\ndespite the fact that the structure of the production network is important to\nunderstand and make models for many aspects of dynamics in economy. We study a\nnation-wide production network comprising a million firms and millions of\nsupplier-customer links by using recent statistical methods developed in\nphysics. We show in the empirical analysis scale-free degree distribution,\ndisassortativity, correlation of degree to firm-size, and community structure\nhaving sectoral and regional modules. Since suppliers usually provide credit to\ntheir customers, who supply it to theirs in turn, each link is actually a\ncreditor-debtor relationship. We also study chains of failures or bankruptcies\nthat take place along those links in the network, and corresponding\navalanche-size distribution.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=0806.3785%2C0806.4920%2C0806.0599%2C0806.4002%2C0806.2982%2C0806.3369%2C0806.3883%2C0806.4289%2C0806.2271%2C0806.4353%2C0806.4481%2C0806.2245%2C0806.4203%2C0806.3981%2C0806.1852%2C0806.4084%2C0806.0754%2C0806.2156%2C0806.3506%2C0806.1402%2C0806.2335%2C0806.3021%2C0806.4607%2C0806.4852%2C0806.4399%2C0806.4164%2C0806.2922%2C0806.1201%2C0806.3509%2C0806.1258%2C0806.2132%2C0806.1407%2C0806.1781%2C0806.1564%2C0806.4280%2C0806.1203%2C0806.1958%2C0806.1216%2C0806.1336%2C0806.2684%2C0806.2197%2C0806.1163%2C0806.3156%2C0806.4135%2C0806.4253%2C0806.0284%2C0806.2115%2C0806.1760%2C0806.2942%2C0806.1589%2C0806.4214%2C0806.2294%2C0806.0630%2C0806.0659%2C0806.3594%2C0806.4004%2C0806.2149%2C0806.3560%2C0806.3784%2C0806.2045%2C0806.0609%2C0806.3045%2C0806.0148%2C0806.4649%2C0806.2856%2C0806.2665%2C0806.3435%2C0806.0050%2C0806.0927%2C0806.1252%2C0806.3131%2C0806.1369%2C0806.1838%2C0806.4161%2C0806.3953%2C0806.3214%2C0806.1636%2C0806.1184%2C0806.3046%2C0806.2894%2C0806.3168%2C0806.1735%2C0806.0746%2C0806.1266%2C0806.3022%2C0806.1940%2C0806.3657%2C0806.3438%2C0806.1738%2C0806.2860%2C0806.4136%2C0806.4917%2C0806.0003%2C0806.1424%2C0806.2774%2C0806.1728%2C0806.3618%2C0806.3410%2C0806.0924%2C0806.2044%2C0806.3533&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Production in an economy is a set of firms' activities as suppliers and\ncustomers; a firm buys goods from other firms, puts value added and sells\nproducts to others in a giant network of production. Empirical study is lacking\ndespite the fact that the structure of the production network is important to\nunderstand and make models for many aspects of dynamics in economy. We study a\nnation-wide production network comprising a million firms and millions of\nsupplier-customer links by using recent statistical methods developed in\nphysics. We show in the empirical analysis scale-free degree distribution,\ndisassortativity, correlation of degree to firm-size, and community structure\nhaving sectoral and regional modules. Since suppliers usually provide credit to\ntheir customers, who supply it to theirs in turn, each link is actually a\ncreditor-debtor relationship. We also study chains of failures or bankruptcies\nthat take place along those links in the network, and corresponding\navalanche-size distribution."}, "authors": ["Yoshi Fujiwara", "Hideaki Aoyama"], "author_detail": {"name": "Hideaki Aoyama"}, "author": "Hideaki Aoyama", "links": [{"title": "doi", "href": "http://dx.doi.org/10.1140/epjb/e2010-00275-2", "rel": "related", "type": "text/html"}, {"href": "http://arxiv.org/abs/0806.4280v3", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/0806.4280v3", "rel": "related", "type": "application/pdf"}], "arxiv_comment": "17 pages with 8 figures; revised section VI and references added", "arxiv_primary_category": {"term": "physics.soc-ph", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "physics.soc-ph", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "nlin.AO", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "physics.data-an", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/0806.4280v3", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/0806.4280v3", "journal_reference": "Eur. Phys. J. B77 (2010) 565-580", "doi": "10.1140/epjb/e2010-00275-2", "fulltext": "Large-scale structure of a nation-wide production network\nYoshi Fujiwara1 and Hideaki Aoyama2\n\narXiv:0806.4280v3 [physics.soc-ph] 8 Nov 2010\n\n1\n\nNiCT/ATR CIS, Applied Network Science Lab, Kyoto 619-0288, Japan\n2\nDepartment of Physics, Kyoto University, Kyoto 606-8501, Japan\n\nProduction in an economy is a set of firms' activities as suppliers and customers; a firm buys goods\nfrom other firms, puts value added and sells products to others in a giant network of production.\nEmpirical study is lacking despite the fact that the structure of the production network is important\nto understand and make models for many aspects of dynamics in economy. We study a nation-wide\nproduction network comprising a million firms and millions of supplier-customer links by using\nrecent statistical methods developed in physics. We show in the empirical analysis scale-free degree\ndistribution, disassortativity, correlation of degree to firm-size, and community structure having\nsectoral and regional modules. Since suppliers usually provide credit to their customers, who supply\nit to theirs in turn, each link is actually a creditor-debtor relationship. We also study chains\nof failures or bankruptcies that take place along those links in the network, and corresponding\navalanche-size distribution.\nI.\n\nINTRODUCTION\n\nThe physics community has recently witnessed considerable development of statistical methods for quantifying large networks, including biology, information, technology, economics and society [1\u20133]. The development\nenables one to quantify statistical features, modular and\nheterogeneous structures of large networks that are not\namenable even to visualization.\nProduction network in economics refers to a line of economic activities in which firms buy intermediate goods\nfrom \"upstream\" firms, put value added on them, and\nsell the goods to \"downstream\" firms. Net sum of value\nadded in the whole network is basically the net total\nproduction in a nation, that is, gross domestic product\n(GDP).\nConsider a ship manufacturer, for example. The manufacturer buys a number of intermediate goods including steel materials, mechanical and electronic devices,\netc. and produces ships. The firm puts value added on\nthe products in each process of production. In the upstream side of the ship manufacturer, a processed steel\nmanufacturer could be present, which in turn buys intermediate goods such as raw steel and fabricating machines. The steel manufacturer may supply its products\nto car manufactures as well. Similarly in the downstream\nside, including retail and wholesale firms.\nThe entire line of these processes of putting value\nadded in turn, therefore, forms a giant web of production ranging from upstream to downstream, ultimately\ndown to consumers. Each firm needs labor and financing in addition to intermediate goods, and utilizes these\ninputs to produce outputs in anticipation for return of\nprofits. Thus, a real economy has its driving force in\nproduction, and is fueled by labor and financing.\nThere are studies based on theoretical models of production networks, notably in overlapping communities\nbetween economists and physicists. They include inventory dynamics [4\u20136] (see also [7]), suppliers/customers\ndynamics [8], and credit-chain model [9\u201311]. These\npromising works are, unfortunately, not based on any\n\nempirical study on the structure of production networks.\nWhile economic networks of inter-bank [12\u201314], banksfirms [15] financing relations, and inter-firm ownerships\n[16, 17] are studied based on recent empirical data (see\n[18] and references therein), there exists a gap to be filled\nin the study of inter-firm credit and supplier-customer relations. So it is highly desirable to investigate the structure of production network on a nation-wide scale to develop insightful models, but such a study has been considered a formidable task so far.\nThe present paper precisely performs such an empirical study of the large-scale structure of a production\nnetwork that comprises most firms in a nation as nodes,\nand supplier-customer relations as links. We will find\nthat the network is not regular nor random, but possesses scale-free degree distribution, disassortativity, as\nwell as other statistical properties, and structural modules that depend on industrial sectors and geographical\nregions with highly varying modular sizes.\nThe structural heterogeneity would have many important consequences in dynamics on a production network.\nFor example, demand by firms and consumers downstream will propagate upstream; when foreign countries\nincrease demand for ships, it will result in a growing output of ship manufacturers, which possibly stimulate production of processed steel, raw metals, related machines\netc. in upstream firms. This propagation will not take\nplace homogeneously but heterogeneously.\nConversely, decreasing demand also causes a chain reaction. An individual firm's profit is equal to sales minus\ncosts. It may use factors of production in anticipation of\nprofit, but always faces uncertainty in ex-post demand,\nlabor and financial costs, price change of intermediate\ngoods, and so forth. Only a posteriori , profits are determined through the interaction of firms in the production\nnetwork. Once a firm goes into a state of financial insolvency or bankruptcy, its upstream firms have its balancesheets deteriorated by losing fractional profits, and may\neventually go into bankruptcy. We will show that such\na chain of failure is by no means negligible, due to the\nnetwork structure, and so that this has a considerable\n\n\f2\neffect at macroeconomic activity.\nIn Section II, we describe how nodes and links are surveyed and recorded in our dataset of a production network, in addition to another dataset of an exhaustive list\nof bankruptcies occurred in the network over a certain\nperiod of time. In Section III, we study the structure of\nthe production network by employing statistical methods\nin [1\u20133]. In Section IV, we extract community structure\nin the network. In Section V, we examine the chains of\nbankruptcies with a focus on avalanche-size distribution.\nAfter a brief discussion in Section VI, we conclude in\nSection VII.\n\nII.\n\nSUPPLIER-CUSTOMER LINKS AND\nBANKRUPTCY DATA\n\nLet us say that a directional link is present as A \u2192 B\nin a production network, where firm A is a supplier to\nanother firm B, or equivalently, B is a customer of A.\nWhile it is difficult to record every transaction of supply\nand purchase among firms, it is also pointless to have a\nrecord that a firm buys a pencil from another. Necessary\nfor our study are data of links such that the relation\nA \u2192 B is crucial for the activity of one or both A and\nB. If at least one of the firms at either end of a link\nnominates the other firm as most important suppliers or\ncustomers, then the link should be listed.\nOur dataset for supplier-customer links is based on this\nidea. Tokyo Shoko Research, Inc., one of the leading\ncredit research agencies in Japan, regularly gathers credit\ninformation on most of active firms through investigation\nof financial statements and corporate documents, and by\nhearing-based survey at branch offices located across the\nnation. Financial and credit information of individual\nfirms are compiled in commercially available databases.\nThe credit information of individual firm includes its suppliers and customers, up to 24 companies for each, that\nare considered to be most crucial for its business activities. We assume that the links playing important roles\nin the production network are recorded at either end of\neach link as we describe above, while we should understand that it is possible to drop relatively unimportant\nlinks from the data. Although amounts of transactions\nprovide information of weights on links, that is of relative\nimportance regarding suppliers and customers, such data\nare only partially available at the moment. We simply\nignore the weights in this paper. It is also remarked that\nthe financial sector is under-represented in the database\nas those financial companies' links are not included.\nWe have a snapshot of production networks compiled\nin September 2006. In the data, the number of firms is\nroughly a million, and the number of directional links is\nmore than four million (see Section III). The set of nodes\nin the network covers essentially most of the domestic\nfirms that are active in the sense that their credit information is required. Attached to each firm is financial information of firm-size, which is measured as sales, profit,\n\nTABLE I: Classification of industrial sectors. Third column\nshows numbers of major-groups/groups/industries classified\nin each division. Fourth column are fractional numbers of\nfirms in the divisions according to primary industry of each\nfirm in the dataset of September 2006.\nA\nB\nC\nD\nE\nF\nG\nH\nI\nJ\nK\nL\nM\nN\nO\nP\nQ\nR\nS\n\ndivisionsa\nagriculture\nforestry\nfisheries\nmining\nconstruction\nmanufacturing\nelectricity/gas/heat/water\ninformation/communications\ntransport\nwholesale/retail trade\nfinance/insurance\nreal estate\nfood establishments\nmedical/health care/welfare\neducation/learning support\ncompound servicesb\nservicesc\ngovernmentc\nunable to classify\nTotal\n\n#class.a\n#firms(%)\n1/4/20\n0.53\n1/5/9\n0.05\n2/4/17\n0.11\n1/6/30\n0.18\n3/20/49\n29.92\n24/150/563\n17.69\n4/6/12\n0.06\n5/15/29\n2.42\n7/24/46\n3.54\n12/44/150\n29.07\n7/19/68\n0.65\n2/6/10\n2.61\n3/12/18\n1.46\n3/15/37\n1.03\n2/12/33\n0.36\n2/4/8\n0.64\n15/68/164\n9.45\n2/5/5\n0.18\n1/1/1\n0.03\n97/420/1,269\n99.98\n\na Japan Standard Industrial Classification, Rev. 11, March 2002:\nhttp://www.stat.go.jp/english/index/seido/sangyo/index.htm\nb Government-affiliated postal services, and agriculture, forestry,\nfisheries and business cooperative associations.\nc Not elsewhere classified.\n\nnumber of employees and their growth, major and minor classification into industrial sectors, details of products, the firm's banks, principal shareholders, and miscellaneous information including geographical location. In\nparticular, the industrial sectors are classified into more\nthan 1,200 industries and are categorized hierarchically\ninto 19 divisions, 97 major groups and more than 400 minor groups (see Table I). For example, the manufacturing\nsector (F) is classified into 24 major groups as tabulated\nin Table II. Each firm has industry classification according to the sector it belongs to as primary (also secondary\nand tertiary, if any) industry.\nIn addition, we use a database that records \"dead\"\nfirms, namely business failure or bankruptcy. This\ndataset is an exhaustive list of bankrupted firms since October 2006 for one year, corresponding to the snapshot of\nthe network. The data is exhaustive in the sense that any\nbankrupted firm with a total amount of debt exceeding\n10 million yen (roughly 70 thousand euro or 100 thousand\nUS dollar) is listed therein. Each record includes the date\nof failure, the total amount of debt when bankrupted and\ncategorized causes of bankruptcy. The dataset has high\nquality and its statistical tabulation is employed by the\nStatistics Bureau of government for an official statistics.\nIn the production network, 0.5% to 1% of nodes exit in a\nyear due to failure (see Section V). Thus, by combining\n\n\f3\nTABLE II: 24 major groups of the manufacturing sector (F).\nid\n09\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\nmajor group\n#firms(%)\nfoods\n10.15\nbeverages, tobacco and feed\n1.95\ntextile mill products, except apparel/related\n3.08\napparel and related finished products\n5.00\nlumber and wood products, except furniture\n3.57\nfurniture and fixtures\n2.44\npulp, paper and paper products\n2.90\nprinting and allied industries\n6.51\nchemical and allied products\n3.28\npetroleum and coal products\n0.29\nplastic products, except otherwise classified\n4.98\nrubber products\n1.10\nleather tanning, leather/fur products\n0.83\nceramic, stone and clay products\n5.09\niron and steel\n1.97\nnon-ferrous metals and products\n1.35\nfabricated metal products\n12.30\ngeneral machinery\n13.83\nelectrical machinery, equipment and supplies\n5.08\ninformation and communication electronics\n1.33\nelectronic parts and devices\n2.57\ntransportation equipment\n3.19\nprecision instruments and machinery\n2.06\nmiscellaneous manufacturing industries\n5.14\n\nthe two datasets of supplier-customer links and actual\nfailures, one has an opportunity to do an empirical study\nof the dynamics of failure on the production network.\nAnd this point differs from the previous studies on the\nJapanese production network including [19, 20].\nIII.\n\nSTRUCTURE OF PRODUCTION\nNETWORK\nA.\n\ngraph is a set of nodes such that for any pair of nodes\nu and v in the set there is a directed path from u to\nv. There exists a giant SCC having the size of 45.8%\nof the GWCC (462,563 nodes). Calling it GSCC, the\nGWCC turns out to be decomposed into mutually disjoint parts as GWCC = GSCC + IN + OUT + TE, where\nIN is the set of non-GSCC nodes, from which one can\nreach a node (so all the nodes) in the GSCC. Symmetrically, OUT is the set of non-GSCC nodes, to which one\ncan go from any node in the SCC. And TE is the rest\nof the GWCC, called tendrils, which consists of nodes\nthat have no access to the GSCC and are not reachable\nfrom it. Hanging off IN and OUT are tendrils containing nodes that are reachable from portions of IN, or that\ncan reach to portions of OUT, without passing through\nthe SCC. See Figure 6 in [2] understanding their definitions for giant GIN and GOUT as GIN = IN + GSCC\nand GOUT = OUT + GSCC. The IN, OUT and TE are\ncomposed of 18.0% (182,018), 32.1% (324,569) and 4.0%\n(40,447) nodes, respectively, in the GWCC.\nBy comparing the abundance of industrial divisions\nin each of these giant components, we observe that in\nthe portion of IN the numbers of firms in the sectors\nof real estate (L), forestry (B), information and communications (H) are larger when compared with the corresponding sectors in the SCC. In the portion of OUT more\nabundant are medical, health care and welfare (N), food\nestablishments (M), education (O). This fact is reasonable, because these industries are located either in the upstream or in the downstream. Nevertheless, all industries\nare basically embedded in the SCC with entanglement.\nWe shall study community structure in Section IV.\nThe diameter of a graph is the maximum length for all\nordered pairs (u, v) of the shortest path from u to v. The\naverage distance is the average length for all those pairs\n(u, v). We found that the average distance is 4.59 while\nthe diameter is 22.\n\nGlobal connectivity\n\nThe production network as a directed graph is not unidirectional from upstream to downstream, but is highly\nentangled depending on the products and services that\neach firm produces. Let us first examine the global connectivity by using a similar graph-theoretical method\nas was performed in the study of the hyperlink structure of the world-wide web [21]. The following numbers\nare for the dataset of September 2006, which contains\n1,019,854 firms as nodes of the network excluding all the\nbankrupted firms before the month.\nFrom a directed graph, one can obtain an undirected\ngraph by simply ignoring the direction of links. A weakly\nconnected component of the directed graph refers to a\nconnected component in the undirected counterpart. The\nproduction network has a giant weakly connected component (GWCC) comprised of 99.0% (1,009,597 nodes)\nof the whole. The rest are disconnected components, all\nof which are smaller than 12 in size.\nA strongly connected component (SCC) in a directed\n\nB.\n\nDegree distribution\n\nIn the rest of this paper, we focus on the GWCC ignoring small disconnected components. Denoting the numbers of nodes and links by N and M respectively, they\nare for the GWCC\nN = 1, 009, 597 ,\nM = 4, 041, 442 .\n\n(1)\n(2)\n\nA firm has suppliers for and customers of it, whose\nnumbers are in-degree and out-degree, respectively, according to our definition of link direction. We show that\nboth have a long-tail distribution. Denoting the degree\ndistribution P\nby P (k), cumulative distribution is written\n\u221e\nas P> (k) = k0 =k P (k 0 ). We plot the cumulative distributions for in and out-degrees in Fig. 1.\nBoth for in-degree and out-degrees of a firm, the distribution has a heavy tail that can be characterized by a\n\n\f4\nsale companies, as well as the manufacturing firms mentioned for in-degrees.\n\nC.\n\nCorrelation to firm-size\n\nThe number of suppliers/customers of a firm depends\nobviously on firm-size, an important attribute. A large\nfirm likely possesses numerous suppliers to buy various\nintermediate goods; similarly it has a number of customers to sell its products to so that it has the large size.\nFirm-size can be measured in different ways, basically by\nstock variables (total-asset, number of employees, etc.)\nor flow variables (sales, profits, etc.).\nThe firm-size, however measured, obeys a power-law,\nbeing well known as a Zipf's law. For the nodes in the\nnetwork, we examined financial data (availability exceeds\n70% presumably missing only extremely small firms).\nThe cumulative distribution for the sales of those nodes\n(0.73 million) is shown in Fig. 2 (a). The Zipf's law,\nP> (x) \u221d x\u2212\u03b1 , is obvious for sales x. The exponent is\nclose to unity, \u03b1 = 0.96 \u00b1 0.02 by MLE estimated for\nx > 104 million yen.\n\npower-law P> (k) \u221d k \u2212\u03bc . We estimated the exponent \u03bc\nby maximum likelihood (MLE), i.e. the Hill's estimate\n[22], in a tail-region k > k\u2217 . In Fig. 1, the estimates are\nshown for k\u2217 = 40, namely \u03bc = 1.35 \u00b1 0.02 for in-degree\nand \u03bc = 1.26 \u00b1 0.02 for out-degree, by solid lines. Here\nthe errors correspond to 1.96\u03c3 (99% significance level) of\nthe estimated standard errors \u03c3.\nThe first two moments of in/out-degree are\nhkin i \u2261 hkout i = 4.003 ,\n2\nkin\n\n3\n\n= 1.041 \u00d7 10 ,\n\n(3)\n2\nkout\n\n3\n\n= 1.036 \u00d7 10 .\n\n(4)\n\nFor the undirected graph, we have\nhki = 2M/N = 8.006 ,\n\n(5)\n\nk 2 = 3.070 \u00d7 103 .\n\n(6)\n\nFirms with largest in-degrees belong to the sectors of\nmanufacturing and construction among others, including\nheavy industry, electrical machinery (e.g. Hitachi, Mitsubishi, Panasonic, Toshiba), automobiles (Toyota, Nissan, Honda), metal production, and so on. Large construction companies are also included. Firms with the\nlargest out-degrees are worldwide traders, distributors of\nconstruction-related materials, metals, petroleum, mechanical and electrical instruments, and general whole-\n\n100\n10-1\n10-2\n10-3\n10-4\n10-5\n100\n\n(b)\n\n101\n\n102\n\n103\n\n104\n\n105\n\nSales x (million yen)\n\n106\n\n107\n\n107\n106\n\nSales (million yen)\n\nFIG. 1: (a) Cumulative distribution for in-degree (number of\nsuppliers). A power-law distribution P> (k) \u221d k\u2212\u03bc is fitted by\nMLE with \u03bc = 1.35 \u00b1 0.02 (a solid line). (b) Same for outdegree (number of customers). The line is for \u03bc = 1.26 \u00b1 0.02.\n\nCumulative probability P>(x)\n\n(a)\n\n105\n104\n103\n102\n101\n100\n\n101\n\n102\n103\nDegree (in + out)\n\n104\n\nFIG. 2: (a) Cumulative distribution for firm-size measured\nby sales. A power-law distribution P> (x) \u221d x\u2212\u03b1 is fitted by\nMLE with \u03b1 = 0.96 \u00b1 0.02 (a solid line). (b) Scatter-plot for\ndegree (total) and sales.\n\nFig. 2 (b) depicts a scatter-plot for total degree and\nsales. Correlation between the firm's degree and size\n\n\f5\nis positive. The statistical significance can be quantified by non-parametric statistics, such as Kendall's rank\ncorrelation, \u03c4 (see [23]). For the data, \u03c4 = 0.391 (pvalue < 10\u22127 ), which shows a significant positive correlation between the degree and firm-size. We used different\nquantities for firm-size, such as profits and the number\nof employees, and obtained very similar results. In addition, when considering either of in- or out-degree, we can\nobserve that each has a positive correlation with firmsize.\n\nD.\n\nTransitivity\n\nUnlike many social networks, the supplier of a firm's\nsupplier is not likely also to be the firm's supplier, and\nsimilarly for customer, because such a process of production is redundant for most cases. Transitivity means\nhow high the number of triangles is present in the network (see the review [3]). Here we regard the network as\nan undirected graph.\nGlobal clustering coefficient is defined by Cg =\n(3 \u00d7 number of triangles)/(number of connected triples),\nwhere a connected triple means a pair of nodes that are\nconnected to another node. Cg is the mean probability\nthat two firms who have a common supplier/customer are\nalso suppliers/customers of each other. The undirected\ngraph of our dataset yields\nCg = 1.87 \u00d7 10\u22123 = 0.187% .\n\n(7)\n\nTo compare this value with that for a class of random graphs having a same degree sequence but randomly\nrewired links, we use the expected value of global clustering coefficient given by [24]\nhki\nCg =\nN\n\n\"\n\nk 2 \u2212 hki\n\n#2\n\n2\n\nhki\n\n.\n\nFIG. 3: Joint distribution for degrees (total) at end of each\nlink. The value is the ratio of the actual frequency divided\nby what is expected by chance in random networks with the\nsame degree sequence as the actual one.\n\nThe result is shown in Fig. 3. One can observe that\nlarge-degree nodes, large firms, are connected with smalldegree nodes, small firms. For the hubs referred to in the\nend of Section III B, they have a large number of suppliers\nand customers, but similarly for firms with intermediatesize, displaying disassortativity [25]. This can be quantified by the Pearson correlation coefficient r for (k1 , k2 ).\nFor the data, we have\n\n(8)\n\nPutting the values (5), (6) and (1) into (8), we have\nCg = 1.81 \u00d7 10\u22122 . The observed value (7) is, therefore,\nmerely 10% of (8), and shows weaker transitivity than\nwhat is expected by chance. This is reasonable because\ntriangular relations, during the selection of suppliers and\ncustomers, are suppressed in the formation of them.\nThe average of local clustering coefficient is, on the\nother hand, equal to 4.58% for the same dataset.\n\nE.\n\n(k1 , k2 ). Here we ignore the direction of links, but even\nwhen taking the possible four combinations of in/out at\na directed link, we obtain similar results. To test for the\nassortativity, we calculate the frequency F (k1 , k2 ) that\nthe pair of k1 and k2 appears at either end of a link\nin the network. Then compare it with a same quantity\nFr (k1 , k2 ) that is obtained in a randomized network with\nthe same degree sequence. We generated 1,000 randomized networks, and quantify as the ratio F/Fr where Fr\nis the average for the randomizations.\n\nDegree correlation\n\nFor each node, the in-degree and out-degree are highly\ncorrelated. This is consistent with what we saw in Section III C that each quantity has positive correlation with\nfirm-size.\nFor each link, to see the assortative mixing with respect\nto degrees (k1 , k2 ) at both end of each link [25], or degree correlation, let us examine the joint distribution for\n\nr = \u22120.0747 \u00b1 0.0002 ,\n\n(9)\n\nwhere the error calculated by the method given in [25].\nThis claims that r is negative with a statistical significance.\n\nIV.\n\nCOMMUNITY STRUCTURE\n\nThe global connectivity examined in Section III A\nshows that basically all industries are highly entangled\nwith each other within the weakly or strongly connected\ncomponent. Yet the connectivity alone does not tell how\ndense or sparse the stream of production is distributed\ndepending on industrial or geographical groups. Detection of community structure is to find how nodes cluster\ninto tightly-knit groups with high density in intra-groups\nand with lower connectivity in inter-groups.\nWe focus, in this section, on the manufacturing sector with 0.12 million firms, in order to understand the\nsector's modular structure by excluding other dominant\n\n\f6\nTABLE III: Communities extracted for the subgraph composed of manufacturing firms as nodes (about 0.12 million). Modularity optimization was recursively done for largest communities to obtain the sub-communities, ten of which are shown here.\nIn each of them are shown ten firms with largest degrees are listed with names, major groups (primary/secondary/tertiary, if\nany in this order) of industrial sectors (see Table II), and sub-community sizes.\nno. annotation\n01 heavy\nindustry\n\n02 foods\n\n03 transportation\nequipment\n04 construction\nmaterial\n05 pulp/paper\n\n06 electronics(a)\n\n07 electronics(b)\n\n08 electronics(c)\n09 electronics(d)\n\n10 apparel\n\nfirms (major groups; primary/secondary/tertiary), . . .\n[community-size]\nMitsubishi Heavy Industries (30/26), Kawasaki Heavy Industries (26/30), Kobe Steel (23/25),\nIshikawajima-harima Heavy Industries (30/26), Sumitomo Heavy Industries (26), Nippon Steel (23), Kubota Industries (30/27/23), Mitsui Engineering and Shipbuilding (30), Hitachi Zosen Shipbuilding (26),\nSumitomo Metal Industries (23), . . .\n[7,447]\nItoham Foods (09), Prima Meat Packers (09), Yamazaki Baking (09), Nisshin Seifun Flour (09), Maruha\nNichiro Foods (09), Nippon Flour Mills (09), Q.P. Foods (09), Nihon Shokken Foods (09), Toyo Suisan\nFoods (09), Ichiban-foods (09), . . .\n[7,115]\nHonda (30/27), Nissan (30), Toyota Motor (30), Aisin (25/30/27), Mitsubishi Motors (30), Denso (30/27),\nFuji Heavy Industries (30), Toyota Industries (30/26), Suzuki Motor (30), Isuzu Motors (30), . . . [5,769]\nSumitomo Osaka Cement (22), Air-Water Industrial Gas (17/18), Kyowa Concrete (22), Hokukon Concrete\n(22), Marukin Steel Materials (23), Mitsubishi Construction Materials (25/22), Hinode Steel/Manhole\n(23/22), Nihon Kogyo Industrial (22/13), Lafarge Aso Cement (22), Maeta Concrete (22), . . .\n[2,644]\nOji Paper (15), Rengo Paper (15), Nippon Paper (15), Oji Chiyoda Container (15), Tomoku Container (15),\nMorishigyo Paper (15), Settsu Carton (15), Morishigyo Paper Sales (15), Crown Package (15), Yamatoshiki Paper (15/19), . . .\n[3,697]\nHitachi (28/29/27), Fujitsu (32/28), NEC (28/29), TDK (27/29), Oki Electric (28/29), Hitachi HighTechnologies (31/26), Rohm Semi-conductors (29), Murata Electronics (27), IBM Japan (28), Japan Radio\nCommunication Equipment (28/27), . . .\n[3,082]\nMatsushita (Panasonic) (27/31), Sharp (29/27/28), Sanyo (27/25), Panasonic Shikoku Electronics\n(29/27/28), Pioneer (27/28), Matsushita Battery (27), Sanyo Tottori (28), Matsushita Refrigeration\n(27/26), Kenwood (28), CMK Electronic Devices (29), . . .\n[2,921]\nCanon (28/26/31), Seiko Epson (28/29), Omron (27), Nikon (31/26), Ricoh (26/28), Fujinon Optics (31),\nHoya Optics (31), Casio (26/31/28), Pentax Optics (31/28), Sony EMCS Electronic (27/28), . . . [2,692]\nToshiba (27/28/29), Stanley Electric (27/26), Toshiba Lighting and Technology (27/26/29), Ushio Electric\n(25/27/26), Hamamatsu Photonics (29/27), Nippon Electric Glass (22), Toshiba Tec (26/27), GS Yuasa\nIndustry (27/29), Iwasaki Electric (27), Topcon Electric (31), . . .\n[2,320]\nRenoun Apparel (12), Onward Kashiyama Apparel (12), MC Knit Apparel (12), World Apparel (12),\nSanyo Shokai Apparel (12), Itokin Apparel (12), Fujii Fabrics (11), Sanei-International Apparel (12), YKK\nFastening and Accesaries (32), World Apparel (12), . . .\n[1,567]\n\nsectors including wholesale and retail trade, which obviously have a different role in the stream of production\nfrom the core of manufacturing sector.\nWe use the method of maximizing modularity, introduced by [26] and implemented for large-scale graphs in\n[27] as a greedy optimization. While considerable studies have been conducted to develop various methods for\ncommunity extraction, we use the modularity optimization for its clear interpretation in terms of statistical\nhypothesis (also see [28] for a comparative study). Let\neij be the fraction of edges in the network that connect\nP\nnodes in group i to those in group j, and let ai \u2261 j eij ,\nP\nbj \u2261 i eij . Then modularity Q is defined by\nX\nQ=\n(eii \u2212 ai bi )\n(10)\ni\n\nwhich is the fraction of edges that fall within groups, minus the expected value of the fraction under the hypothesis that edges fall randomly irrespectively of the community structure. The method is formulated as an optimization problem to find a partition of nodes into mutually\ndisjoint groups such that the corresponding value of Q is\nmaximum.\n\nAs shown in [29, 30], however, the method can give\nundesired grouping, depending on the density of connections and the network size. Especially, large communities can potentially contain sub-communities. Currently,\nwithout an established method to avoid this problem of\nresolution limit (see [31], for example, and also [32]), we\nshall check the structure of detected communities by constraining modularity optimization on each single community, especially for those with relatively large communitysize.\nWe apply the method of community extraction to the\nundirected subgraph whose nodes consist of only firms\nin the manufacturing sector (division F in Table I). The\nresulting modularity (10) is Q = 0.566 \u00b1 0.001, which indicates strong community structure (the error calculated\nby the method given in [25]). The number of extracted\ncommunities exceeds a thousand, whose sizes range from\na few to more than 10,000. From the database of the\ninformation on the firms, we found that many of those\nsmall communities are each located in same geographical\nareas forming specialized production flows. An example\nis a small group of flour-maker, noodle-foods producers,\nbakeries, and packing/labeling companies in a rural area.\n\n\f7\n\nFIG. 4: (Color online) Layout of nodes for firms in the manufacturing sector (F) by a force-directed method. The links are\nomitted, and different colors are put on the nodes belonging to four largest communities. The community of color red (middle\nbottom and encircled by a dotted line) is divided into three sub-communities of electronics (a), (b) and (c) given in Table III\n(enlarged in the right column).\n\nOn the other hand, five large communities exceed\n10,000 each in size, being possibly subject to the\nabove problem of resolution. After checking the subcommunities in the above mentioned fashion, we obtained\nthe communities as tabulated in Table III. The necessity\nof this procedure can be clearly seen for the communities\nof so-annotated \"electronics\" (a)\u2013(d), which constitute a\nsingle community in the first stage of optimization. Each\nfirm is classified into one or more industrial sectors, and\nthe major-group classifications (2 digits; see Table II).\nObviously a community contains those firms in closely\nrelated industrial sectors. The annotations - heavy industries, foods, transportation equipment, etc. - are\nmade by such observations.\nLet us closely examine the modular structure of those\nlarge communities. Note that ten firms with the largest\ndegrees (typically largest firm-sizes) are listed in each\ncommunity. We note that these large firms in a same\ncommunity do not form a set of nodes that are mutually linked in nearly all possible ways, or a quasi-clique.\nRather, with their suppliers and customers, they form\na quasi-clique in a corresponding bipartite graph as follows. A supplier-customer link u \u2192 v for a set of nodes\nV (u, v \u2208 V ) can be considered as an edge in a bipartite graph that has exactly two copies of V as V1 and V2\n(u \u2208 V1 and v \u2208 V2 ). Those large and competing firms\nquite often share a set of suppliers to some extent, de-\n\npending on the industrial sectors, geographical locations\nand so on.\nFor example, Honda (v1 ), Nissan (v2 ) and Toyota (v3 )\npossibly have a number of suppliers ui of mechanical\nparts, electronic devices, chassis and assembling machines, etc., in common. Then the links form a clique\nor a quasi-clique in the bipartite graph, where most possible links from ui to v1 , v2 , v3 , . . . are present. This\nforms a portion in the original graph with a higher density than other portions. By enumerating cliques in the\nbipartite graph and examining them, we found that this\nis actually the case for the community (03) in Table III,\nand similarly for all the other communities therein.\nFor the case of electronics (a)\u2013(d), those quasi-cliques\nare further separated into groups. Namely, the suppliers belong to different groups of industrial organization\nfor historical reasons and the so-called keiretsu, and/or\nare located in divided geographical sectors. The subcommunities (a)\u2013(d) can be considered as such separate\ngroups with mutually sparse links. The electronics (b),\nfor instance, are originated and developed in an urban\narea in western Japan, not in eastern urban area of the\nTokyo, being different from group (a).\nThese interpretations of modular structure should be\nstrengthened by more detailed analysis, especially with\na new technique for extraction of communities that are\npresent in multi-scale levels in the hierarchical organiza-\n\n\f8\ntion of the production of network (see [33, 34] for example), which is to be published elsewhere.\nHere, to check the intra-group and inter-group connectivities, we resort to visualization of the entire manufacturing sector by a graph layout based on a physical simulation. The system in the simulation consists of pointparticles for nodes and springs for links. The springs\nobey Hooke's law with a spring constant, and the particles have a Coulomb charge with a same sign, exerting\nrepulsive forces inversely proportional to the square of\nmutual distances, for nodes to spread well on the layout.\nA resistance force is also acting on each particle, being\nproportional to its velocity, in order to relax the system\nin a final layout. The Barnes-Hut tree algorithm [35] is\nemployed for fast computation, and the Coulomb interaction was calculated on a special-purpose device (GRAPE;\ngravity pipeline) invented for astrophysical N -body simulation [36]. The result is depicted in Fig. 4. Details of\nthe layout method is given in [37].\nOne can observe that nodes within a tightly-knit group\ncluster at mutually near positions in the layout, while\ndifferent communities are separated from each other with\noverlapping portions. The sub-communities stated above\nappear as clusters nested in the community of electronics.\nAlso even closer look in enlargement (not shown in the\nfigure) shows blobs corresponding to hubs or large firms\nassociated with their suppliers and customers.\n\nexample of a chain of bankruptcy.\nA bankruptcy chain does not occur only along the\nsupplier-customer links. Ownership relation among firms\nis another typical possibility for such creditor-debtor relationship. It is, however, also frequently observed in\nour dataset that supplier-customer links are also present\nbetween holding and held companies, and siblings and affiliated firms. We assume that most relevant paths along\nwhich the chain of bankruptcy occurs are the creditordebtor links of the production network.\nAs explained in Section II, we have an exhaustive\nlist of bankruptcies. Corresponding to the snapshot of\nthe network taken in September 2006, we employ all\nthe bankruptcies for exactly one-year period from October. The number of bankruptcies amounts to roughly\n0.013 million, daily mean being 30, and includes a\nfew bankruptcies of listed firms. Nearly half of the\nbankrupted firms, precisely Nb \u2261 6264, were present on\nthe network at the beginning and went into bankruptcy\nduring the period. The rest are of extremely small-size,\ntypically with one employee, and were not included as\nnodes, which we assume irrelevant to our purpose as well\nas new entry of firms during the same period.\nLet us define the probability of bankruptcy in the\none-year period by the ratio between the number of\nbankrupted nodes, Nb , and the initially present nodes,\nN given by (1), by\np = Nb /N \u2248 0.620% .\n\nV.\n\nCHAIN OF BANKRUPTCY\n\nLet us now turn our attention to the dynamics on the\nproduction network. Firms put value added on intermediate goods in anticipation of gaining profits - anticipation, because no firm knows how much their produced goods might actually be demanded by other firms\nand consumers. In addition, they face uncertainty in the\nchange of costs for intermediate goods to purchase as\ninputs, as well as in fluctuations of labor and financial\ncosts. Only a posteriori , therefore, a firm's profit, being equal to sales minus costs, is determined through the\ninteraction with others in the network.\nSupplier-customer link is a credit relation [38]. Whenever one delivers goods to others without an immediate exchange of money or goods of full value, credit is\nextended. Frequently, suppliers provide credit to their\ncustomers, who supply credit to their customers and so\nforth. Also customers can provide credit to their suppliers so as to have them produce an abundance of intermediate goods beforehand. In either case, once a firm goes\ninto financial insolvency state, its creditors will possibly\nlose the scheduled payment, or goods to be delivered that\nhave been necessary for production. The influence propagates from the bankrupted customer to its upstream\nin the former cases, and similarly from the bankrupted\nsupplier to its downstream in the latter cases. Thus a\ncreditor has its balance-sheet deteriorated in accumulation, and may eventually go into bankruptcy. This is an\n\n(11)\n\nNote that the probability has inverse of time in its physical dimension. A year was chosen for the time-scale so\nthat it should be longer than the time-scale for financial\nactivities of firms, typically weeks and months, and be\nshorter than that for the change of network itself.\nA.\n\nAvalanche-size distribution\n\nLet us first take a look at how a certain size of chain\nof bankruptcies actually takes place. Here a chain is defined as a set of bankrupted nodes that are connected by\nlinks that are present in the initial network. If nodes are\nwhite and black according to survival and bankruptcy\nduring the period, a chain means connected black nodes\nsurrounded by white nodes, and its size refers to the number of black nodes in the chain. Note that a chain is not\nnecessarily a path in the graph, but can be a tree, and\nmay include cycles in it.\nFig. 5 shows the size-distribution of such avalanches by\nfilled squares, which represents the frequency distribution\nof avalanches with a specific size. The observed values are\ntabulated in Table IV.\nB.\n\nEvaluation of accidental chain\n\nLet us then evaluate how a certain size of chain of\nactual bankruptcies occurs more or less frequently than\n\n\f9\n\nFIG. 5: Frequency (vertical in log-scale) of avalanches with\na specific size (horizontal in linear). Filled squares are the\nobserved frequencies in the observation. Open circles show a\ntheoretical calculation for randomized networks with anonymous nodes (see (a) in the text), and a line with error bars\nrepresents a Monte-Carlo calculation for randomized networks\nwith same bankrupted nodes as observed ones (b).\n\nTABLE IV: Comparison between the actual value of the\nchain-bankruptcy and the values expected from coincidence.\n\"Obs.\" for the observed values, \"Theor.\" for the theoretical\nvalues of coincidence, \"O/T\" for the ratios between them,\nwhile \"RNW\" is the value obtained by simulation for the randomized network.\nObs.\n5507\n226\n52\n17\n\nB1\nB2\nB3\nB4\na Standard\n\nTheor.\n6013\n76.9 (82.3b )\n8.6b\n2.2b\n\nO/T\n0.9\n2.9\n6.0\n7.7\n\nRNWa\n5985(21)\n118.5(10.0)\n10.5(3.2)\n1.7(1.1)\n\ndeviations in parentheses (each 1,000 randomizations).\napproximations.\n\nb Mean-field\n\nwhat is expected simply by chance. Suppose, in a random\nnetwork with a specified degree sequence, one selects N p\nnodes for failure, where p is the probability of failure per\nnode. Then calculate the frequency of a certain number\nof failed nodes that are connected by links, and we can\ncompare the frequency of accidental chain of failures with\nthat for an actual chain of bankruptcies. We shall use\nthe terms, failures and failed nodes, to mean a set of\nblack nodes that are selected randomly and uniformly\nover all the nodes, and to distinguish them from the set\nof actually observed bankruptcies and bankrupted nodes.\nThe selection of failed nodes can be done in two ways,\nthat is, (a) by choosing uniformly random nodes to fail irrelevantly from the actual data of nodes, or alternatively\n(b) by specifying exactly the same bankrupted nodes in\nthe actual data, but in otherwise randomized network\nwith the same degree sequence as the real one. These two\nways possibly yield different results for our purpose, so\nlet us perform the evaluation in both ways. The evalua-\n\ntion (a) allows us to understand how the accidental chain\nis related to the network properties, especially degree distribution and correlation, the results of which were given\nin Section III. On the other hand, we can take into account of difference between failures and bankruptcies in\nour terminology here. We elaborate the calculation of (a)\nin the following Section V C. For the calculation of (b),\nthe estimates are obtained by a Monte Carlo simulation\ngenerating random networks with failures associated to\nthe actually bankrupted nodes.\nWe denote by Bm the number of clusters, each with m\nfailed nodes that are connected by links, in average for\nrandomized networks with the same degree distribution\nP (k) as the actual production network. Since the clustering coefficient is of the same order of magnitude as\nwhat is expected by chance, we assume that the network\nis tree-like. We shall calculate Bm for m = 1, 2, 3 and 4\nin order.\nThe results are summarized in Table IV and Fig. 5 for\nthe actually observed values of Bm along with the evaluated values based on the above-mentioned two classes\nof randomized networks, (a) and (b), in the columns\n\"Theor.\" and \"RNW\" respectively. We find that (a) and\n(b) give quantitatively similar estimates. By comparing\nthe actually observed values with the evaluation for random networks with a same degree sequence, we can conclude that the avalanche size has a much heavier tail in its\ndistribution for size larger than 3. Those large avalanches\ninvolve regionally and industrially related firms, as we\ncould confirm from our dataset. Therefore, the vulnerable paths, along which a chain of bankruptcy takes place\nare present in those modular groups. The following Section V C is devoted to the explanation of the evaluation\n(a).\n\nC.\n\nEvaluation for accidental chain of failures\n\nWe count the number of accidental chain of failures\nin a given, tree-like network, where all the failures occur\nrandomly with probability p per node.\n\n1.\n\nB1 : Isolated failure\n\nDenoting the number of nodes of degree k by K1 (k),\nit is related to the degree distribution P (k) by\nP (k) =\n\n1\nK1 (k) .\nN\n\n(12)\n\nObviously\n\u221e\nX\n\nK1 (k) = N .\n\n(13)\n\nk=1\n\nAmong K1 (k) such nodes, the average number of failed\nnodes is pK1 (k). Since the probability that all the nodes\n\n\f10\nconnected to a failed node are not in failure is (1\u2212p)k (see\nFig. 6), the average number of isolated failure is given by\nB1 =\n\n\u221e\nX\n\np K1 (k) (1 \u2212 p)k = p N R1 ,\n\n(14)\n\nk=1\n\nR1 \u2261 (1 \u2212 p)k\n\n,\n\n(15)\n\nwhere h*i means average over the nodes, i.e.,\n\u221e\nX\n\nhf (k)i \u2261\n\nover all the nodes and by adding up the resulting numbers, one has the quantity K2 (k1 , k2 ). Now the number\nof double-failure case, B2 , can be expressed by K2 (k1 , k2 )\nas follows:\nB2 =\n\n=\n\n1\n2\n\n\u221e\nX\n\nK2 (k1 , k2 ) p(1 \u2212 p)k1 \u22121 p(1 \u2212 p)k2 \u22121\n\nk1 ,k2 =1\n\n\u221e\nX\n1 p2\nR\nK2 (k1 , k2 ) ,\n2\n2 (1 \u2212 p)2\n\n(19)\n\nk1 ,k2 =1\n\nf (k)K1 (k)\n\nk=1\n\u221e\nX\n\nR2 \u2261 (1 \u2212 p)k1 +k2\n.\n\n(16)\n\n(20)\n\nwhere the combinatorial factor 1/2 accounts for the overcounting the chain in the reverse order of k1 and k2 , and\nh*i2 denotes the average over the links, defined by\n\nK1 (k)\n\nk=1\n\nNote that since N p is equal to the actual number of\nthe bankruptcies, R1 gives the rate of the isolated failure. From the observed distribution of K1 (k) and p \u2248\n0.006204, we obtain\nR1 \u2248 0.9600 ,\nB1 \u2248 6013.2 .\n\n,\n\n2\n\n\u221e\nX\n\nhf (k1 , k2 )i2 \u2261\n\n(17)\n(18)\n\nThe actual number of the isolated bankruptcies is 5,507,\nbeing 92% of this\n\u221a estimate. Following the standard argument for 1/ n estimate of the statistical errors, we\nsee that there are less number of isolated bankruptcies in\nactuality than that expected by chance.\nThe results (17) and (18) apply to any class of networks\nwith the same degree sequence K1 (k), in particular, irrespectively of degree correlation.\n\nK2 (k1 , k2 )f (k1 , k2 )\n\nk1 ,k2 =1\n\u221e\nX\n\n.\n\n(21)\n\nK2 (k1 , k2 )\n\nk1 ,k2 =1\n\nFrom the definition, K2 (k1 , k2 ) satisfies the identities:\nK2 (k1 , k2 ) = K2 (k2 , k1 ) ,\n\u221e\nX\nK2 (k1 , k2 ) = k1 K1 (k1 ) .\n\n(22)\n(23)\n\nk2 =1\n\nThe two identities lead to the summation formula:\n\u221e\nX\n\nK2 (k1 , k2 ) = N hki ,\n\n(24)\n\nk1 ,k2 =1\n\nwhich is exactly twice the number of links, as it should\nbe. The following identity is also useful.\n\u221e\nX\n\nK2 (k1 , k2 )k2n = N hki hk2n i2 = N k n+1\n\n. (25)\n\nk1 ,k2 =1\n\nUsing Eq. (24), B2 can be put as\nB2 =\nFIG. 6: Clusters of m failed nodes that are connected by links,\nwhich contribute to B1,2,3 . Black nodes are failed ones, and\nwhite nodes are non-failed. The numbers attached with failed\nnodes correspond to the subscripts of degrees, j for kj .\n\n1 p2\nR2 N hki .\n2 (1 \u2212 p)2\n\n(26)\n\nThe factor R2 can be calculated directly from the actual values of K2 (k1 , k2 ). The result is\nR2 \u2248 0.488 ,\n\n(27)\n\nB2 \u2248 76.9 .\n\n(28)\n\nwhich leads to\n2.\n\nB2\n\nWe denote by K2 (k1 , k2 ), the number of pairs of nodes;\neach pair of nodes having degree k1 and k2 . Precisely,\nchoose a node with degree k1 , and count the nodes with\ndegree k2 connected with the first node. After doing this\n\nThe observed value is about three times of this estimate,\nas shown in Table IV, which indicates the double-failure\nchain is much more abundant than what is expected by\nchance.\n\n\f11\n- Random-network approximation -\nIn the case of random network, the estimation reduces\nto a simple expression. In fact, first note that K2 (k1 , k2 )\ncan be written in terms of K1 (k) as follows:\n(ran)\n\nK2\n\n(k1 , k2 ) =\n\n1\nK1 (k1 ) k1 k2 K1 (k2 ) ,\nN hki\n\n=\n\n2\nR11\n\n,\n\n(30)\n\nwhere\nk(1 \u2212 p)k\n\u2248 0.723 .\nhki\n\nR11 \u2261\n\n(31)\n\nThis yields\n(ran)\n\n(32)\n\n(37)\n(38)\n\nK3 (k1 , k2 , k3 ) = K2 (k1 , k2 )(k2 \u2212 1) .\n\n(39)\n\nUsing the identities (39) and (23) we find that\n(sum)\n\nK3\n\n\u0001\nk 2 \u2212 hki \u2248 3.09 \u00d7 109 .\n\n=N\n\nSince exact evaluation of R3 involves the evaluation of\nK3 (k1 , k2 , k3 ), which requires a huge computational resource, let us evaluate R3 by using a random-network\napproximation. By considering attaching the nodes #2\nand #3 successively to the node #1 with equal probabil(ran)\nity on each links as in the case of K2\n, we obtain the\nfollowing:\nK3\n\n(k1 , k2 , k3 ) =\n2 K1 (k1 )k1 k2 K1 (k2 )(k2\n\nN 2 hki\n(ran)\n\nB2\n\n=\n\n1\np2\n(ran)\nR\nN hki \u2248 82.3 ,\n2 (1 \u2212 p)2 2\n\n(33)\n\nas being tabulated in Table IV.\n\nR3\n\nB3\n\nWe define K3 (k1 , k2 , k3 ) in a similar way for K2 (k1 , k2 );\ntake a node with degree k1 , continue the counting to\nnodes with degree k2 and then k3 (see Fig. 6). B3 is\ngiven by\nB3 =\n\n1\n2\n\n\u221e\nX\nk1 ,k2 ,k3 =1\n\n\u00d7 p(1 \u2212 p)\n=\n\np(1 \u2212 p)\n\n1 p3\n(sum)\nR3 K3\n,\n2 (1 \u2212 p)4\n\nR3 \u2261 (1 \u2212 p)k1 +k2 +k3\n(sum)\nK3\n\n\u2261\n\n\u221e\nX\n\nR12 k 2 \u2212 R11 hki\nhk 2 i \u2212 hki\n\n(42)\n\nk 2 (1 \u2212 p)k\n\u2248 0.0450 .\nhk 2 i\n\n(43)\n\n2\n= R11\n\nwhere\nR12 \u2261\n\n(ran)\n\nk2 \u22122\n\n3\n\n,\n\nK3 (k1 , k2 , k3 ) ,\n\np(1 \u2212 p)\n\n(41)\n\nThis leads to\n\nK3 (k1 , k2 , k3 )\n\nk1 \u22121\n\n\u2212 1)k3 K1 (k3 ) ,\n\nwhich satisfies identities (37)\u2013(40), except that K2 is re(ran)\nplaced by K2\nin (39). By using the above in (34) we\nobtain;\n(ran)\n\n3.\n\n(40)\n\n- Random-network approximation -\n\n1\n\nand\n\nK3 (k1 , 0, k3 ) = 0 ,\nK3 (k1 , k2 , k3 ) = K3 (k3 , k2 , k1 ) ,\n\nk3 =1\n\n(ran)\n\n\u2248 0.523 ,\n\nR2\n\n\u221e\nX\n\n(29)\n\nbecause it is equal to the number of nodes of degree k1 ,\nK1 (k), multiplied by theP\nprobability of choosing the node\n\u221e\nof degree k2 , k2 K1 (k2 )/ k2 =1 k2 K1 (k2 ). Note that (29)\nsatisfies the identities (22) and (23) as is required for the\nconsistency of the calculation. Inserting (29) into (20)\nand (21), the value of R2 in this approximation is given\nby\n(ran)\nR2\n\nBy definition, K3 (k1 , k2 , k3 ) satisfies the following\nidentities:\n\nk3 \u22121\n\nR3\n\n\u2248 0.0226 ,\n\n(44)\n\n(ran)\nB3\n\n\u2248 8.55 .\n\n(45)\n\n(34)\n(35)\n\n4.\n\nB4\n\n(36)\n\nk1 ,k2 ,k3 =1\n\nwhere the combinatorial factor 1/2 is to cancel the overcounting, and h*i3 refers to the average weighted with\nK3 (k1 , k2 , k3 ) in the same manner as that in Eq. (16)\nand (21).\n\nThe clusters that contribute to B4 are illustrated in\nFig. 7, and are divided into two types as depicted. One\nhas to understand that larger clusters are more rare\nevents so that statistical errors in observation increase\ndrastically. With this in mind, let us perform estimation, and compare them with the observed values.\n\n\f12\nPutting all the terms together, we have\n!\n2\nk2\n2\n= N r1 k + (1 \u2212 r1 )\n\u2212 2 k + hki .\nhki\n(52)\nThe random-network approximation for this case requires a careful treatment because of the appearance of\nthe degree correlation coefficient r1 in the above summation formula. Although its value given in (9) is small, it\nhas a critical role in the above equations: If we use the\nrandom-network approximation for K2 given in (29), we\nobtain the r1 = 0 result;\n(sum)\nK4\n\nFIG. 7: Two types of clusters that contribute to B4 . Nonfailed nodes (white nodes in Fig. 6) are not drawn.\n\nType (a)\n\nContribution of the cluster (a) can be written as follows\nusing the number of strings k1 \u2013k4 , K4 (k1 , k2 , k3 , k4 );\n\u221e\nX\n\n1 4\np\n2\n\nB4a =\n\nK4 (k1 , k2 , k3 , k4 )\n\n\u221e\nX\n\nk1 ,k2 ,k3 ,k4 =1\n\n\u00d7 (1 \u2212 p)k1 \u22121\n\n\u0012Y\n3\n\nR4a \u2261 h(1 \u2212 p)\n\ni=1\n\nki\n\nk2\n\u2248 1.188 \u00d7 1012 ,\nhki\n\n(k1 , k2 ) = N\n\n(53)\nwhile the exact value is\n\n1 p4\n(sum)\nR4a K4\n,\n2 (1 \u2212 p)6\nP4\n\n2\n\n(ran)\n\nk1 k2 K 2\n\nk1 ,k2 =1\n\n\u0013\n(1 \u2212 p)kj \u22122 (1 \u2212 p)k4 \u22121\n\nj=2\n\n=\n\n3\n\n(46)\n\ni4 ,\n\n\u221e\nX\n\n(47)\n\nk1 k2 K2 (k1 , k2 ) \u2248 1.342 \u00d7 1011 .\n\n(54)\n\nk1 ,k2 =1\n\n(sum)\n\nwhere definitions of h*i4 and K4\nshould be selfevident.\n(sum)\nLet us first calculate K4\n. The identities satisfied\nby K4 (k1 , k2 , k3 , k4 ) are similar to those of K3 (k1 , k2 , k3 )\nand would be now obvious. Using them, the summations\nover k1 and k4 can be carried out as follows,\n(sum)\n\nK4\n\n\u221e\nX\n\n=\n\nK2 (k2 , k3 )(k2 \u2212 1)(k3 \u2212 1)\n\n(48)\n\nk2 ,k3 =1\n\nIn the expansion of each summand, all the terms except\nfor those of k2 k3 allow further summation by repeatedly\nusing the identities given so far. On the other hand, since\nthe coefficient of the k2 k3 -term is K2 (k2 , k3 ), this term\nshould be related to degree correlation. As usual, we\ndefine the correlation coefficient r1 by\n2\n\nr1 \u2261\n\nhk1 k2 i2 \u2212 hk1 i2\n2\n\nhk12 i2 \u2212 hk1 i2\n\n,\n\n(49)\n\nUsing this definition, we can write that\nhk1 k2 i2 = r1 k 2\n\n2\n\n2\n\n+ (1 \u2212 r1 )hki2\n\nk3\n= r1\n+ (1 \u2212 r1 )\nhki\n\nk2\nhki\n\nThe role of the correlation coefficient r1 is evident in\nthese values; it brings in partial cancellations between\nthe first term and the second term, so that the actual\nvalue is much smaller than that of the random-network\nvalue (53). Note that this is deeply connected with the\nasymptotic behavior of the degree distribution noted in\nSection III B: If all the moments of degree is of order\none, the effect of the correlation coefficient r1 is not this\ndrastic. However, due to the degree distribution being\npower-law, the moments k 2 and k 3 are proportional\nto a positive power of N (we will elaborate on the analysis in Appendix refsec:appA) and thus are quite large,\nresulting in the importance of cancellation by r1 observed\nabove.\nFor this reason, we evaluate B4a in two schemes in the\nfollowing. The first scheme is to use the exact distribution for K2 (k2 , k3 ) but use the random-network approximation for k1 and k4 , so that (54) is satisfied. The second\none is to use the random-network approximation to all\nthe nodes in K4 . We will carry out the calculation of\nboth schemes separately.\n\n!2\n,\n\n- Random-network approximation 1 -\n\n(50)\n\nThe first approximation scheme is given by\nwhere we used Eq. (25) and re-labeled the subscripts in\nthe degrees. Thus the k2 k3 -term reads\n\u221e\nX\n\n(ran1)\n\nK4\n\nk1 ,k2 =1\n\n=N\n\nr1 k\n\nk2\n+ (1 \u2212 r1 )\nhki\n\n2\n\n1\n2\n\nN 2 hki\n\u00d7 K1 (k1 )k1 (k2 \u2212 1)K2 (k2 , k3 )(k3 \u2212 1)k4 K1 (k4 ) , (55)\n\nk1 k2 K2 (k1 , k2 ) = N hki hk1 k2 i2\n3\n\n(k1 , k2 , k3 , k4 ) =\n\n!\n.\n\n(51)\n\nwhich is obtained by attaching the #1 and #4 nodes to\na #2\u2013#3 pair randomly. It is evident that this satisfies\n\n\f13\nthe identity (48) and therefore (52). It then follows that\n(ran1)\n\nR4a\n\u00d7\n\n2\nR11\n\n=\n\n(sum)\n\nK4\n\u221e\nX\n\n(1 \u2212 p)\n\nk2 +k3\n\nJ4 (k1 , k2 , k3 , k4 ) = J4 (k1 , k\u03c3(2) , k\u03c3(3) , k\u03c3(4) ),\n\u221e\nX\nJ4 (k1 , k2 , k3 , k4 ) = K3 (k2 , k1 , k3 )(k1 \u2212 2),\n\n(k2 \u2212 1)(k3 \u2212 1)K2 (k2 , k3 )\n\nk2 ,k3 =1\n\n\u2248 8.33 \u00d7 10\u22123 .\n\n(56)\n\n(ran1)\n\nB4a\n\n\u2248 0.819 .\n\n(57)\n\n- Random-network approximation 2 -\nIn the second, complete random-network approximation, we have\n(ran2)\n\n(63)\n(64)\n\nk4 =1\n\nwhere \u03c3(j) represents a permutation of j = 2, 3, 4. Using\nthe identities, we have\n\nFrom this we obtain\n\nK4\n\ntype (b) with the degrees ki of nodes #i in Fig. 7. The\ncombinatorial factor 1/3! cancels the over-counting of a\nsame cluster. The following identities hold:\n\nJ4 (k1 , k2 , k3 , k4 ) = K2 (k2 , k1 )(k1 \u2212 1)(k1 \u2212 2) ,\n\nk3 ,k4 =1\n\n(65)\nwhich leads to\n\n1\n\n(k1 , k2 , k3 , k4 ) =\n\n\u221e\nX\n\n(sum)\n\n3\n\nN 3 hki\n\u00d7 K1 (k1 )k1 k2 K1 (k2 )(k2 \u2212 1)k3 K1 (k3 )(k3 \u2212 1)k4 K1 (k4 ) ,\n(58)\n\nwhich is obtained by connecting the node #2,3,4 in sequence, or alternatively, by substituting the random net(ran)\nwork approximation K2\nin (29) for K2 in (55). We\nthen obtain the following:\n!2\n2\nR\nk\n\u2212\nR\nhki\n12\n11\n(ran2)\n2\nR4a\n= R11\nhk 2 i \u2212 hki\n\u2248 9.77 \u00d7 10\u22124 ,\n\n(59)\n\nwhich leads to\n(ran2)\n\nB4a\n\n\u2248 0.884 ,\n\n(ran1)\n\nwhich is very close to B4a\n\n(60)\n\nJ4\n\n=N\n\n\u0001\nk 3 \u2212 3 k 2 + 2 hki .\n\n(66)\n\n- Random-network approximation -\nAs seen in (66), the degree-correlation does not play\nany major role for this type of cluster. So, unlike the\ncase of B4a , let us employ a simple random-network approximation of the form:\n(ran)\n\n1\n\n3 K1 (k1 )\nhki\n\u00d7 k1 k2 K1 (k2 )(k1 \u2212 1)k3 K1 (k3 )(k1 \u2212 2)k4 K1 (k4 ) ,\n(67)\n\nJ4\n\n(k1 , k2 , k3 , k4 ) =\n\nN3\n\nwhich satisfies identities (63)\u2013(66) with K2 replaced by\n(ran)\nK2\n. We obtain the following:\n(ran)\n\nR4b\n\n.\n\n3\n= R11\n\nR13 k 3 \u2212 3R12 k 2 + R11 hki\nhk 3 i \u2212 3 hk 2 i + hki\n\n\u2248 3.52 \u00d7 10\u22124 ,\n\n(68)\n\nType (b)\n\nwhere\nFor the other type of (b), we can write as\nB4b\n\n1\n= p4\n3!\n\nR13 \u2261\n\n\u221e\nX\n\n\u00d7 (1 \u2212 p)k1 \u22123\n\nThis leads to\n(ran)\n\nB4b\n\n(1 \u2212 p)kj \u22121\n\nj=2\n4\n\n\u2261\n\n1\np\n(sum)\nR4b J4\n,\n3! (1 \u2212 p)7\n\n(61)\n\nwhere\n(sum)\n\nJ4\n\n\u2261\n\n(69)\n\nJ4 (k1 , k2 , k3 , k4 )\n\nk1 ,k2 ,k3 ,k4 =1\n4\nY\n\nk 3 (1 \u2212 p)k\n\u2248 9.57 \u00d7 10\u22124 .\nhk 3 i\n\n\u221e\nX\n\nJ4 (k1 , k2 , k3 , k4 ) ,\n\n(62)\n\nk1 ,k2 ,k3 ,k4 =1\n\nand R4b is a ratio defined by the above. In this case, we\ndenote by J4 (k1 , k2 , k3 , k4 ), the number of the clusters of\n\n\u2248 1.39 .\n\n(70)\n\n\f14\nVI.\n\nDISCUSSION\n\nIn the preceding section, we found that the size of\nchained bankruptcies is frequently larger than what is expected simply by chance. This fact implies that suppliercustomer links can be potentially a vulnerable path for a\nchain of bankruptcies causing a sequence of failures, and\nthat it is important to do monitoring and prediction of\nsuch failures on a nation-wide scale. Let us remark a few\nthings concerning the finding.\nFirstly, the study on community structure in Section IV showed that the firms are often tightly knitted\ninto clusters characterized by closeness in industrial sectors and/or geographical locations. Because those firms\nin such a cluster are susceptible to common risk factors\nspecific to the sector or the location, the bankruptcies in\na cluster can be correlated due to the similar profiles of\nthose firms, but not necessarily due to the \"link\" effect.\nIt is not easy, in the present analysis, to separate the\nlink effect from the sectoral or locational correlation, but\nyet we can roughly estimate the relative importance of\nthe link effect. Although it is difficult to determine a\nsingle cause in each bankruptcy, there exists a pattern\nof types in the cause of failure, which are categorized\nand compiled in the database. The most frequent one\nis the poor performance in business, typically slow sales\nand decreasing profit due to adverse and sluggish market\nconditions. The other main category is the linked failure\ndue to a secondary effect from bankruptcy of customer,\nsubsidiary or affiliated companies, which often causes the\nloss of accounts receivable. See [39] for the details.\nFor the bankrupted nodes Nb studied in Section V,\nthe categorized causes of bankruptcy are the poor performance (60%) and the link effect (7%). But if a pair of\nbankrupted nodes are connected by a supplier-customer\nlink, the link effect is considerable (27%), while the poor\nperformance cases or \"solo\" failures are relatively less frequent (42%). This fact, therefore, shows that the chain\nof bankruptcy we observed in the preceding section is\nlargely, even if not entirely, due to the link effect taking\nplace along the supplier-customer links.\nSecondly, the chain of bankruptcy has a great influence in a nation-wide economy. In fact, the total amount\nof debts for bankrupted firms in a year typically ranges\nfrom 10 to 25 trillion yen in the last 10 years, roughly\nequal to more than 100 billion euro. This amounts to 2%\nor even more of the nominal GDP in Japan. Of course,\nall the debts are not to be lost, but it should not be undervalued the fact that there are a large number of creditors who have given credits to those bankrupted firms.\nTherefore, the study on the chain of failures and its ripple effect has practical applications. Recent models such\nas a model of credit chains and bankruptcies [9], simulation of avalanche effect [40], Potts-like model of contagion\n[11] (see also references in [18]) would provide valuable\ninsights and tools to do monitoring of financial fragility\nand prediction of such failures on a nation-wide scale.\nThirdly, from a broader perspective, the production\n\nnetwork has a similarity in its structure with other economic networks. While the inter-bank networks have\nunique structure among financial institutions [12\u201314],\nand the banks-firms networks is basically a bipartite network [15], the ownership networks [16, 17] possess similar properties of network. In particular, the community\nstructure has industry-sectoral modules in a hierarchical\nway. However, the common sets of supplies play important constituents in the production network, as we have\nexplained by the example of automobile companies in\nSection IV, and this is completely different from the ownership networks. We would yet need a more systematic\ncomparison with other economic networks for the study\nof similarity and dissimilarity.\n\nVII.\n\nSUMMARY\n\nWe studied a large-scale structure of the nation-wide\nproduction network comprising a million firms and four\nmillion supplier-customer links in Japan. The set of\nnodes covers most active firms. Each link was chosen\nand considered as important, in a systematic survey of\ncredit informations, by at least one of the firms at either end of the link, as its suppliers and customers. We\nfound scale-free degree distribution, disassortativity, correlation of degree to firm-size, and small clustering coefficients compared with randomized networks with the\nsame degree sequence. In the community analysis, which\nis based on modularity optimization, we were able to\nidentify communities in the manufacturing sector, and\nfound that they can be interpreted as modules depending on industrial sectors and geographical regions. Large\ncommunities contained subgroups that can be characterized also by industrial organization and development.\nIn addition, by employing an exhaustive list of\nbankruptcies that took place on the production network,\nwe took a close look at the size distribution for chains of\nbankruptcies, or avalanche-size distribution. We elaborated a method to evaluate the frequencies of accidental\nchain in randomized networks, and found that the actual avalanche has a heavy tail distribution in its size.\nCombining with the large-scale properties and heterogeneity in modular structures, we claim that the effect\nto a number of creditors, non-trivially large due to the\nheavy tail in the degree distribution, is considerable in\nthe real economy of the nation.\n\nAcknowledgments\n\nWe would like to thank Tokyo Shoko Research, Ltd. in\nJapan for kindly providing us with a chance to study their\nlarge datasets for the academic purpose. Network analysis was partially carried out on Altix3700 at YITP in Kyoto University. Y. F. thanks Y. I. Leon Suematsu for an\nimplementation of fast community extraction, Y. Fujita\nand A. Kawai for a large-graph layout by GRAPE (grav-\n\n\f15\nity pipe). We would like to thank Y. Ikeda, H. Iyetomi,\nJ. Kert\u00e9sz, M. Gallegati, W. Souma for useful comments\nand additional references.\nAppendix A: Analytic estimates of R's and the\nasymptotic behavior of the degree distribution\n\nSince the probability of failure p is small, one might\nwant to utilize a perturbative evaluation of the ratios,\nR's. Indeed such an analytical expression would be helpful in understanding what essentially determines the rate\nof the chain-bankruptcy. In this Appendix, we show that\nthe asymptotic behavior of the degree distribution plays\nthe key role.\nLet us denote the probability density function (pdf)\nof the degree k by P (k) and its cumulative distribution\nfunction (cdf) by\nP> (k) =\n\n\u221e\nX\n\nP (k 0 ) .\n\nThis turns out to be not a useful expansion as is shown\nin what follows. Instead, we shall give an improved expansion.\nFor the distribution (A2), the second moment of degree\nis divergent for \u03bc < 2 in a network with an infinite size.\nIt is finite but has a large value for network of a finite\nsize. Actually, for our data\nk 2 = 3069.6 ,\n\n(A7)\n\nwhile hki = 8.006. So the expansion to the second order\nis a good approximation only for\nhki\n\u2248 2.61 \u00d7 10\u22123 ,\nhk 2 i\n\nq\u001c\n\n(A8)\n\nbut this does not hold in the present case. This is illustrated in Fig. 8, where the solid curve is the actual G(q),\nthe curve (a) the first two terms in the expansion (A6),\nthe curve (b) all three terms in the expansion (A6).\n\n(A1)\n\nk0 =k\n\nWe parametrize the cdf as\n\u0012\nP> (k) \u223c\n\nk\nk0\n\n\u0013\u2212\u03bc\n,\n\n(A2)\n\nfor large k. It follows that P (k) \u221d k \u2212\u03bc\u22121 in the same\nregion. For our data of the production network regarded\nas an undirected graph, we have\n\u03bc \u2248 1.366 ,\nk0 \u2248 2.18 ,\n\n(A3)\n(A4)\n\nas maximum likelihood estimate (with the standard error\nof \u03bc being 0.099).\nWe define the generating function for the degree distribution by\nG(q) =\n\n\u221e\nX\n\ne\u2212qk P (k) ,\n\n(A5)\n\nk=1\n\nwhich satisfy G(0) = 1. The desired ratios are expressed\nin terms of the generating function G(q) as\nR1 =\nR1n\n\nG(q0 )\n,\nhki\n\nFIG. 8: The generating function for the degree distribution,\nG(q) for q \u2248 0. The solid curve is the actual plot. The\nfirst-order and the second-order approximations in Eq. (A6)\nare shown by the dashed line (a) and the dash-dot line (b)\nrespectively. The dotted line (c) is the improved expansion\ngiven by (A15). The vertical line corresponds to the actual\nvalue of q0 = \u2212 log(1 \u2212 p).\n\nLet us now estimate the order of the coefficients of the\nnaive expansion (A6) analytically. The m-th moment of\ndegree is dominated by the large k region for m > \u03bc as\nk(max)\n\nG(n) (q0 )\n=\u2212\n,\nhk n i\n\nhk m i \u221d\n\nX\nZ\n\n(n)\n\nwhere G (q) is the n-th derivative of G(q) with respect\nto q, and q0 = \u2212 log(1 \u2212 p) \u2248 6.20 \u00d7 10\u22123 .\nOne might attempt the following analytic expansion of\nG(q):\n\u0013\n\u221e \u0012\nX\n1 2 2\nG(q) =\n1 \u2212 qk + q k + . . . P (k)\n2\nk=1\n\n= 1 \u2212 hki q +\n\n1 2 2\nk q + ... .\n2\n\nk m k \u2212\u03bc\u22121\n\nk(max)\n\n'\n\nm\u2212\u03bc\nk m k \u2212\u03bc\u22121 dk ' k(max)\n.\n\n(A9)\n\nOn the other hand, by considering the node of the largest\ndegree being the top of the cdf (A2), we have\n\u2212\u03bc\nk(max)\n\u221d\n\n1\n.\nN\n\n(A10)\n\nTherefore, we obtain\n(A6)\n\nm\n\nhk m i \u221d N \u22121+ \u03bc ,\n\n(A11)\n\n\f16\nTABLE V: The true values and the estimates obtained from\n(A15).\nRatio Exact value\nEstimate Difference\nR1\n0.9600\n0.9611\n0.11%\nR11\n0.7230\n0.7017\n-2.9%\nR12 4.501 \u00d7 10\u22122 4.575 \u00d7 10\u22122\n1.6%\nR13 9.574 \u00d7 10\u22124 9.440 \u00d7 10\u22124\n-1.3%\n\nfor m > \u03bc. It follows from (A11) that the m-th term in\n(A6) is of order,\n\npower-law tail by means of an analytic continuation:\nZ\n\n\u221e\n\n\u03bc\n\nk \u2212\u03bc\u22121 \u2212qk\ne\ndk ' \u03bc(qk0 )\u03bc \u0393(\u2212\u03bc) .\nk0\u2212\u03bc\n\n(A14)\n\nFor 1 < \u03bc < 2, this contribution is of larger power of p\nthan that of the second-order, p2 , term in (A6). Therefore, we arrive at the following approximation,\nG(q) = 1 \u2212 hki q + \u03bc \u0393(\u2212\u03bc)(k0 q)\u03bc + . . . .\n\n(A15)\n\nmeaning that we need much more than 155 terms for the\nexpansion (A6) to be useful for evaluation of our ratios.\nAn improved approximation can be obtained as follows. Let us extract an analytic contribution of the\n\nAlternatively, this expression can be obtained by evaluating the dominant k \u223c k(max) contribution in G(q) \u2212\n(1 \u2212 hki q). Also it should be noted that this expression\nis valid for q \u001d 1/k(max) , since we extended the integration to k = \u221e in (A14), instead of cutting it off at\nk = k(max) . The curve (c) in Fig. 8 depicts the behavior\nof the first three terms on the right-hand side of (A15).\nIt is evident that the improved expansion works as an excellent approximation as shown in the plot. In fact, the\ncomparison between the estimates of the ratios obtained\nfrom (A15) and the true values are excellent as seen in\nTable. V.\n\n[1] R. Albert and A.-L. Barab\u00e1si. Statistical mechanics of\ncomplex networks. Reviews of Modern Physics, 74(1):47\u2013\n97, 2002.\n[2] S. N. Dorogovtsev and J. F. F. Mendes. Evolution of\nnetworks. Advances in Physics, 51(4):1079\u20131187, 2002.\n[3] M. E. J. Newman. The structure and function of complex\nnetworks. SIAM Review, 45(2):167\u2013256, 2003.\n[4] P. Bak, K. Chen, J. A. Scheinkman, and M. Woodford.\nAggregate fluctuations from independent sectoral shocks.\nRicerche Economiche, 47:3\u201330, 1993.\n[5] J. A. Scheinkman and M. Woodford. Self-Organized Criticality and Economic Fluctuations. The American Economic Review, 84(2):417\u2013421, 1994.\n[6] M. Nirei. (S,s) inventory dynamics and self-organized\ncriticality. Research in Economics, 54:375\u2013383, 2000.\n[7] P. Bak. How Nature Works. Springer-Verlag, 1996.\n[8] G. Weisbuch and S. Battiston. Production networks and\nfailure avalances. Journal of Economic Behavior & Organization, 64:448\u2013469, 2007.\n[9] S. Battiston, D. Delli Gatti, M. Gallegati, B. Greenwald,\nand J. E. Stiglitz. Credit chains and bankruptcies propagation in production networks. Journal of Economic\nDynamics & Control, 31:2061\u20132084, 2007.\n[10] J. Lorenz and S. Battiston. Systemic risk in a network\nfragility model analyzed with probability density evolution of persistent random walks. Network and Heterogeneous Media, 3(2):185\u2013200, 2008.\n[11] P. Sieczka and J. A. Holyst. Collective firm bankruptcies and phase transition in rating dynamics. European\nPhysical Journal B, 71:461\u2013466, 2007.\n[12] G. De Masi, G. Iori, and G. Caldarelli. Fitness model for\nthe Italian interbank money market. Physical Review E,\n74:066112, 2006.\n\n[13] G. Iori, G. De Masi, O. V. Precup, G. Gabbi, and G. Caldarelli. A Network Analysis of the Italian Overnight\nMoney Market. Journal of Economics Dynamics and\nControl, 32:259\u2013278, 2008.\n[14] F. Kyriakopoulos, S. Thurner, C. Puhr, and S. W.\nSchmitz. Network and eigenvalue analysis of financial\ntransaction networks. European Physical Journal B,\n71:523\u2013531, 2009.\n[15] G. De Masi, Y. Fujiwara, M. Gallegati, B. Greenwald,\nand J. E . Stiglitz. An analysis of the Japanese credit\nnetwork. arXiv:0901.2384v1 [q-fin.ST].\n[16] D. Garlaschelli and M. I. Loffredo. Structure and evolution of the world trade network. Physica A, 355:138\u2013144,\n2005.\n[17] J. B. Glattfelder and S. Battiston. Backbone of complex\nnetworks of corporations: The flow of control. Physical\nReview E, 80:036104, 2009.\n[18] F. Schweitzer, G. Fagiolo, D. Sornette, F. Vega-Redondo,\nand D. White. Economic Networks: What do we know\nand what do we need to know? Advances in Complex\nSystems, 12:407\u2013422, 2009.\n[19] Y. U. Saito, T. Watanabe, and M. Iwamura. Do larger\nfirms have more interfirm relationships?\nPhysica A,\n383(1):158\u2013163, 2007.\n[20] T. Ohnishi, H. Takayasu, and M. Takayasu. Hubs and\nAuthorities on Japanese Inter-Firm Network: Characterization of Nodes in Very Large Directed Networks.\nProgress of Theoretical Physics Supplement, (179):157\u2013\n167, 2009.\n[21] A. Broder, R. Kumar, F. Maghoul, P. Raghavan, S. Rajagopalan, A. Stata, R. a nd Tomkins, and J. Wiener.\nGraph structure in the Web. Computer Networks, 33(16):309\u2013320, 2000.\n\nN \u22121 \u0010 1/\u03bc \u0011m\nN q\n.\nm!\n\n(A12)\n\nTherefore the m-th order term is of the same order of\nmagnitude as the (m + 1)-th order term provided that\nm ' N 1/\u03bc q \u2248 154.7 ,\n\n(A13)\n\n\f17\n[22] B.M. Hill. A Simple General Approach to Inference\nAbout the Tail of a Distribution. The Annals of Statistics, 3(5):1163\u20131174, 1975.\n[23] W. H. Press, S. A. Teukolsky, W. T. Vetterling, and B. P.\nFlannery. Numerical Recipes in C: The Art of Scientificc Computing. University of Cambridge, second edition, 1992.\n[24] M. E. J. Newman. Random graphs as models of networks,\nchapter 2, pages 35\u201368. Wiley-VCH Weinheim, 2003. in\ned. S. Bornholdt and H. G. Schuster, Handbook of graphs\nand networks.\n[25] M. E. J. Newman. Mixing patterns in networks. Physical\nReview E, 67(2):026126, 2003.\n[26] M. E. J. Newman and M. Girvan. Finding and evaluating\ncommunity structure in networks. Physical Review E,\n69(2):026113, 2004.\n[27] A. Clauset, M. E. J. Newman, and C. Moore. Finding\ncommunity structure in very large networks. Physical\nReview E, 70(6):066111, 2004.\n[28] L. Danon, A. D\u0131\u0301az-Guilera, J. Duch, and A. Arenas.\nComparing community structure identification. Journal\nof Statistical Mechanics, 2005(09):P09008, 2005.\n[29] S. Fortunato and M. Barthelemy. Resolution limit\nin community detection. Proceedings of the National\nAcademy of Sciences, 104(1):36\u201341, 2007.\n[30] J. M. Kumpula, J. Saram\u00e4ki, K. Kaski, and J. Kert\u00e9sz.\nLimited resolution in complex network community detection with Potts model approach. European Physical\nJournal B, 56(1):41\u201345, 2007.\n[31] Kumpula, J. M. and Saram\u00e4ki, J. and Kaski, K. and\nKert\u00e9sz, J. Limited resolution and multiresolution meth-\n\n[32]\n\n[33]\n\n[34]\n\n[35]\n[36]\n\n[37]\n\n[38]\n\n[39]\n\n[40]\n\nods in complex network community detection. Fluctuation and Noise Letters, 7(3):L209\u2013L214, 2007.\nLancichinetti, A. and Fortunato, S. and Kert\u00e9sz, J.\nDetecting the overlapping and hierarchical community\nstructure of complex networks. New J. Phys, 11:033015,\n2009.\nM. Sales-Pardo, R. Guimera, A. A. Moreira, and L. A. N.\nAmaral. Extracting the hierarchical organization of complex systems. Proceedings of the National Academy of\nSciences, 104(39):15224\u201315229, 2007.\nA. Clauset, C. Moore, and M. E. J. Newman. Hierarchical\nstructure and the prediction of missing links in networks.\nNature, 453(7191):98\u2013101, 2008.\nJ. Barnes and P. Hut. A hierarchical O(N log N) forcecalculation algorithm. Nature, 324(6096):446\u2013449, 1986.\nJ. Makino and M. Taiji. Scientific Simulations with\nSpecial-Purpose Computers.\nJohn Wiley and Sons,\nChichester, UK, 1998.\nY. Fujiwara. Visualizing a large-scale structure of production network by N-body simulation. Progress of Theoretical Physics Supplement, (179):167\u2013177, 2009.\nJ. Stiglitz and B. Greenwald. Towards a New Paradigm\nin Monetary Economics. Cambridge University Press,\n2003.\nY. Fujiwara. Chain of firms bankruptcy: a macroscopic\nstudy of link effect in a production network. Advances in\nComplex Systems, 11(5):703\u2013717, 2008.\nLubl\u00f3y, \u00c1. and Szenes, M. Network of corporate clients:\nCustomer attrition at commercial banks. J. Stat. Mech,\npage P12014, 2008.\n\n\f"}