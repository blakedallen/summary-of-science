{"id": "http://arxiv.org/abs/1205.1487v1", "guidislink": true, "updated": "2012-05-07T19:34:11Z", "updated_parsed": [2012, 5, 7, 19, 34, 11, 0, 128, 0], "published": "2012-05-07T19:34:11Z", "published_parsed": [2012, 5, 7, 19, 34, 11, 0, 128, 0], "title": "Sum Formulas for Local Gromov-Witten Invariants of Spin Curves", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1205.3978%2C1205.2592%2C1205.2720%2C1205.2156%2C1205.0988%2C1205.2482%2C1205.3428%2C1205.3459%2C1205.0182%2C1205.4060%2C1205.3913%2C1205.2694%2C1205.0543%2C1205.3592%2C1205.3980%2C1205.0287%2C1205.1051%2C1205.0299%2C1205.2261%2C1205.2084%2C1205.0477%2C1205.1111%2C1205.1487%2C1205.0403%2C1205.2286%2C1205.4454%2C1205.2470%2C1205.2722%2C1205.3313%2C1205.3527%2C1205.1078%2C1205.0015%2C1205.0197%2C1205.3016%2C1205.2439%2C1205.0320%2C1205.1277%2C1205.1537%2C1205.0358%2C1205.2221%2C1205.3543%2C1205.3614%2C1205.0562%2C1205.1792%2C1205.0285%2C1205.1896%2C1205.1256%2C1205.3791%2C1205.0955%2C1205.3432%2C1205.3408%2C1205.2457%2C1205.2663%2C1205.0116%2C1205.2289%2C1205.3210%2C1205.0345%2C1205.0255%2C1205.3338%2C1205.0423%2C1205.0815%2C1205.2034%2C1205.2023%2C1205.2563%2C1205.4071%2C1205.2515%2C1205.3894%2C1205.3510%2C1205.2024%2C1205.1196%2C1205.1166%2C1205.4245%2C1205.0165%2C1205.2268%2C1205.2100%2C1205.1301%2C1205.0522%2C1205.0938%2C1205.0305%2C1205.4158%2C1205.1358%2C1205.1333%2C1205.1267%2C1205.1401%2C1205.3960%2C1205.0145%2C1205.4122%2C1205.4142%2C1205.1721%2C1205.2079%2C1205.2205%2C1205.2573%2C1205.3837%2C1205.2869%2C1205.3870%2C1205.0426%2C1205.3635%2C1205.3508%2C1205.0556%2C1205.3494%2C1205.4271&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Sum Formulas for Local Gromov-Witten Invariants of Spin Curves"}, "summary": "Holomorphic 2-forms on K\\\"{a}hler surfaces lead to \"Local Gromov-Witten\ninvariants\" of spin curves. This paper shows how to derive sum formulas for\nsuch local GW invariants from the sum formula for GW invariants of certain\nruled surfaces. These sum formulas also verify the Maulik-Pandharipande\nformulas that were recently proved by Kiem and Li.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1205.3978%2C1205.2592%2C1205.2720%2C1205.2156%2C1205.0988%2C1205.2482%2C1205.3428%2C1205.3459%2C1205.0182%2C1205.4060%2C1205.3913%2C1205.2694%2C1205.0543%2C1205.3592%2C1205.3980%2C1205.0287%2C1205.1051%2C1205.0299%2C1205.2261%2C1205.2084%2C1205.0477%2C1205.1111%2C1205.1487%2C1205.0403%2C1205.2286%2C1205.4454%2C1205.2470%2C1205.2722%2C1205.3313%2C1205.3527%2C1205.1078%2C1205.0015%2C1205.0197%2C1205.3016%2C1205.2439%2C1205.0320%2C1205.1277%2C1205.1537%2C1205.0358%2C1205.2221%2C1205.3543%2C1205.3614%2C1205.0562%2C1205.1792%2C1205.0285%2C1205.1896%2C1205.1256%2C1205.3791%2C1205.0955%2C1205.3432%2C1205.3408%2C1205.2457%2C1205.2663%2C1205.0116%2C1205.2289%2C1205.3210%2C1205.0345%2C1205.0255%2C1205.3338%2C1205.0423%2C1205.0815%2C1205.2034%2C1205.2023%2C1205.2563%2C1205.4071%2C1205.2515%2C1205.3894%2C1205.3510%2C1205.2024%2C1205.1196%2C1205.1166%2C1205.4245%2C1205.0165%2C1205.2268%2C1205.2100%2C1205.1301%2C1205.0522%2C1205.0938%2C1205.0305%2C1205.4158%2C1205.1358%2C1205.1333%2C1205.1267%2C1205.1401%2C1205.3960%2C1205.0145%2C1205.4122%2C1205.4142%2C1205.1721%2C1205.2079%2C1205.2205%2C1205.2573%2C1205.3837%2C1205.2869%2C1205.3870%2C1205.0426%2C1205.3635%2C1205.3508%2C1205.0556%2C1205.3494%2C1205.4271&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Holomorphic 2-forms on K\\\"{a}hler surfaces lead to \"Local Gromov-Witten\ninvariants\" of spin curves. This paper shows how to derive sum formulas for\nsuch local GW invariants from the sum formula for GW invariants of certain\nruled surfaces. These sum formulas also verify the Maulik-Pandharipande\nformulas that were recently proved by Kiem and Li."}, "authors": ["Junho Lee"], "author_detail": {"name": "Junho Lee"}, "author": "Junho Lee", "arxiv_comment": "To appear in Trans. Amer. Math. Soc", "links": [{"href": "http://arxiv.org/abs/1205.1487v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1205.1487v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.SG", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.SG", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1205.1487v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1205.1487v1", "journal_reference": null, "doi": null, "fulltext": "arXiv:1205.1487v1 [math.SG] 7 May 2012\n\nSum Formulas for Local Gromov-Witten Invariants\nof Spin Curves\nJunho Lee\nUniversity of Central Florida\nOrlando, FL 32816\n\nAbstract\nHolomorphic 2-forms on K\u00e4hler surfaces lead to \"Local Gromov-Witten invariants\" of\nspin curves. This paper shows how to derive sum formulas for such local GW invariants\nfrom the sum formula for GW invariants of certain ruled surfaces. These sum formulas also\nverify the Maulik-Pandharipande formulas that were recently proved by Kiem and Li.\n\nLet X be a K\u00e4hler surface with a holomorphic 2-form \u03b1. The real part of \u03b1, also denoted\nby \u03b1, then induces an almost complex structure on X :\nJ\u03b1 = (Id + JK\u03b1 )\u22121 J(Id + JK\u03b1 ).\n\n(0.1)\n\nHere J is the K\u00e4hler structure on X and K\u03b1 is the endomorphism of T X defined by the formula\nhu, K\u03b1 vi = \u03b1(u, v) where h , i is the K\u00e4hler metric on X. The almost complex structure J\u03b1\nsatisfies a remarkable Image Localization Property :\n\u2022 if f is a J\u03b1 -holomorphic map into X that represents a non-zero (1,1) class then the image\nof f lies in the zero set D of the holomorphic 2-form \u03b1\nFor simplicity, assume X is a (minimal) surface of general type and D is smooth. The normal\nbundle N to D is then a theta characteristic on D, i.e., N is a square root of the canonical\nbundle of D. The pair (D, N ) is called a spin curve of genus h where h is the genus of D. The\ntotal space ND of N has a tautological holomorphic 2-form \u03b1 that induces, by the same manner\nas in (0.1), an almost complex structure J\u03b1 on ND satisfying the image localization property,\nnamely\nMg,n (ND , d[D], J\u03b1 ) = Mg,n (D, d).\nConsequently, the moduli space of J\u03b1 -holomorphic maps is compact, so it represents a (virtual)\nfundamental class that defines local GW invariants of the spin curve (D, N ). These local GW\ninvariants depend only on the genus h and the parity p \u2261 h0 (N ) (mod 2) and GW invariants of\nK\u00e4hler surfaces with pg > 0 are the sum of local GW invariants associated to spin curves [LP1].\nGW invariants count maps from connected domains, while Gromov-Taubes invariants count\nmaps from not necessarily connected domains. These GT invariants can be obtained from GW\n\n1\n\n\finvariants. Maulik and Pandharipande [MP] gave fascinating conjectural formulas for (descendent) local GT invariants of spin curve (D, N ) for low degrees (d = 1, 2) :\nGT1loc,h,p\nGT2loc,h,p\n\nn\nY\n\ni=1\nn\nY\ni=1\n\n\u03c4ki (F \u2217 )\n\u03c4ki (F \u2217 )\n\n\u0001\n\u0001\n\n= (\u22121)p\n\nn\nY\ni=1\n\nki !\n(\u22122)\u2212ki\n(2ki + 1)!\n\n= (\u22121)p 2h+n\u22121\n\nn\nY\ni=1\n\n(0.2)\nki !\n(\u22122)ki\n(2ki + 1)!\n\n(see Section 2 for definition of descendant local GT invariants). Kiem and Li [KL1, KL2,\nKL3] have since proved these formulas using their algebro-geometric version of local invariants.\nObserving the formulas (0.2) for genus zero spin curve directly follow from Proposition 2 of [FP],\nthey showed the following reduction theorem :\n\u2022 for low degrees (d = 1, 2) local GT invariants of higher genus spin curves can be reduced\nto local GT invariants of genus zero spin curve.\nTheir proof uses a sum formula (Theorem 4.2 of [KL1]) for degeneration obtained by certain\nblow-up plus explicit calculation of the invariant GT2loc,h,p (\u03c4 (F \u2217 )).\nThe aim of this paper is twofold. First, we give a proof of the sum formula for degeneration\nby blow-up in the context of symplectic geometry - this sum formula is the same as Kiem\nand Li's sum formula except for the constraints of relative invariants (see Theorem A below).\nSecond, we also prove new sum formulas for degeneration of spin curves in the case of degree\nd = 2 (see Theorem B below). Then, in the proof of the above reduction theorem (cf. Section 4\nof [KL1]), we can replace the calculation of invariant GT2loc,h,p(\u03c4 ) by Theorem B (see Section 9).\nThe novelty of our approach is to use GW invariants of ruled surfaces. Unlike the algebrogeometric approach, our local GW invariants of (D, N ) are, in fact, local contributions to GW\ninvariants of the ruled surface Ph = P(N \u2295 OD ) that count maps whose images are close to the\nzero section D of Ph . A small neighborhood U of D in Ph is isomorphic to some neighborhood\nof the zero section in the total space ND of N . Together with this isomorphism and some bump\nfunction, the tautological holomorphic 2-form on ND induces an almost complex structure J\u03b1\non Ph satisfying the image localization property, namely\nMg,n (U, dS, J\u03b1 ) = Mg,n (D, d)\nwhere S is the section class of Ph , i.e. S = [D]. The moduli space of J\u03b1 -holomorphic maps into U\nthus represents a (virtual) fundamental class that gives the local GW invariants of (D, N ). This\ndescription of local GW invariants is well suited to easily adapt the arguments in [IP1, IP2] to\na version of sum formulas for local GW invariants. The relative local GW invariants are simply\nthe local contributions to the relative GW invariants of Ph that count maps into U relative a\nfixed fiber of Ph . In terms of those relative invariants, sum formulas for local invariants directly\nfollow from the main argument of [IP2] for some cases.\nOur relative invariants are, however, not given by (virtual) fundamental class of relative\nmoduli space that is needed to define descendent classes. To get around this issue, we relate\ndescendent invariants to relative invariants with \u03c6i classes that are the first Chern classes of the\n\n2\n\n\frelative cotangent bundles over the space of stable curves (see Proposition 5.1). Then, we use\nthose relative invariants to show the sum formula for degeneration by blow-up.\nLet F0 = P1 \u00d7 E be a ruled surface over E = P1 . Then there is a unique section of F0 that\npasses through a given point. This simple observation enable us to apply the main argument of\n[IP2] for the symplectic fiber sum Ph = Ph #V F0 to obtain a sum formula for degeneration by\nblow-up. For any partition m = (m1 , * * * , ml ), we set\nY\nl(m) = l,\n|m| =\nmi ,\nm! = |Aut(m)|\nwhere Aut(m) is the symmetric group permuting equal parts of m. In Section 4, we show :\nTheorem A. Let d 6= 0 and n1 + n2 = n. Then\nGTdloc,h,p\n\nn\nY\ni=1\n\n=\n\n\u03c4ki (F \u2217 )\n\n\u0001\n\nn1\nn2\nY\nY\n\u0001\n\u0001\n1 X |m|\nkn +i\nloc,h,p\nki\nF0\n\u2217\nGT\n\u03c6\n(F\n)\n*\nGT\n\u03c6i 1 (F \u2217 )\nd ),m\nd)\ni\n2\n(1\nm,(1\n(d!) m m!\ni=1\n\n(0.3)\n\ni=1\n\nwhere the sum is over all partitions m of d (see Section 3 for definition and notation of relative\ninvariants).\nLet F1 = P(O(1) \u2295 OE ) be a ruled surface over E. Unlike the case of F0 , the infinite section\nplus a fiber represents the section class represented by the zero section of F1 . This causes the\nmain difficulty to derive general sum formulas of local GW invariants for degeneration of spin\ncurves from the symplectic fiber sums\nPh = Ph1 #V1 #F1 #V2 Ph2\n\nand\n\nPh = Ph\u22121 # F1 .\nV1 \u2294 V2\n\nHowever, when degree d = 2, simple limiting arguments (see Section 6 and Lemma 7.3) allow\nus to apply the same arguments as in the proof of Theorem A. In Section 7 and 8, we show :\nTheorem B.\n(a) If h = h1 + h2 and p \u2261 p1 + p2 (mod 2) then we have\nloc,h,p\nloc,h2 ,p2\nloc,h1 ,p1\nloc,0,+\n= (\u22121)p1 2h1 GT(2)\nGT(2)\n+ (\u22121)p2 2h2 GT(2)\n.\n\u2212 (\u22121)p 2h GT(2)\n\n(0.4)\n\n(b) If h \u2265 2 or if (h, p) = (1, +) then we have\nloc,h,p\nloc,h\u22121,p\nloc,0,+\nGT(2)\n= 4 GT(2)\n\u2212 (\u22121)p 2h GT(2)\n.\n\n(0.5)\n\nAcknowledgments. I am very thankful to Thomas H. Parker for valuable discussions and to\nreferees for corrections and useful comments. I also thank Bumsig Kim and Young-Hoon Kiem\nfor discussions and Rahul Pandharipande, Davesh Maulik and Aleksey Zinger for their interest\nin this work.\n3\n\n\f1\n\nModuli Spaces\n\nThis section introduces moduli spaces of curves and maps. For 2g + n \u2265 3, let U g,n \u2192 Mg,n\nbe the universal curve over the Deligne-Mumford space. Lifting to the moduli space of Prym\ncurves ([Lo], [ACV]), one may assume that Mg,n is a manifold and every connected n marked\nnodal curve C of (arithmetic) genus g has a stabilization st(C) \u2208 Mg,n that is isomorphic to a\nfiber of U g,n . After fixing an embedding U g,n \u0592\u2192 PN , one can obtain a map\n\u03c6 : C \u2192 st(C) \u2192 U g,n \u2192 PN .\nLet (X, \u03c9) be a compact symplectic manifold with an \u03c9-tamed almost complex structure J. A\nC 1 -map f : C \u2192 X is stable if the energy\nZ\n1\n|df |2 + |d\u03c6|2\n(1.1)\nE(f, \u03c6) =\n2\nis positive on each (irreducible) component of C. An (irreducible) component of C is called a\nghost component if the restriction f to that component represents a trivial homology class. Let\n\u03bd be a section of the bundle Hom(\u03c01\u2217 T PN , \u03c02\u2217 T X) over PN \u00d7 X satisfying J \u25e6 \u03bd = \u2212\u03bd \u25e6 JPN . A\nstable map f is (J, \u03bd)-holomorphic if\n1\n(df + Jdf j) = (f, \u03c6)\u2217 \u03bd\n2\nwhere j is the complex structure on C. Denote by Mg,n (X, A) the moduli space of (J, \u03bd)holomorphic maps from nodal curves of (arithmetic) genus g with n marked points that represent\nthe class A (we often omit (J, \u03bd) in notation). We also denote by\n\u2217\n\nM\u03c7,n (X, A)\nthe moduli space of (J, \u03bd)-holomorphic maps f from possibly disconnected domains of Euler\ncharacteristic \u03c7 with no degree zero connected components, namely the restriction of f to each\n\"connected component\" of its domain represents a non-trivial homology class.\nFor a finite set A, let |A| denote the number of elements of A.\n\u2217\n\nRemark 1.1. A stable map f in the moduli space M\u03c7,n (X, A) might have ghost components.\nLet C = C1 \u222a C2 be the domain of f such that C1 is a connected curve that is a union of\nsome ghost components of f . Then, the stability of f implies that 2g(C1 ) + l + n1 \u2265 3 where\nl = |C1 \u2229 C2 | and n1 is the number of marked points on C1 .\nThe discussion below will be frequently used in subsequent arguments. Let \u03c6i be the first\nChern class of line bundle over Mg,n whose fiber over (C, {xi }) is Tx\u2217i C. For a subset I of\n{1, * * * , n}, let \u03b4I denote the Poincar\u00e9 dual of the fundamental class of the boundary stratum of\nMg,n that consists of nodal curves C1 \u222a C2 where C1 has genus zero, C2 has genus g and the\nmarked points on C1 are precisely those labeled by I.\nConsider the forgetful map\n\u03c0k : Mg,n+k \u2192 Mg,n\n4\n\n\fthat forgets the last k marked points. For 1 \u2264 i \u2264 n, we have\nX\n\u03c0k\u2217 \u03c6i = \u03c6i \u2212\n\u03b4{i}\u222aI\n\n(1.2)\n\nwhere the sum is over all I \u2282 {n + 1, . . . , n + k} with I 6= \u2205 (cf. Lemma 3.1 of [AC]). The\nstandard gluing map\n\u03b7 : Mg1 ,n1 +1 \u00d7 Mg2 ,n2 +1 \u2192 Mg1 +g2 ,n1 +n2\n(1.3)\nis obtained by identifying the last marked point of the first component with the first marked\npoint on the second component. For our purpose, we extend this gluing map to the cases where\n2g2 + n2 < 2. Denote by Mg,n the space of one point when 2g + n < 3 and note that\nMg,n1 +1 \u00d7 M0,1 \u223c\n= Mg,n1\n\nMg,n1 +1 \u00d7 M0,2 \u223c\n= Mg,n1 +1 .\n\nand\n\nLet \u03b7 be the forgetful map that forgets the last marked point when 2g1 + n1 \u2265 3 and (g2 , n2 ) =\n(0, 0), and let \u03b7 be the identity map when (g2 , n2 ) = (0, 1). The following fact then directly\nfollows from (1.2) and Lemma 3.3 of [AC].\nLemma 1.2 ([AC]). For 1 \u2264 i \u2264 n1 and I \u2282 {1, * * * , n1 } with 2 \u2264 |I| < n1 , we have\n(a) if 2g1 + n1 \u2265 3 and (g2 , n2 ) = (0, 0) then\n\u03b7 \u2217 \u03c6i = (\u03c6i \u2212 \u03b4{i,n1 +1} ) \u2297 1\n\nand\n\n\u03b7 \u2217 \u03b4I = (\u03b4I + \u03b4I\u222a{n1 +1} ) \u2297 1\n\n(b) if either (g2 , n2 ) = (0, 1) or 2gj + nj \u2265 2 for j = 1, 2 then\n\u03b7 \u2217 \u03c6i = \u03c6i \u2297 1\n\nand\n\n\u03b7 \u2217 \u03b4I = \u03b4I \u2297 1.\n\nLastly, we denote the space of curves with finitely many connected components, Euler class\n\u03c7 and n marked points by\nf\u03c7,n\nM\n\n(cf.\nP page 57 of [IP1]).PThis space is a disjoint union of the products of the spaces Mgj ,nj with\n(2 \u2212 2gj ) = \u03c7 and\nnj = n (including the unstable cases 2gj + nj < 3). One can thus define\nf\u03c7,n in an obvious way.\n\u03c6i classes and the boundary classes \u03b4I of M\n\n2\n\nLocal GT Invariants\n\nIn this section, we introduce local Gromov-Taubes invariants of spin curves and set up notation\nfor them. We will follow the definitions and notation in [RT2], [LT] and [IP1]. Let \u03c0 : N \u2192 D be\na theta characteristic on a smooth curve D of genus h. The canonical bundle of the total space\nND of N is then isomorphic to \u03c0 \u2217 N , so the tautological section of \u03c0 \u2217 N gives a holomorphic\n2-form \u03b1 on ND whose zero set is the zero section D \u2282 ND (cf. [LP1]). The projectivization\nPh = P(N \u2295 OD )\nis a ruled surface over D. For small \u01eb > 0 fix an isomorphism (denoted by \u03a8) from a neighborhood\nof the zero section of Ph to the 3\u01eb-neighborhood of D in ND taking the zero section of Ph to\n5\n\n\fD. Choose a bump function \u03b2 that is 1 on the \u01eb-neighborhood of D in ND and vanishes on\nthe complement of 2\u01eb-neighborhood of D. The pull-back 2-form \u03a8\u2217 (\u03b2\u03b1) is then a well-defined\n2-form on Ph . Fix a fiber V of the ruled surface Ph and for small \u03b4 > 0 choose a bump function\n\u03b2V that is 1 on the complement of the 2\u03b4-neighborhood of V and vanishes on \u03b4-neighborhood of\nV . The 2-form\n\u03b1V = \u03b2V \u03a8\u2217 (\u03b2\u03b1)\n(2.1)\nthen induces, by (0.1), an almost complex structure JV on Ph . Let U \u2282 Ph be the preimage of\n\u01eb-neighborhood of D in ND under the isomorphism \u03a8. We also denote by D the zero section of\nPh and let S be the section class represented by the zero section D of Ph .\nLemma 2.1. Let U and JV be as above. Then every JV -holomorphic map from a connected\ndomain into U that represents the class dS with d 6= 0 is, in fact, holomorphic and its image\nlies entirely in D, i.e.\n\u2217\n\u2217\nM\u03c7,n (U , dS, JV ) = M\u03c7,n (D, d).\nProof. This proof is similar to that of Lemma 3.2 in [LP1]. Use the same notation \u03b1 for the\nreal part of the holomorphic 2-form \u03b1 on ND . Let f : (C, j) \u2192 U be a JV -holomorphic map\nfrom a connected curve C with complex structure j that represents the class dS where d 6= 0.\nFor each point q \u2208 C, let {e1 , e2 = je1 } be an orthonormal basis of Tq C. Then\n|\u2202f |2 = f \u2217 |\u03b2V \u03a8\u2217 (\u03b2\u03b1)|2 |\u2202f |2 = f \u2217 (\u03b2V \u03a8\u2217 (\u03b2\u03b1))(e1 , e2 ) \u2264 f \u2217 (\u03a8\u2217 \u03b1)(e1 , e2 )\n\n(2.2)\n\nwhere the two equalities follow from Proposition 1.3 of [L] and the inequality follows from the\nfacts (i) \u03a8\u2217 \u03b2 \u2261 1 on U and (ii) 0 \u2264 \u03b2V \u2264 1. Since \u03b1 is a real part of holomorphic 2-form,\nintegrating over the domain shows f is indeed holomorphic and the image of f lies in the zero\nset of \u03b2V \u03a8\u2217 (\u03b2\u03b1) in U . Since f represents the class dS, the image of f must lie in the zero set\n\u0003\nof \u03a8\u2217 (\u03b2\u03b1) in U which is the zero section D. This completes the proof.\nRemark 2.2. Let \u03b1 be a holomorphic 2-form on U and g be any function on U that satisfies\n0 \u2264 g \u2264 1. Then, the inequality in (2.2) shows that for \u03b1\ne = g\u03b1 every J\u03b1e -holomorphic map into\nU representing the class dS (d 6= 0) is holomorphic and has its image lying in the zero set of \u03b1\ne.\nLet d 6= 0 and fix (J, \u03bd) that is close to (JV , 0). Lemma 2.1 and the Gromov Compactness\n\u2217\nTheorem imply that the moduli space of (J, \u03bd)-holomorphic maps M\u03c7,n (U, dS) is compact. The\nconstruction of Li and Tian [LT] then defines the (virtual) fundamental class\n\u0002\n\n\u2217\n\nM\u03c7,n (U, dS)\n\n\u0003vir\n\n\u2208 H\u2217 Map \u03c7,n (Ph , dS) ; Q\n\n\u0001\n\n(2.3)\n\nin the homology of the space Map \u03c7,n (Ph , dS) of stable maps into Ph from nodal curves of Euler\ncharacteristic \u03c7 with n marked points that represent the homology class dS.\nDefinition 2.3. The local (descendent) GT invariants of the spin curve (D, N ) of genus h with\nparity p \u2261 h0 (N ) (mod 2) are :\nGTdloc,h,p\n\nn\nY\ni=1\n\n\u2217\n\n\u03c4ki (F )\n\n\u0001\n\n=\n\n\u0002\n\n\u0003vir\n\u2217\nM\u03c7,n (U, dS)\n6\n\n\u2229\n\nn\nY\ni=1\n\n\u03c8iki \u222a evi\u2217 (F \u2217 )\n\n\u0001\n\n(2.4)\n\n\fwhere \u03c8i be the Euler class of the bundle over Map \u03c7,n (Ph , dS) whose fiber over (f, C, {xi }) is\nTx\u2217i C, F \u2217 is the Poincar\u00e9 dual of the fiber class of Ph , evi is the evaluation map at the i-th\nmarked point, and the Euler characteristic \u03c7 satisfies\nX\nki = d(1 \u2212 h) \u2212 21 \u03c7.\nWe will often write respectively + and \u2212 for p \u2261 0 (mod 2) and for p \u2261 1 (mod 2).\nRemark 2.4. Let \u03b2t be a path from \u03b20 = \u03b2V to \u03b21 \u2261 1 with 0 \u2264 \u03b2t \u2264 1 on Ph and let Jt\ndenote the almost complex structure induced from the 2-from \u03b2t \u03a8\u2217 (\u03b2\u03b1) by (0.1). The proof of\nLemma 2.1 shows for d 6= 0 and for all t\n\u2217\n\n\u2217\n\nM\u03c7,n (U , dS, Jt ) = M\u03c7,n (D, d).\n\u2217\n\nIn particular, this shows M\u03c7,n (U , dS, Jt ) is compact for all t. It then follows from the standard\ncobordism argument (cf. Proposition 2.3 of [LT]) that the (virtual) fundamental class (2.3) is\nindependent of the choice of Jt . So, when t = 1, the isomorphism \u03a8 as above gives\n\u0002\n\n\u0003vir\n\u2217\nM\u03c7,n (U, dS)\n\n\u2229\n\nn\nY\n\n\u03c8iki\n\n\u222a\n\nevi\u2217 (F \u2217 )\n\ni=1\n\n\u0001\n\n=\n\n\u0002\n\n\u0003vir\n\u2217\nM\u03c7,n (ND , d[D])\n\n\u2229\n\nn\nY\n\n\u03c8iki \u222a evi\u2217 (\u03c0 \u2217 \u03b3 \u2217 )\n\ni=1\n\n\u0001\n\nwhere \u03b3 \u2217 \u2208 H 2 (D) is Poincar\u00e9 dual of the point class of D. Thus, given \u03c7, n and d 6= 0 the\ninvariant (2.4) depends only on the genus h of D and the parity p = h0 (N ) (mod 2).\nThe stabilization and evaluation at marked points defines a map\nf\u03c7,n \u00d7 (Ph )n .\n\u03b5 = st \u00d7 ev : Map \u03c7,n (Ph , dS) \u2192 M\n\nf\u03c7,n , we set\nFor the classes \u03c6i on M\nGTdloc,h,p\n\nn\nY\n\n\u03c6ki i (F \u2217 )\n\ni=1\n\n\u0001\n\n=\n\n\u0002\n\n\u2217\n\nM\u03c7,n (U, dS)\n\n\u0003vir\n\n\u2229\n\nn\nY\ni=1\n\n(2.5)\n\n\u0001\nst\u2217 \u03c6ki i \u222a evi\u2217 (F \u2217 ) .\n\u2217\n\nNow, suppose (J, \u03bd) is generic (see page 10 of [RT2]). Then, the image of M\u03c7,n (U, dS) under\nthe map (2.5) defines a homology class\n\u0002\n\n\u2217\n\nM\u03c7,n (U, dS)\n\n\u0003\n\nf\u03c7,n \u00d7 (Ph )n ; Q\n\u2208 H\u2217 M\n\n\u0001\n\n\u0003vir \u0002 \u2217\n\u0003\n\u0002 \u2217\n= M\u03c7,n (U, dS) (cf. Remark 10.2 of [LP2]). So, we have\nsatisfying \u03b5\u2217 M\u03c7,n (U, dS)\nGTdloc,h,p\n\nn\nY\ni=1\n\n\u03c6ki i (F \u2217 )\n\n\u0001\n\n=\n\n\u0002\n\nn\n\u0003 Y\n\u2217\n\u03c6ki i \u2297 (F \u2217 )\u2297n .\nM\u03c7,n (U, dS) \u2229\ni=1\n\n7\n\n(2.6)\n\n\fRemark 2.5. If the spin curve (D, N ) has genus h > 0, then there are no non-constant holomorphic maps from genus zero curves to D and hence, by the Gromov Compactness Theorem\n\u2217\nand Lemma 2.1, for every map f in the moduli space M\u03c7,n (U, dS) every genus zero (irreducible)\ncomponent is ghost component. It thus follows from the stability and the relation between \u03c8i\nclass and st\u2217 \u03c6i class (cf. [KM] page 388) that\nGTdloc,h,p\n\nn\nY\n\n\u2217\n\n\u03c4ki (F )\n\ni=1\n\n\u0001\n\n=\n\nGTdloc,h,p\n\nn\nY\ni=1\n\n\u0001\n\u03c6ki i (F \u2217 ) .\n\n(2.7)\n\nWe end this section with dimension zero local GT invariants for d = 1 and 2.\nLemma 2.6.\n\nGT1loc,h,p = (\u22121)p\n\nand\n\nGT2loc,h,p = (\u22121)p 2h\u22121 .\n\nProof. The dimension zero local GW invariants GWdloc,h,p and the dimension zero local GT\ninvariants GTdloc,h,p are related as follows :\n\u0011\n\u0010X\nX\n1+\nGTdloc,h,p td = exp\nGWdloc,h,p td\nd>0\n\nd>0\n\n(cf. Section 2 of [IP2]). The lemma thus follows from the fact\nGW1loc,h,p = (\u22121)p\n(see Section 10 of [LP1]).\n\n3\n\nGW2loc,h,p =\n\nand\n\n\u0003\n1\u0002\n(\u22121)p 2h \u2212 1\n2\n\n\u0003\n\nRelative Local Invariants\n\nIn [IP1], GW invariants were generalized to relative GW invariants relative to codimension\ntwo symplectic submanifold. Following [IP1], we can define relative local invariants. A (J, \u03bd)holomorphic map f is called V -regular with a contact vector s = (s1 , . . . , sl ) if f \u22121 (V ) consists\nof the last l ordered marked points xn+1 , . . . , xn+l such that the image of f has the contact\norder sk at xn+k . Denote by\nMV,\u2217\n\u03c7,n,s (U, dS)\nthe moduli space of V -regular (J, \u03bd)-holomorphic maps f into U with contact vector s where\nthe superscript \u2217 also means f has no degree zero connected components. For a contact vector\ns = (s1 , . . . , sl ), we write\ndeg(s) =\n\nl\nX\n\nsk ,\n\nl(s) = l,\n\nk=1\n\n|s| =\n\nl\nY\n\nsk\n\nk=1\n\nand, noting there are no rim tori since H1 (V ) = 0 (cf. Remark 5.3 of [IP1]), we set\n\u0001\nVs = { (v1 , s1 ), . . . , (vl , sl ) | vk \u2208 V }.\n8\n\n\fThe moduli space of V -regular maps MV,\u2217\n\u03c7,n,s (U, dS) also has an associated map\nn\nf\n\u03b5s = st \u00d7 ev \u00d7 hs : MV,\u2217\n\u03c7,n (U, dS) \u2192 M\u03c7,n+l(s) \u00d7 (Ph ) \u00d7 Vs\n\nwhere ev is the evaluation map at the first n marked points and hs is given by\n\u0001\nhs (f, x1 , * * * , xn+l ) = (f (xn+1 ), s1 ), * * * , (f (xn+l ), sl ) .\n\n(3.1)\n\n(3.2)\n\nObserve that the (holomorphic) fiber V of Ph is JV -holomorphic since the 2-form \u03b1V in (2.1)\nvanishes near V . The pair (JV , 0) is thus V -compatible in the sense of Definition 3.2 of [IP1].\nNow, choose a generic V -compatible (J, \u03bd) that is sufficiently close to (JV , 0). Lemma 2.1, the\nGromov Compactness Theorem and the relative GW theory of [IP1] then imply that the image\nof the moduli space MV,\u2217\n\u03c7,n,s (U, dS) under the map (3.1) defines a homology class\n\u0002 V,\u2217\n\u0003\n\u0001\nf\u03c7,n+l(s) \u00d7 (Ph )n \u00d7 Vs ; Q\nM\u03c7,n,s (U, dS) \u2208 H\u2217 M\n(3.3)\nLet {\u03b2j } be a basis of H\u2217 (V ). Then a basis of H \u2217 (Vs ) is given by elements of the form\nCJ,s = C\u03b2j1 ,s1 \u2297 * * * \u2297 C\u03b2jl ,sl .\nLemma 2.1 and the Gromov Compactness Theorem imply that\n\u0002 V,\u2217\n\u0003\nM\u03c7,n,s (U, dS) \u2229 CJ,s = 0\n\n(3.4)\n\nunless all \u03b2jk are the fundamental class [V ] of V . Since H1 (V ) = 0, we can forget the ordering\nof the contact constraints CJ,s by simply writing\nY\n(C\u03b2j ,b )mj,b = C\u03b2j1 ,s1 * * * C\u03b2jl ,sl\n(3.5)\nj,b\n\nwith the relation C\u03b2j ,b * C\u03b2i ,a = C\u03b2i ,a * C\u03b2j ,b where m = (mj,b ) is a sequence of nonnegative\nintegers determined by (3.5). If all \u03b2jk = \u03b2j for some j then the sequence m can be considered\nas a partition of the integer d. The (unordered) contact constraint (3.5) is then a pair of the\nPoincar\u00e9\nm of d, i.e. m = (m1 , * * * , ml ) with m1 \u2264 m2 \u2264 * * * \u2264 ml\nP dual of \u03b2j and the partition\nd\nand\nmj = d. Write m = (1 ) if all mj = 1. In that case,\n|m| = |(1d )| = 1\n\nand\n\nm! = (1d )! = d!.\n\nWhen all \u03b2jk = \u03b2j for some j, we write CJ,s simply as C\u03b2 l .\nj\n\nRemark 3.1. Given a partition m = (m1 , * * * , ml ) of d, there are l!/m! ordered sequences s\nwith \u03c4 (s) = m for some permutation \u03c4 in the symmetric group Sl .\nDefinition 3.2. For a partition m of d with m = \u03c4 (s) for some permutation \u03c4 in Sl(s) , we set\nloc,h,p\nGTm\n\nn\nY\ni=1\n\n\u03c6ki i (F \u2217 )\n\n\u0001\n\n=\n\n\u0002\n\nn\n\u0003 Y\n\u03c6ki i \u2297 (F \u2217 )n \u2297 C[V ]l(m)\nMV,\u2217\n(U,\ndS)\n\u2229\n\u03c7,n,s\ni=1\n\nwhere the Euler characteristic \u03c7 is given by\nX\nki = d(1 \u2212 h) \u2212\n9\n\n1\n2\n\n\u03c7 + (l(m) \u2212 d).\n\n\fChoose two distinct fibers V1 and V2 of Ph and let V = V1 \u2294 V2 . We can also define an almost\ncomplex structure JV that equals to the K\u00e4hler structure of Ph near V and satisfies Lemma 2.1.\nThus, we can define relative local invariants\nloc,h,p\nGTm\n1 ,m2\n\nn\nY\n\n\u03c6ki i (F \u2217 )\n\ni=1\n\n\u0001\n\n(3.6)\n\nrelative to V (with contact vectors mi with Vi ) for the class dS with Euler characteristic \u03c7 where\nthe Euler characteristic \u03c7 satisfies\nX\nX\nki = d(1 \u2212 h) \u2212 21 \u03c7 +\n(l(mi ) \u2212 d).\n\nRemark 3.3. The only genus zero spin curve is the even spin curve (P1 , O(\u22121)). In this case,\nS 2 = \u22121 and hence for d 6= 0 we have\n\u2217\n\n\u2217\n\nM\u03c7,n (U, dS, JV ) = M\u03c7,n (P0 , dS, JV ).\nThis shows that degree d local invariants of spin curve (P1 , O(\u22121)) are the same as the GW\ninvariants of P0 for the class dS. It also shows that relative local invariants are equal to the\nrelative GW invariants of (P0 , V ).\nFor simplicity, we set\n\u2217\n\nM = M\u03c7,n (U, dS)\n\n1 ,V2 ,\u2217\nMV = MV\u03c7,n,m\n1,m2 (U, dS).\n\nand\n\nf\u03c7,n ), we set\nNoting the homology class (2.6) defines a map H \u2217 ((Ph )n ) \u2192 H\u2217 (M\n\u0001\n\u0002\n\u0003\nloc,h,p\nf\u03c7,n )\n(F \u2217 )n = M \u2229 (F \u2217 )\u2297n \u2208 H2q (M\nGTd,\u03c7\n\nwhere q = d(1 \u2212 h) \u2212 21 \u03c7. Similarly, we also set\nloc,h,p\n\u2217 n\nGTm\n1 ,m2 ,\u03c7 (F )\n\nwhere r = d(1 \u2212 h) \u2212 12 \u03c7 +\n\n\u0001\n\nP\n\n= [ MV ] \u2229 (F \u2217 )n\n\n2\nO\ni=1\n\nf\u03c7,n+P l(mi ) )\nC[V ]l(mi ) \u2208 H2r (M\ni\n\n(l(mi ) \u2212 d).\n\nRemark 3.4. Let B be a geometric representative of the n product of fiber classes F \u2297n of (Ph )n\nin general position with respect to the evaluation map at marked points. Then the images of\nthe cut-down moduli spaces M \u2229 B and MV \u2229 B under the stabilization map respectively define\nclasses satisfying\n\u0001\n\u0001\n\u0002\n\u0001\u0003\n\u0001\u0003\n\u0002\nloc,h,p\nloc,h,p\n\u2217 n\n.\n(F \u2217 )n and st MV \u2229 B\n= GTm\n= GTd,\u03c7\nst M \u2229 B\n1 ,m2 ,\u03c7 (F )\nFor the ruled surface F0 = P1 \u00d7 P1 , we use the same notations F and S for the fiber class\nand the section class, respectively. To save notation, we also use the same notation V for the\nunion of 2 distinct fibers V1 and V2 of the ruled surface F0 . For partitions mi of d, denote by\nF0\nGTm\n1 ,m2\n\nn\nY\ni=1\n\n10\n\n\u03c6ki i (F \u2217 )\n\n\u0001\n\n(3.7)\n\n\fthe relative GT invariants of (F0 , V ) for the class dS with Euler characteristic \u03c7 satisfying\nX\nki = d \u2212 21 \u03c7 + ( l(m2 ) \u2212 d )\nwhere the contact constraint with V1 and V2 are respectively Cptl(m1 ) and C[V2 ]l(m2 ) . It follows\ndirectly from Lemma 14.6 of [IP2] that\nF0\nGT(1\nd) = 1\n\nand\n\nF0\nGT(1\nd ),(1d ) = d!\n\n(3.8)\n\n\u0003\n\u0002\nFor the class MV\u03c7,n (F0 , dS) that defines the relative invariants (3.7) of (F0 , V ) we also set\nF0\n\u2217 n\nGTm\n1 ,m2 ,\u03c7 (F )\n\n\u0001\n\n=\n\n\u0002\n\n\u0003\nMV\u03c7,n (F0 , dS) \u2229 (F \u2217 )n \u2297 Cptl(m1 ) \u2297 C[V2 ]l(m2 ) .\n\nf\u03c7,n+P l(mi ) ) where t = d \u2212 1 \u03c7 + P(l(m2 ) \u2212 d).\nThis is a homology class in H2t (M\n2\n\n4\n\nBlow-Up and Sum Formula\n\nThe aim of this section is to prove Theorem A in the Introduction. We will apply the limiting\nand smoothing arguments of [IP2] to our local invariants. The proof consists of three steps.\nStep 1 : Fix a fiber V0 of Ph and consider a degeneration\n\u03c3\n\n\u03bb : Z \u2212\u2192 Ph \u00d7 C \u2212\u2192 C\nwhere \u03c3 : Z \u2192 Ph \u00d7 C is the blow-up of Ph \u00d7 C along V0 \u00d7 {0} and the second map is projection\nonto the second factor. The central fiber Z0 is the singular surface Ph \u222aV0 F0 and general fibers\nZ\u03bb (\u03bb 6= 0) are isomorphic to Ph that is the symplectic fiber sum Ph #V0 F0 . For \u03bb 6= 0, let D\u03bb\ndenote the zero section of Z\u03bb , i.e., D\u03bb = \u03c3 \u22121 (D \u00d7 {\u03bb}).\nChoose a fiber V1 6= V0 of Ph \u2282 Z0 and a fiber V2 6= V0 of F0 \u2282 Z0 and set\nV = V1 \u2294 V0 \u2294 V2 .\nOne can choose a (smooth) family \u1e7c\u03bb of disjoint union of two fibers of Z\u03bb \u2243 Ph with \u1e7c0 = V1 \u2294V2 .\nDenote by J (Z) the space of all (J, \u03bd) on Z satisfying (i) each Z\u03bb is J-invariant and (ii) the\nrestriction of (J, \u03bd) to Z\u03bb (\u03bb 6= 0) is \u1e7c\u03bb -compatible and to Z0 is V -compatible (cf. Lemma 2.3\nof [IP2]). We will use the same notation (J, \u03bd) for its restriction to each Z\u03bb .\nFix a small \u03b4 > 0 and define a \u03b4-neck Z(\u03b4) as a (normal) \u03b4-neighborhood of V in Z. The\nenergy of a map f (more precisely of (f, \u03c6) as in (1.1)) into Z in the \u03b4-neck is\nZ\n1\n|df |2 + |d\u03c6|2\nE \u03b4 (f ) =\n2\nwhere the integral is over f \u22121 (Z(\u03b4)). By Lemma 1.5 of [IP1] there is a constant cV depending\nonly on the restriction of (J, \u03bd) to V \u2282 Z such that every component of every (J, \u03bd)-holomorphic\nmap into V has energy greater that cV . A (J, \u03bd)-holomorphic map f into Z is \u03b4-flat if the energy\n11\n\n\fin the \u03b4-neck E \u03b4 (f ) is at most cV /2. Note that a \u03b4-flat map into Z0 has no components mapped\nentirely into V .\nOnce and for all, fix \u03c7, n, d 6= 0 and for each \u03bb 6= 0 we set\n\u03bb\nM(Z\u03bb ) = M\u1e7c\u03c7,n,(1\nd ),(1d ) (Z\u03bb , dS).\n\nDenote the set of \u03b4-flat maps in M(Z\u03bb ) by M\u03b4 (Z\u03bb ) and write\nlim M\u03b4 (Z\u03bb )\n\n(4.1)\n\n\u03bb\u21920\n\nfor the set of limits of sequences of \u03b4-flat maps in M\u03b4 (Z\u03bb ) as \u03bb \u2192 0. Since \u03b4-flatness is a closed\ncondition, each map f in the limit set (4.1) is also \u03b4-flat and hence the domain of f has no\ncomponents mapped entirely into V . Consequently, we have\n(a) f splits as f = (f1 , f2 ) where f1 and f2 are respectively (V1 \u2294 V0 )-regular map into Ph and\n(V0 \u2294 V2 )-regular map into F0 and each fi has contact vector (1d ) with Vi for i = 1, 2,\n(b) f \u22121 (V0 ) consists of nodes {p1 , * * * , pl } of the domain such that each pi has a well-defined\nmultiplicity si equal to the order of contact of the image of f1 (or f2 ) with V0 at pi\n(see Section 3 of [IP2]). Renumbering the nodes {p1 , * * * , pl } gives l! ordered sequences s =\n(s1 , s2 , * * * , sl ). On the other hand, since for small |\u03bb| the \u03b4-flat maps in M\u03b4 (Z\u03bb ) are C 0 -close\nto \u03b4-flat maps in the limit set (4.1), to each map f in M\u03b4 (Z\u03bb ) one can assign ordered sequences\ns. Denote by M\u03b4s (Z\u03bb ) the set of all such pair (f, s) labeled by an ordered sequence s. Then,\nthere are actions of symmetric groups Sl such that\n\u0011.\nG\u0010 G\nM\u03b4s (Z\u03bb )\nSl = M\u03b4 (Z\u03bb ).\n(4.2)\nl\n\nl(s)=l\n\nFor Ph , F0 \u2282 Z0 and each ordered sequence s with deg(s) = d, there is an evaluation map\n\u0011\nS \u0010 V1 ,V0\nl(s)\nl(s)\n2\nM\u03c7 ,n ,(1d ),s (Ph , dS \u2212 kF ) \u00d7 MV\u03c70 ,V\n(F\n,\ndS\n+\nkF\n)\n\u2212\u2192 V0 \u00d7 V0\n(4.3)\nevs :\n0\nd\n,n ,s,(1 )\n1\n\n1\n\n2\n\n2\n\nthat records the intersection points with the fiber V0 where the union is over all 0 \u2264 k \u2264 h,\nl(s)\nl(s)\nn1 + n2 = n and \u03c7 = \u03c71 + \u03c72 \u2212 2l(s). Let \u25b3s be the diagonal of V0 \u00d7 V0 and denote by\nKs\u03b4 \u2282 evs\u22121 (\u25b3s )\nthe set of \u03b4-flat maps in evs\u22121 (\u25b3s ). Since each map in evs\u22121 (\u25b3s ) can be considered as a pair of\na map f into Z0 = Ph \u222aV0 F0 satisfying (a) and (b) with an ordered sequence s, we have\nG\nG\nM\u03b4s (Z\u03bb ) \u2282\nKs\u03b4 .\n(4.4)\nlim\n\u03bb\u21920\n\ns\n\ns\n\nConversely, each map f = (f1 , f2 ) \u2208 Ks\u03b4 can be smoothed to produce maps in M\u03b4s (Z\u03bb ) for\nsmall |\u03bb|. Let C1 and C2 be the domains of f1 and f2 respectively. Identifying the l(s) contact\npoints with V0 of C1 with the l(s) contact points with V0 of C2 determines a gluing map\nf\u03c7 ,n +l(s)+d \u00d7 M\nf\u03c7 ,n +l(s)+d \u2212\u2192 M\nf\u03c7,n+2d\nM\n1 1\n2 2\n12\n\n\fwhere \u03c7i = \u03c7(Ci ) for i = 1, 2. For each l(s), taking the union over all \u03c71 , \u03c72 , n1 and n2 defines\na gluing map\nG\nf\u03c7 ,n +l(s)+d \u00d7 M\nf\u03c7 ,n +l(s)+d \u2212\u2192 M\nf\u03c7,n+2d\n\u03bel(s) :\nM\n1 1\n2 2\n\nTheorem 10.1 of [IP2] then gives :\n\nTheorem 4.1 ([IP2]). For generic (J, \u03bd) \u2208 J (Z) and for small |\u03bb|, there is an |s|-fold covering\n\u03c0s,\u03bb : Ks\u03b4 (Z\u03bb ) \u2192 Ks\u03b4\nwith a commutative diagram (up to homotopy) :\nF\n\ns\n\n\u03a6\u03bb\n\nKs\u03b4 (Z\u03bb )\n\n/\n\nst\u03bb\n\n\u000f\n\nF f\nf\ns M\u03c71 ,n1 +l(s)+d \u00d7 M\u03c72 ,n2 +l(s)+d\n\nF\n\ns\n\nM\u03b4s (Z\u03bb )\n\n(4.5)\n\nst\n\n\u000f\n\n\u03be\n\n/\n\nf\u03c7,n+2d\nM\n\nwhere the top arrow is an embedding, st\u03bb = st \u25e6 \u03c0s,\u03bb and \u03be in the bottom arrow is given by the\ngluing maps \u03bel(s) . The construction of the smoothing map \u03a6\u03bb also shows that\nlim \u03a6\u03bb (f \u0303\u03bb ) = f\n\n\u03bb\u21920\n\n\u03c0s,\u03bb (f \u0303\u03bb ) = f.\n\nwhere\n\n(4.6)\n\nStep 2 : Let U be an open neighborhood of the zero section D of Ph and \u03b10 = \u03b1V0 be a\n2-form as in Section 2 (see the paragraph above Lemma 2.1). Regard the 2-form \u03b10 as a 2-form\non Ph \u00d7 C in an obvious way and for small \u01eb > 0 choose a bump function \u03b2 that is 1 on the\ncomplement of 2\u01eb-neighborhood of V1 in Z and vanishes on \u01eb-neighborhood of V1 in Z. The\n2-form \u03b2(p\u2217 \u03b10 ) then defines, again by the formula (0.1), an almost complex structure JV on Z.\nThe pair (JV , 0) \u2208 J (Z) and the restriction of JV to F0 is the product complex structure of F0\nsince p\u2217 \u03b10 vanishes on some neighborhood of F0 in Z. Moreover, by Remark 2.2, we have\n\u2217\n\n\u2217\n\nM\u03c7,n+2d (U\u03bb , dS, JV ) = M\u03c7,n+2d (D\u03bb , d)\n\u2217\n\n\u2217\n\nM\u03c7,n+2d (U0 \u2229 Ph , dS, JV ) = M\u03c7,n+2d (D, d)\n\n(4.7)\n\nwhere U\u03bb = p\u22121 (U \u00d7 {\u03bb}). Fix an open neighborhood W of D in Ph satisfying W \u2282 U and for\neach \u03bb set\nW\u03bb = p\u22121 (W \u00d7 {\u03bb})\nThe following fact is our key observation for the proof of Theorem A.\nLemma 4.2. For (J, \u03bd) \u2208 J (Z) sufficiently close to (JV , 0) and for small |\u03bb| > 0, we have\n\u2217\n\n\u2217\n\nM\u03c7,n+2d (U\u03bb , dS) \\ M\u03c7,n+2d (W\u03bb , dS) = \u2205.\nProof. Suppose not. Then there exists a sequence of (Jk , \u03bdk )-holomorphic maps fk into U\u03bbk with\nIm(fk ) \u2229 (U\u03bbk \\ W\u03bbk ) 6= \u2205 and with no degree zero connected components where \u03bbk converges to\n0 and (Jk , \u03bdk ) converges to (JV , 0) as k \u2192 \u221e. The Gromov Compactness Theorem then implies\nthat after passing to subsequences, fk converges to a JV -holomorphic map f into Z0 such that\n13\n\n\f(i) Im(f ) \u2282 U0 and (ii) Im(f ) \u2229 (U0 \\ W0 ) 6= \u2205. Since the limit map f also has no degree zero\nconnected components, (i) implies f can be split as f = (f1 , f2 ) where f1 and f2 map into Ph\nand F0 respectively such that\nIm(f1 ) \u2229 V0 = Im(f2 ) \u2229 V0 .\nIt follows from (4.7) that Im(f1 ) \u2282 D and hence Im(f2 )\u2229V0 = D\u2229V0 . Then, since the restriction\nof JV on F0 is the product complex structure, Im(f2 ) lies in the section of F0 passing through\nthe intersection point D \u2229 V0 . We have Im(f ) \u2282 W0 which contradicts (ii).\n\u0003\nFix (J, \u03bd) \u2208 J (Z) sufficiently close to (JV , 0) and for small |\u03bb| set\n\u1e7c\u03bb ,\u2217\n\u03b4\nM\u03b4,\u2217\ns (U\u03bb ) = {(f, s) \u2208 Ms (Z\u03bb ) | f \u2208 M\u03c7,n,(1d ),(1d ) (U\u03bb , dS) }.\n\nConsider the restriction of the evaluation map (4.3) :\n\u0011\nS \u0010 V1 ,V0 ,\u2217\nl(s)\nl(s)\nV0 ,V1 ,\u2217\n\u2217\n(P\n\u2229\nU\n,\ndS)\n\u00d7\nM\n(F\n\u2229\nU\n,\ndS)\n\u2212\u2192 V0 \u00d7 V0\nM\nevs,U\n:\n0\n0\n0\n\u03c7 ,,n ,(1d ),s h\n\u03c7 ,n ,s,(1d ) 0\n1\n\n1\n\n2\n\n2\n\nwhere the union is over all n1 + n2 = n and \u03c7 = \u03c71 + \u03c72 \u2212 2l(s).\nRemark 4.3. Let q be the intersection point of D and V in Z0 = Ph \u222aV0 F0 . Then there is a\nunique section Eq of F0 that lies in F0 \u2229 U0 and intersects with V0 at the point q. Choose l(s)\npoints {qj } in V0 \u2229 (F0 \u2229 U0 ) that are sufficiently close to q. Denote by\n2 ,\u2217\nMV\u03c70 ,V\n(F , dS) \u2229 {qj }\n,n ,s,(1d ) 0\n2\n\n2\n\nthe cut-down moduli space of (V0 \u2294 V2 )-regular (J, \u03bd)-holomorphic maps f with l(s) contact\npoints {xn+j } (with V0 ) satisfying f (xn+j ) = qj . Since every holomorphic map representing\nthe class dS and passing through the point q has its image in Eq , by the Gromov Compactness\nTheorem, we have\n2 ,\u2217\n2 ,\u2217\nMV\u03c70 ,V\n(F \u2229 U0 , dS) \u2229 {qj } = MV\u03c70 ,V\n(F , dS) \u2229 {qj }.\n,n ,s,(1d ) 0\n,n ,s,(1d ) 0\n2\n\n2\n\n2\n\n2\n\n(4.8)\n\nThis shows that local invariants of F0 counting maps into U0 with point constraints equal to the\nstandard invariants of F0 with points constraints.\n\u03b4,\u2217\n\u2217\nLet Ks,U\n= Ks\u03b4 \u2229 (evs,U\n)\u22121 (\u25b3s ). Lemma 4.2 and (4.4) imply\n0\n0\n\nlim\n\n\u03bb\u21920\n\nlim\n\n\u03bb\u21920\n\nG\u0010\n\nG\n\nM\u03b4,\u2217\ns (U\u03bb ) \u2282\n\ns\n\nG\n\n\u03b4,\u2217\nKs,U\n0\n\ns\n\nM\u03b4s (Z\u03bb ) \\ M\u03b4,\u2217\ns (U\u03bb )\n\ns\n\n\u0011 T G\n\n\u03b4,\u2217\nKs,U\n= \u2205.\n0\n\n(4.9)\n\ns\n\nConsequently, by (4.5), (4.6) and (4.9), for the restriction \u03a6loc\n\u03bb of the smoothing map \u03a6\u03bb to\n\u03b4,\u2217\n\u03b4,\u2217\n\u22121\nKs,U\n(U\u03bb ) = \u03c0s,\u03bb\n(Ks,U\n)\n0\n0\n\n14\n\n\fwe have a commutative diagram (up to homotopy):\nF\n\ns\n\n\u03a6loc\n\u03bb\n\n\u03b4,\u2217\nKs,U\n(U\u03bb )\n0\n\nF\n/\n\nst\u03bb\n\n\u000f\n\nF f\nf\ns M\u03c71 ,n1 +l(s)+d \u00d7 M\u03c72 ,n2 +l(s)+d\n\ns\n\nM\u03b4,\u2217\ns (U\u03bb )\n\n(4.10)\n\nst\n\n\u000f\n\n\u03be\n\nf\u03c7,n+2d\nM\n/\n\nStep 3 : The commutative diagram (4.10) leads to a sum formula for local invariants for the\nsum (Ph , V1 \u2294 V2 ) of (Ph , V1 \u2294 V0 ) and (F0 , V0 \u2294 V2 ) along V0 . We first assume that all maps in\n\u03bb ,\u2217\nM\u1e7c\u03c7,n,(1\nd ),(1d ) (U\u03bb , dS)\n\n(4.11)\n\nare \u03b4-flat when |\u03bb| is small. For fixed n1 + n2 = n, one can choose a continuous family of\ngeometric representatives B\u03bb disjoint with \u1e7c\u03bb satisfying :\n\u2022 each B\u03bb (\u03bb =\n6 0) is a geometric representative of the n product of fiber classes F \u2297n =\nF \u2297 * * * \u2297 F of (Z\u03bb )n \u2243 (Ph )n ,\n\u2022 B0 = BPh \u2294 BF0 where BPh and BF0 are geometric representatives of the classes F \u2297n1 of\n(Ph )n1 and F \u2297n2 of (F0 )n2 respectively.\nIt now follows from the diagram (4.10) that\n\u0001\u0003\n\u0002\n\u1e7c\u03bb ,\u2217\nst M\u03c7,n,(1\nd ),(1d ) (U\u03bb , dS) \u2229 B\u03bb\nX |s|\n\u0001\u0003\n\u0002\n\u2217\nf\u03c7,n+2d )\n\u2208 H\u2217 (M\n)\u22121 (\u25b3s ) \u2229 B0\n=\n(\u03bel(s) )\u2217 st (evs,U\n0\nl(s)!\ns\n\n(4.12)\n\nwhere the sum is over all l(s) = d. Here, the factor |s| is the degree of the covering map \u03c0s,\u03bb ,\nthe factor l(s)! reflects the fact that each map in the space M\u03b4,\u2217\ns (U\u03bb ) in the diagram (4.10) is\na labeled map as in (4.2) and the classes [st( * )] are defined by the images of cut-down moduli\nspaces under stabilization map as in Remark 3.4.\nIn general, if there are maps in the space (4.11) that are not \u03b4-flat then there is a correction\nterm in (4.12) given by three S-matrices in F0 (cf. Definition 11.3 of [IP2]) for V1 , V0 and V2 . In\nour case, since the constraint (F \u2217 )n is supported off the neck, Lemma 14.6 of [IP2] and Theorem\n12.3 of [IP2] imply that the correction term is trivial. Consequently, by the splitting of the\ndiagonal \u25b3s , together with (3.4), (4.8) and Remark 3.1, it follows from (4.12) that\nloc,h,p\nGT(1\nd ),(1d )\n\nn\nY\ni=1\n\n\u03c6ki i (F \u2217 )\n\n\u0001\n\nloc,h,p\n\u2217 n\n= GT(1\nd ),(1d ),\u03c7 (F )\n\n\u0001\n\n\u2229\n\nn\nY\n\n\u03c6ki i (F \u2217 )\n\ni=1\n\nn\nY\nX |m|\n\u0001\n\u0001\nloc,h,p\nki \u0001\nF0\n\u2217 n1\n\u2217 n2\n\u2217\n\u03c6\n(F\n)\n(F\n)\n\u2297\nGT\n\u2229\n(\u03be\n)\nGT(1\n=\nd ),m,\u03c7\nd\nl(m)\ni\nm,(1 ),\u03c72\n1\nm!\n\n(4.13)\n\ni=1\n\nwhere the sum is over all partitions m of d and \u03c71 + \u03c72 \u2212 2l(m) = \u03c7 (cf. Theorem 12.3 of [IP2]).\nProof of Theorem A : Let f = (f1 , f2 ) be a map that contributes to the right hand-side of\n(4.13). Then we have\n15\n\n\f\u2022 every connected component of the domain of (V0 \u2294 Vi )-regular map fi has at least two\ncontact (marked) points with V0 \u2294 Vi ,\n\u2022 every connected component of the domain of f2 has exactly one contact marked point with\nV0 ; the contact constraint with V0 is Cptl(m) (see (3.7)) and the image of each connected\ncomponent can't pass through more than two distinct points on V0 .\nNoting the gluing map \u03bel(m) is the map obtained by successively applying gluing maps as in\n(1.3) to connected components, by Lemma 1.2 (b) we have\n\u2217\n\n(\u03bel(m) )\n\nn\nY\ni=1\n\n\u0001\n\u03c6ki i\n\n=\n\nn1\nY\ni=1\n\n\u03c6ki i\n\n\u2297\n\nn2\nY\n\nkn1 +i\n\n\u03c6i\n\n.\n\n(4.14)\n\ni=1\n\nThe sum formula (4.13) together with (4.14) gives\nloc,h,p\nGT(1\nd ),(1d )\n\nn\nY\n\n\u03c6ki i (F \u2217 )\n\ni=1\n\n\u0001\n\nn1\nn2\nX |m|\nY\nY\n\u0001\n\u0001\nkn +i\nloc,h,p\nki\nF0\n\u2217\n\u03c6\n\u03c6i 1 (F \u2217 ) . (4.15)\n(F\n)\n*\nGT\nGT(1\nd ),m\nd)\ni\nm,(1\nm!\nm\n\n=\n\ni=1\n\ni=1\n\nNow, Theorem A follows from (4.15) and Proposition 5.1 in the next section.\n\n5\n\n\u0003\n\nDescendent Invariants vs. Relative Invariants\n\nThe aim of this section is to show :\nn\nY\n\u0001\nloc,h,p\n\u03c4ki (F \u2217 ) =\nProposition 5.1. GTd\ni=1\n\nn\nY\n\u0001\n1\nloc,h,p\nki\n\u2217\n\u03c6\n(F\n)\n.\nGT\nd\nd\ni\n(1 ),(1 )\n(d!)2\ni=1\n\nBy the relation of GT and GW invariants (cf. Section 2 of [IP2]), it suffices to prove Proposition 5.1 for local GW invariants that count maps with connected domains. Let GWdloc,h,p( * )\nloc,h,p\nand GWm\n1 ,m2 ( * ) denote absolute and relative local GW invariants and let\n\u03c0 = \u03c02d : Mg,n+2d \u2192 Mg,n\n\n(5.1)\n\nbe the forgetful map that forgets the last 2d marked points.\nP\nLemma 5.2. If\nki = 0 or n \u2265 3, then we have\nGWdloc,h,p\n\nn\nY\ni=1\n\n\u03c6ki i (F \u2217 )\n\n\u0001\n\n=\n\nn\nY\n\u0001\n1\nloc,h,p\n\u03c0 \u2217 \u03c6ki i (F \u2217 ) .\nGW\nd ),(1d )\n2\n(1\n(d!)\n\n(5.2)\n\ni=1\n\nProof. Consider the symplectic fiber sum Ph = F0 #V1 Ph #V2 F0 where V1 and V2 are two distinct\nfibers of Ph . This sum can be obtained by blowing up Ph \u00d7 C along (V1 \u222a V2 ) \u00d7 {0}. The same\narguments of Section 4 thus give a sum formula that is analogous to (4.13) :\nGTdloc,h,p\n\nn\nY\ni=1\n\n\u03c6ki i (F \u2217 )\n\n\u0001\n\nn\nX |m1 ||m2 |\nY\n\u0001\nloc,h,p\nF0\nF0\nki \u0001\n\u2217 n\n\u2217\nGT\n\u2297\nGT\n=\n(F\n)\n\u2297\nGT\n\u2229\n(\u03be\n)\n\u03c6\n1\n2\n1 ,\u03c7\n1 ,m2 ,\u03c7\n2 ,\u03c7\nl(m\n),l(m\n)\ni\nm\nm\nm\n1\n2\n1\n0\n2\nm !m !\ni=1\n\n16\n\n(5.3)\n\n\fP\nwhere the sum is over all \u03c71 + \u03c70 + \u03c72 \u2212 2l(m1 ) \u2212 2l(m2 ) = 2d(1 \u2212 h) \u2212 2 ki and \u03bel(m1 ),l(m2 )\nis P\nthe gluing map obtained by identifying contact points of domains (see above Theorem 4.1).\nIf\nki = 0 then for k = 1, 2, by dimension count, we have\n0 = 2d \u2212 21 \u03c7k + (l(mk ) \u2212 d) \u2212 l(mk ) = d \u2212 21 \u03c7k .\n\n(5.4)\n\nThis shows \u03c7k = 2d and hence mk = (1d ). Thus, (5.2) for n = 0 follows from (3.8) and (5.3).\nAssume n \u2265 3 and let f = (f1 , f0 , f2 ) be a map that contributes to the right hand side of\n(5.3). In order to obtain a sum formula for local GW invariants, we assume that the domain of\nf is connected. We have\n\u2022 since all marked points of f map into the middle Ph side, the domain of fk (k = 1, 2)\nmapped into F0 has no marked points except contact points,\n\u2022 as in the proof of Theorem A, every connected components of the domain of fk has one\ncontact point with Vk .\nIt follows that the domain of f0 is connected and the gluing map \u03be = \u03bel(m1 ),l(m2 ) can be obtained\nby composing gluing maps as in (1.3) with n2 = 0 :\n\u03b7 : Mg1 ,n1 +1 \u00d7 Mg2 ,1 \u2192 Mg1 +g2 ,n1 +1\nwhere n1 \u2265 n \u2265 3. By Lemma 1.2 (a) for g2 = 0 and by Lemma 1.2 (b) for g2 \u2265 1, one\ncan see that the pull-back class \u03be \u2217 \u03c6i restricts to the trivial class on two F0 sides and hence\nfk is constrained by only l(mk ) point contact constraints. The dimension count (5.4) then\nshows \u03c7k = 2d and mk = (1d ), and hence \u03be is a composition of gluing maps \u03b7 as above with\n(g2 , n2 ) = (0, 0). Consequently, again by Lemma 1.2 (a), we have\nX\n\u03be \u2217 \u03c6i = 1 \u2297 \u03c6i \u2212\n\u03b4{i}\u222aI ) \u2297 1\n(5.5)\nwhere the sum is over all I \u2282 {n + 1, * * * , n + 2d} with I 6= \u2205. On the other hand, (1.2) shows\nX\n\u03c0 \u2217 \u03c6i = \u03c6i \u2212\n\u03b4{i}\u222aI .\n(5.6)\nNow, (5.2) for n \u2265 3 follows from (3.8), (5.3), (5.5) and (5.6).\n\n\u0003\n\nRemark 5.3. The same argument of the proof of Lemma 5.2 applies to various sumPformulas\nfor the fiber sum of Ph and F0 . In particular, for dimension zero local invariants (i.e.\nki = 0),\none can use (3.8) and the dimension count (5.4) to show\nGTdloc,h,p =\n\nLemma 5.4. If\n\nP\n\n1\n1\nloc,h,p\nloc,h,p\nGT(1\n=\nGT(1\nd)\nd ),(1d )\nd!\n(d!)2\n\nand\n\nloc,h,p\nGTm\n=\n\n1\nloc,h,p\nGTm,(1\nd)\nd!\n\nki = 0 or n \u2265 3, then we have\n\nGWdloc,h,p\n\nn\nY\ni=1\n\n\u03c4ki (F \u2217 )\n\n\u0001\n\n=\n\nn\nY\n\u0001\n1\nloc,h,p\nGW\n\u03c6ki i (F \u2217 ) .\nd ),(1d )\n2\n(1\n(d!)\ni=1\n\n17\n\n(5.7)\n\n\fP\nProof. If\nki = 0 then (5.7) follows from Lemma 5.2. Assume n \u2265 3 and h > 0 (we will give\na proof for the case when h = 0 in the appendix). Let V = V1 \u222a V2 be a union of two distinct\nfibers of Ph and denote by\nMV = MVg,n,(1d ),(1d ) (U, dS)\nthe local relative GW moduli space. Let B be a product of n generic fibers of Ph each of which is\ndisjoint with V and let f be a limit map of a sequence in the cut-down moduli space CMV \u2229 B\nwhere CMV is the closure of MV in Mg,n+2d (U, dS). Then, Remark 2.5 shows that every genus\nzero irreducible component of f maps entirely into either B or V . This implies that for 1 \u2264 i \u2264 n\nand for any I \u2282 {n + 1, * * * , n + 2d} with I 6= \u2205 we have\n\u0002 V\u0003\nM\n\u2229 \u03b4{i}\u222aI \u2297 (F \u2217 )n = 0.\n(5.8)\nTherefore, (5.7) for h > 0 follows from (2.7), Lemma 5.2, (5.6) and and (5.8).\n\n\u0003\n\nProof of Proposition 5.1 : We will show that (5.7) holds for all n. By (4.15), we have\nloc,h,p\nGW(1\nd ),(1d )\n\nn\nY\ni=1\n\n\u0001\n\u03c6ki i (F \u2217 )F \u2217 F \u2217\n\nn\nY\n\u0001\n\u0001\n1\nloc,h,p\nF0\n\u2217 \u2217\n\u03c6ki i (F \u2217 ) * GT(1\n=\nGW(1d ),(1d )\nd ),(1d ) F F\nd!\ni=1\n\nloc,h,p\n= d2 GW(1\nd ),(1d )\n\nn\nY\ni=1\n\n\u03c6ki i (F \u2217 )\n\n\u0001\n\n(5.9)\n\nwhere the second equality follows from Divisor Axiom and (3.8). On the other hand, one can\nsee that the generalized Divisor Axiom (cf. Lemma 1.4 of [KM]) for descendant GW invariants\nalso holds for descendant local invariants. Thus, we have\nGWdloc,h,p\n\nn\nY\n\n\u2217\n\n\u03c4ki (F )\n\ni=1\n\n1\nloc,h,p\nGW(1\n= 2\nd ),(1d )\n2\nd (d!)\n\n\u0001\n\nn\nY\ni=1\n\nn\nY\n\u0001\n1\nloc,h,p\n= 2 GWd\n\u03c4ki (F \u2217 )F \u2217 F \u2217\nd\ni=1\n\n\u0001\n\u03c6ki i (F \u2217 )F \u2217 F \u2217\n\nn\nY\n\u0001\n1\nloc,h,p\n\u03c6ki i (F \u2217 ) .\n=\nGW(1d ),(1d )\n2\n(d!)\ni=1\n\nwhere the second equality follows from Lemma 5.4 and the last from (5.9). This completes the\nproof of Proposition 10.1.\n\u0003\n\n6\n\nLocal Contributions to GT invariants of Ruled Surfaces\n\nLet \u03c0 : F1 = P(OE (1) \u2295 OE ) \u2192 E be a ruled surface over E = P1 . This section describes local\ncontributions to GW invariants of F1 that is needed for the proof of Theorem B. We also denote\nby E the zero section of F1 and by S the section class represented by the zero section E.\nRemark 6.1. Let f : C \u2192 F1 be a holomorphic map from a smooth domain C that represents\nthe class dS. Then f defines a holomorphic section \u03be of the line bundle (\u03c0 \u25e6 f )\u2217 OE (1) over C.\nThe zero set Z(\u03be) of \u03be is the preimage f \u22121 (E) of the zero section E, so if the image of f does\nnot lie in E (i.e. \u03be 6= 0) then\n|f \u22121 (E)| = |Z(\u03be)| \u2264 #Z(\u03be) = deg((\u03c0 \u25e6 f )\u2217 OE (1)) = d\nwhere #Z(\u03be) is the number of zeros of \u03be counted with multiplicities.\n18\n\n\fChoose distinct fibers V1 , V0 and V2 of F1 and set\nV = V1 \u2294 V0 \u2294 V2 .\nRemark 6.2. Let f : P1 \u2192 F1 be a holomorphic map that represents the class 2S. If f has a\ncontact vector (2) with Vi at pi \u2208 P1 then for the composition map\nf\n\n\u03c0\n\nP1 \u2212\u2192 F1 \u2212\u2192 E = P1\nthe point pi is a ramification point of multiplicity two. Thus f \u22121 (V ) consists of at least four\npoints. For otherwise, \u03c0 \u25e6 f is a holomorphic map of degree 2 with three ramification points,\nwhich is impossible by the Riemann-Hurwitz formula.\nRemark 6.1 and Remark 6.2 immediately give :\nLemma 6.3. Let f be a holomorphic map into F1 from a smooth domain of genus g representing\nthe class dS and satisfying\nIm(f ) \u2229 (V1 \u2294 V2 ) = (V1 \u2294 V2 ) \u2229 E.\nIf either (i) d = 1 or (ii) d = 2, g = 0 and the contact vector of f with V0 is (2) then the image\nof f lies in E.\nFix a neighborhood U of the zero section E whose closure is disjoint from the infinity section\nof F1 . For V -compatible (J, \u03bd) and ordered sequences s1 and s2 with deg(s1 ) = deg(s2 ) = 2,\nchoose l(s1 ) points {pi } in V1 and l(s2 ) points {qj } in V2 and let\nV1 ,V0 ,V2\n1 ,V0 ,V2\nMV0,s\n1 ,(2),s2 (U, 2S, J, \u03bd) \u2229 {pi , qj } \u2282 M0,s1 ,(2),s2 (U, 2S, J, \u03bd)\n\n(6.1)\n\ndenote the cut-down moduli space of V -regular maps f into U with (connected) domain of genus\nzero and with n contact points {xi } satisfying : f (x0 ) \u2208 V0 , f (xi ) = pi and f (xl(s1 )+j ) = qj\nwhere n = l(s1 ) + l(s2 ) + 1. This cut-down moduli space has (formal) dimension zero. Consider\na sequence of maps (fk , Ck ; {xki }) in the cut-down moduli spaces\nk k\n1 ,V0 ,V2\nMV0,s\n1 ,(2),s2 (U, 2S, Jk , \u03bdk ) \u2229 {pi , qj }\n\n(6.2)\n\nwhere the points {pki } \u2294 {qjk } \u2282 (V1 \u2294 V2 ) converge to points in (V1 \u2294 V2 ) \u2229 E and V -compatible\n(Jk , \u03bdk ) converges to the complex structure of F1 as k \u2192 \u221e. By the Gromov Compactness\nTheorem, after passing to subsequences, the sequence of maps (fk , Ck ; {xki }) then converges to\na holomorphic map\n(6.3)\n(f, C; {xi }) \u2208 M0,n (U , 2S).\nSince Im(f ) \u2282 U , every component of C mapped entirely into V is a ghost component. The\nfollowing lemma shows that the image of f lies in the zero section E. Let s0 = (2).\nLemma 6.4. Let (f, C; {xi }) be as above and let Ci denote an irreducible component C that\ncontains a marked point xi0 mapped into Vi . If si = (2) for some 0 \u2264 i \u2264 2 then we have\n(a) if f is Vi -regular then the restriction f to Ci represents the class 2S,\n19\n\n\f(b) if f is not Vi -regular then Ci is a ghost component with xj \u2208\n/ Ci for j 6= i0 and C \\ Ci has\ntwo connected components Cil such that the restriction of f to Cil represents the class S.\nIn particular, the image of f lies in the zero section E of F1 .\nProof. First note that, since Im(fk ) \u2192 Im(f ) and Im(f ) \u2282 U , we have\n(i) Im(f ) \u2229 (V1 \u2294 V2 ) = (V1 \u2294 V2 ) \u2229 E,\n(ii) the restriction of f to each component of C represents the class kS where 0 \u2264 k \u2264 2.\nIf a marked point xi is a limit point of the contact points xki of fk with Vi , i.e. fk (xki ) \u2208 Vi , then\nxi is a contact point of f with the same contact order as xki unless a component containing xi\nmaps into V . Thus, if f is Vi -regular then f has a contact vector (2) with Vi at xi0 and hence\nby (ii) the restriction of f to Ci represents the class 2S. This proves (a).\nOn the other hand, if f is not Vi -regular then Ci is a ghost component mapped into Vi .\nMoreover, by the assumption si = (2) only one marked point xi0 maps into Vi , so xj \u2208\n/ Ci for\nj 6= i0 . Note that, since C is a connected curve of (arithmetic) genus zero, each irreducible\ncomponent of C is smooth of genus zero. Thus Remark 1.1 implies that C \\ Ci has at least two\nconnected components. Let Cil be a connected component of C \\ Ci . Then,\n|Cil \u2229 C \\ Cil | = |Cil \u2229 Ci | = 1\nwhere the second equality follows from the fact C is a connected curve of genus zero. So, if Cil\nmaps to a point then f (Cil ) \u2208 Vi and, by Remark 1.1, Cil has at least two marked points xj with\nf (xj ) \u2208 Vi . This is impossible since f (xj ) \u2208 Vj for some Vj disjoint with Vi . Thus there are two\nconnected components of C \\ Ci such that the restriction of f to both components represent the\nclass S. This completes the proof (b).\nNow (a), (b), (i), (ii) and Lemma 6.3 imply that the image of f lies in the zero section E\nsince s0 = (2).\n\u0003\nRemark 6.5. Let f be a limit map as in Lemma 6.4 and suppose that C0 and C1 are irreducible\ncomponents of the domain C of f which contain marked points x0 and x1 mapped into V0 and\nV1 . Suppose s1 = (2). Then, since s0 = (2), Lemma 6.4 implies that f is V0 -regular if and only\nif f is V1 -regular. Suppose f is not (V0 \u2294 V1 )-regular. Then, by Lemma 6.4 (b), both C0 and\nC1 are ghost components with C0 \u2229 C1 = \u2205. Since the domain C is a connected curve of genus\nzero, the same argument for the proof of Lemma 6.4 (b) shows that C \\ (C0 \u2294 C1 ) has at least\nl such that the restriction of f to each C l represents the class\nthree connected components C01\n01\nS. This is impossible, so (i) f must be (V0 \u2294 V1 )-regular (ii) C0 = C1 and (iii) the restriction of f\nto the component C0 = C1 represents the class 2S. In particular, if s1 = s2 = (2) then f \u22121 (V )\nconsists of three contact points. This contradicts Remark 6.2. Therefore, if s1 = s2 = (2) then\nfor all large k the cut-down moduli space (6.2) must be empty.\nFor V -compatible (J, \u03bd) and for points {pi } in V1 and {qj } in V2 denote by\n1 ,V0 ,V2\nM = MV0,s\n1 ,(2),s2 (F1 , 2S) \u2229 {pi , qj }\n\nthe cut-down moduli space of V -regular (J, \u03bd)-holomorphic maps into F1 with the point constraints {pi , qj }. Then we have a splitting of contributions to relative GW invariant\n,V0 ,V2\nGWFV11,2S,0,s\n(Cptl(s1 ) , CF , Cptl(s2 ) ) = [ M ] = [ M(U ) ] + [ M \\ M(U ) ]\n1 ,(2),s2\n\n20\n\n(6.4)\n\n\fwhere M(U ) is the cut-down moduli space (6.1) and M \\ M(U ) consists of maps f in M whose\nimage dose not lie in U \u2282 F1 . Here, [ * ] denotes the zero-dimensional homology class defined by\ncut-down moduli space as in Remark 3.4. In general, this splitting is not well-defined, namely\nit depends on the choice of (J, \u03bd) and the point constraints {pi , qj }. However, by the Gromov\nCompactness theorem and Lemma 6.4, the splitting (6.4) is well-defined whenever (i) (J, \u03bd) is\nclose to the complex structure of F1 and (ii) points {pi , qj } are also close to points in (V1 \u2294V2 )\u2229E.\nIn such cases, the contribution\n\u0001\u0003\n\u0002\n1 ,V0 ,V2\n(6.5)\n[ M(U ) ] = MV0,s\n1 ,(2),s2 U, 2S; Cptl(s1 ) , CF , Cptl(s2 )\nis independent of the choice of (J, \u03bd) and {pi , qj }. Furthermore, this local contribution is independent of the choice of the neighborhood U of the zero section E in F1 .\nLemma 6.6. For any neighborhood U of the zero section E in F1 whose closure is disjoint from\nthe infinity section of F1 , we have\n\u0002 V1 ,V0 ,V2\n\u0001\u0003\n\u0002\n\u0001\u0003\n1 ,V0 ,V2\n(a) M0,(2),(2),(2)\nU, 2S; Cpt , CF , Cpt = 0\n(b) MV0,(2),(2),(1,1)\nU, 2S; Cpt , CF , Cpt2 = 1\n\nProof. (a) follows from Remark 6.5. Let s1 = (2), s2 = (1, 1) and (f, C; {xi }) be a limit map\nas in (6.3). Again by Remark 6.5, f is (V1 \u2294 V0 )-regular map into E \u2282 F1 and the restriction of\nf to the component C0 = C1 containing x0 and x1 represents the class 2S. Stability of f then\nimplies either C = C0 or C = C0 \u222a C2 where C2 is a ghost component containing the marked\npoints x2 and x3 . Suppose C = C0 \u222a C2 . In this case, C has one node since the (arithmetic)\ngenus of C is zero. The restriction f0 = f|C0 has a contact order two with V2 at the node of\nC, so f0\u22121 (V ) consists of three contact points. This contradicts Remark 6.2. Therefore, f is a\nholomorphic map from C = P1 into E = P1 of degree two with two ramification points x0 and\nx1 and f (xi ) \u2208 V2 \u2229 E for i = 2, 3. Observe that there is a unique such map f .\nLet J denote the complex structure on F1 and set\n1 ,V0 ,V2\nMV = MV0,(2),(2),(1,1)\n(U, 2S, J)\n\nand\n\nh = h(2) \u00d7 h(1,1) : MV \u2192 V1 \u00d7 (V2 \u00d7 V2 )\n\nwhere h(2) and h(1,1) are evaluation maps as in (3.2). Let Df be the (full) linearization of\nholomorphic map equation at f . Since the normal bundle of Im(f ) = E is OE (1), we have\n\u2022 coker Df = H 1 (f \u2217 OE (1)) = H 1 (OP1 (2)) = 0 and hence\n\u2022 MV is smooth near f with Tf MV = H 0 (f \u2217 OE (1)) = H 0 (OP1 (2)),\n\u2022 dhf (\u03be) = ( \u03be(x1 ), \u03be(x2 ), \u03be(x3 ) ).\nIn fact, regarding the neighborhood U of E in F1 as a disk subbundle of OE (1), one can identify\nholomorphic sections \u03be of f \u2217 U \u2282 f \u2217 OE (1) with V -regular holomorphic maps f\u03be in MV - in\nlocal trivialization, f\u03be (x) = (f (x), \u03be(x)). By Remark 6.1 the differential dhf is one-to-one. Thus\ndhf is onto since h0 (OP1 (2)) = 3. We can now conclude that the contribution of (f, P1 ; {xi }) to\nthe invariant (6.5) is +1 since f has no nontrivial automorphisms and dhf is onto and complex\nlinear. This completes the proof of (b).\n\u0003\nWe will compute the local contribution (6.5) for the case s1 = s2 = (1, 1) in the next section\n(see (7.10)).\n21\n\n\f7\n\nSpin Curve Degeneration and Sum Formula I\n\nThis section proves Theorem B (a) in three steps. First we review the dualizing sheaf. The\ndualizing sheaf \u03c9X of a variety X (if exists) is the unique invertible sheaf making Serre duality\nvalid; when X is smooth \u03c9X is the canonical bundle KX . For a proper holomorphic map\nf : X \u2192 B between two smooth varieties, the relative dualizing sheaf \u03c9f is the locally free rank\none sheaf \u03c9X \u2297 (f \u2217 \u03c9B )\u22121 whose restriction to each fiber Xb is the dualizing sheaf of Xb (cf. [T]\nand [HM]).\nStep 1 : Let D1 \u222aq D2 be a union of two smooth curves D1 and D2 of genera h1 and h2 , meeting\nat one point q. Blowing up the point q yields a nodal curve D0 with an exceptional component\nE = P1 that meets D\u0304 = D1 \u2294 D2 at two points. A theta characteristic of the nodal curve D0 is\na line bundle N0 together with a homomorphism \u03c6 : N02 \u2192 \u03c9D0 satisfying :\n\u2022 N0 restricts to O(1) on the exceptional component E,\n\u2022 \u03c6 vanishes identically on E and restricts to an isomorphism N02 |D\u0304 \u2243 \u03c9D\u0304 ,\nwhere \u03c9D0 and \u03c9D\u0304 are the dualizing sheaves of D0 and D\u0304 respectively. Since \u03c9D\u0304 is the canonical\nbundle of D\u0304, the line bundle N0 restricts to theta characteristic N1 on D1 and restricts to theta\ncharacteristic N2 on D2 . The triple (D0 , N0 , \u03c6) is a spin curve of genus h = h1 + h2 with parity\np \u2261 p1 + p2 (mod 2) where pi is a parity of the spin curve (Di , Ni ). It then follows from a\nuniversal deformation of the spin curve (D0 , N0 , \u03c6) (cf. pg 570 [C]) that there are\n\u2022 a family of curves \u03c1 : D \u2192 \u2206 where \u2206 is a unit disk in C, the fiber D\u03bb over \u03bb 6= 0 is a\nsmooth curve of genus h and the central fiber is the nodal curve D0 ,\n\u2022 a line bundle \u03c0 : N \u2192 D \u0001together with a homomorphism \u03a6 : N 2 \u2192 \u03c9\u03c1 such that each\nD|\u03c1\u22121 (\u03bb) , N|\u03c1\u22121 (\u03bb) , \u03a6|\u03c1\u22121 (\u03bb) is a spin curve of genus h with parity p,\n\nwhere \u03c9\u03c1 is the relative dualizing sheaf of \u03c1 (for more details see [C]).\nLet ND\u03bb (\u03bb 6= 0) be the total space of N |D\u03bb and ND\u0304 be the total space of N |D\u0304 . Since both\ntotal spaces ND\u03bb and ND\u0304 are smooth, there are short exact sequences\n0 \u2192 \u03c0 \u2217 N |D\u03bb \u2192 T ND\u03bb \u2192 \u03c0 \u2217 T D\u03bb \u2192 0\n\nand\n\n0 \u2192 \u03c0 \u2217 N |D\u0304 \u2192 T ND\u0304 \u2192 \u03c0 \u2217 T D\u0304 \u2192 0.\n\nIt then follows from these exact sequences that\n\u2217\n\u2297 \u03c0 \u2217 KD\u03bb\nKND\u03bb = \u03c0 \u2217 N |D\n\u03bb\n\nand\n\nKND\u0304 = \u03c0 \u2217 N |\u2217D\u0304 \u2297 \u03c0 \u2217 KD\u0304 .\n\n(7.1)\n\nOn the other hand, the homomorphism \u03a6 : N 2 \u2192 \u03c9\u03c1 induces a homomorphism\n\u03a6\u2032 : \u03c0 \u2217 N = \u03c0 \u2217 (N \u2217 \u2297 N 2 ) \u2212\u2192 \u03c0 \u2217 (N \u2217 \u2297 \u03c9\u03c1 ).\nLet \u03c3 be the tautological section of \u03c0 \u2217 N . Since the relative dualizing sheaf \u03c9\u03c1 restricts to\ndualizing sheaf \u03c9D\u03bb on D\u03bb , by (7.1) the composition \u03a6\u2032 \u25e6 \u03c3 is a section of \u03c0 \u2217 (N \u2217 \u2297 \u03c9\u03c1 ) satisfying :\n\u2022 \u03a6\u2032 \u25e6 \u03c3 restricts to a holomorphic 2-form \u03b1\u03bb on ND\u03bb (\u03bb 6= 0) whose zero set is D\u03bb ,\n22\n\n\f\u2022 \u03a6\u2032 \u25e6 \u03c3 restricts to a holomorphic 2-form \u03b10 on ND\u0304 whose zero set is D\u0304.\nLet NE denote the total space of N |E . For sufficiently small \u01eb > 0, choose a bump function\n\u03b2 that is 1 on the complement of the 2\u01eb-neighborhood of NE in ND and vanishes on the \u01ebneighborhood U\u01eb of NE . For each point x \u2208 ND \\ U\u01eb we set \u03b2\u03b1\u03bb (vx , * ) = 0 for normal vectors\nvx to submanifold ND\u03bb (or ND\u0304 for \u03bb = 0) at x and define \u03b1 = \u03b2\u03b1\u03bb at x. Extension \u03b1 by zero\nthen gives a 2-form on ND that restricts to \u03b2\u03b1\u03bb on ND\u03bb (\u03bb 6= 0) and to \u03b2\u03b10 on ND\u0304 .\nStep 2 : Consider the projectivization P(N \u2295 OD ) over D that gives a degeneration\n\u03bb : Z = P(N \u2295 OD ) \u2192 D \u2192 \u2206\nwhose fiber Z\u03bb (\u03bb 6= 0) is a ruled surface over D\u03bb isomorphic to Ph = P(N \u2295 OD ) where (D, N )\nis a (smooth) spin curve of genus h = h1 + h2 with parity p \u2261 p1 + p2 (mod 2) and whose central\nfiber Z0 is the singular (ruled) surface\nPh1 \u222aV1 F1 \u222aV2 Ph2 \u2192 D0\nwhere V1 and V2 are fibers over the nodes of D0 . Note that the general fiber Z\u03bb (\u03bb 6= 0) is the\nsymplectic fiber sum\nPh = Ph1 #V1 #F1 #V2 Ph2 .\nLet U be an (open) neighborhood of the zero section of Z = P(N \u2295 OD ) and fix an isomorphism \u03a8 from U to some neighborhood of D \u2282 ND taking the zero section of Z to D. Choose\na point q0 in the exceptional component E \u2282 D0 that is not a nodal point and let B \u2282 D be a\nnormal disk to E \u2282 D at q0 , namely the intersection B \u2229 D\u03bb is one point for all small |\u03bb|. Let\n\u1e7c\u03bb be the fiber of Z\u03bb \u2192 D\u03bb over the intersection point B \u2229 D\u03bb and set\nV = V1 \u2294 V0 \u2294 V2\nwhere V0 = \u1e7c0 . Denote by J (Z) the space of all (J, \u03bd) on Z satisfying : (i) each Z\u03bb is J-invariant\nand (ii) the restriction of (J, \u03bd) to Z0 and Z\u03bb (\u03bb 6= 0) are V -compatible and \u1e7c\u03bb -compatible\nrespectively. We will use the same notation (J, \u03bd) for its restriction to each Z\u03bb . Denote by the\nsame S the section classes of Ph1 , F1 , Ph2 and Z\u03bb represented by the zero sections. Let Di\n(i = 1, 2) and D\u03bb denote the zero sections of Phi and Z\u03bb respectively. For each small |\u03bb| we set\nU\u03bb = U \u2229 Z\u03bb .\nBy using the 2-form \u03b1 on ND together with the isomorphism \u03a8, we obtain :\nLemma 7.1. There is an almost complex structure JV on Z satisfying :\n(a) (JV , 0) \u2208 J (Z) and JV restricts to the complex structure of F1 ,\n\u2217\n\n\u2217\n\n(b) M\u03c7,n (U\u03bb , dS, JV ) = M\u03c7,n (D\u03bb , d) and\n\n\u2217\n\n\u2217\n\nM\u03c7,n (U0 \u2229 Phi , dS, JV ) = M\u03c7,n (Di , d),\n\n(c) for generic (J, \u03bd) \u2208 J (Z) sufficiently close to (JV , 0) and for small |\u03bb| > 0\n\u0002\n\n\u1e7c\u03bb ,\u2217\n(U\u03bb , 2S)\nM\u03c7,(2)\n\n\u0003\n\nloc,h,p\n= GT(2)\n\nand\n\n23\n\n\u0002\n\nM\u03c7Vii,\u2217\n,si (Phi \u2229 U0 , 2S)\n\n\u0003\n\ni ,pi\n= GTsloc,h\ni\n\n\fwhere \u03c7 = 2 \u2212 4h, \u03c7i = 2l(si ) \u2212 4hi for i = 1, 2.\nProof. By the isomorphism \u03a8 as above, one can regard \u03b1\u03bb (\u03bb 6= 0) and \u03b10 as holomorphic 2forms on U\u03bb and on U0 \u2229 (Ph1 \u2294 Ph2 ) whose zero sets are D\u03bb and D1 \u2294 D2 , respectively. Similarly,\none can also regard \u03b2 as a bump function on U and \u03b1 as a 2-form on U satisfying (i) \u03b1 vanishes\non some neighborhoods of F1 , V and \u1e7c\u03bb for small |\u03bb|, and (ii) the restriction of \u03b1 to U\u03bb and\nU0 \u2229 (Ph1 \u2294 Ph2 ) are respectively \u03b2\u03b1\u03bb and \u03b2\u03b10 . Now, let JV be the almost complex structure\non Z induced by \u03b1 and the formula (0.1). Then, (a) follows from (i), (b) follows from (ii) and\nRemark 2.2 and (c) follows from definition and compactness by (b).\n\u0003\n\u03bb\n(U\u03bb , 2S) with f \u22121 (\u1e7c\u03bb ) = {x} where the Euler characRemark 7.2. Let f be a map in M\u1e7c\u03c7,(2)\nteristic \u03c7 = 2 \u2212 4h. If there is a connected component of the domain of f that does not contain\nthe contact point x then the restriction of f to that component represents the trivial homology\nclass. The stability of f thus shows C is connected since there is no marked points except the\ncontact point x. Consequently, for \u03bb 6= 0 we have\n\u03bb ,\u2217\n\u03bb\n\u03bb\n(U\u03bb , 2S)\n(U\u03bb , 2S) = M\u1e7cg,(2)\n(U\u03bb , 2S) = M\u1e7c\u03c7,(2)\nM\u1e7c\u03c7,(2)\n\n(7.2)\n\nwhere the genus g = 2h. Similar arguments also show that\nV1 ,V0 ,V2\n0 ,V2 ,\u2217\nMV\u03c710,V\n,s1 ,(2),s2 (F1 , 2S) = Mg0 ,s1 ,(2),s2 (F1 , 2S)\n\n(7.3)\n\nwhere the Euler characteristic \u03c70 = 2 and the genus g0 = 0.\nStep 3 : Choose an (open) neighborhood W of the zero section of Z = P(N \u2295 OD ) with W \u2282 U\nand for each small |\u03bb| set\nW\u03bb = W \u2229 Z\u03bb .\nThe following is the key fact to the proof of Theorem B (a).\nLemma 7.3. For (J, \u03bd) \u2208 J (Z) sufficiently close to (JV , 0) and for small |\u03bb| > 0, we have\n\u03bb\n\u03bb\n(W\u03bb , 2S) = \u2205\n(U\u03bb , 2S) \\ M\u1e7c\u03c7,(2)\nM\u1e7c\u03c7,(2)\n\nwhere the Euler characteristic \u03c7 = 2 \u2212 4h.\nProof. Suppose not. Then, there exists a sequence of (Jk , \u03bdk )-holomorphic maps fk into U\u03bbk\nwith Im(fk ) \u2229 (U\u03bbk \\ W\u03bbk ) 6= \u2205 where \u03bbk \u2192 0 and (Jk , \u03bdk ) converges to (JV , 0) as k \u2192 \u221e.\nAfter passing to subsequences, by the Gromov Compactness Theorem, fk converges to a JV holomorphic map f into Z0 such that (i) Im(f ) \u2282 U0 and (ii) Im(f ) \u2229 (U0 \\ W0 ) 6= \u2205. By (i)\nand Lemma 7.1, f can be split as f = (f1 , f0 , f2 ) where f1 and f2 are respectively holomorphic\nmaps into D1 and D2 , and f0 is a holomorphic map into F1 such that\n\u0001\nIm(f0 ) \u2229 (V1 \u2294 V2 ) = Im(f1 ) \u2294 Im(f2 ) \u2229 (V1 \u2294 V2 ) = E \u2229 (V1 \u2294 V2 ).\n(7.4)\nNote that the domain C of f is a connected curve of genus 2h since by (7.2) f is a limit of maps\nwith connected domains of genus 2h. Also note that if f is not (V1 \u2294 V2 )-regular, there is a ghost\ncomponent mapped into V1 \u2294 V2 .\n24\n\n\fLet f12 = (f1 , f2 ), C12 be the domain of f12 and C0 be the domain of f0 . We can assume\nthat C0 contains all ghost components mapped into V1 \u2294 V2 . Then f12 is (V1 \u2294 V2 )-regular, so\n\u22121\n\u22121\nf12\n(V1 \u2294 V2 ) = (C12 \u2229 C0 ). Let l = |f12\n(V1 \u2294 V2 )|. Since g \u2212 1 = \u2212 12 \u03c7, we have\n2h = g(C) = \u2212 12 \u03c7(C0 ) \u2212 21 \u03c7(C12 ) + l + 1.\n\n(7.5)\n\nConsider f12 as a holomorphic map into D1 \u2294 D2 and apply the Riemann-Hurwitz formula to\neach irreducible component of C12 . This gives\n\u2212 12 \u03c7(C12 ) + l \u2265 2h\n\n(7.6)\n\nsince the geometric genus of each irreducible component is less than or equal to its arithmetic\ngenus and f12 has at least 2(4 \u2212 l) ramification points. Consequently, by (7.5) and (7.6) we have\n\u03c7(C0 ) \u2265 2.\n\n(7.7)\n\nNote that the image of f0 does not lie in the zero section E of F1 by (ii) since f12 maps into\nD1 \u222a D2 \u2282 W0 . Remark 6.1 and (7.4) imply that there is exactly one irreducible component C0\u2032\nof C0 such that the restriction f0\u2032 = f|C0\u2032 has contact vectors (2) with V1 and V2 and all other\nirreducible components of C0 are ghost components. Let C01 be the connected component of C0\nthat contains C0\u2032 . Since f has no degree zero components, we have\n\u2022 all ghost components mapped into V0 are contained in C01 ,\n\u2022 if there exists a connected component C02 6= C01 of C0 then C02 is a union of ghost\ncomponents such that C02 has no marked points and maps into either V1 or V2 . Since\n|C0 \u2229 C12 | = l \u2264 4 and C01 \u2229 C12 contains at least one point mapped into V1 and at least\none point mapped into V2 , we have |C02 \u2229 C \\ C02 | = |C02 \u2229 C12 | = 1 and hence g(C02 ) > 0\nby Remark 1.1.\nNow from (7.7) we have g(C01 ) = 0, so each irreducible component of C01 has genus zero and no\ntwo irreducible components meet at more than one point. In particular, since C0\u2032 has genus zero,\nLemma 6.3 implies that f0\u2032 has a contact vector (1, 1) with V0 . In this case, since f is a limit\nmap of a sequence of maps with contact order (2) with V0 , there is a ghost component mapped\ninto V0 . Let C0\u2032\u2032 be a connected component of the union of all ghost components mapped into\nV0 . Then, C0\u2032\u2032 \u2282 C01 , so g(C0\u2032\u2032 ) = 0 and\n|C0\u2032\u2032 \u2229 C \\ C0\u2032\u2032 | = |C0\u2032\u2032 \u2229 C0\u2032 | < 2.\nSince C0\u2032\u2032 has at most one marked point, we have a contradiction by Remark 1.1.\n\n\u0003\n\nProof of Theorem B (a) : The proof is identical to the proof of Theorem A. We only outline\nthe proof. For (ordered) sequences si with deg(si ) = 2 where i = 1, 2, consider the evaluation\nmap that records the intersection points with V1 and V2 :\n\u0001\n\u0001\n\u0001\nS\n0 ,V2 ,\u2217\nPh2 \u2229 U0 , 2S\nF1 \u2229 U0 , 2S \u00d7 MV\u03c722,\u2217\nPh1 \u2229 U0 , 2S \u00d7 MV\u03c710,V\nevs\u22171 ,s2 ,U0 :\nMV\u03c711,\u2217\n,s2\n,s1 ,(2),s2\n,s1\n\u0010\n\u0011 \u0010\n\u0011\nl(s1 )\nl(s1 )\nl(s2 )\nl(s2 )\n\u2212\u2192 V1\n\u00d7 V1\n\u00d7 V2\n\u00d7 V2\n25\n\n\fwhere the union is over all \u03c71 + \u03c70 + \u03c72 \u2212 2l(s1 ) \u2212 2l(s2 ) = 2 \u2212 4h. Let \u25b3si be the diagonal of\ni\ni\nV l(s ) \u00d7 V l(s ) for i = 1, 2. Lemma 7.3 and Theorem 10.1 of [IP2] then give\n\u0002\n\n\u1e7c\u03bb ,\u2217\n(U\u03bb , 2S)\nM\u03c7,(2)\n\n\u0003\n\n=\n\nX\n\ns1 ,s2\n\n\u0003\n\u0001\u22121\n|s1 ||s2 | \u0002\n\u2217\nev\n(\u25b3\n1 \u00d7 \u25b3s 2 )\n1 ,s2 ,U\ns\ns\n0\nl(s1 )! l(s2 )!\n\n(7.8)\n\nwhere \u03c7 = 2 \u2212 4h. On the other hand, the splitting of the diagonal \u25b3s1 \u00d7 \u25b3s2 yields\nX\n\ns1 ,s2\n\n=\n\n\u0003\n\u0001\u22121\n|s1 ||s2 | \u0002\nevs\u22171 ,s2 ,U0\n(\u25b3s1 \u00d7 \u25b3s2 )\n1\n2\nl(s )! l(s )!\n\nX |m1 ||m2 |\n\u0003\nloc,h1 ,p1 \u0002\nV1 ,V0 ,V2\nloc,h2 ,p2\nGT\n*\nM\n(F\n\u2229\nU\n,\n2S;\nC\n1 ) , CF , C l(m2 ) ) * GT 2\n1\n0\n1\n1\n2\nl(m\nm\n0,m ,(2),m\nm\npt\npt\n1 ! m2 !\nm\n1\n2\n\nm ,m\n\nloc,h1 ,p1\nloc,h2 ,p2\nloc,h1 ,p1\nloc,h2 ,p2\n= GT(1\n* GT(2)\n+ GT(2)\n* GT(1\n2)\n2)\n\u0003\n\u0002\n1\nloc,h2 ,p2\nloc,h1 ,p1\n1 ,V0 ,V2\n+ GT(1\n* MV0,(1\n2)\n2 ),(2),(12 ) (F1 \u2229 U0 , 2S; Cpt2 , CF , Cpt2 ) * GT(12 )\n4\n\n(7.9)\n\nwhere the first equality follows from (3.4), Lemma 7.1 (c), Remark 3.1 and (7.3) and the second equality follows from Lemma 6.6. Thus, by Lemma 7.1 (c), (7.8), (7.9), Remark 5.3 and\nLemma 2.6, we have\nloc,h,p\nloc,h2 ,p2\nloc,h1 ,p1\nGT(2)\n= (\u22121)p1 2h1 GT(2)\n+ (\u22121)p2 2h2 GT(2)\n\u0003\n\u0002\n1 ,V0 ,V2\n+ (\u22121)p 2h\u22122 MV0,(1\n2 ),(2),(12 ) (F1 \u2229 U0 , 2S; Cpt2 , CF , Cpt2 ) .\n\nWhen (h2 , p2 ) = (0, +), this equation shows\n\u0003\n\u0002 V1 ,V0 ,V2\nloc,0,+\n.\nM0,(12 ),(2),(12 ) (F1 \u2229 U0 , 2S; Cpt2 , CF , Cpt2 ) = \u22124 GT(2)\nThis completes the proof.\n\n8\n\n(7.10)\n\n\u0003\n\nSpin Curve Degeneration and Sum Formula II\n\nThis section proves Theorem B (b). Let h \u2265 2 or (h, p) = (1, +) and let D \u2192 \u2206 denote a family\nof curves over the unit disk \u2206 in C whose fiber over \u03bb 6= 0 is a smooth curve D\u03bb of genus h\nand whose central fiber D0 is a union of two smooth components D\u0304 and E of genera h \u2212 1 and\n0, meeting at two points. Fix a theta characteristic N\u0304 on D\u0304 with parity p. One can then find\na line bundle N \u2192 D that restricts to a theta characteristic on D\u03bb with parity p, to the theta\ncharacteristic N\u0304 on D\u0304 and to O(1) on E (cf. pg 570 [C]). The projectivization P(N \u2295 OD ) gives\na degeneration\nP(N \u2295 OD ) \u2192 D \u2192 \u2206\nsuch that (i) the general fiber Z\u03bb (\u03bb =\n6 0) is a ruled surface isomorphic to Ph = P(N \u2295 OD )\nwhere (D, N ) is a smooth spin curve of genus h with parity p and (ii) the central fiber is the\nsingular (ruled) surface\nS\nF1 \u2192 D0\nPh\u22121\nV1 \u2294 V2\n\n26\n\n\fwhere Ph\u22121 = P(N\u0304 \u2295 OD\u0304 ) and V1 and V2 are fibers over the nodes of D0 . Note that the general\nfiber Z\u03bb (\u03bb 6= 0) is the symplectic fiber sum\nPh = Ph\u22121 # F1 .\nV1 \u2294 V2\n\nProof of Theorem B (b) : The proof is also identical to those of Theorem A and Theorem B (a). We only sketch the proof. Fix a normal disk B \u2282 D to E at some point that is not\na nodal point of D0 and for each small |\u03bb|, let \u1e7c\u03bb be the fiber of Z\u03bb \u2192 D\u03bb over the intersection\npoint of B and D\u03bb . Choose small neighborhoods U and W of the zero section of Z = P(N \u2295 OD )\nsatisfying W \u2282 U and set\nW\u03bb = W \u2229 Z\u03bb\n\nand\n\nU\u03bb = U \u2229 Z\u03bb .\n\nThe same arguments as in Lemma 7.1 and Lemma 7.3 then show that the tautological section of\n\u03c0 \u2217 N over the total space of \u03c0 : N \u2192 D induces an almost complex structure JV on Z satisfying :\nfor (J, \u03bd) sufficiently close to (JV , 0) and for small |\u03bb| > 0\nloc,h,p\nGT(2)\n=\n\n\u0002\n\n\u03bb ,\u2217\nM\u1e7c\u03c7,(2)\n(U\u03bb , 2S)\n\n\u0003\n\nand\n\n\u0002\n\u0003\n2 ,\u2217\nGTsloc,h\u22121,p\n= MV\u03c710,V\n(P\n\u2229 U0 )\n1 ,s2\n,s1 ,s2 h\u22121\n\n\u03bb ,\u2217\n\u03bb ,\u2217\nM\u1e7c\u03c7,(2)\n(U\u03bb , 2S) \\ M\u1e7c\u03c7,(2)\n(W\u03bb , 2S) = \u2205\n\n(8.1)\n(8.2)\n\nP\nwhere \u03c7 = 2 \u2212 4h and \u03c70 = \u22124h + 2 l(si ). For ordered sequences si with deg(si ) = 2 where\ni = 1, 2, consider the evaluation map that records the intersection points with V1 and V2 :\nS\n2 ,\u2217\n0 ,V2 ,\u2217\nevs\u22171 ,s2 ,U0 :\nMV\u03c710,V\n(P\n\u2229 U0 , 2S) \u00d7 MV\u03c711,V\n(F \u2229 U0 , 2S)\n,s1 ,s2 h\u22121\n,s1 ,(2),s2 1\n\u0010\n\u0011 \u0010\n\u0011\nl(s1 )\nl(s1 )\nl(s2 )\nl(s2 )\n\u00d7 V1\n\u2212\u2192 V1\n\u00d7 V2\n\u00d7 V2\nwhere V0 = \u1e7c0 , the union is over all \u03c71 + \u03c70 \u2212 2l(s1 ) \u2212 2l(s2 ) = 2 \u2212 4h. Let \u25b3si be the diagonal\ni\ni\nof V l(s ) \u00d7 V l(s ) where i = 1, 2. Then we have\nloc,h,p\n\u1e7c\u03bb ,\u2217\nGT(2)\n= [M\u03c7,(2)\n(U\u03bb , 2S)] =\n\nX\n\ns1 ,s2\n\n=\n\nX\n\nm1 ,m2\n\n|m1 ||m2 |\nm1 ! m2 !\n\n\u0001\u22121\n\u0003\n|s1 ||s2 | \u0002\nevs\u22171 ,s2,U0\n(\u25b3s1 \u00d7 \u25b3s2 )\n1\n2\nl(s )! l(s )!\n\n\u0003\nloc,h\u22121,p \u0002\n1 ,V0 ,V2\nGTm\n* MV0,m\n1 ,m2\n1 ,(2),m2 (F1 \u2229 U0 , 2S; Cptl(m1 ) , CF , Cptl(m2 ) )\n\n(8.3)\n\nwhere the first sum is over all ordered sequences s1 and s2 with deg(s1 ) = deg(s2 ) = 2 and\nthe second sum is over all partitions m1 and m2 of 2; the first equality follows from (8.1), the\nsecond equality from (8.2) and Theorem 10.1 of [IP2] and the third equality from (3.4), (8.1),\nRemark 3.1 and (7.3). On the other hand, by Remark 5.3 we have\nloc,h\u22121,p\nGT(1\n= 22 GT2loc,h\u22121,p\n2 ),(12 )\n\nand\n\nloc,h\u22121,p\nloc,h\u22121,p\n.\nGT(1\n= 2 GT(2)\n2 ),(2)\n\nThis together with (8.3), Lemma 2.6, Lemma 6.6 and (7.10) completes the proof.\n\n27\n\n\u0003\n\n\f9\n\nReduction to Genus Zero Spin Curve Invariants\n\nAs described in the Introduction, Kiem and Li proved the Maulik-Pandharipande formulas (0.2)\nby reducing higher genus spin curve invariants to genus zero spin curve invariants. The aim of\nthis section is to show how their reduction follows from Theorem A and Theorem B.\nProposition 9.1 ([KL1]).\n(a)\n\nGT1loc,h,p\n\nn\nY\n\n\u03c4ki (F )\n\nn\nY\n\n\u03c4ki (F \u2217 )\n\n\u2217\n\ni=1\n\n(b) GT2loc,h,p\n\ni=1\n\nn\nY\n\n\u0001\n\n= (\u22121)\n\n\u0001\n\n= (\u22121)p 2h GT2loc,0,+\n\np\n\nGT1loc,0,+\n\n\u03c4ki (F \u2217 )\n\ni=1\n\nn\nY\n\n\u0001\n\u0001\n\n\u03c4ki (F \u2217 )\n\ni=1\n\nProof. The sum formula (0.3) for d = 1, 2 and Remark 5.3 show that\nGT1loc,h,p\n\nn\nY\n\nGT2loc,h,p\n\n\u03c4ki (F \u2217 )\n\nF0\n= GT1loc,h,p * GT(1),(1)\n\ni=1\n\n\u0001\n\nn\nY\n\n\u03c4ki (F \u2217 )\n\n\u0001\n\n=\n\ni=1\n\nn\nY\n\n\u03c6ki i (F \u2217 )\n\ni=1\n\n\u0001\n\n(9.1)\n\nn\nY\n\u0001\n1\nF0\nGT2loc,h,p * GT(1,1),(1,1)\n\u03c6ki i (F \u2217 )\n2\ni=1\n\nloc,h,p\nF0\n+ GT(2)\n* GT(2),(1,1)\n\nn\nY\ni=1\n\n\u0001\n\u03c6ki i (F \u2217 ) .\n\n(9.2)\n\nThus, Proposition 9.1 (a) follows from Lemma 2.6 and (9.1). Similarly, by Lemma 2.6 and (9.2),\nin order to prove Proposition 9.1 (b), we need to show\nloc,0,+\nloc,h,p\n.\n= (\u22121)p 2h GT(2)\nGT(2)\n\n(9.3)\n\nThe sum formula (0.4) for the case (h2 , p2 ) = (1, +) gives\nloc,0,+\nloc,h\u22121,p\nloc,1,+\nloc,h,p\n\u2212 (\u22121)p 2h GT(2)\n+ 2 GT(2)\n= (\u22121)p 2h\u22121 GT(2)\nGT(2)\n\n(9.4)\n\nwhere h \u2265 2. Applying the sum formula (0.4) twice with p1 = p2 = \u00b11 and h1 = h2 = 1 gives\nloc,1,+\nloc,1,\u2212\nGT(2)\n= \u2212GT(2)\n.\n\nThis together with the sum formula (0.5) for the case (h, p) = (1, +) yields\nloc,0,+\nloc,1,p\n.\n= (\u22121)p 2 GT(2)\nGT(2)\n\n(9.5)\n\nUsing induction on genus h together with (9.4) and (9.5) then shows (9.3). This completes the\nproof.\n\u0003\nRemark 9.2. The proof of Proposition 9.1 (b) by Kiem and Li (see Section 4 of [KL1]) goes\nas follows : they first obtained a sum formula similar to (9.2) using their sum formula and then\nshowed (9.3) by calculating the local invariants GT2loc,h,p(\u03c4 (F \u2217 )) for all h \u2265 0 using explicit\nalgebro-geometric arguments.\n\n28\n\n\f10\n\nAppendix\n\nLet GWd,g ( * ) and GW(1d ),(1d ),g ( * ) respectively denote the absolute GW invariants of P0 for the\nclass dS with genus g and the relative GW invariants of P0 relative to distinct fibers V1 and V2 of\nPh with contact constraint C[Vi ]d with Vi (we will omit the fibers Vi and the contact constraints\nC[Vi ]d in notation). Since local invariants of spin curve of genus h = 0 are GW invariants of P0 ,\nthe lemma below shows the formula (5.7) for the case when h = 0 and n \u2265 3.\nLemma 10.1. For n \u2265 3, we have\nn\nY\n\nGWd,g\n\n\u03c4ki (F \u2217 )\n\ni=1\n\n\u0001\n\n=\n\nn\nY\n\u0001\n1\nGW\n\u03c6ki i (F \u2217 ) .\nd\nd\n(1 ),(1 ),g\n2\n(d!)\n\n(10.1)\n\ni=1\n\nThe proof consists of two steps.\nStep 1 : We will relate the descendent classes for GW invariants of P0 to the \u03c6i classes.\nFollowing [KM], we set\n\u03c4si \u03c6tii (F \u2217 ) = \u03c8isi st\u2217 \u03c6tii \u222a evi\u2217 (F \u2217 ).\nLemma 10.2. Let n \u2265 3. Then, for sj \u2265 1, we have\nGWd,g\n\u2212\n\nX\n\nn\nY\ni=1\n\n\u0001\n\u03c4si \u03c6tii (F \u2217 )\nk\u22121\n\n\u03b4ksj (\u22121)\n\n= GWd,g\n\nn\nY\n\nt +\u03b4ij\n\n\u03c4si \u2212\u03b4ij \u03c6ii\n\ni=1\n\n(F \u2217 )\n\n\u0001\n\nY\n\u0001\n1\nt\n\u03c4si \u03c6tii (F \u2217 ) .\nGWd\u2212k,g \u03c6jj (F \u2217 )\nk!\n\n(10.2)\n\ni6=j\n\n0<k<d\n\nProof. It follows from Theorem 1.1 of [KM] that for sj \u2265 1\n\n+\n\nn\nn\nY\nY\n\u0001\n\u0001\nt +\u03b4\n\u03c4si \u2212\u03b4ij \u03c6ii ij (F \u2217 )\n\u03c4si \u03c6tii (F \u2217 ) = GWd,g\nGWd,g\ni=1\ni=1\nX\nY\n\u0001\n\u0001\nt\nGWk,0 \u03c4sj \u22121 (F \u2217 )H a GWd\u2212k,g \u03c6jj (Ha )\n\u03c4si \u03c6tii (F \u2217 )\n\na, 0<k\u2264d\n\n(10.3)\n\ni6=j\n\nwhere {Ha } and {H a } are Poincar\u00e9 dual basis of H \u2217 (P0 ). Fix a basis {1, S \u2217 + F \u2217 , F \u2217 , \u03b3 \u2217 } and\nits dual basis {\u03b3 \u2217 , F \u2217 , S \u2217 , 1} of H \u2217 (P0 ) where \u03b3 \u2217 be the Poincar\u00e9 dual of the point class of P0 .\nNote that all degree zero (d = 0) invariants in the righthand side of (10.3) vanish since n \u2265 3;\nno degree zero maps can pass through two distinct fibers. Moreover, for any d > 0 and g\nGWd,g (\u03b3 \u2217 * * * ) = 0,\n\nGWd,g ( (S \u2217 + F \u2217 ) * * * ) = 0,\n\nGWd,g ( S \u2217 * * * ) = \u2212GWd,g ( F \u2217 * * * )\n\nwhere the first follows from S 2 = \u22121, the second from S(S + F ) = 0 and the third from the\nsecond. Consequently, (10.3) becomes\nn\nY\n\nn\nY\n\n\u0001\nt +\u03b4\n\u03c4si \u2212\u03b4ij \u03c6ii ij (F \u2217 )\n= GWd,g\nGWd,g\ni=1\ni=1\nX\nY\n\u0001\n\u0001\nt\n\u2212\nGWk,0 \u03c4sj \u22121 (F \u2217 )F \u2217 GWd\u2212k,g \u03c6jj (F \u2217 )\n\u03c4si \u03c6tii (F \u2217 ) .\n\u0001\n\u03c4si \u03c6tii (F \u2217 )\n\n0<k<d\n\ni6=j\n\n29\n\n(10.4)\n\n\fIf k 6= sj then GWk,0 (\u03c4sj \u22121 (F \u2217 )F \u2217 ) = 0 by dimension count. So, it remains to show\nGWk,0 \u03c4k\u22121 (F \u2217 )F \u2217 ) = (\u22121)k\u22121 /k!\n\n(10.5)\n\nWhen k = sj , the generalized Divisor Axiom (cf. Lemma 1.4 of [KM]) and (10.4) (applied to\nGWk,0 (\u03c4k\u22121 (F \u2217 )F \u2217 F \u2217 )) together with the facts \u03c61 = 0 on M0,3 and GW1,0 (F \u2217 F \u2217 ) = 1 give\nGWk,0 \u03c4k\u22121 (F \u2217 )F \u2217\n\n\u0001\n\n=\n\n\u0001\n\u0001\n1\n1\nGWk,0 \u03c4k\u22121 (F \u2217 )F \u2217 F \u2217 = \u2212 GWk\u22121,0 \u03c4k\u22122 (F \u2217 )F \u2217\nk\nk\n\nBy induction, this shows (10.5) that completes the proof.\n\n\u0003\n\nStep 2 : We first show a formula for relative invariants that is analogous to (10.2) and then\ngive a proof of Lemma 10.1. Recall that for the forgetful map \u03c0l : Mg,n+l \u2192 Mg,n that forgets\nthe last l marked points and for 1 \u2264 i \u2264 n we have\nX\n\u03c0l\u2217 \u03c6i = \u03c6i \u2212\n\u03b4{i}\u222aI\n(10.6)\nwhere the sum is over all I \u2282 {n + 1, . . . , n + l} with I 6= \u2205. For simplicity, we will write \u03c0l\nsimply as \u03c0 when l is even.\nLemma 10.3. Let n \u2265 3. Then, for sj \u2265 1 we have\nGW(1d ),(1d ),g\n\u2212\n\nX\n\n0<k<d\n\nn\nY\ni=1\n\n\u0001\n\u03c6si i \u03c0 \u2217 \u03c6tii (F \u2217 )\n\n\u03b4ksj (\u22121)k\u22121 k!\n\n\u0012\n\nd\nk\n\n\u00132\n\n= GW(1d ),(1d ),g\n\nn\nY\n\ns \u2212\u03b4ij\n\n\u03c6i i\n\ni=1\n\nt\n\nGW(1d\u2212k ),(1d\u2212k ),g \u03c0 \u2217 \u03c6jj (F \u2217 )\n\nt +\u03b4ij\n\n\u03c0 \u2217 \u03c6ii\n\nY\n\n(F \u2217 )\n\n\u0001\n\n\u03c6si i \u03c0 \u2217 \u03c6tii (F \u2217 )\n\ni6=j\n\n\u0001\n\nProof. Without loss of generality, we may assume j = 1. For the forgetful map \u03c0 = \u03c02d , let\n\u03b4{1}\u222aI be a class as in (10.6) and denote by M(\u03b4{1}\u222aI ) the boundary stratum of Mg,n+2d whose\nfundamental class is Poincar\u00e9 dual to \u03b4{1}\u222aI . Then for m = |I| there is a gluing map\n\u03b7I : M0,m+2 \u00d7 Mg,n+2d\u2212m \u2192 Mg,n+2d\nwhose image is M(\u03b4{1}\u222aI ). This gluing map is obtained by identifying the second marked point\nof the first component with the first marked point of the second component. We have\n\u03b7I\u2217 (\u03c61 ) = \u03c61 \u2297 1\n\nand\n\n\u2217\n(\u03c61 )\n\u03b7I\u2217 \u25e6 \u03c0 \u2217 (\u03c61 ) = 1 \u2297 \u03c02d\u2212m\n\n(10.7)\n\nwhere the first equality follows from Lemma 1.2 (b) and the second from the fact that under the\ncomposition map \u03c0 \u25e6 \u03b7I the first component collapses to a point.\nChoose two distinct fibers V1 and V2 of P0 and, for simplicity, we set\nY s\n1 ,V2\nMV = MVg,n,(1\nand\n\u03a6 = \u03c6s11 \u22121 \u03c0 \u2217 \u03c6t11\n\u03c6i i \u03c0 \u2217 \u03c6tii\nd ),(1d ) (P0 , dS)\ni>1\n\nwhere V = V1 \u2294 V2 . Let G be a geometric representative of the Poincar\u00e9 dual of the pullback class \u03b7I\u2217 \u03a6. One can then choose a (smooth) family of geometric representatives Gt of the\n30\n\n\fPoincar\u00e9 dual of the class \u03b4{1}\u222aI \u222a \u03a6 with G0 = \u03b7I (G). Let B be a product of n distinct generic\nfibers Bi of P0 each of which is disjoint with V .\nSuppose MV \u2229 B \u2229 Gt 6= \u2205 for all small t. Then, by the Gromov Compactness Theorem,\nafter passing to subsequences, as t \u2192 0 every sequence ft \u2208 MV \u2229 B \u2229 Gt converges to\n(f, C) \u2208 CMV \u2229 B \u2229 \u03b7I (G)\nwhere CMV is the closure of MV in Mg,n+2d (P0 , dS). The closure CMV has a stratification in\nwhich each stratum consisting of maps with domains with more than one node has dimension\nat least 4 less than 2 deg(\u03a6) + 2 + 2n (cf. Lemma 7.6 of [IP2]). Thus the domain C \u2208 M(\u03b4I )\nof f has one node by dimension count. The limit map f splits as f = (f1 , f2 ) such that each\nfi is V -regular unless it represents the trivial homology class. In our case, both f1 and f2 are\nV -regular maps since the image of f1 passes through V and B1 , and the image of f2 passes\nthrough (n \u2212 1) > 2 distinct fibers Bi where 2 \u2264 i \u2264 n \u2212 1. For some 0 < k < d, we have\n\u2022 f1 (resp. f2 ) has contact vector (1k ) (resp. (1d\u2212k )) with both V1 and V2 , and hence\n\u2022 f \u2208 evI\u22121 (\u25b3) \u2229 B \u2229 \u03b7(G) (under the natural inclusion evI\u22121 (\u25b3) \u0592\u2192 MV )\nwhere \u25b3 is the diagonal of P0 \u00d7 P0 and evI is the evaluation map\nV1 ,V2\n1 ,V2\nevI = ev2 \u00d7 ev1 : MV0,2,(1\nk ),(1k ) (P0 , kS) \u00d7 Mg,n,(1d\u2212k ),(1d\u2212k ) (P0 , (d \u2212 k)S) 7\u2192 P0 \u00d7 P0 .\n\nOn the other hand, the condition of contact order (1d ) with V is an open condition. The Gluing\nTheorem of [RT2] thus implies that for each small t one can uniquely smooth f (at a node) to\nproduce a V -regular map in MV \u2229 Gt . Consequently, we have\n\u0002 \u22121\n\u0002\nevI (\u25b3) ] \u2229 \u03b7I\u2217 (\u03a6) \u2297 (F \u2217 )n = MV ] \u2229 (\u03b4{1}\u222aI \u222a \u03a6) \u2297 (F \u2217 )n .\n(10.8)\nIt follows from (5.6), (10.7), (10.8), the splitting of the diagonal \u25b3 as in the proof of\nLemma 10.2 (see paragraph above (10.4)) that\nGW(1d ),(1d ),g\n\nn\nY\n\n\u0001\n\u03c6si i \u03c0 \u2217 \u03c6tii (F \u2217 )\n\n= GW(1d ),(1d ),g\n\nn\nY\n\n\u03c6isi \u2212\u03b4i1 \u03c0 \u2217 \u03c6tii +\u03b4i1 (F \u2217 )\n\n\u0001\n\ni=1\ni=1\nX \u0010 d \u00112\nY s\n\u0001\ns1 \u22121\n\u2217\n\u2217\n\u2212\nGW(1k ),(1k ),0 \u03c61 (F )F ) * GW(1d\u2212k ),(1d\u2212k ),g \u03c0 \u2217 \u03c6t11 (F \u2217 )\n\u03c6i i \u03c0 \u2217 \u03c6tii (F \u2217 )\nk\n0<k<d\n\ni>1\n\n(10.9)\n\u0010 d \u00112\nwhere the factor\nreflects the fact that the classes \u03b4{1}\u222aI in (10.8) are obtained by choosing\nk\nk contact points with V1 and k contact points with V2 . Observe that by dimension if k 6= s1\nthen GW(1k ),(1k ),0 \u03c61s1 \u22121 (F \u2217 )F \u2217 ) = 0. Thus, it remains to show :\nGW(1k ),(1k ),0 \u03c6k\u22121 (F \u2217 )F \u2217 ) = (\u22121)k\u22121 k!\n\n(10.10)\n\nThe sum formula (4.15) for h = 0 gives\nGW(1k ),(1k ),0 \u03c6k\u22121 (F \u2217 )F \u2217 F \u2217\n\n\u0001\n\n\u0001\n\u0001\n1\nF0\n\u2217\nGW(1k ),(1k ),0 \u03c6k\u22121 (F \u2217 )F \u2217 * GT(1\nk ),(1k ) F\nk!\n\u0001\n= k GW(1k ),(1k ),0 \u03c6k\u22121 (F \u2217 )F \u2217\n(10.11)\n\n=\n\n31\n\n\fwhere the second equality follows from (3.8) and the Divisor Axiom. On the other hand, together\nwith the facts \u03c6 = 0 on M0,3 and GW(1),(1),0 (F \u2217 F \u2217 ) = 1, the formula (10.9) shows\nGW(1k ),(1k ),0 \u03c6k\u22121 (F \u2217 )F \u2217 F \u2217\n\n\u0001\n\n\u0001\n= \u2212k2 GW(1k\u22121 ),(1k\u22121 ),0 \u03c6k\u22122 (F \u2217 )F \u2217 .\n\nBy induction, (10.11) and (10.12) thus imply (10.10). This completes the proof.\n\n(10.12)\n\u0003\n\nProof of Lemma 10.1 : It suffice to show that for n \u2265 3\nGWd,g\n\nn\nY\ni=1\n\n\u03c4si \u03c6tii (F \u2217 )\n\n\u0001\n\n=\n\nn\nY\n\u0001\n1\nGW\n\u03c6si i \u03c0 \u2217 \u03c6tii (F \u2217 ) .\nd\nd\n(1 ),(1 ),g\n2\n(d!)\n\n(10.13)\n\ni=1\n\nP\n\nWhen\nsi = 0, P\n(10.13) follows from Lemma 5.2. Suppose that (10.13) holds for any d, g and\nn \u2265 3P\nwhenever\nsi < l. Then, Lemma 10.2 and Lemma 10.3 show\nPthat (10.13) also holds\nwhen\nsi = l. Therefore, (10.13) follows from induction on the sum\nsi .\n\u0003\n\nReferences\n[ACV] D. Abramovich, A. Corti, and A. Vistoli, Twisted Bundles and Admissible Covers, Commun. in Algebra. 31 (2003), 3547-3618.\n[AC] E. Arbarello and M. Cornalba, Calculating cohomology groups of moduli spaces of curves\nvia algebraic geometry, Inst. Hautes tudes Sci. Publ. Math. No. 88 (1998), 97\u2013127.\n[C] M. Cornalba, Moduli of curves and theta charateristics, Lectures on Riemann Surfaces,\n560\u2013589, World Scientific, Singapore 1989.\n[FP] C. Faber and R. Pandharipande, Hodge integrals and Gromov-Witten theory, Invent. Math.\n139 (2000), no. 1, 173\u2013199.\n[HM] J. Harris and I. Morrison, Moduli of curves, Graduate Texts in Mathematics, 187. SpringerVerlag, New York, 1998.\n[IP1] E. Ionel and T.H. Parker, Relative Gromov-Witten Invariants, Annals of Math. 157 (2003),\n45-96.\n[IP2] E. Ionel and T.H. Parker, The Symplectic Sum Formula for Gromov-Witten Invariants,\nAnnals of Math. 159 (2004), 935-1025.\n[KL1] Y-H. Kiem and J. Li, Gromov-Witten Invariants of Varieties with Holomorphic 2-Forms,\npreprint, math.AG/07072986\n[KL2] Y-H. Kiem and J. Li, Low degree GW invariants of spin surfaces, Pure Appl. Math. Q.\n7 (2011), no. 4, 1449\u20131476.\n[KL3] Y-H. Kiem and J. Li, Low degree GW invariants of surfaces II, Science China Math. 54\n(2011), no. 8., 1679\u20131706.\n[KM] M. Kontsevich and Y.I. Manin, Relations between the correlators of the topological sigma\nmodel coupled to gravity, Commun. Math. Phys. 196 (1998), 385-398.\n32\n\n\f[L] J. Lee, Family Gromov-Witten Invariants for K\u00e4hler Surfaces, Duke Math. J. 123 (2004),\nno. 1, 209\u2013233.\n[Lo] E. Looijenga, Smooth Deligne-Mumford compactifications by means of Prym level structures, J. Algebraic Geom. 3 (1994), no. 2, 283\u2013293.\n[LP1] J. Lee and T.H. Parker, A Structure Theorem for the Gromov-Witten Invariants of K\u00e4hler\nSurfaces, J. Diff. Geom. 77 (2007), no. 3, 483-513.\n[LP2] J. Lee and T.H. Parker, An Obstruction bundle relating Gromov-Witten invariants of\ncurves and K\u00e4hler surfaces, Am. J. Math. 134 (2012), no. 2, 453\u2013506.\n[LT] J. Li and G. Tian, Virtual moduli cycles and Gromov-Witten invariants of general symplectic manifolds, Topics in symplectic 4-manifolds (Irvine, CA, 1996), 47\u201383, First Int. Press\nLect. Ser., I, Internat. Press, Cambridge, MA, 1998.\n[MP] D. Maulik and R. Pandharipande, New calculations in Gromov-Witten theory, Pure Appl.\nMath. Q. 4 (2008), no. 2, part 1, 469\u2013500.\n[RT1] Y. Ruan and G. Tian, A mathematical theory of quantum cohomology, J. Differential\nGeom. 42 (1995), 259-367.\n[RT2] Y. Ruan and G. Tian, Higher genus symplectic invariants and sigma models coupled with\ngravity, Invent. Math. 130 (1997), no. 3, 455\u2013516.\n[T] L. Tu, Hodge theory and the local Torelli problem, Mem. Amer. Math. Soc. 43 (1983), no.\n279.\n\n33\n\n\f"}