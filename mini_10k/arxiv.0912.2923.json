{"id": "http://arxiv.org/abs/0912.2923v1", "guidislink": true, "updated": "2009-12-15T15:19:01Z", "updated_parsed": [2009, 12, 15, 15, 19, 1, 1, 349, 0], "published": "2009-12-15T15:19:01Z", "published_parsed": [2009, 12, 15, 15, 19, 1, 1, 349, 0], "title": "D0-D6 states counting and GW invariants", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=0912.5507%2C0912.1300%2C0912.2615%2C0912.5271%2C0912.3475%2C0912.0469%2C0912.4162%2C0912.4445%2C0912.2166%2C0912.1993%2C0912.3694%2C0912.3419%2C0912.3768%2C0912.3388%2C0912.4179%2C0912.1294%2C0912.3565%2C0912.0933%2C0912.5038%2C0912.2370%2C0912.1048%2C0912.4370%2C0912.1210%2C0912.5204%2C0912.4312%2C0912.1497%2C0912.1754%2C0912.3930%2C0912.4256%2C0912.3354%2C0912.0432%2C0912.5345%2C0912.2257%2C0912.0069%2C0912.2427%2C0912.5075%2C0912.1469%2C0912.5414%2C0912.4432%2C0912.4337%2C0912.0341%2C0912.1932%2C0912.0149%2C0912.5509%2C0912.0596%2C0912.4174%2C0912.2056%2C0912.3402%2C0912.2239%2C0912.4126%2C0912.1672%2C0912.2923%2C0912.0449%2C0912.1732%2C0912.4010%2C0912.4241%2C0912.3038%2C0912.3176%2C0912.2267%2C0912.0291%2C0912.2690%2C0912.2758%2C0912.5194%2C0912.3297%2C0912.4934%2C0912.3589%2C0912.3234%2C0912.3221%2C0912.1290%2C0912.1622%2C0912.4669%2C0912.3862%2C0912.2938%2C0912.5300%2C0912.1049%2C0912.2050%2C0912.1133%2C0912.1602%2C0912.4800%2C0912.2411%2C0912.1413%2C0912.4871%2C0912.2969%2C0912.5451%2C0912.3528%2C0912.4444%2C0912.2318%2C0912.0337%2C0912.4415%2C0912.4357%2C0912.5443%2C0912.3192%2C0912.3294%2C0912.5061%2C0912.1815%2C0912.3954%2C0912.1422%2C0912.4789%2C0912.3430%2C0912.3902%2C0912.4364&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "D0-D6 states counting and GW invariants"}, "summary": "We describe a correspondence between the virtual number of torsion free\nsheaves locally free in codimension 3 on a Calabi-Yau 3-fold and the\nGromov-Witten invariants counting rational curves in a family of orbifold\nblowups of the weighted projective plane $\\mathbb{P}(-ch_3, ch_0, 1)$ (with a\ntangency condition of order $gcd(-ch_3, ch_0)$). This result is a variation of\nthe GW/quiver representations correspondence found by Gross-Pandharipande, when\none changes the centres and orders of the blowups. We build on a small part of\nthe theories developed by Joyce-Song and Kontsevich-Soibelman for wall-crossing\nformulae and by Gross-Siebert-Pandharipande for factorisations in the tropical\nvertex group.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=0912.5507%2C0912.1300%2C0912.2615%2C0912.5271%2C0912.3475%2C0912.0469%2C0912.4162%2C0912.4445%2C0912.2166%2C0912.1993%2C0912.3694%2C0912.3419%2C0912.3768%2C0912.3388%2C0912.4179%2C0912.1294%2C0912.3565%2C0912.0933%2C0912.5038%2C0912.2370%2C0912.1048%2C0912.4370%2C0912.1210%2C0912.5204%2C0912.4312%2C0912.1497%2C0912.1754%2C0912.3930%2C0912.4256%2C0912.3354%2C0912.0432%2C0912.5345%2C0912.2257%2C0912.0069%2C0912.2427%2C0912.5075%2C0912.1469%2C0912.5414%2C0912.4432%2C0912.4337%2C0912.0341%2C0912.1932%2C0912.0149%2C0912.5509%2C0912.0596%2C0912.4174%2C0912.2056%2C0912.3402%2C0912.2239%2C0912.4126%2C0912.1672%2C0912.2923%2C0912.0449%2C0912.1732%2C0912.4010%2C0912.4241%2C0912.3038%2C0912.3176%2C0912.2267%2C0912.0291%2C0912.2690%2C0912.2758%2C0912.5194%2C0912.3297%2C0912.4934%2C0912.3589%2C0912.3234%2C0912.3221%2C0912.1290%2C0912.1622%2C0912.4669%2C0912.3862%2C0912.2938%2C0912.5300%2C0912.1049%2C0912.2050%2C0912.1133%2C0912.1602%2C0912.4800%2C0912.2411%2C0912.1413%2C0912.4871%2C0912.2969%2C0912.5451%2C0912.3528%2C0912.4444%2C0912.2318%2C0912.0337%2C0912.4415%2C0912.4357%2C0912.5443%2C0912.3192%2C0912.3294%2C0912.5061%2C0912.1815%2C0912.3954%2C0912.1422%2C0912.4789%2C0912.3430%2C0912.3902%2C0912.4364&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We describe a correspondence between the virtual number of torsion free\nsheaves locally free in codimension 3 on a Calabi-Yau 3-fold and the\nGromov-Witten invariants counting rational curves in a family of orbifold\nblowups of the weighted projective plane $\\mathbb{P}(-ch_3, ch_0, 1)$ (with a\ntangency condition of order $gcd(-ch_3, ch_0)$). This result is a variation of\nthe GW/quiver representations correspondence found by Gross-Pandharipande, when\none changes the centres and orders of the blowups. We build on a small part of\nthe theories developed by Joyce-Song and Kontsevich-Soibelman for wall-crossing\nformulae and by Gross-Siebert-Pandharipande for factorisations in the tropical\nvertex group."}, "authors": ["Jacopo Stoppa"], "author_detail": {"name": "Jacopo Stoppa"}, "author": "Jacopo Stoppa", "arxiv_comment": "31 pages", "links": [{"href": "http://arxiv.org/abs/0912.2923v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/0912.2923v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "14D22; 14J32", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/0912.2923v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/0912.2923v1", "journal_reference": null, "doi": null, "fulltext": "arXiv:0912.2923v1 [math.AG] 15 Dec 2009\n\nD0-D6 STATES COUNTING AND GW INVARIANTS\nJACOPO STOPPA\nAbstract. We describe a correspondence between the virtual number of torsion free sheaves locally free in codimension 3 on a Calabi-Yau 3-fold and\nthe Gromov-Witten invariants counting rational curves in a family of orbifold blowups of the weighted projective plane P(\u2212 ch3 , ch0 , 1) (with a tangency condition of order gcd(\u2212 ch3 , ch0 )). This result is a variation of the\nGW/quiver representations correspondence found by Gross-Pandharipande,\nwhen one changes the centres and orders of the blowups. We build on a small\npart of the theories developed by Joyce-Song and Kontsevich-Soibelman for\nwall-crossing formulae and by Gross-Siebert-Pandharipande for factorisations\nin the tropical vertex group.\n\n1. Introduction\n1.1. A D0-D6/GW correspondence. Let X be a projective Calabi-Yau threefold with H 1 (OX ) = 0 and topological Euler characteristic \u03c7. In this paper we are\nconcerned with torsion free coherent sheaves of OX \u2212modules which are isomorphic to the trivial vector bundle of some rank outside a finite length subscheme,\n'D0-D6 states'. We write the Chern character as\n3\nM\nH 2i (X, Z)\n(a, r) := (r, 0, 0, \u2212a) \u2208\ni=0\n\nwhere a = \u2212 ch3 , r = ch0 . The key feature of these sheaves for us is that they\ncan be 'counted' in a suitable way.\nFor rank r = 1 these are the ideal sheaves of 0-dimensional subschemes of X,\nand a is the length of the subscheme. They are Gieseker stable with respect to\nany ample line bundle OX (1) and have a fine moduli space M(a, 1) \u223c\n= Hilba (X)\nwith a symmetric obstruction theory in the sense of [BF]. Donaldson-Thomas\ntheory [Th] produces integer virtual counts\n#vir Hilba (X). The 0-dimensional\nP\nDonaldson-Thomas partition function a\u22651 #vir Hilba (X)ta has been computed\nas M (\u2212t)\u03c7 in [BF], [LP], [Li] (here and in the rest of the paper M (t) is the\nMacMahon function, the generating series for 3-dimensional partitions).\nFor r = 0 we are looking instead at direct sums of structure sheaves of 0dimensional subschemes. Their Chern character is (\u2212a, 0) where a is the length\nof the OX -module. Because of automorphisms their moduli space is an Artin\nstack M(\u2212a, 0) and it was not clear how to count them correctly until recently.\nHowever as a very special case of the fundational work of Joyce-Song [JS] we\nDate: 14 December 2009.\n1\n\n\f2\n\nJACOPO STOPPA\n\n \u0304\nnow have generalised Donaldson-Thomas invariants DT(\u2212a,\n0) \u2208 Q; they are\nnot in general the weighted Euler characteristic of the stack M(\u2212a, 0) with respect to its canonical\nBehrend function. It is shown in [JS] Section 6.3 that\nP\n \u0304\nDT(\u2212a, 0) = \u2212\u03c7 m|a m12 .\n\nNow let A be the abelian category of coherent sheaves on X which are locally\nfree in codimension 3. Its numerical Grothendieck group K(A) is isomorphic to\nZ2 spanned by the classes \u03bc = [Ox ], \u03b3 = [OX ] (where x \u2208 X is any closed point).\nConsider the homomorphism Z : K(A) \u2192 C given by Z(\u03bc) = \u22121, Z(\u03b3) = i. Since\nZ maps the effective cone K + (A) into {\u03c1 exp(i\u03c6) : \u03c1 > 0, 0 < \u03c6 \u2264 \u03c0} \u2282 C it\ndetermines a stability condition on A. The semistable objects Ass \u2282 A are in fact\nthe torsion free sheaves which are isomorphic to the trivial vector bundle of some\nrank in codimension 3 (see [KS] Section 6.5). There is an Artin stack of objects\nof A which as in [JS] Section 5.1 is locally 2-isomorphic to the zero locus of the\ngradient of a regular function on a smooth scheme, and Z gives an admissible\nstability condition in the sense of [JS] Section 3.2.\n \u0304\nJoyce-Song theory then yields invariants DT(a,\nr) \u2208 Q which count Z-semistable objects in a suitable way. We also refer to the very recent paper of Toda [To]\nfor a number of foundational results on higher rank DT invariants in the sense of\n \u0304 coincide with the DT invariants\nthis paper. When (a, r) is a primitive class the DT\nof [Th]. In particular we recover the numbers counting ideal sheaves and 0 \u0304\ndimensional subschemes. Notice also that one can show directly that DT(0,\nr) =\n1\n \u0304\nand\nDT(a,\nr)\n=\n0\nfor\na\n=\n1,\n.\n.\n.\n,\nr\n\u2212\n1\n(see\n[JS]\nExample\n6.1\nand\n[KS]\nSection\nr2\n \u0304\n6.5). Therefore in the rest of this paper we concentrate on DT(a,\nr) with a \u2265 r.\nIt is sometimes possible to compute higher rank D0-D6 numbers more or less\ndirectly, using Behrend functions. The reader can find an explicit calculation of\n \u0304\nDT(2,\n2) = \u2212 45 \u03c7, together with a brief introduction to Joyce-Song invariants in\nthis context in the appendix.\n \u0304\nA rather different take on the numbers DT(a,\nr) is motivated by the work of\nKontsevich-Soibelman [KS] and Gross-Siebert-Pandharipande [GPS]. The example of D0-D6 states is studied in particular in [KS] Section 6.5. According to their general theory, Kontsevich-Soibelman conjecture that one can ex \u0304\ntract integers\n'BPS invariants') by inverting the relation\nP \u03a9 from the DT a(their\nr\n \u0304\n,m\n). Moreover they conjecture that these BPS\nDT(a,\nr) = m\u22651,m|(a,r) m12 \u03a9( m\nnumbers should be completely determined by a simple identity taking place in\nthe 'tropical vertex group', a Lie group of formal symplectomorphisms of the\n2-dimensional algebraic torus.\nWe will argue that this identity should be seen as a commutator expansion in\nthe tropical vertex group. Gross-Pandharipande-Siebert [GPS] have developed a\ntheory which interprets such commutators in the tropical vertex group in terms\nof genus zero Gromov-Witten invariants with a tangency condition. We will\nexplain how 'counting' (in the sense of Joyce-Song) the torsion free sheaves on X\nwhich are isomorphic to the trivial vector bundle of some rank in codimension 3\n\n\f3\n\nbecomes equivalent to computing the genus zero Gromov-Witten invariants (with\na tangency condition) of some explicit 2-dimensional orbifolds, depending only\non \u03c7 and the given K-theory class.\nIn this paper we prove the Kontsevich-Soibelman identity for \u03a9(a, r) for rank\nr \u2264 3, use it to deduce the integrality of the relevant BPS numbers and outline\nan argument for the KS identity (but not integrality) for arbitrary r (for a different situation in which one can show that the Joyce-Song invariants satisfy the\nrelevant KS equation see [CDP]). Very recently Toda also studied these r = 2\nDT invariants, in particular the partition function is computed in [To] Theorem\n1.2 and integrality of BPS states is proved in loc. cit. Theorem 1.3.\nFinally we explain the connection with GW invariants through the results of\nGross-Siebert-Pandharipande, which can be expressed as follows.\nThe BPS numbers \u03a9(ha, hr) counting torsion free sheaves with K-theory class\na multiple of the primitive class given by coprime ch0 = r and ch3 = \u2212a, locally\nfree in codimension 3 on a CY 3-fold with Euler characteristic \u03c7, satisfy the\nidentity in the ring of formal power series C[[x, y]]\n\nY\n\nh\u22651\n\n\uf8eb\n\nexp \uf8ed\n\nX\n\n|P\u03c7 |=ha\n\n\uf8f6\n\nhN [P\u03c7 ](\u22121)h(a+r) xha y hr \uf8f8 =\n\nY\n\n(1 \u2212 (\u22121)h\n\n2 ar\n\nxha y hr )\u03a9(ha,hr)\n\nh\u22651\n\n(1.1)\nwhere N [P\u03c7 ] are the Gromov-Witten invariants of a family of orbifold blowups\nof the toric surface given be the fan {(\u22121, 0), (0, \u22121), (a, r)} \u2282 R2 (with some\npoints removed and a tangency condition of order h along a smooth divisor),\nparametrised by graded ordered partitions P\u03c7 (depending on the Euler characteristic \u03c7) with size |P\u03c7 | = ha.\nThe base toric surface is the weighted projective place P(a, r, 1) with some\npoints removed. The index h = gcd(\u2212 12 ch3 , ch0 ) for sheaves corresponds to the\norder of tangency for holomorphic curves along the divisor Dout dual to (a, r).\nThis result should be compared with the correspondence described by GrossPandharipande in [GP], Corollary 3, building on [GPS] and the work of Reineke\n[Re]. In essence Gross-Pandharipande show that the Euler characteristics of the\nmoduli spaces for stable representations of the m-Kronecker quiver can be computed in terms of GW theory. The above correspondence says that, in a different\nregion of the tropical vertex group, quiver representations are replaced by D0-D6\nstates. Geometrically, starting with the same base orbifold P(a, r, 1), the invariants for representations of the m-Kronecker quiver (with dimension vector proportional to (a, r)) are recovered for ordinary blowups along the divisors D1 , D2\ndual to (\u22121, 0), (0, \u22121), parametrised by suitable partitions P1 , P2 of length proportional to m. For D0-D6 states we blow up only once along D2 , and we also\nblow up D1 along a partition; but the crucial difference is that now there are\nalso 'higher order' corrections, or more precisely orbifold blowups in addition to\n\n\f4\n\nJACOPO STOPPA\n\nordinary ones, and in turn these are parametrised by graded ordered partitions\nof length proportional to \u03c7. The precise statement will be given in section 4.\n1.2. Comparison with a physics result. Even before their rigorous definition by Joyce-Song, Cirafici-Sinkovics-Szabo [CSS] have addressed the problem\nof computing the punctual invariants DT(a, r) supported at the origin of the\naffine Calabi-Yau C3 . However as they explain in ibid. Section 7.2 their physical\napproach based on noncommutative deformation and localisation is only valid\nin the regime called Coulomb phase, where they compute the partition function\nsimply as M ((\u22121)r t)r . As we will see this is very different from the result one\nwould get by setting \u03c7 = 1 in the correspondence (1.1). We will argue that the\nabove result in the Coulomb phase (i.e. in physics terminology, in the limit when\nthe gauge group U (r) breaks down to U (1)r ) can be seen as a limit of our result\nwhen the central charge Z becomes degenerate. In this case we find the partition\nfunction r12 M ((\u22121)r t)r , and it seems natural to say its BPS is M ((\u22121)r t)r . Since\nZ is degenerate the theory of [GPS] cannot be applied and it seems that the\nCoulomb phase cannot be seen by holomorphic curves.\n1.3. Identity in the tropical vertex group. We follow the notation of [GPS].\nThe tropical vertex group G is a closed subgroup of AutC[[t]] (C[x, x\u22121 , y, y \u22121 ][[t]])\nin the (t)-adic topology. It is the (t)-adic completion of the subgroup generated\nby the automorphisms of the form\n\u03b8(a,r),f (x) = f \u2212r * x, \u03b8(a,r),f (y) = f a * y\nwith (a, r) \u2208 Z2 and f a formal power series in t of the form\nf = 1 + txa y r * g(xa y r , t), g(z, t) \u2208 C[z][[t]].\nAlternatively one can see G as a subgroup of the group of formal 1-parameter\nfamilies of automorphisms of the algebraic 2-torus C\u2217 \u00d7C\u2217 ; by direct computation\ndy\nG preserves the standard holomorphic symplectic form dx\nx \u2227 y .\nA basic feature of G is that two elements \u03b8(a,r),f , \u03b8(a\u2032 ,r\u2032 ),f \u2032 with (a\u2032 , r \u2032 ) a multiple\nof (a, r) commute.\nThe group G contains some special elements\nTa,r = \u03b8(a,r),1\u2212(\u22121)ar (tx)a (ty)r ,\nand for \u03a9 \u2208 Q we define\n\u03a9\nTa,r\n(x, y) = \u03b8(a,r),(1\u2212(\u22121)ar (tx)a (ty)r )\u03a9 .\n\nThe notation makes sense from the point of view of Lie groups, since\nTa,b = \u03b8(a,r),f = exp(log(f )\u2202)\n\u03a9 corresponds to\nfor f = 1 \u2212 (\u22121)ar (tx)a (ty)r and some \u2202 \u2208 Zdx \u2295 Zdy so Ta,r\nexp(\u03a9 log(f )\u2202) = exp(log(f \u03a9 )\u2202) = \u03b8(a,r),f \u03a9 (see [GPS] section 1.1 and [Hu] for\nthe general setup). Notice that in particular\n\u22121\n(Ta,r )\u22121 = Ta,r\n= \u03b8(a,r),(1\u2212(\u22121)ar (tx)a (ty)r )\u22121 .\n\n\f5\n\nBy a fundamental result of Kontsevich-Soibelman every automorphism in the\ntropical vertex group has a unique ordered product expansion\ng=\n\n\u2192\nY\n\n\u03a9(a,r)\nTa,r\n\n(1.2)\n\n(a,r)\u2208Z2+\n\nwhere Z2+Q\u2282 Z2 means {a, r \u2265 0} \\ {0} (for a precise definition of the ordered\nproduct \u2192 see [KS] Section 2.2 and for the proof of an equivalent statement\nsee e.g. [GPS] Theorem 1.4).\nLet us now go back to the category A. According to Kontsevich-Soibelman\n \u0304 as\nand Joyce-Song one introduces BPS invariants associated to the DT\nX\n\u03bc(m)  \u0304 \u0010 a r \u0011\n,\nDT\n,\n\u03a9(a, r) =\nm2\nm m\nm\u22651,m|(a,r)\n\nwhere \u03bc(m) is the M\u00f6bius function (with \u03bc(1) = 1, \u03bc(2) = \u22121, \u03bc(3) = \u22121, ...).\n \u0304\nFor rank one we get simply \u03a9(a, 1) = DT(a,\n1) for a \u2265 1 since these classes are\nprimitive. On the other hand one can compute \u03a9(\u2212a, 0) = \u2212\u03c7 for a \u2265 1, see [JS]\nSection 6.3. Another example is \u03a9(2, 2) = \u2212\u03c7 and can be found in the appendix.\nRemark. Computation suggests the identity\n\u03a9(a, a \u2212 i) = \u03a9(a, i) for i = 1, . . . , a \u2212 1\nand the identity\n\u03a9(a, a) = \u2212\u03c7 for a \u2265 1.\nBoth could have an interesting interpretation in terms of rational curves under\nthe D0-D6/GW correspondence (1.1).\nIn [KS] Section 6.5 Kontsevich-Soibelman write down an identity in the tropical\nvertex group which should be satisfied by the BPS invariants \u03a9, namely\nY\n\na\u22651\n\n\u2212\u03c7\n* T0,1 =\nTa,0\n\n\u2192\nY\n\na\u22650,r\u22651\n\n\u03a9(a,r)\nTa,r\n*\n\nY\n\n\u2212\u03c7\nTa,0\n.\n\n(1.3)\n\na\u22651\n\nAccording to the factorisation theorem recalled above this formula would determine the \u03a9(a, r) uniquely.\nLet us explain the origin of the formula 1.3, referring to loc. cit. for a detailed discussion. In [KS] Kontsevich-Soibelman propose an alternative approach\nto generalised Donaldson-Thomas invariants counting semistable objects is suitable triangulated categories with respect to a Bridgeland stability condition. In\nparticular they propose universal formulae for how the BPS invariants change\nas the stability condition moves in the space Stab. Locally these remain constant, but there are walls in Stab on crossing which the \u03a9 change according to\nformulae of the form of 1.3. This theory is still conjectural in parts. However\nwe can apply it formally to A. For this embed A as the heart of a t-structure\nin the triangulated category D generated by extensions from OX and Ox for\n\n\f6\n\nJACOPO STOPPA\n\nx \u2208 X. The slope function Z becomes a central charge on D defining a Bridgeland stability condition, and the Joyce-Song BPS invariants \u03a9 conjecturally coincide with the Kontsevich-Soibelman invariants counting Z-semistable objects\nwith phases in some fixed sector. Kontsevich-Soibelman deform Z by prescribing Z\u03c4 ([OX ]) = i, Z\u03c4 ([Ox ]) = exp(i\u03c4 \u03c0) for \u03c4 \u2208 [1, 32 \u03c0 + \u01eb) for sufficiently small\n\u01eb > 0. As soon as t > 1 the heart A jumps to its tilting A\u2032 with respect to\n0-dimensional sheaves (i.e. \u2212[Ox ] becomes effective in K(A\u2032 ) as it is the class\nof Ox [\u22121]). The BPS invariants however remain unchanged until \u03c4 \u2265 23 \u03c0. For\n\u03c4 > 23 \u03c0 the only semistable objects have unmixed classes which are multiples\nof either [OX ] or \u2212[Ox ]. The latter objects have BPS invariants \u2212\u03c7 as we already discussed. By assumption OX is rigid and so according to [JS] Section 6.1\nwe have \u03a9(rOX ) = \u03b4r,1 . The equality of factorisations (1.3) then becomes the\nKontseich-Soibelman wall-crossing formula for this situation.\n1.4. The tropical vertex for GW invariants. Clearly the wall-crossing formula (1.3) can be rewritten as an expansion for a commutator in G,\n\uf8f6\n\uf8eb\n\uf8f6\u22121\n\uf8eb\n\u2192\nY\nY \u2212\u03c7\nY \u2212\u03c7\n\u22121 \uf8ed\n\u03a9(a,r)\n\uf8f8\n\uf8f8\n\uf8ed\n(T0,1 ) *\nTa,r\n.\nTa,0 * T0,1\nTa,0\n=\na\u22651\n\na\u22651\n\na\u22651,r\u22651\n\nUsing the definition\nQ of Ta,0 and the well known product formula for the McMahon\nfunction M (x) = a\u22651 (1 \u2212 xa )\u2212a one can check that this is equivalent to\n(\u03b80,1 )\u22121 * \u03b8(1,0),M (\u2212tx)\u03c7 * \u03b80,1 * \u03b8(1,0),M (\u2212tx)\u2212\u03c7 =\n\n\u2192\nY\n\n\u03b8(a,r),fa,r\n\na\u22651,r\u22651,gcd(a,r)=1\n\nwith\nf(a,r) =\n\nY\n\n(1 \u2212 (\u22121)k\n\n2 ar\n\n(tx)ka (ty)kr )\u03a9(ka,kr) .\n\nk\u22651\n\nThis is precisely the kind of commutator expansions studied in [GPS] by GrossPandharipande-Siebert. They have shown that for the ordered product factorisation\n\u2192\nY\n\u03b8(a,r),fa,r\n[\u03b8(a\u2032 ,r\u2032 ),f \u2032 , \u03b8(a\u2032\u2032 ,r\u2032\u2032 ),f \u2032\u2032 ] =\na\u22651,r\u22651,gcd(a,r)=1\n\nof the commutator of two generators of G one can write the coefficients of the\npower series log fa,r in terms of the GW invariants of orbifold blowups of a toric\nsurface Xa,r (with a tangency condition). We will describe explicitely how this\nresult applies in our case, relating D0-D6 states to GW invariants of orbifolds.\n1.5. Plan of the paper. In sections 2 and 3 we show that the Joyce-Song invariants satisfy the relevant Kontsevich-Soibelman identities for rank up to 3,\nand we use these identities to prove the integrality of the BPS invariants which\narise. At the end of section 3 we outline an argument for the KS identities (but\nnot integrality) for all ranks. Finally in section 4 we briefly review the theory of\nGross-Pandharipande-Siebert and apply it to our special case, thus obtaining the\nrequired formulae for D0-D6 states counts in terms of GW invariants of orbifold\n\n\f7\n\nblowups of weighted projective planes.\nAcknowledgements. I wish to thank the participants in the study group\n'Behrend functions and DT invariants', Max Planck Institute for Mathematics, Bonn, April-May 2009 and in the seminars SFB/TR 45 Bonn-Essen-Mainz\n'Motivic Donaldson-Thomas invariants', May-July 2009. In particular I was motivated by several conversations with Daniel Huybrechts while setting up the\nlatter seminar. I am also grateful to Richard Thomas and Rahul Pandharipande\nfor important suggestions and comments.\n\n2. Kontsevich-Soibelman side\n2.1. Baker-Campbell-Hausdorff formula. Write \u0393 for the lattice Z2 with\nbasis \u03b3 = (0, 1), \u03bc = (1, 0) and anti-symmetric bilinear form h\u03b3, \u03bci = \u22121 (in\nthe categorical picture above this corresponds to \u03b3 = [OX ], \u03bc = [Ox [\u22121]]). The\npositive cone \u0393+ \u2282 \u0393 is given by those elements with nonnegative components\n(a, r), a + r \u2265 1.\nConsider the \u0393+ -graded Lie algebra g generated over C by symbols e\u03b7 , \u03b7 \u2208 \u0393+\nwith bracket\n[e\u03be , e\u03b7 ] = (\u22121)h\u03be,\u03b7i h\u03be, \u03b7ie\u03be+\u03b7 .\n\n(2.1)\n\nThen writing \u03b7 = (a, r) for an element of \u0393 there is a natural identification\n\uf8f6\n\uf8eb\nX en\u03b7\n\uf8f8\n(2.2)\nT(a,r) = T\u03b7 = exp \uf8ed\u2212\nn2\nn\u22651\n\nseeing the automorphism T\u03b7 as an element of the exponential of the completion of\ng (see [KS] Section 1.4 for this identification, and notice that here we are replacing\nthe t-grading with the finer \u0393+ -grading). We rewrite the KS formula (1.3) as\nY\n\nn\u22651\n\n\uf8eb\n\n\u2212\u03c7\nTn\u03bc\n* T\u03b3 * \uf8ed\n\nY\n\nn\u22651\n\nLet us define operators\n\nA=\u03c7\n\n\uf8f6\u22121\n\n\u2212\u03c7 \uf8f8\nTn\u03bc\n\nX X ein\u03bc\n\nn\u22651 i\u22651\n\ni2\n\n=\n\n\u2192\nY\n\n\u03a9(n\u03bc+r\u03b3)\n\nTn\u03bc+r\u03b3\n\n.\n\n(2.3)\n\nn\u22650,r\u22651\n\n, B=\u2212\n\nX ej\u03b3\nj\u22651\n\nj2\n\n.\n\nIn what follows we will denote the left and right hand sides of (2.3) simply by lhs,\nrhs. Using repeatedly (2.1) and (2.2) the left hand side of (2.3) can be rewritten\nas\nlhs = exp(A) exp(B) exp(\u2212A).\n\n\f8\n\nJACOPO STOPPA\n\nWe will use the following form of the Baker-Campbell-Hausdorff formula,\n\uf8f6\n\uf8eb\nX Adk (B)\nA\n\uf8f8\nexp(A) exp(B) exp(\u2212A) = exp \uf8edB +\nk!\nk\u22651\n\n1\n= exp(B + [A, B] + [A, [A, B]] + . . . )\n2\n\n(2.4)\n\nLet us write n, i for multi-indexes of length k \u2265 1 with integer entries nl , il \u2265 1,\nP\nand n * i = kl=1 nl il for their ordinary scalar product. For k \u2265 1 we can compute\nQ\nXX\nj n * i k\u22122 Q nl\nk\nk\n(\u22121)\nj\nAdA (B) = \u2212\u03c7\nen * i \u03bc+j\u03b3 .\nil\nn,i j\u22651\n\nThus we find\n\nlog(lhs) = \u2212\n\nX ej\u03b3\nj\u22651\n\nj2\n\n\u2212\n\nX \u03c7k\nk\u22651\n\nk!\n\nQ\nX\nnl\n(\u22121)j n * i j k\u22122 Q en * i \u03bc+j\u03b3 . (2.5)\nil\n\nX\n\nlen(n)=len(i)=k j\u22651\n\n2.2. Rank r = 1. Consider the subspace g>1 of g generated by e\u03b7 with h\u03bc, \u03b7i > 1.\nBy (2.1) this is an ideal g>1 < g, so we can form the quotient Lie algebra g/g>1.\nThe right hand side rhs of (2.3) can be projected via\n\u03c0\u22641 : exp(g) \u2192 exp(g/g>1 )\ntaking the form\n\u03c0\u22641 (rhs) = \u03c0\u22641 (T1,0 )\n\nY\n\n\u03a9(a,1)\n\n\u03c0\u22641 (Ta,1\n\n).\n\na\u22651\n\nNow\n\n\u03a9(a,1)\n\n\u03c0\u22641 (T1,0 ) = exp(\u2212e\u03b3 ), \u03c0\u22641 (Ta,1\n\n) = exp(\u2212\u03a9(a, 1)ea\u03bc+\u03b3 ),\n\nand in the quotient we have [ea\u03bc+\u03b3 , ea\u2032 \u03bc+\u03b3 ] = 0, so\nX\nlog(rhs) = \u2212e\u03b3 \u2212\n\u03a9(a, 1)ea\u03bc+\u03b3 .\na\u22651\n\nComparing with the left hand side gives the rank r = 1 KS formula\nQ\nX\nX \u03c7k\nn\na\nQ l.\n\u03a9(a, 1) = (\u22121)\nk!\nil\nk\u22651\n\n(2.6)\n\nlen(n)=len(i)=k,n * i=a\n\nThese are the usual 0\u2212dimensional DT invariants, but this particular way to\nrepresent them turns out to be very useful for the generalisation to higher rank.\nRemark. The r = 1 formula thus gives\nQ\nX\nX \u03c7k\nX\nn\na\na\nQ l = M (\u2212t)\u03c7 .\nt (\u22121)\nk!\nil\na\u22650\n\nk\u22651\n\nlen(n)=len(i)=k,n * i=a\n\n\f9\n\nIn general comparing with (2.5) above we find\nX\n\na\n\nra\n\nt (\u22121)\n\na\u22650\n\nX \u03c7k\nk\u22651\n\nk!\n\nX\n\nX\n\nr\n\nk\u22122\n\nlen(n)=len(i)=k,n * i=a r\u22651\n\nQ\nn\n1\nQ l en * i \u03bc+r\u03b3 = 2 M ((\u22121)r t)r\u03c7 .\nr\nil\n\n(2.7)\nBy this computation and according to [KS] Section 2.3 the partition function for\nrank r BPS states for the degenerate stability condition on the wall is\n1\nBP S\n(2.8)\n(t) = 2 M ((\u22121)r t)r\u03c7 .\nZr,degen\nr\nThese are not integers and are not expected to be since the degenerate stability\ncondition is not 'generic' in the sense of [JS] Section 1.4. But there is an obvious\nBP S (t). This agrees with the\nway to make them integral, namely taking r 2 Zr,degen\nphysics result from [CSS], i.e. in the Coulomb phase. It would be interesting to\nunderstand this correspondence better.\n2.3. Rank r = 2. Similarly we can work out a formula for \u03a9(a, 2). Let us\nconsider the quotient g/g>2 with projection \u03c0\u22642 : exp(g) \u2192 exp(g/g>2 ); the\nprojection of the right hand side is\n\u03c0\u22642 (rhs) = \u03c0\u22642 (T0,1 )\n\n\u2192\nY\n\n\u03a9(a,b)\n\n\u03c0\u22642 (T(a,b) ).\n\na\u22651,1\u2264b\u22642\n\nExplicitly,\n\u03a9(0,1)\n\n\u03c0\u22642 (T0,1\n\n1\n) = exp(\u2212e\u03b3 \u2212 e2\u03b3 ),\n4\n\n1\n) = exp(\u2212\u03a9(a, 1)(ea\u03bc+\u03b3 + e2a\u03bc+2\u03b3 )),\n4\n\u03a9(a,2)\n\u03c0\u22642 (Ta,2 ) = exp(\u2212\u03a9(a, 2)ea\u03bc+2\u03b3 ).\n\u03a9(a,1)\n\n\u03c0\u22642 (Ta,1\n\nSince by (2.1) [g/g>2 , [g/g>2 , g/g>2 ]] = 0 the Baker-Campbell-Hausdorff formula\ngives\nX\n1\n1\nlog(rhs) = \u2212e\u03b3 \u2212 e2\u03b3 \u2212\n\u03a9(a, 1)(ea\u03bc+\u03b3 + e2a\u03bc+2\u03b3 )\n4\n4\na\u22651\n\n\u2212\n\nX\n\n\u03a9(a, 2)(ea\u03bc+2\u03b3 ) +\n\na\u22651\n\n\u2032\n\u2032\u2032\n1 X\n(\u22121)a \u2212a (a\u2032 \u2212 a\u2032\u2032 )\u03a9(a\u2032 , 1)\u03a9(a\u2032\u2032 , 1)e(a\u2032 +a\u2032\u2032 )\u03bc+2\u03b3 .\n2 \u2032 \u2032\u2032\n\na <a\n\nWhen a is odd (i.e. in the primitive case) comparing with lhs gives\nQ\nk\nX\nX\nn\nk\u22122 \u03c7\nQ l\n\u03a9(a, 2) =\n2\nk!\nil\nk\u22651\n\n+\n\n(\u22121)a\n2\n\nlen(n)=len(i)=k,n * i=a\n\nX\n\na\u2032 <a\u2032\u2032 ,a\u2032 +a\u2032\u2032 =a\n\n(a\u2032 \u2212 a\u2032\u2032 )\u03a9(a\u2032 , 1)\u03a9(a\u2032\u2032 , 1),\n\n(2.9)\n\n\f10\n\nJACOPO STOPPA\n\nwhile for a even there is an additional term,\nX\nX\n\u03c7k\n\u03a9(a, 2) =\n2k\u22122\nk!\nk\u22651\n\n(\u22121)a\n+\n2\n\nlen(n)=len(i)=k,n * i=a\n\nX\n\nQ\nn\nQ l\nil\n\n(a\u2032 \u2212 a\u2032\u2032 )\u03a9(a\u2032 , 1)\u03a9(a\u2032\u2032 , 1)\n\na\u2032 <a\u2032\u2032 ,a\u2032 +a\u2032\u2032 =a\n\n1\n\u2212 \u03a9(a/2, 1).\n4\nAccording to the definition of BPS invariants in each case we get\nQ\nk\nX\nX\n\u03c7\nn\nk\u22122\n \u0304\nQ l\nDT(a,\n2) =\n2\nil\nk!\nk\u22651\n\n+\n\n(\u22121)a\n2\n\n(2.10)\n\nlen(n)=len(i)=k,n * i=a\n\nX\n\n(a\u2032 \u2212 a\u2032\u2032 )\u03a9(a\u2032 , 1)\u03a9(a\u2032\u2032 , 1).\n\n(2.11)\n\na\u2032 <a\u2032\u2032 ,a\u2032 +a\u2032\u2032 =a\n\nExample. The first few terms of the partition function for rank r = 2 and \u03c7 = 1\nBPS states is\nZrBP S (t) = \u2212t2 (1 + 6t + 21t2 + 61t3 + 165t4 + 426t5 + ...)\nAs we mentioned above we expect that the physics result from [CSS] corresponds\ninstead to the degenerate stability condition on the wall, namely\nBP S\nBP S\n(t) = 1\u22122t+7t2 \u221218t3 +47t4 \u2212110t5 +258t6 \u2212568t7 +...\n(t) = r 2 Zr,degen\nZr,Coulomb\n\n2.4. Rank r = 3. Under the projection \u03c0\u22643 : exp(g) \u2192 exp(g/g>2 ) we find\n\u2192\nY\n\u03a9(a,b)\n\u03c0\u22643 (rhs) = \u03c0\u22643 (T0,1 )\n\u03c0\u22643 (T(a,b) )\na\u22651,1\u2264b\u22643\n\nwith\n\n1\n1\n) = exp(\u2212e\u03b3 \u2212 e2\u03b3 \u2212 e3\u03b3 ),\n4\n9\n1\n1\n\u03a9(a,1)\n\u03c0\u22643 (Ta,1 ) = exp(\u2212\u03a9(a, 1)(ea\u03bc+\u03b3 + e2a\u03bc+2\u03b3 + e3a\u03bc+3\u03b3 )),\n4\n9\n\u03a9(a,2)\n\u03c0\u22643 (Ta,2 ) = exp(\u2212\u03a9(a, 2)ea\u03bc+2\u03b3 )\n\u03a9(0,1)\n\n\u03c0\u22643 (T0,1\n\n\u03a9(a,3)\n\n\u03c0\u22643 (Ta,3\n\n) = exp(\u2212\u03a9(a, 3)ea\u03bc+3\u03b3 ).\n\nWe can compute which terms x with h\u03bc, xi = 3 appear in log(rhs) in the Lie algebra g/g>3 . These terms have a different form according to an ordered partition\nfor the rank r = 3, namely 3, 2 + 1, 1 + 2, 1 + 1 + 1, corresponding to the order of\nthe Lie brackets involved. The type 3 term is\nX\n1X\n\u03a9(a, 1)e3a\u03bc+3\u03b3 \u2212\n\u03a9(a, 3)ea\u03bc+3\u03b3 .\n\u2212\n9\na\u22650\n\na\u22651\n\n\f11\n\nThe type 2 + 1 comprises\n1\n1 X\n[\u2212 \u03a9(a1 , 1)e2a1 \u03bc+2\u03b3 , \u2212\u03a9(a2 , 1)ea2 \u03bc+\u03b3 ]\n2 a <a\n4\n1\n\n=\n\n2\n\n1 X\n(a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 1)e(2a1 +a2 )+3\u03b3\n4 a <a\n1\n\nand\n\n2\n\n1 X\n[\u2212\u03a9(a1 , 2)ea1 \u03bc+2\u03b3 , \u2212\u03a9(a2 , 1)ea2 \u03bc+\u03b3 ]\n2\na1 <2a2\n\n=\n\n1 X\n(\u22121)a1 \u22122a2 (a1 \u2212 2a2 )\u03a9(a1 , 2)\u03a9(a2 , 1)e(a1 +a2 )\u03bc+3\u03b3 .\n2 a <2a\n1\n\n2\n\nSimilarly for type 1 + 2 there are terms\n1\n1 X\n[\u2212\u03a9(a1 , 1)ea1 \u03bc+\u03b3 , \u2212 \u03a9(a2 , 1)e2a2 \u03bc+2\u03b3 ]\n2 a <a\n4\n1\n\n2\n\n1 X\n=\n(a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 1)e(a1 +2a2 )\u03bc+3\u03b3\n4 a <a\n1\n\nand\n\n2\n\n1 X\n[\u2212\u03a9(a1 , 1)ea1 \u03bc+\u03b3 , \u2212\u03a9(a2 , 2)ea2 \u03bc+2\u03b3 ]\n2\n2a1 <a2\n\n=\n\n1 X\n(\u22121)2a1 \u2212a2 (2a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 2)e(a1 +a2 )\u03bc+3\u03b3 .\n2\n2a1 <a2\n\nFor the type 1 + 1 + 1 term recall the BCH formula up to order 3 Lie brackets,\n1\n1\nlog(exp(X) exp(Y )) = X + Y + [X, Y ] + ([X, [X, Y ]] \u2212 [Y, [X, Y ]]),\n2\n12\nso we find contributions\n1 X\n[[\u2212\u03a9(a1 , 1)ea1 \u03bc+\u03b3 , \u2212\u03a9(a2 , 1)ea2 \u03bc+\u03b3 ], \u2212\u03a9(a3 , 1)ea3 \u03bc+\u03b3 ]\n4 a <a <a\n1\n2\n3\n1 X\n=\u2212\n(\u22121)a1 \u2212a2 (\u22121)a1 +a2 \u22122a3 (a1 \u2212 a2 )(a1 + a2 \u2212 2a3 )\n4 a <a <a\n1\n\n2\n\n3\n\n\u03a9(a1 , 1)\u03a9(a2 , 1)\u03a9(a3 , 1)e(a1 +a2 +a3 )\u03bc+3\u03b3 ,\n\n1 X\n[\u2212\u03a9(a1 , 1)ea1 \u03bc+\u03b3 , [\u2212\u03a9(a2 , 1)ea2 \u03bc+\u03b3 , \u2212\u03a9(a3 , 1)ea3 \u03bc+\u03b3 ]]\n4 a <a <a\n1\n2\n3\n1 X\n(\u22121)a2 \u2212a3 (\u22121)2a1 \u2212a2 \u2212a3 (a1 \u2212 a2 )(2a1 \u2212 a2 \u2212 a3 )\n=\u2212\n4 a <a <a\n1\n\n2\n\n3\n\n\u03a9(a1 , 1)\u03a9(a2 , 1)\u03a9(a3 , 1)e(a1 +a2 +a3 )\u03bc+3\u03b3 ,\n\n\f12\n\nJACOPO STOPPA\n\nand\n1 X\n[\u2212\u03a9(a1 , 1)ea1 \u03bc+\u03b3 , [\u2212\u03a9(a1 , 1)ea1 \u03bc+\u03b3 , \u2212\u03a9(a2 , 1)ea2 \u03bc+\u03b3 ]]\n12 a <a\n1\n\n2\n\n=\u2212\n\n\u0001\n\u2212 [\u2212\u03a9(a2 , 1)ea2 \u03bc+\u03b3 , [\u2212\u03a9(a1 , 1)ea1 \u03bc+\u03b3 , \u2212\u03a9(a2 , 1)ea2 \u03bc+\u03b3 ]]\n\n1 X\n(\u22121)2(a1 \u2212a2 ) (a1 \u2212 a2 )2 (\u03a9(a1 , 1))2 \u03a9(a2 , 1)e(2a1 +a2 )\u03bc+3\u03b3\n12 a <a\n1\n\n2\n\n\u0001\n+ \u03a9(a1 , 1)(\u03a9(a2 , 1))2 e(a1 +2a2 )\u03bc+3\u03b3 .\n\nSumming over the previous terms we find the lengthy r = 3 KS identity\nQ\nX\nX\nn\n\u03c7k\nQ l\n\u03a9(a, 3) = (\u22121)a\n3k\u22122\nk!\nil\nk\u22651\n\n1\n+\n4\n\n1\n+\n2\n+\n\nlen(n)=len(i)=k,n * i=a\n\nX\n\n(a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 1)\n\na1 <a2 ,2a1 +a2 =a\n\nX\n\n(\u22121)a1 \u22122a2 (a1 \u2212 2a2 )\u03a9(a1 , 2)\u03a9(a2 , 1)\n\na1 <2a2 ,a1 +a2 =a\n\nX\n\n1\n4a\n\n(a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 1)\n\n1 <a2 ,a1 +2a2 =a\n\n1\n+\n2\n\u2212\n\nX\n\n(\u22121)2a1 \u2212a2 (2a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 2)\n\n2a1 <a2 ,a1 +a2 =a\n\nX\n\n1\n4a\n\n(a1 \u2212 a2 )(a1 + a2 \u2212 2a3 )\u03a9(a1 , 1)\u03a9(a2 , 1)\u03a9(a3 , 1)\n\n1 <a2 <a3 ,a1 +a2 +a3 =a\n\n\u2212\n\n1\n4a\n\nX\n\n(a2 \u2212 a3 )(2a1 \u2212 a2 \u2212 a3 )\u03a9(a1 , 1)\u03a9(a2 , 1)\u03a9(a3 , 1)\n\n1 <a2 <a3 ,a1 +a2 +a3 =a\n\n\u2212\n\n1\n12 a\n\nX\n\n(a1 \u2212 a2 )2 (\u03a9(a1 , 1))2 \u03a9(a2 , 1)\n\n1 <a2 ,2a1 +a2 =a\n\n1\n\u2212\n12\n\nX\n\n(a1 \u2212 a2 )2 \u03a9(a1 , 1)(\u03a9(a2 , 1))2\n\na1 <a2 ,a1 +2a2 =a\n\n1\n\u2212 \u03a9(a/3, 1)\n(2.12)\n9\nwhere it is understood that the last term only appears when 3 | a. As in the case\n \u0304\nof rank r = 2 this gives an identity for DT(a,\n3) = \u03a9(a, 3) + 91 \u03a9(a/3, 1) where the\nlast term only appears if 3 | a.\n2.5. Application to integrality. In the next section we will prove that the\n \u0304\nJoyce-Song invariants DT(a,\nr) for r \u2264 3 satisfy the above KS identities. Here\nwe show how to deduce integrality of the BPS numbers for r \u2264 3 from these\nidentities. The best result towards integrality in general has been proved by\n\n\f13\n\nReineke [Re], but it does not seem to imply integrality for D0-D6 states counts,\nat least without further work.\n \u0304\nConsider first the case r = 2. When 2 \u2224 a we have \u03a9(a, 2) = DT(a,\n2) which\nis integral by Joyce-Song theory since the class (a, 2) is primitive. Therefore we\nassume 2 | a. Going back to the r = 2 KS identity, notice that\nX\nX\n(a\u2032 \u2212 a\u2032\u2032 )\u03a9(a\u2032 , 1)\u03a9(a\u2032\u2032 , 1) =\n(a \u2212 2a\u2032\u2032 )\u03a9(a\u2032 , 1)\u03a9(a\u2032\u2032 , 1)\na\u2032 <a\u2032\u2032 ,a\u2032 +a\u2032\u2032 =a\n\na\u2032 <a\u2032\u2032 ,a\u2032 +a\u2032\u2032 =a\n\n\u2261 0 mod 2.\n\nSo integrality of \u03a9(a, 2) follows if we can prove that\nQ\nk\nX\nX\n1\nn\nk\u22122 \u03c7\nQ l \u2212 \u03a9(a/2, 1)\n2\nil\nk!\n4\nk\u22651\n\nlen(n)=len(i)=k,n * i=a\n\nis an integer. This in turn is equivalent to\nQ\nX (2\u03c7)k\nX\nn\nQ l \u2261 \u03a9(a/2, 1)\nil\nk!\nk\u22651\n\nmod 4.\n\nlen(n)=len(i)=k,n * i=a\n\nBut notice that we can use the r = 1 KS identity to relate the left hand side of\nthe above congruence to the McMahon function M (t), namely Q\nthe left hand side\na\n2\u03c7\nis just the coefficient of t in the formal power series M (t) = n\u22651 (1 \u2212 tn )\u22122n\u03c7 .\nThe\nis the coefficient of ta/2 in the formal power series M (\u2212t)\u03c7 =\nQ right handnside\n\u2212n\u03c7\n. So the r = 1, 2 KS identities together reduce integrality to\nn\u22651 (1 \u2212 (\u2212t) )\nLemma 2.13. For 2 | a\n\n[ta ]M (t)2\u03c7 \u2261 (\u22121)a/2 [ta/2 ]M (t)\u03c7\n\nmod 4.\n\nProof. We use the identity for Euler products\nX Y \u0012cn \u2212 1 + pi \u2212 pi+1 \u0013\nY\na\nn \u2212cn\n[t ]\n(1 \u2212 t ) ) =\npi \u2212 pi+1\n\n(2.14)\n\np\u22a2a i\u22651\n\nn\u22651\n\nwhere (in contrast to the rest of the paper) the sum is over partitions rather than\nordered partitions. We learned of this representation from [Re] Lemma 5.3. In\nour case this gives\nX Y \u00122i\u03c7 \u2212 1 + pi \u2212 pi+1 \u0013\n[ta ]M (t)2\u03c7 =\npi \u2212 pi+1\np\u22a2a i\u22651\n\nand\n\n[t\n\na/2\n\nX Y \u0012j\u03c7 \u2212 1 + qi \u2212 qi+1 \u0013\n.\n]M (t) =\nqi \u2212 qi+1\n\u03c7\n\nq\u22a2a/2 j\u22651\n\nNote that\n\n\u0012\n\n\u0013\n2i\u03c7 \u2212 1 + \u03be\n\u2261 0 mod 2 for \u03be \u2261 1 mod 2,\n\u03be\nso the restriction of the first sum to partitions which contain parts of each parity\nis \u2261 0 mod 4. On the other hand if the partition only contains odd parts, there\n\n\f14\n\nJACOPO STOPPA\n\nmust be an even number of them since (as a is even) and then the sum is still\n\u2261 0 mod 4 by the congruence\n\u0012\n\u0013\n2i\u03c7 \u2212 1 + \u03be\n\u2261 0 mod 4for i \u2261 0 mod 2 and \u03be \u2261 1 mod 2\n\u03be\napplied when \u03be is the last part of the partition. It remains to show that for a\npartition p with even parts\nY \u0012i\u03c7 \u2212 1 + pi /2 \u2212 pi+1 /2\u0013\nY \u00122i\u03c7 \u2212 1 + pi \u2212 pi+1 \u0013\na/2\n\u2261 (\u22121)\nmod 4.\npi /2 \u2212 pi+1 /2\npi \u2212 pi+1\ni\u22651\n\ni\u22651\n\nBut this follows from\n\u0012\n\u0013\nY \u0012i\u03c7 \u2212 1 + \u03be/2\u0013\n2i\u03c7 \u2212 1 + \u03be\n\u03be/2\n\u2261 (\u22121)\nmod 4 for \u03be \u2261 0 mod 2\n\u03be\n\u03be/2\ni\u22651\n\nwhich can be proved by induction.\n\n\u0003\n\nSimilarly in the r = 3 case we already know that the Joyce-Song invariants are\nintegral for primitive classes, so we assume 3 | a. We need an analogue of the\nabove lemma.\nLemma 2.15. For 3 | a\n[ta ]M (\u2212t)3\u03c7 \u2261 [ta/3 ]M (\u2212t)\u03c7\n\nmod 9.\n\nProof. As before, summing over partitions (not ordered partitions, as we will do\nin the rest of the paper)\nX Y \u00123i\u03c7 \u2212 1 + pi \u2212 pi+1 \u0013\na\n3\u03c7\n[t ]M (\u2212t) =\npi \u2212 pi+1\np\u22a2a i\u22651\n\nand\n\n\u0012\n\n3i\u03c7 \u2212 1 + \u03be\n\u03be\n\n\u0013\n\n\u2261 0 mod 3 for \u03be \u2261 1, 2\n\nmod 3,\n\nso modulo 9 we only need to sum over partitions whose parts all have the same\nresidue modulo 3. The cases when this common residue is 1 or 2 vanish mod 9\nsince in either case the number of parts must be divisible by 3 and we can apply\nto the last part the congruence\n\u0012\n\u0013\n3i\u03c7 \u2212 1 + \u03be\n\u2261 0 mod 9 for i \u2261 0, \u03be \u2261 1, 2 mod 3.\n\u03be\nSo we reduce to partitions all whose parts are \u2261 0 mod 3. The result now follows\nfrom\n\u0012\n\u0013\n\u0012\n\u0013\n3i\u03c7 \u2212 1 + \u03be\ni\u03c7 \u2212 1 + \u03be/3\n(\u22121)\u03be\n\u2261 (\u22121)\u03be/3\nmod 9 for \u03be \u2261 0 mod 3\n\u03be\n\u03be/3\nwhich can be proved by induction.\n\n\u0003\n\n\f15\n\nOne can then show that the result would follow from the integrality of\nX\n1\n(a1 \u2212 a2 )2 (\u03a9(a1 , 1))2 \u03a9(a2 , 1)\n\u2212\n12\na1 <a2 ,2a1 +a2 =a\n\n1\n\u2212\n12\n\nX\n\n(a1 \u2212 a2 )2 \u03a9(a1 , 1)(\u03a9(a2 , 1))2\n\na1 <a2 ,a1 +2a2 =a\n\nBut this follows since we are assuming 3 | a so e.g. in the first term\na\u0001\na1 \u2212 a2 = 3a1 \u2212 a = 3 a1 \u2212\n3\nand similarly for the second.\n3. Joyce-Song side\nIn this section we use Joyce-Song theory for precisely the same wall-crossing\ndescribed in the introduction. The tilted category A\u2032 satisfies again the assumptions of the theory and the Joyce-Song invariants do not change until the phase\nof \u03bc crosses that of \u03b3. One can check directly that for \u03c6(\u03bc) > \u03c6(\u03b3) the Joyce \u0304 \u2212 , vanish for all mixed classes. The general\nSong invariants, which we call DT\nwall-crossing formula in JS theory (see [KS] Section 6.5) is\nX X (\u22121)n\u22121\n \u0304\nU(\u03b11 , . . . , \u03b1n ; \u03c6\u2213 )\nDT(\u03b1)\n=\n2n\u22121\nn\u22651 \u03b11 ,...,\u03b1n\nX Y\nY\n \u0304 \u2212 (\u03b1k )\n*\n(\u22121)h\u03b1i ,\u03b1j i h\u03b1i , \u03b1j i\nDT\n\u03a5 {i\u2192j}\u2282\u03a51\n\nk\n\nwhere we are summing over effective decompositions of the K-theory class \u03b1 and\nordered trees respectively, but we will only explain this in this section for the very\n \u0304 invariants satisfy\nspecial case of D0-D6 states. In general it is not known if the DT\nthe Kontsevich-Soibelman wall-crossing formula and only the more complicated\nJoyce-Song identity has been rigorously established.\n3.1. Rank r = 1.\n3.1.1. Decompositions and partitions. Fix a K-theory class \u03b1 = \u03b3 + a\u03bc and let\n\u03b1 = \u03b11 + * * * + \u03b1n\n\n(3.1)\n\nbe an ordered decomposition into effective classes; this corresponds to a 2D ordered partition of the integer vector (a, 1). This decomposition a priori gives a\n \u0304\ncontribution to DT(\u03b1)\nvia Joyce-Song wall-crossing, which is given by a multiQ\n\u2212\n \u0304\n \u0304 \u2212 (\u03b1k ). However DT\n \u0304 \u2212 (\u03b2)\nple of the DT\ninvariant of the 2D partition, k DT\nvanishes for 'mixed classes' h\u03b2, \u03b3i, h\u03b2, \u03bci 6= 0. Thus we can effectively restrict to\nsumming over pairs (p, i) given by an ordered partition p for a of length n \u2212 1\nand an integer i = 1, . . . , n denoting the place of the (unique) summand \u03b3 in the\ndecomposition, so that the decomposition of \u03b1 above looks like\n\u03b3 + a\u03bc = p1 \u03bc + * * * + pi\u22121 \u03bc + \u03b3 + pi \u03bc + * * * + pn\u22121 \u03bc\n\n(3.2)\n\n\f16\n\nJACOPO STOPPA\n\n(writing p = (p1 , . . . , pn\u22121 )). We write p \u22a2 a for an ordered partition of a.\n3.1.2. S symbols. Let us denote by \u03c6\u2213 = arg \u25e6Z\u2213 the phase functions with respect\nto the two different central charges Z\u2213 . We need to compute Joyce's S symbol\n(see e.g. [JS] Definition 3.12)\nS(p, i) = S(p1 \u03bc, . . . , pi\u22121 \u03bc, \u03b3, pi \u03bc, . . . , pn\u22121 \u03bc; \u03c6\u2213 ).\nIts value is determined by a set of 'see-saw' inequalities (the inequalities (a) and\n(b) in [JS] Definition 3.12), which say roughly that S is an ordering operator.\nSuppose i > 2. Then since\n\u03c6\u2212 (p1 \u03bc) = \u03c6\u2212 (p2 \u03bc),\n\u03c6+ (p1 \u03bc) < \u03c6+ (\u03b3 + p2 \u03bc + * * * + pn\u22121 \u03bc)\nthe see-saw inequalities do not hold and S = 0. For i = 2 the see-saw inequalities\ndo hold since\n\u03c6\u2212 (p1 \u03bc) > \u03c6\u2212 (\u03b3),\n\u03c6+ (p1 \u03bc) \u2264 \u03c6+ (\u03b3 + p1 \u03bc + * * * + pn\u22121 \u03bc);\n\u03c6\u2212 (\u03b3) < \u03c6\u2212 (p2 \u03bc),\n\u03c6+ (\u03b3 + p1 \u03bc) > \u03c6+ (p2 \u03bc + * * * + pn\u22121 \u03bc);\n\u03c6\u2212 (pk \u03bc) = \u03c6\u2212 (pk+1 \u03bc),\n\u03c6+ (\u03b3 + p1 \u03bc + * * * + pk \u03bc) > \u03c6+ (pk+1 \u03bc + * * * + pn\u22122 \u03bc)\nfor k = 2, . . . , n\u22122. When the see-saw inequalities hold S is (\u22121)#adjecent(\u2264,>)pairs ,\nwhich gives\nS(p, 2) = (\u22121)n\u22122 .\n(3.3)\nSimilarly for i = 1 the see-saw inequalities hold since\n\u03c6\u2212 (\u03b3) < \u03c6\u2212 (p1 \u03bc),\n\u03c6+ (\u03b3) > \u03c6+ (p1 \u03bc + * * * + pn\u22121 \u03bc);\n\u03c6\u2212 (pk \u03bc) = \u03c6\u2212 (pk+1 \u03bc),\n\u03c6+ (\u03b3 + p1 \u03bc + * * * + pk \u03bc) < \u03c6+ (pk+1 \u03bc + * * * + pn\u22121 \u03bc)\nfor k = 1, . . . , n \u2212 2, giving\nS(p, 1) = (\u22121)n\u22121 .\n\n(3.4)\n\n3.1.3. U symbols. Consider again the decomposition (3.2). We can obtain a new\none of the same form by partitioning the head and tail sets\n{p1 \u03bc, . . . , pi\u22121 \u03bc}, {pi \u03bc, . . . , pn\u22121 \u03bc}\naccording to partions q\u2032 , q\u2032\u2032 of i\u2212 1, n \u2212 i and taking the partial sums of q\u2032 , q\u2032\u2032 . We\ncall this a contraction (p\u2032 , i) of the decomposition (p, i). A contraction carries a\nweight\n1\nQ \u2032 Q \u2032\u2032 .\nk qk !\nl ql !\n\n\f17\n\nThe ideal sheaves K-theory classes (a, 1) are primitive. In this situation Joyce's\nU(p, i) symbol ([JS] Definition 3.12) reduces to the weighted sum over all contractions of (p, i) with non-vanishing S symbol.\nSuppose i > 1. Then the only choice for q\u2032 is the trivial partition of i \u2212 1 (i.e.\nwe must contract all of {p1 \u03bc, . . . , pi\u22121 \u03bc} to the single class (p1 +* * *+pi\u22121 )\u03bc) with\nweight (i \u2212 1)!\u22121 . On Q\nthe other hand we can contract the tail with an arbitrary\nq \u22a2 n \u2212 i with weight ( k qk !)\u22121 . The contracted decomposition is of type (p\u2032 , 2),\nhas length 2 + len(q) and thus S symbol (\u22121)len(q) .\nFor i = 1 instead the head is empty and the q-contracted decomposition has\ntype (p\u2032 , 1), length 1 + len(q) and thus S = (\u22121)len(q) . So we see that for i \u2265 1\nU(p, i) =\n\nX (\u22121)len(q)\n1\nQ\n.\n(i \u2212 1)!\nk qk !\n\n(3.5)\n\nq\u22a2n\u2212i\n\nThe result is independent of p. Next notice the identity\nX (\u22121)len(q)\n(\u22121)s\nQ\n=\ns!\nl ql !\nq\u22a2s\n\nwhich is easily proved by induction,\n\n\u2032\ns\nX (\u22121)len(q)\nX\n1 X (\u22121)len(q )\nQ\nQ \u2032\n=\u2212\nq1 ! \u2032\nl ql !\nl ql !\n\nq\u22a2s\n\n=\u2212\n\nq1 =1\ns\nX\n\nq1\n\nUsing this identity we find for i \u2265 1\nU(p, i) =\n\nq \u22a2s\u2212q1\n\n(\u22121)s\n(\u22121)s\u2212q1\n=\n.\nq\n!(s\n\u2212\nq\n)!\ns!\n1\n1\n=1\n\n(\u22121)n\u2212i\n.\n(i \u2212 1)!(n \u2212 i)!\n\n(3.6)\n\nNotice that in particular\nn\nX\n2n\u22121\n.\n(\u22121)i U(p, i) = (\u22121)n\n(n \u2212 1)!\ni=1\n\n3.1.4. Sums over trees. The wall-crossing for the decomposition (3.1) carries a\nsum over trees factor\nX Y\n(\u22121)h\u03b1k ,\u03b1l i h\u03b1k , \u03b1l i\n\u03a5 {k\u2192l}\u2282\u03a51\n\nwhich is especially simple for r = 1. Since hpk \u03bc, pl \u03bci = 0 the only ordered tree\nwhich gives a non-vanishing factor is the unique ordered tree rooted at i with\nleaves labelled by 1, . . . i \u2212 1, i + 1, . . . n. The factor is then\nn\u22121\ni\u22121\nY\nY\nY\nY\nY\npk .\nh\u03b3, pl \u03bci = (\u22121)n+i (\u22121)pk pk = (\u22121)a (\u22121)n+i\nhpl \u03bc, \u03b3i\n(\u22121)pk\nk\n\nl=1\n\nl=i\n\nk\n\nk\n\n\f18\n\nJACOPO STOPPA\n\n \u0304 \u2212 of a partition. Since DT\n \u0304 \u2212 (\u03b3) = 1 this is simply the product\n3.1.5. DT\nY\nDT\u2212 (pk \u03bc),\nk\n\nin particular it only depends on the unordered partition underlying p. Thus we\ncompute\n\uf8f6\n\uf8eb\nn\u22121\nY\nX\n1 \uf8f8\n \u0304 \u2212 (p, i) = (\u22121)n\u22121 \u03c7n\u22121\n\uf8ed\n.\nDT\nm2\nk=1\n\nm|pk\n\n3.1.6. r = 1 wall-crossing. We can now write down the rank r = 1 wall-crossing\nformula explicitely in terms of ordered partitions for integers,\n!\nn\nn\u22121\nX\nX\n(\u22121)\nn\nn\u22121\na\ni\n \u0304\n(\u22121) (\u2212\u03c7)\nDT(a,\n1) = (\u22121)\n(\u22121) U(p, i)\n2n\u22121\nn\u22652\ni=1\n\uf8f6\uf8f6\n\uf8eb\n\uf8eb\nX\nY\nX 1\n\uf8f8\uf8f8\n\uf8ed\npk \uf8ed\nm2\np\u22a2a,len(p)=n\u22121 k\nm|pk\n\uf8eb\n\uf8f6\uf8f6\n\uf8eb\nX \u03c7n\u22121\nX 1\nX\nY\n\uf8f8\uf8f8 .\n\uf8ed\n= (\u22121)a\npk \uf8ed\n(n \u2212 1)!\nm2\nn\u22652\n\np\u22a2a,len(p)=n\u22121 k\n\nm|pk\n\nThis can be compared directly with the KS wall crossing. Rearranging we find\n\uf8f6\n\uf8eb\nQ\nX\nX\nY\nX 1\nn\n\uf8f8\n\uf8ed\nQ l.\n=\n(3.7)\npl\nm2\nil\np\u22a2a,len(p)=k l\n\nm|pl\n\nlen(n)=len(i)=k,n * i=a\n\nwhich proves the required equivalence.\n3.2. r = 2.\n\n3.2.1. Decompositions. The rank r = 2 wall crossing formula contains a copy of\nthe r = 1 case, up to scale, given by ordered decompositions of the form\n2\u03b3 + a\u03bc = p1 \u03bc + * * * + pi\u22121 \u03bc + 2\u03b3 + pi \u03bc + . . . pn\u22121 \u03bc.\n\n(3.8)\n\nThis is because for decompositions of the form above it makes no difference if\nthe K-theory class is not primitive: U remains the sum of S over all possible\ncontractions. The factor\n\uf8f6\n\uf8f6\n\uf8eb\n\uf8eb\nY\nY\nX 1\nX 1\n\uf8f8 = (\u22121)a\n\uf8f8\n(\u22121)pk pk \uf8ed\npk \uf8ed\nm2\nm2\nk\n\nk\n\nm|pk\n\nm|pk\n\nin the \u03c7n\u22121 coefficient of the r = 1 formula must be replaced by\n\uf8f6\n\uf8eb\nY 1 X 1\n\uf8f8\npk \uf8ed\n2n\u22121\n4\nm2\nk\n\nm|pk\n\n\f19\n\n \u0304 \u2212 (2\u03b3) = 1 , giving\naccounting for products \u00b1(\u22121)hpk \u03bc,2\u03b3i hpk \u03bc, 2\u03b3i and DT\n4\n\uf8f6\uf8f6\n\uf8eb\n\uf8eb\nn\u22121\nX 1\nX\nY\nX\n\u03c7\n \u0304\n\uf8f8\uf8f8\n\uf8ed\npk \uf8ed\nDT(a,\n2) =\n2n\u22123\n(n \u2212 1)!\nm2\nn\u22652\n\np\u22a2a,len(p)=n\u22121 k\n\nm|pk\n\n+ contribution of new decompositions.\n\nThe first term coincides precisely with the first term of the rank r = 2 KS formula\n(we may call this the 'scaling' behaviour of both the KS and JS formulae in the\nD0-D6 case). The residual contribution comes from decompositions of the form\n2\u03b3 + a\u03bc = p1 \u03bc + * * *+ pi\u22121 \u03bc + \u03b3 + pi\u03bc + * * * + pj\u22122\u03bc + \u03b3 + pj\u22121\u03bc + * * *+ pn\u22122 \u03bc (3.9)\nwith copies of \u03b3 sitting at places 1 \u2264 i < j \u2264 n, which we denote by (p, i, j)\nwhere p is a length n \u2212 2 \u2265 1 ordered partition of a. In the rest of this section\nwe compute this residual contribution.\n3.2.2. Sum over trees. For fixed values of indexes i, j, 1 \u2264 i < j \u2264 n choose a\nspecial integer l \u2208 {1, . . . , n} \\ {i, j}; then choose possibly empty subsets of\n{1, . . . , i \u2212 1} \\ {l}, {i + 1, . . . , j \u2212 1} \\ {l}, {j + 1, . . . , n} \\ {l}\nwith cardinality h, m, t respectively. These choices give rise to a well defined\nordered tree rooted at i, j by connecting the chosen sets to the vertex labelled\ni, the special vertex l to both i, j and the remaining edges to j. Two such trees\ncan be distinguished by their Pr\u00fcfer code, and all admissible trees for (3.9) are\nof this form.\ntree contributes\nto the wall-crossing formula by a common factor\nQ\nQ A fixed\npk p times by a factor specific to the tree. Suppk p = (\u22121)a\n(\u22121)\n(\u22121)\nk\nk\nk\nk\npose first l \u2208 {1, . . . , i \u2212 1}; then this factor is\n\n(\u22121)#{ edges outgoing from i or j} pl = (\u22121)m (\u22121)n\u2212j pl .\n\u0001\nThere are 2i\u22122 2n\u2212j j\u2212i\u22121\ntrees for such fixed l. For l \u2208 {i + 1, j \u2212 1} the factor\nm\nis\n(\u22121)#{ edges outgoing from i or j} pl\u22121 = (\u22121)m+1 (\u22121)n\u2212j pl\u22121 ,\n\u0001\nand there are 2i\u22121 2n\u2212j j\u2212i\u22122\ntrees for such fixed l. Finally l \u2208 {j + 1, . . . , n}\nm\ngives a factor\n\n(\u22121)#{ edges outgoing from i or j} pl\u22122 = (\u22121)m (\u22121)n\u2212j+1 pl\u22122\n\u0001\ntrees. Thus the sum over graphs turns out to be\nfor 2i\u22121 2n\u2212j\u22121 j\u2212i\u22121\nm\nX Y\n(\u22121)h\u03b1k ,\u03b1l i h\u03b1k , \u03b1l i =\n\u03a5 {k\u2192l}\u2282\u03a51\n\nY\n(\u22121)pk pk\n\n\u0012\n\u0013\nj\u2212i\u22121\nm\nm=0\nl=1\n\u0012\n\u0013\nj\u22121\nj\u2212i\u22122\nX\nX\nm+1 j \u2212 i \u2212 2\n(\u22121)\npl\u22121\nm\nm=0\n\n2i\u22122 2n\u2212j (\u22121)n\u2212j\n\nk\n\n+2i\u22121 2n\u2212j (\u22121)n\u2212j\n\nl=i+1\n\ni\u22121\nX\n\npl\n\nj\u2212i\u22121\nX\n\n(\u22121)m\n\n\f20\n\nJACOPO STOPPA\n\n+2i\u22121 2n\u2212j\u22121 (\u22121)n\u2212j+1\n\nn\nX\n\nl=j+1\n\npl\u22122\n\nj\u2212i\u22121\nX\n\n(\u22121)m\n\nm=0\n\nBy the binomial theorem this equals\n\uf8f1\nQ\nP\nPn\u22122\n\uf8f2 (\u22121)n (\u22121)i+1 2n\u22123 (\u22121)a k pk ( i\u22121\npl \u2212 l=i\npl )\nl=1\nQ\n(\u22121)n (\u22121)i+1 2n\u22123 (\u22121)a k pk pi\n\uf8f3\n0\n\n\u0012\n\n\uf8f6\n\u0013\nj\u2212i\u22121 \uf8f8\n.\nm\nif\nj = i + 1,\nif\nj = i + 2,\notherwise.\n\n(recall n \u2265 3). The upshot of this is that among decompositions (3.9) the only\nthat can possibly contribute to the wall-crossing are those with (i, j) as above.\n3.2.3. S and\nP U. We only need to compute U of the decompositions with nonvanishing \u03a5 factor. Notice first that as in the r = 1 case the S symbol of a\npartition can only be non-vanishing if the first copy of \u03b3 lies in the first or second\nplace. As in the primitive case U(p, i, j) contains a 'first order' term which is the\nweighted sum of S over admissible contractions of p. For an arbitrary p we must\ncontract the head {p1 \u03bc, . . . , pi\u22121 \u03bc} to the singleton {(p1 + * * * + pi\u22121 )\u03bc}.\nSuppose first j = i + 1. Then contracting the head to a singleton plus contracting the tail using a partition q has S symbol\n(\u22121)len(q)+1 \u03b4p1 +***+pi\u22121 <pi +***+pn\u22122 .\nIf we also contract the couple {\u03b3, \u03b3} (with weight 1/2) the S symbol becomes\n(\u22121)len(q) . The 'first order' U symbol for j = i + 1 is therefore\n\u0013\nX (\u22121)len(q) \u0012\n1\n1\nQ\n\u2212\u03b4p1 +***+pi\u22121 <pi +***+pn\u22122 +\n(i \u2212 1)!\n2\nl ql !\nq\u22a2n\u2212i\u22121\n\n(\u22121)n\u2212i\u22121\n\n1\n(\u03b4p +***+pi\u22121 \u2265pi +***+pn\u22122 \u2212 \u03b4p1 +***+pi\u22121 <pi +***+pn\u22122 ).\n2 (i \u2212 1)!(n \u2212 i \u2212 1)! 1\nFor j = i + 2 the corresponding 'first order' term is\nX (\u22121)len(q)\n1\nQ\n(\u03b4p1 +***+pi\u22121 <pi +***+pn\u22122 * \u03b4p1 +***+pi \u2265pi+1 +***+pn\u22122 )\n(i \u2212 1)!\nl ql !\n=\n\nq\u22a2n\u2212i\u22121\n\n(\u22121)n\u2212i\u22121\n(\u03b4p +***+pi\u22121 <pi +***+pn\u22122 * \u03b4p1 +***+pi \u2265pi+1+***+pn\u22122 ).\n(i \u2212 1)!(n \u2212 i \u2212 1)! 1\nIn both cases when 2 | a there is also a 'second order' term. For j = i + 1 it is\nX (\u22121)len(q)\n1\n1\nQ\n\u2212\n\u03b4p1 +***+pi\u22121 =pi +***+pn\u22122\n2 (i \u2212 1)!\nl ql !\n=\n\nq\u22a2n\u2212i\u22121\n\n(\u22121)n\u2212i\u22121\n1\n\u03b4p +***+pi\u22121 =pi +***+pn\u22122 ,\n2 (i \u2212 1)!(n \u2212 i \u2212 1)! 1\nwhile for j = i + 2 we get\nX (\u22121)len(q)\n1\n1\nQ\n\u2212\n(\u2212\u03b4p1 +***+pi =pi+1 +***+pn\u22122 + \u03b4p1 +***+pi\u22121 =pi +***+pn\u22122 )\n2 (i \u2212 1)!\nl ql !\n=\u2212\n\nq\u22a2n\u2212i\u22121\n\n\f21\n\n=\n\n(\u22121)n\u2212i\u22121\n1\n(\u03b4p +***+pi =pi+1+***+pn\u22122 \u2212 \u03b4p1 +***+pi\u22121 =pi +***+pn\u22122 ).\n2 (i \u2212 1)!(n \u2212 i \u2212 1)! 1\n\n3.2.4. r = 2 wall-crossing. Recall that our aim is to compare the 'residual contribution' given in Joyce-Song theory by decompositions of the form (3.9) with\nthe corresponding term in the r = 2 KS formula, namely\n(\u22121)a\n2\n\nX\n\n(a\u2032 \u2212 a\u2032\u2032 )\u03a9(a\u2032 , 1)\u03a9(a\u2032\u2032 , 1).\n\na\u2032 <a\u2032\u2032 ,a\u2032 +a\u2032\u2032 =a\n\nBy the above discussion it is enough to sum over p and i since j is either i + 1 or\nn\u22121\nU factor over such a sum over decomposition equals\ni + 2, and the (\u22121)\n2n\u22121\n\uf8f6\n\uf8eb\nY\nX 1\n(\u22121)a (\u22121)n\n1\n\uf8f8\npk \uf8ed\n2\n4 (i \u2212 1)!(n \u2212 i \u2212 1)!\nm2\nk\n\n*\n\ni\u22121\nX\n\npl \u2212\n\nn\u22122\nX\nl=i\n\nl=1\n\nm|pk\n\n\u0001\npl (\u03b4p1 +***+pi\u22121 <pi +***+pn\u22122 \u2212 \u03b4p1 +***+pi\u22121 \u2265pi +***+pn\u22122 )\n\n\u2212 pi (2\u03b4p1 +***+pi\u22121 <pi +***+pn\u22122 * \u03b4p1 +***+pi \u2265pi+1 +***+pn\u22122\n\u0001\n\u2212 \u03b4p1 +***+pi\u22121 =pi +***+pn\u22122 + \u03b4p1 +***+pi =pi+1 +***+pn\u22122 ) .\n\nNotice thatPthe second order term for U when j = i + 1 is only nonzero when\nP\ni\u22121\nn\u22122\nl=1 pl =\nl=i pl , hence it gives no contribution in the formula above.\nNow sum over all p, i and compare to the KS term. The second factor in the\nformula above acts as on ordering operator, giving the sum over a\u2032 < a\u2032\u2032 . This\ncan be seen using the fact that for a fixed partition p there exists a unique i with\n\u03b4p1 +***+pi\u22121 <pi +***+pn\u22122 * \u03b4p1 +***+pi \u2265pi+1+***+pn\u22122 = 1.\nThe first factor equals the sum over all product \u03a9(a\u2032 ), \u03a9(a\u2032\u2032 ) by the usual rearrangement\n\uf8f6\n\uf8eb\nQ\nX\nX 1\nX\nY\nn\n\uf8f8\n\uf8ed\nQ l,\n=\npl\n2\nil\nm\n\u2032\n\u2032\np\u22a2a ,len(p)=k l\n\nlen(n)=len(i)=k,n * i=a\n\nm|pl\n\n(same for a\u2032\u2032 ), and the r = 1 KS wall-crossing i.e.\n\u2032\n\na\u2032\n\n\u03a9(a , 1) = (\u22121)\n\nX \u03c7k\nk\u22651\n\n(same for a\u2032\u2032 ).\n\nk!\n\nX\n\nlen(n)=len(i)=k,n * i=a\u2032\n\nQ\nn\nQ l,\nil\n\n\f22\n\nJACOPO STOPPA\n\n3.3. r = 3. Exactly as for r = 2 case there is a copy of the rank r = 1 KS formula,\nup to scaling \u03b3 to 3\u03b3, contributing\n(\u22121)a\n\nX\n\n3n\u22121\n\nn\u22652\n\n\u03c7n\u22121\n(n \u2212 1)!\n\n\uf8eb\n\uf8ed\n\nX\n\nY\n\np\u22a2a,len(p)=n\u22121 k\n\n\uf8f6\uf8f6\nX\n1 \uf8f8\uf8f8\n1\npk \uf8ed\n9\nm2\n\uf8eb\n\nm|pk\n\nwhich can be identified with the term\n(\u22121)a\n\nX\nk\u22651\n\n3k\u22122\n\n\u03c7k\nk!\n\nX\n\nlen(n)=len(i)=k,n * i=a\n\nQ\nn\nQ l\nil\n\nin the r = 3 KS formula.\nLet us now consider the case when exactly 2 copies of \u03b3 appear in the decomposition, or in other words decompositions (p, 2i + 1j ), (p, 1i + 2j ) for i < j. It\nshould be clear that both cases are very close, up to scale, to the decompositions\nstudied for the r = 2 case. One can go thorugh all of the previous subsection,\ntreating the first or second copy of \u03b3 as a 'variable' which can be rescaled to 2\u03b3,\nwithout any additional changes, until we reach the very last paragraph where the\nr = 1 formula for \u03a9(a\u2032 , 1), \u03a9(a\u2032\u2032 , 1) is used. This must now be replaced with the\ncorresponding r = 2 formula for \u03a9(a\u2032 , 2) which gives\n+\n\u2212\n\n1\n2\n\nX\n\n(\u22121)a1 \u22122a2 (a1 \u2212 2a2 )\u03a9(a1 , 2)\u03a9(a2 , 1)\n\na1 <2a2 ,a1 +a2 =a\n\n1\n4a\n\nX\n\n(a1 \u2212 a2 )(a1 + a2 \u2212 2a3 )\u03a9(a1 , 1)\u03a9(a2 , 1)\u03a9(a3 , 1)\n\n1 <a2 <a3 ,a1 +a2 +a3 =a\n\n1\n+\n4\n\nX\n\n(a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 1)\n\na1 <a2 ,2a1 +a2 =a\n\nand for \u03a9(a\u2032\u2032 , 2), giving\n+\n\n1\n2\n\nX\n\n(\u22121)2a1 \u2212a2 (2a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 2)\n\n2a1 <a2 ,a1 +a2 =a\n\n1\n\u2212\n4a\n\nX\n\n(a2 \u2212 a3 )(2a1 \u2212 a2 \u2212 a3 )\u03a9(a1 , 1)\u03a9(a2 , 1)\u03a9(a3 , 1)\n\n1 <a2 <a3 ,a1 +a2 +a3 =a\n\n+\n\n1\n4\n\nX\n\n(a1 \u2212 a2 )\u03a9(a1 , 1)\u03a9(a2 , 1)\n\na1 <a2 ,a1 +2a2 =a\n\nin the r = 3 KS identity.\n\n\f23\n\nIt remains to consider the 'genuine' new decompositions, i.e. those of the form\n(p, 1i + 1j + 1k ) for i < j < k. We expect that these contribute\nX\n1\n(a1 \u2212 a2 )2 (\u03a9(a1 , 1))2 \u03a9(a2 , 1)\n\u2212\n12 a <a ,2a +a =a\n1\n2\n1\n2\nX\n1\n\u2212\n(a1 \u2212 a2 )2 \u03a9(a1 , 1)(\u03a9(a2 , 1))2 .\n12\na1 <a2 ,a1 +2a2 =a\n\nThis can be shown be splitting the sum over graphs over the two different types\nof graphs, those with one 'cap'\n\u2022lpl \u03bc\n\n\u2022i\u03b3\n\n~~\n~~\n~\n~\n~~\n\n...\n\n@@\n@@\n@@\n@@\n\n\u2022j\u03b3\n\n\u2022k\u03b3\n\n...\n\n...\n\nwhich account for terms which are square terms \u00b1p2l (times by the usual common\nfactor for trees), and\n\u2022ll11 \u03bc\n\n\u2022i\u03b3\n...\n\n\u007f\u007f\n\u007f\u007f\n\u007f\n\u007f\n\u007f\u007f\n\n\u2022ll22 \u03bc\n\n??\n??\n??\n??\n\n\u2022j\u03b3\n...\n\n\u007f\u007f\n\u007f\u007f\n\u007f\n\u007f\n\u007f\u007f\n\n??\n??\n??\n??\n\n\u2022k\u03b3\n...\n\nfor l1 < l2 , giving double products \u00b12pl1 pl2 . This can be shown by computing\ndirectly as in the case of one-rooted graphs.\n3.4. Induction. We wish to sketch an inductive argument for the KS identities\n(but not integrality) for arbitrary rank r.\nSuppose we wish to prove that the Joyce-Song invariants satisfy the KS identity\nfor rank r. We fix an ordered partition q \u22a2 r and places i = i1 , . . . , ilen(q) ,\ncorresponding to decompositions for a\u03bc + r\u03b3 of type (p, q, i).\nSuppose now that len(q) < r. By induction, we have a formula for the contributions of such partitions to the JS side when at least one of the parts equals 1.\nAnd we also know inductively the scaling behaviour of this formula by replacing\nthis part (= 1) with a multiple q (here we use that the admissible trees are those\nwith less than r vertexes labelled by multiples of \u03b3). As in passing from r = 2 to\nr = 3, this rescaling is given by replacing a factor \u03a9(ak , 1) with the rank q component of the lhs in the KS wall-crossing formula. And as before we substitute\nfor this the corresponding term on the rhs, which is given inductively in terms\nof products of \u03a9(ak , ql ) for ql < q.\n\n\f24\n\nJACOPO STOPPA\n\nThis procedure gives all the terms in the rank r component of the rhs of the\nKS wall-crossing, except those arising from the order r correction in the BCH\nformula for log(exp(X) exp(Y )). The order r correction to log(exp(X) exp(Y ))\nhas the form\nPn\n\u22121\nX\nX (\u22121)n\u22121\nk=1 (sk + tk )\n[X s1 Y t1 * * * X sn Y tn ].\nn\ns1 !t1 ! * * * sn !tn !\nP\nn>0\n\nsi +ti >0,\n\n(si +ti )=r\n\nThe terms in the rhs corresponding to this correction can only involve iterated\nLie brackets of terms ea\u2032 \u03bc+\u03b3 . These correspond to a sum of terms of the form\nX\nP (a1 , . . . , ar\u22121 )(\u03a9(ai , 1))s1 * * * (\u03a9(ar\u22121 , 1))sr\u22121\na1 <***<ar\u22121 ,s1 ...sr\u22121 ,\n\nP\n\nak sk =a\n\nP\n\nwhere sk \u2265 0, k sk = r, si \u2265 2 for some i, and P (a1 , . . . , ar\u22121 ) is a homogeneous\npolynomial of degree r \u2212 1.\nOn the Joyce-Song side the terms corresponding to monomials in P involving\nprecisely h variables coincide with the contribution of the rooted trees with r\nvertexes labelled by \u03b3 and precisely h 'caps' (in the terminology introduced for\nr = 3).\n4. From D0-D6 to GW\nIn this section we explain how the theory of Gross-Pandharipande-Siebert, in\nparticular the main result from [GPS], the 'full commutator formula' Theorem\n5.6, applies to the case of D0-D6 states. As we will see from this point of view what\nlinks D0-D6 states to GW invariants in the product formula for the McMahon\nfunction. We briefly recollect the 'full commutator formula' in the form we will\nneed.\n4.1. Orbifold blowups. Let D \u2282 S be a divisor in a smooth surface and x \u2208 D a\nsmooth point. Smoothness implies that for each j \u2265 1 there is a unique subscheme\nof D of length j with reduced scheme x. We view this nonreduced scheme as a\nsubscheme xjD \u2282 S. For j \u2265 2 the scheme-theoretic blowup Sj of S along xjD\nhas a unique singular point of type Aj\u22121 lying in the exceptional divisor E. For\nthese quotient singularities we can put the structure of a smooth orbifold on Sj\nover Sj . For example the blowup of C2 along a length 2 subscheme Z supported\nat the origin has an ordinary double point at the point of E corresponding to the\ndirection cut out by Z, and so is locally the smooth orbifold C2 /Z2 . In this case\none can check directly that, on the smooth orbifold, E 2 = \u2212 21 , and in general one\ncan prove that, on Sj , E 2 = \u2212 1j .\n4.2. Graded ordered partitions. A graded ordered partition P is a d\u2212tuple\nP = (p1 , . . . , pd ) of ordered partitions such that every part of pj is divisible by j.\nIts parts are labelled by pjk for j = 1, . . . , d and k = 1, . . . , lj = len(pj ). We set\nP\nlen(P ) = (l1 , . . . , ld ) and |P | = j,k pjk .\n\n\f25\n\n4.3. Toric orbifolds. Let (a, r) denote a primitive vector. The fan given by\n(\u22121, 0), (0, \u22121) and (a, r) defines a toric surface X(a,r) , the weighted projective\nplane P(a, r, 1). The faces then correspond to toric divisors D1 , D2 , Dout . Removing the 3 torus fixed points [1 : 0 : 0], [0 : 1 : 0], [0 : 0 : 1] we obtain a\no\no .\nquasi-projective toric orbifold X(a,r)\nwith divisors D1o , D2o , Dout\nLet now G = (P1 , P2 ) be pair of graded ordered partitions P1 = (p11 , . . . , pd11 ),\nP2 = (p12 , . . . , pd22 ). For i = 1, 2 we choose distinct points xjik \u2208 Dio corresponding\ne \u2192 X whose corresponding\nto the parts pjik of pji . We pick a toric resolution X\ne 1, D\ne2, D\ne out are disjoint and define a smooth orbifold X[G]\ne\ne as the\ndivisors D\nover X\nj\ne at the points x . The underlying singularities become worse\norbifold blowup of X\nik\ne\nas j increases. We denote by X o [G] \u2282 X[G]\nthe preimage of X o . The exceptional\nj\ne Z) by \u03b2 * D\ne i = |Pi | for\ndivisors are Eik , and we can define a class \u03b2 \u2208 H2 (X,\ne out = ind(|P1 |, |P2 |) (the index of a possibly nonprimitive vector)\ni = 1, 2, \u03b2 * D\nand \u03b2 * D = 0 for all other generators of the Picard group. From \u03b2 we obtain a\ne\nnatural class \u03b2G on the blowup, i.e. in orbifold cohomology H2 (X[G]),\nby pulling\nback and subtracting the weighted exceptional divisors, namely\nj\n\n\u03b2G = \u03c0 \u2217 \u03b2 \u2212\n\nli\ndi X\nXX\n\nj\npjik [Eik\n].\n\ni=1,2 j=1 k=1\n\n4.4. Moduli spaces of relative stable maps. Gross-Pandharipande-Siebert\ne\ne out ) of genus 0 stable relative maps in the\nD\nconsider the moduli stack M (X[G]/\nclass \u03b2G with full tangency of order gcd(|P1 |, |P2 |) at an unspecified point of\no ) given by maps which\ne out , and the open substack M (X o [G]/Dout\nthe divisor D\ne\navoid X[G]\n\\ X o [G]. One of their main technical results ([GPS] Proposition 5.5)\no ) is proper with a perfect obstruction theory of virtual\nproves that M (X o [G]/Dout\ndimension 0, so for all G one has well defined GW invariants\nZ\n1 \u2208 Q.\nN [G] =\no )]vir\n[M(X o [G]/Dout\n\n4.5. Full commutator formula. For d1 , d2 \u226b 1 consider the functions\nj\n\nj\n\n\u03c3=\n\nl1\nd1 Y\nY\n\n1+\n\nj=1 k=1\n\n\u0001\nsjk xj , \u03c4\n\n=\n\nl2\nd2 Y\nY\n\n1 + tjk y j\n\nj=1 k\n\n\u0001\n\nas elements of the ring of formal power series C[[x, y, s\u2022\u2022 , t\u2022\u2022 ]] in as many variables\nas necessary. We define monomials\nj\n\ns\n\nP1\n\n=\n\nl1\nd1 Y\nY\n\nj=1 k=1\n\n\u0001\nsjk\n\np\n\nj\n1k\nj\n\nj\n\n,t\n\nP2\n\n=\n\nl2\nd2 Y\nY\n\nj=1 k=1\n\n\u0001\ntjk\n\np\n\nj\n2k\nj\n\n.\n\nLet (a, r) \u2208 Z2 be a primitive vector. Gross-Pandharipande-Siebert prove a\nformula for the formal power series log f(a,r) attached to (a, r) in the ordered\n\n\f26\n\nJACOPO STOPPA\n\nproduct factorisation for the commutator \u03c4 \u22121 \u03c3 \u22121 \u03c4 \u03c3, namely\nlog fm\u2032out =\n\n\u221e\nX\n\nX\n\nhN [G]sP1 tP2 xha y hr\n\nh=1 G=(P1 ,P2 )\n\nwhere the sum is over all graded ordered partitions P1 of length (l11 , . . . , l1d1 ) and\nP2 of length (l21 , . . . , l2d2 ) such that (|P1 |, |P2 |) = h * (a, r).\n4.6. Application to D0-D6 states. In our case we have\nY\n\u03c3\ne=\n(1 \u2212 (\u2212u)n xn )n\u03c7 , \u03c4 = (1 \u2212 uy).\nn\u22651\n\nClearly then d2 = 1, l12 = 1 and t11 = \u2212u. On the other hand we can truncate \u03c3\nto a fixed d1 \u226b 1 and write\n\u03c3=\n\nj\u03c7\nd1 Y\nY\n\n(1 \u2212 (\u2212u)j xj ),\n\nj=1 k=1\n\nwhich corresponds to the choices\nlj1 = j\u03c7, sjk = (\u22121)j uj for k = 1, . . . , j\u03c7.\nNow fix a primitive vector (a, r). The admissible ordered partitions (P1 , P2 )\nactually have the form (P1 , hr) for some h \u2265 1, so tP2 = (\u22121)kr ukr . On the other\nhand P1 = (p11 , p21 , . . . , pd1 ) is a d1 \u2212tuple of ordered partitions, with len(pj1 ) = j\u03c7\nand |P1 | = ha, and where each part of pj1 is divisible by j. It follows that\ns\n\nP1\n\n=\n\nj\u03c7\nd1 Y\nY\n\nj\n\n((\u22121)j uj )p1k = (\u22121)ha uha .\n\nj=1 k=1\n\nBy the full commutator formula then\nlog f(a,r) =\n\n\u221e X\nX\n\nhN [P\u03c7 ](\u22121)h(a+r) (ux)ha (uy)hr\n\nh=1 P\u03c7\n\nwhere the sum is over all graded ordered partitions P\u03c7 with length vector\nlen P\u03c7 = (\u03c7, 2\u03c7, . . . , d1 \u03c7)\nand |P\u03c7 | = ha. We have obtained the required D0-D6/GW duality in the ring\nC[[x, y]]\n\uf8f6\n\uf8eb\nY\nX\nY\n2\nexp \uf8ed\nhN [P\u03c7 ](\u22121)h(a+r) (x)ha (y)hr \uf8f8 =\n(1\u2212(\u22121)h ar (x)ha (y)hr )\u03a9(ha,hr) .\nh\u22651\n\nP\u03c7\n\nh\u22651\n\n(4.1)\n\nThe two sets of invariants are completely determined through each other.\n\n\f27\n\n5. Appendix\nIn this appendix we will illustrate the Joyce-Song D0-D6 invariants by com \u0304\nputing DT(2,\n2) using Behrend functions methods. This is possible by a formula\n \u0304 Gies invariants to other\nof Joyce-Song (see [JS] equation (16)) which connects DT\nm\ninvariants PI (depending on a parameter m \u226b 1) called pair invariants. These\nare obtained rigidifying with a section so they become virtual counts and are\ngiven by weighted Euler characteristics (we will define them in a moment). Here\n \u0304 Gies denotes the invariants counting Gieseker semistable objects in the cateDT\n \u0304 from DT\n \u0304 Gies .\ngory A. In turn it is possible to recover DT\nBy definition a Joyce-Song stable pair is given by a nonzero section\ns : OX (\u2212m) \u2192 F\nwhere F is Gieseker semistable, s does not factor through a semi-stabilising subsheaf and m is greater than the Castelnuovo-Mumford regularity of F , all this\nmodulo the natural gauge equivalence relation. Stable pairs have a fine moduli\nscheme which we denote by Mm\nstp (\u03b2). This Hilbert scheme of stable pairs has a\nsymmetric obstruction theory and so gives virtual counts (fixing a class \u03b2)\nZ\nm\n).\n1 = \u03c7(Mm\nPI (\u03b2) =\nstp (\u03b2), \u03bdMm\nstp (\u03b2)\nvir\n[Mm\nstp (\u03b2)]\n\nWe also write MGies for the Artin stack of Gieseker semistable coherent sheaves\nwith the same Chern character. There is a natural representable morphism\n\u03c0 : Mm\nstp \u2192 MGies\ngiven by forgetting the morphism s.\nThe Joyce-Song formula [JS] equation (16) holds for any effective class \u03b1 \u2208\nand m \u226b 1, giving\n\nK + (X)\n\nX\n\nPIm (\u03b1) =\n\n+\nn\nn\u22651,{\u03b1i }n\ni=1 \u2282(K (X)) ,\n\nPn\n\ni=1\n\n\u03b1i =\u03b1,\u2200iP\u03b1i =P\u03b1\n\n(\u22121)n\nF (\u03b11 , . . . , \u03b1n )\nn!\n\n(5.1)\n\nwhere\nF (\u03b11 , . . . , \u03b1n ) =\n\nn\nY\n\n(\u22121)hOX (\u2212m)\u2212\n\nj=1\n\nPj\u22121\ni=1\n\n\u03b1i ,\u03b1j i\n\nhOX (\u2212m) \u2212\n\nj\u22121\nX\n\n \u0304 Gies (\u03b1j ).\n\u03b1i , \u03b1j iDT\n\ni=1\n\n(5.2)\n\nwhile P\u2022 denotes the Hilbert polynomial and h\u2022, \u2022i the Mukai pairing.\n\u22952\naway from a\nLet now F be a torsion free sheaf which is isomorphic to OX\nzero dimensional subscheme of X. By [OSS] Lemma 1.1.8 we can extend this\n\u22952\n. Intersecting with a generic copy of OX \u2282\nisomorphism to an inclusion F \u2282 OX\n\u223c\nOX \u2295 OX gives F \u2229 OX = IZ for some zero dimensional subscheme Z \u2282 X. So\n\n\f28\n\nJACOPO STOPPA\n\nwe see that F is an extension\n0 \u2192 IZ \u2192 F \u2192 IW \u2192 0\nfor some other zero dimensional W \u2282 X.\nIf moreover F is Gieseker semistable with ch(F ) = (2, 0, 0, \u22122) we see that it\nmust be either a nonsplit extension\n0 \u2192 IZ \u2192 F \u2192 OX \u2192 0\n\n(5.3)\n\n0 \u2192 Ip \u2192 F \u2192 Iq \u2192 0\n\n(5.4)\n\nwith len(Z) = 2, or\nfor closed points p, q \u2208 X. One can show that these sheaves are Gieseker\nsemistable, and there is no intersection bewteen the sets of sheaves appearing\nin 5.3, 5.4.\nFor any 0-dimensional subscheme Z we have the exact sequence\n0 = H 0 (IZ ) \u2192 H 0 (OX ) \u2192 H 0 (OZ ) \u2192 H 1 (IZ ) \u2192 H 1 (OX ) = 0\nso the sheaves F of the form (5.3) are parametrised by\nP(Ext1 (OX , IZ )) = P(H 1 (IZ )) \u223c\n= Spec (C).\nProceding a bit further with the same exact sequence we find\n0 = H 1 (OZ ) \u2192 H 2 (IZ ) \u2192 H 2 (OX ) = H 1 (OX )\u2228 = 0.\nIn particular Ext1 (Iq , Ip ) = 0 for p 6= q. To see this take RHom(Iq , \u2022) of the\nsequence 0 \u2192 Ip \u2192 OX \u2192 Op \u2192 0 to find\n0 = Hom(Iq , Ip ) \u2192 Hom(Iq , OX ) \u2192 Hom(Iq , Op )\n\u2192 Ext1 (Iq , Ip ) \u2192 Ext1 (Iq , OX ) \u223c\n= H 2 (Iq ) = 0,\nand note that since p 6= q the map Hom(Iq , OX ) \u2192 Hom(Iq , Op ) is onto. So for\np 6= q we only have the split extension F = Ip \u2295 Iq .\nOn the other hand P(Ext1 (Ip , Ip )) \u223c\n= P(Tp Hilb1 (X)) \u223c\n= P(Tp X).\nTo compute PIm (2, 2) we stratify Mm\nstp according to the image of \u03c0; this gives\nstrata over which Behrend's constructible function is constant. Let us consider\nM1 \u2282 Mm\nstp\ngiven by pairs projecting to sheaves Ip \u2295 Iq with p 6= q. The fibres of \u03c0|M1 are all\nisomorphic to P(H 0 (Ip (m))) \u00d7 P(H 0 (Iq (m))) with even dimension 2(PX (n) \u2212 2)\nand Euler characteristic (PX (m) \u2212 1)2 . Since the fibres are smooth with even\ndimension we see\n\u03bdM1 = \u03c0 \u2217 \u03bdMGies\n(the sign would be negative for odd dimensional fibres, see e.g. [JS] Section 1.2\nfor this and other general properties of Behrend functions) and by [JS] equation\n\n\f29\n\n(10)\n\u03bdMGies (Ip \u2295 Iq ) = (\u22121)hIp ,Iq i \u03bdMGies (Ip ) * \u03bdMGies (Iq )\n= \u03bdMGies (Ip ) * \u03bdMGies (Iq )\n= (\u22121)(\u22121) = 1.\nIntegrating over unordered pairs {p, q} is half of integrating away from the diagonal in X \u00d7 X, so we find that the M1 contribution to PIm (2, 2) is\nZ\nZ\nZ\n1\n2\n\u2217\nd\u03c7\n\u03c0 \u03bdMGies d\u03c7 = (PX (m) \u2212 1)\nd\u03c7 =\n\u03bd Mm\nstp\n2\n(X\u00d7X)\\\u2206\nM1\nM1\n1\n= (PX (m) \u2212 1)2 \u03c7((X \u00d7 X) \\ \u2206)\n2\n1\n= (PX (m) \u2212 1)2 (\u03c72 \u2212 \u03c7).\n2\nSimilarly for pairs M2 projecting to Ip \u2295 Ip the fibre of \u03c0 is Gr(2, H 0 (Ip (m)))\nwith even dimension 2(PX (m) \u2212 3) and Euler characteristic\n\u0012\n\u0013\n1\nPX (m) \u2212 1\n1\n= (PX (m) \u2212 1)2 \u2212 (PX (m) \u2212 1)\n2\n2\n2\nwhile \u03bdMGies (Ip \u2295 Ip ) = \u03bdMGies (Ip )2 = 1, yielding\nZ\nZ\n1\n1\n\u03c0 \u2217 \u03bdMGies d\u03c7 = (PX (m) \u2212 1)2 \u03c7 \u2212 (PX (m) \u2212 1)\u03c7.\n\u03bd Mm\nd\u03c7\n=\nstp\n2\n2\nM2\nM2\nConsider next a sheaf F given by a nonsplit extension\n0 \u2192 Ip \u2192 F \u2192 Ip \u2192 0.\nIts deformations correspond to deformations of p \u2208 X plus deformations of [F ]\nin P(Ext1 (Ip , Ip )) \u223c\n= P2 , so\n\u03bdMGies (F ) = (\u22121)2 (\u22121)3 = \u22121.\nThe set of all extensions above forms the projective bundle P(T X) \u2192 X. Let M3\ndenote the locus of pairs projecting to extenstions as above. The fibre \u03c0 \u22121 (F ) is\ngiven by H 0 (Ip (m)) \u00d7 P(H 0 (Ip (m))) with odd dimension 2PX (n) \u2212 3 and Euler\ncharacteristic PX (n) \u2212 1, so we find\nZ\nZ\n\u03c0 \u2217 \u03bdMGies d\u03c7 = 3(PX (m) \u2212 1)\u03c7.\nd\u03c7 = \u2212\n\u03bd Mm\nstp\nM3\n\nM3\n\nThe last kind of pairs M4 project to a nonsplit extension\n0 \u2192 IZ \u2192 F \u2192 OX \u2192 0\nfor a length 2 subscheme Z \u2282 X. The sheaf F is stable, and admissible sections\nare P(H 0 (F )) with odd dimension 2PX (n)\u2212 3 and Euler characteristic 2(PX (n)\u2212\n1). As we have seen ext1 (OX , IZ ) = 1 and so these sheaves are parametrised by\nthe Hilbert scheme Hilb2 (X). It remains to compute \u03bdMGies (F ). A nice way\n\n\f30\n\nJACOPO STOPPA\n\nto do this is by the fundamental Joyce-Song duality [JS] (10), (11) Section 1.3,\nwhich gives\nZ\nZ\n\u03bdMGies (E)d\u03c7\n\u03bdMGies (E)d\u03c7 =\n[E]\u2208P(Ext1 (OX ,IZ ))\n\n+\n\n[E]\u2208P(Ext1 (IZ ,OX ))\n(ext1 (OX , IZ ) \u2212 ext1 (IZ , OX ))\u03bdMGies (IX\n\n\u2295 OX )\n\n= \u2212\u03bdMGies (IX \u2295 OX )\n= \u2212(\u22121)hIX ,OX i \u03bdMGies (IZ ) * \u03bdMGies (OX )\n= \u2212\u03bdMGies (IZ ),\next1 (IZ , OX )\n\nusing\n= 0 and the fact that OX is rigid by assumption. Since the\nleft hand side is just \u03bdMGies (F ) we see this equals \u2212\u03bdMGies (IZ ). Integrating over\nall pairs in M4 gives\nZ\nZ\nm\n\u03c0 \u2217 \u03bdMGies d\u03c7 = (PX (n) \u2212 1)(\u03c72 + 5\u03c7).\n\u03bdMstp d\u03c7 = \u2212\nM4\n\nM3\n\nPutting together these computations we see that PI(2, 2) =\nis a polynomial in the 'variable' PX (n) \u2212 1,\n\nP4\n\nR\n\ni=1 Mi\n\nd\u03c7\n\u03bd Mm\nstp\n\n\u03c72 + 15\u03c7\n1 2\n\u03c7 (PX (m) \u2212 1)2 +\n(PX (m) \u2212 1).\n(5.5)\n2\n2\n \u0304 invariants from PI(2, 2). According to (5.1) the\nLet us now extract the DT\nonly contributions to PI(2, 2) are\n \u0304 Gies (2, 2),\n\u2212F1 = \u22122(PX (n) \u2212 1)DT\nPI(2, 2) =\n\n1\n1\n \u0304 Gies (1, 1))2\nF2 = (PX (n) \u2212 1)2 (DT\n2\n2\n1\n= (PX (n) \u2212 1)2 \u03c72 .\n2\nComparing with PI(2, 2) gives\n2\n \u0304 Gies (2, 2) = \u2212 5 \u03c7 \u2212 \u03c7 + 5\u03c7 .\nDT\n4\n2\n \u0304 is especially simple in this case,\nThe wall-crossing to DT\n \u0304\n \u0304 Gies (2, 2) + DT\n \u0304 Gies (2, 1).\nDT(2,\n2) = DT\n\nTherefore we find\n\n5\n \u0304\nDT(2,\n2) = \u2212 \u03c7, \u03a9(2, 2) = \u2212\u03c7.\n4\nReferences\n\n[BF] K. Behrend and B. Fantechi, Symmetric obstruction theories and Hilbert schemes of points\non threefolds, Algebra Number Theory 2 (2008), no. 3, 313\u2013345.\n[CDP] W. Chuang, D. Diaconescu and G. Pan, Chamber Structure and Wallcrossing in the\nADHM Theory of Curves II, arXiv:0908.1119.\n[CSS] M. Cirafici, A. Sinkovics and R. J. Szabo, Cohomological gauge theory, quiver matrix\nmodels and DonaldsonThomas theory, arXiv:0803.4188 [hep-th].\n\n\f31\n\n[GP] M. Gross, R. Pandharipande, Quivers, curves, and the tropical vertex, arXiv:0909.5153.\n[GPS] M. Gross, R. Pandharipande and B. Siebert, The tropical vertex, arXiv:0902.0779v1.\n[Hu] D. Huybrecths, Stability structures on Lie algebras after Kontsevich and Soibelman, notes\navailable at http://www.math.uni-bonn.de/people/huybrech/Publnotes.html.\n[JS] D. Joyce and Y. Song, A theory of generalized Donaldson-Thomas invariants,\narXiv:0810.5645v3.\n[KS] M. Kontsevich and Y. Soibelman, Stability structures, motivic Donaldson-Thomas invariants and cluster transformations, arXiv:0811.2435v1.\n[LP] M. Levine and R. Pandharipande, Algebraic cobordism revisited, math.AG/0605196.\n[Li] J. Li, Zero dimensional Donaldson-Thomas invariants of threefolds, Geom. Topol. 10 (2006),\n2117\u20132171 (electronic).\n[OSS] C. Okonek, M. Schneider and H. Spindler, Vector bundles on complex projective spaces,\nProgress in Mathematics, 3. Birkh\u00e4user, Boston, Mass., 1980. vii+389 pp.\n[Re] M. Reineke, Cohomology of quiver moduli, functional equations, and integrality of\nDonaldson-Thomas type invariants, arXiv:0903.0261v1.\n[Th] R. P. Thomas, A holomorphic Casson invariant for Calabi-Yau 3-folds, and bundles on K3\nfibrations, J. Differential Geom., 54, 367\u2013438, 2000.\n[To] Y. Toda, On a computation of rank two Donaldson-Thomas invariants, arXiv:0912.2507v1.\nDepartment of Pure Mathematics and Mathematical Statistics, University of\nCambridge, Wilberforce Road, Cambridge CB3 0WB, UK\nE-mail address: J.Stoppa@dpmms.cam.ac.uk\n\n\f"}