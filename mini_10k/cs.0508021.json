{"id": "http://arxiv.org/abs/cs/0508021v1", "guidislink": true, "updated": "2005-08-02T19:32:54Z", "updated_parsed": [2005, 8, 2, 19, 32, 54, 1, 214, 0], "published": "2005-08-02T19:32:54Z", "published_parsed": [2005, 8, 2, 19, 32, 54, 1, 214, 0], "title": "Toward Compact Interdomain Routing", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=cs%2F0508012%2Ccs%2F0508014%2Ccs%2F0508124%2Ccs%2F0508097%2Ccs%2F0508021%2Ccs%2F0508044%2Ccs%2F0508107%2Ccs%2F0508103%2Ccs%2F0508008%2Ccs%2F0508083%2Ccs%2F0508120%2Ccs%2F0508132%2Ccs%2F0508119%2Ccs%2F0508085%2Ccs%2F0508032%2Ccs%2F0508067%2Ccs%2F0508053%2Ccs%2F0508003%2Ccs%2F0603111%2Ccs%2F0603015%2Ccs%2F0603126%2Ccs%2F0603024%2Ccs%2F0603026%2Ccs%2F0603091%2Ccs%2F0603067%2Ccs%2F0603057%2Ccs%2F0603007%2Ccs%2F0603092%2Ccs%2F0603036%2Ccs%2F0603088%2Ccs%2F0603132%2Ccs%2F0603014%2Ccs%2F0603008%2Ccs%2F0603041%2Ccs%2F0603054%2Ccs%2F0603009%2Ccs%2F0603108%2Ccs%2F0603028%2Ccs%2F0603082%2Ccs%2F0603001%2Ccs%2F0603040%2Ccs%2F0603076%2Ccs%2F0603099%2Ccs%2F0603037%2Ccs%2F0603112%2Ccs%2F0603059%2Ccs%2F0603033%2Ccs%2F0603095%2Ccs%2F0603003%2Ccs%2F0603013%2Ccs%2F0603039%2Ccs%2F0603032%2Ccs%2F0603048%2Ccs%2F0603130%2Ccs%2F0603105%2Ccs%2F0603062%2Ccs%2F0603042%2Ccs%2F0603017%2Ccs%2F0603004%2Ccs%2F0603125%2Ccs%2F0603110%2Ccs%2F0603047%2Ccs%2F0603100%2Ccs%2F0603084%2Ccs%2F0603096%2Ccs%2F0603011%2Ccs%2F0603094%2Ccs%2F0603010%2Ccs%2F0603074%2Ccs%2F0603022%2Ccs%2F0603038%2Ccs%2F0603063%2Ccs%2F0603030%2Ccs%2F0603052%2Ccs%2F0603120%2Ccs%2F0603016%2Ccs%2F0603045%2Ccs%2F0603056%2Ccs%2F0603083%2Ccs%2F0603118%2Ccs%2F0603080%2Ccs%2F0603058%2Ccs%2F0603029%2Ccs%2F0603065%2Ccs%2F0603093%2Ccs%2F0603069%2Ccs%2F0603051%2Ccs%2F0603107%2Ccs%2F0603079%2Ccs%2F0603078%2Ccs%2F0603050%2Ccs%2F0603098%2Ccs%2F0603116%2Ccs%2F0603075%2Ccs%2F0603023%2Ccs%2F0603049%2Ccs%2F0603127%2Ccs%2F0603102%2Ccs%2F0603123%2Ccs%2F0603087%2Ccs%2F0603089&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Toward Compact Interdomain Routing"}, "summary": "Despite prevailing concerns that the current Internet interdomain routing\nsystem will not scale to meet the needs of the 21st century global Internet,\nnetworking research has not yet led to the construction of a new routing\narchitecture with satisfactory and mathematically provable scalability\ncharacteristics. Worse, continuing empirical trends of the existing routing and\ntopology structure of the Internet are alarming: the foundational principles of\nthe current routing and addressing architecture are an inherently bad match for\nthe naturally evolving structure of Internet interdomain topology. We are\nfortunate that a sister discipline, theory of distributed computation, has\ndeveloped routing algorithms that offer promising potential for genuinely\nscalable routing on realistic Internet-like topologies. Indeed, there are many\nrecent breakthroughs in the area of compact routing, which has been shown to\ndrastically outperform, in terms of efficiency and scalability, even the\nboldest proposals developed in networking research. Many open questions remain,\nbut we believe the applicability of compact routing techniques to Internet\ninterdomain routing is a research area whose potential payoff for the future of\nnetworking is too high to ignore.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=cs%2F0508012%2Ccs%2F0508014%2Ccs%2F0508124%2Ccs%2F0508097%2Ccs%2F0508021%2Ccs%2F0508044%2Ccs%2F0508107%2Ccs%2F0508103%2Ccs%2F0508008%2Ccs%2F0508083%2Ccs%2F0508120%2Ccs%2F0508132%2Ccs%2F0508119%2Ccs%2F0508085%2Ccs%2F0508032%2Ccs%2F0508067%2Ccs%2F0508053%2Ccs%2F0508003%2Ccs%2F0603111%2Ccs%2F0603015%2Ccs%2F0603126%2Ccs%2F0603024%2Ccs%2F0603026%2Ccs%2F0603091%2Ccs%2F0603067%2Ccs%2F0603057%2Ccs%2F0603007%2Ccs%2F0603092%2Ccs%2F0603036%2Ccs%2F0603088%2Ccs%2F0603132%2Ccs%2F0603014%2Ccs%2F0603008%2Ccs%2F0603041%2Ccs%2F0603054%2Ccs%2F0603009%2Ccs%2F0603108%2Ccs%2F0603028%2Ccs%2F0603082%2Ccs%2F0603001%2Ccs%2F0603040%2Ccs%2F0603076%2Ccs%2F0603099%2Ccs%2F0603037%2Ccs%2F0603112%2Ccs%2F0603059%2Ccs%2F0603033%2Ccs%2F0603095%2Ccs%2F0603003%2Ccs%2F0603013%2Ccs%2F0603039%2Ccs%2F0603032%2Ccs%2F0603048%2Ccs%2F0603130%2Ccs%2F0603105%2Ccs%2F0603062%2Ccs%2F0603042%2Ccs%2F0603017%2Ccs%2F0603004%2Ccs%2F0603125%2Ccs%2F0603110%2Ccs%2F0603047%2Ccs%2F0603100%2Ccs%2F0603084%2Ccs%2F0603096%2Ccs%2F0603011%2Ccs%2F0603094%2Ccs%2F0603010%2Ccs%2F0603074%2Ccs%2F0603022%2Ccs%2F0603038%2Ccs%2F0603063%2Ccs%2F0603030%2Ccs%2F0603052%2Ccs%2F0603120%2Ccs%2F0603016%2Ccs%2F0603045%2Ccs%2F0603056%2Ccs%2F0603083%2Ccs%2F0603118%2Ccs%2F0603080%2Ccs%2F0603058%2Ccs%2F0603029%2Ccs%2F0603065%2Ccs%2F0603093%2Ccs%2F0603069%2Ccs%2F0603051%2Ccs%2F0603107%2Ccs%2F0603079%2Ccs%2F0603078%2Ccs%2F0603050%2Ccs%2F0603098%2Ccs%2F0603116%2Ccs%2F0603075%2Ccs%2F0603023%2Ccs%2F0603049%2Ccs%2F0603127%2Ccs%2F0603102%2Ccs%2F0603123%2Ccs%2F0603087%2Ccs%2F0603089&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Despite prevailing concerns that the current Internet interdomain routing\nsystem will not scale to meet the needs of the 21st century global Internet,\nnetworking research has not yet led to the construction of a new routing\narchitecture with satisfactory and mathematically provable scalability\ncharacteristics. Worse, continuing empirical trends of the existing routing and\ntopology structure of the Internet are alarming: the foundational principles of\nthe current routing and addressing architecture are an inherently bad match for\nthe naturally evolving structure of Internet interdomain topology. We are\nfortunate that a sister discipline, theory of distributed computation, has\ndeveloped routing algorithms that offer promising potential for genuinely\nscalable routing on realistic Internet-like topologies. Indeed, there are many\nrecent breakthroughs in the area of compact routing, which has been shown to\ndrastically outperform, in terms of efficiency and scalability, even the\nboldest proposals developed in networking research. Many open questions remain,\nbut we believe the applicability of compact routing techniques to Internet\ninterdomain routing is a research area whose potential payoff for the future of\nnetworking is too high to ignore."}, "authors": ["Dmitri Krioukov", "kc claffy"], "author_detail": {"name": "kc claffy"}, "author": "kc claffy", "links": [{"href": "http://arxiv.org/abs/cs/0508021v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/cs/0508021v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "cs.NI", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "cs.NI", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/cs/0508021v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/cs/0508021v1", "arxiv_comment": null, "journal_reference": null, "doi": null, "fulltext": "Toward Compact Interdomain Routing\n\narXiv:cs/0508021v1 [cs.NI] 2 Aug 2005\n\nDmitri Krioukov and kc claffy\nCAIDA\n{dima,kc}@caida.org\n\nAbstract\nDespite prevailing concerns that the current Internet interdomain routing system will not scale to meet the needs of\nthe 21st century global Internet, networking research has not\nyet led to the construction of a new routing architecture with\nsatisfactory and mathematically provable scalability characteristics. Worse, continuing empirical trends of the existing routing and topology structure of the Internet are alarming: the foundational principles of the current routing and\naddressing architecture are an inherently bad match for the\nnaturally evolving structure of Internet interdomain topology. We are fortunate that a sister discipline, theory of distributed computation, has developed routing algorithms that\noffer promising potential for genuinely scalable routing on\nrealistic Internet-like topologies. Indeed, there are many recent breakthroughs in the area of compact routing, which has\nbeen shown to drastically outperform, in terms of efficiency\nand scalability, even the boldest proposals developed in networking research. Many open questions remain, but we believe the applicability of compact routing techniques to Internet interdomain routing is a research area whose potential\npayoff for the future of networking is too high to ignore.\n\n1 Introduction\nThe relentless growth of the Internet has brought with it inevitable, and inextricable, economic and social dependence\non this infrastructure. In reality, the dependence is mutual:\nwithout a robust source of economic support, the Internet will\nbe unable to evolve toward the potential it quite imaginably\nholds. We believe that we will soon be faced with a critical architectural inflection point in the Internet. Most experts\nagree1 that the existing data network architecture is severely\nstressed and reaching its capability limits. The evolutionary\ndynamics of several critical components of the infrastructure\nsuggest that the existing system will not scale properly to accommodate even another decade of growth. While ad hoc\npatches, some of them quite clever, have offered temporary\nrelief, both the research and operational communities concur\nthat a fundamental top-to-bottom reexamination of the routing architecture is requisite to a lasting solution.\nIn this paper we set to work on such reexamination. We\nclarify up front that we adhere to standard scientific reductionism in this work: given a complex system-existing interdomain routing-that we want to fix, we seek to decompose it into constituents that we can tackle one-by-one, since\n1 See\n\n[1, 2, 3, 4, 5] for few examples.\n\neach constituent problem has a chance of admitting formalization and rigorous solution. We can then construct the\nfinal solution-a future Internet routing architecture-from\nthe solutions to subproblems. The constituent problem we\nwill examine in this paper is routing scalability, though it is\nwell-established that scalability is only one of many problems of the current Internet routing architecture.2\nMore specifically, we analyze the fundamental causes of\nthe global interdomain routing scalability problems, and how\nthey imply the need for dramatically more efficient routing\nalgorithms with rigorously proven worst-case performance\nguarantees. Fortunately, such algorithms exist-they are\nknown collectively as compact routing. But before we review these techniques (Section 5), we first reduce Internet\nscalability problems to compact routing formalism. In Section 2 we will peel off the surface layers of the complexity\nof the current interdomain routing system to reveal the roots\nof its scalability inefficiencies. One of the serious practical\nconcerns with compact routing is that it does not guarantee\nthe use of shortest paths: it \"stretches\" them. We discuss the\nstretch of a routing algorithm in Section 3, and contrast it\nwith more familiar forms of path-length inflation in today's\ninterdomain routing. This discussion naturally leads to our\nexplanation of why hierarchical routing will not scale if deployed in the Internet (Section 4). After we survey the history of compact routing in Section 5, we analyze the key aspects of its applicability to Internet interdomain routing in\nSection 6. Such analysis yields an outline of future work in\nthis area. We conclude in Section 7 with a vivifying summary.\n\n2\n\nRouting scalability\n\nPoor scaling of a routing protocol expresses itself in terms of\nrapid (linear) rates of growth of the routing table (RT) size\nas well as convergence parameters (convergence time, churn,\ninstabilities, etc.). In this paper we concentrate on the subproblem associated with the former component, but we also\ndiscuss the latter in Section 6.\nThe immediate causes of Internet RT growth have been\nextensively studied and analyzed [2, 3, 6, 7]. Several studies, proposals, and even new routing architectures seek to directly address these causes. Prominent efforts in this area\ninclude [8, 9, 10, 11, 12] and most recently [13, 14]. However, we argue that even if we could manage to deploy any\n2 Other problems include security, isolation, configuration control, etc. See [5] for a long list of future routing architecture requirements.\n\n\fperformance paramter\n(e.g. routing table size)\n\nexisitng architecture\nconstant\u2212factor improvement\nbetter scaling\n\ntoday\n\nfuture\n\nnetwork size\n\nFigure 1: Constant-factor improvement vs. better scaling. Scalability means effective scaling, not a one-time reduction. Although\nthe difference in impact between alternatives to the existing architecture may be small today, in the long run a constant factor reduction is negligible compared to the performance gain from a genuinely scalable solution. Any solution that scales in essentially the\nsame way as the existing architecture is only postponing the problem.\nof the proposed approaches, it would represent only a shortterm patch, because they address symptoms rather than the\nroot of the problem. It is empirically clear that the Internet\nneeds more than a short-term fix.\nAs an example, we consider the idea of routing on AS numbers, where AS numbers replace IP prefixes in the role of\ninterdomain routing addresses. This idea is now a common\npart of many proposals [9, 11, 12, 13, 14]. At first glance\nrouting on AS numbers looks like a final solution to the RT\nsize problem. Indeed, such an approach could immediately\nreduce the RT size by an order of magnitude, since there are\nan order of 105 IP prefixes and 104 ASs in the global RT\ntoday. However, even if a protocol implementing this idea\nwere deployed, there is no reason to believe it would change\nthe empirically observed trend3 that an increasing number of\nsmall (stub) networks want to participate in interdomain routing, e.g., for traffic engineering reasons, and to do so they require their own interdomain routing addresses (AS numbers).\nSuch small networks utilize tiny portions of the public IP address space, which implies that inevitably the total number\nof ASs will continue to grow at roughly the same rate as the\ntotal number of IP prefixes, and we will soon face, albeit a\nfew years later, essentially the same problem we have today.\nWe learn two important lessons from this example. The\nfirst is of general significance: when considering scalability aspects of a new routing architecture, what matters is\nnot any one-time improvement it produces, but how well\nit scales. A routing protocol that yields a constant reduction in RT size but the same rate of growth does not actually\nsolve the RT size problem, it simply postpones it. Figure 1\nillustrates this consideration: as network size grows, the difference between the current architecture and an architecture\nproviding a constant-factor improvement becomes negligible. No less important is the mathematical provability of the\nprotocol's scaling behavior. In the case of RT size such prov3 In\n\nthe existing Internet, the total number of ASs grows faster\nthan the total number of IP prefixes [15, 6].\n\nability implies rigorously derived worst-case (upper) bounds\nof the RT size as a function of the network size. The fact that\nwe face interdomain routing scalability problems today is at\nleast in part due to the lack of any rigorous performance guarantees embedded in the BGP design. We should not repeat\nthe same mistake in the future.\nThe second lesson is more specific: organization (AS)\nboundaries do offer a natural level of aggregation and abstraction of routing information. It would be thus unexpected\nto neglect such a possibility for RT size reduction. Indeed,\nwe adopt the idea of routing on AS numbers, and the natural level of network topology abstraction we consider in our\nwork is thus the Internet AS-level topology graph.\nFurthermore, faithful to our reductionistic spirit, we temporarily avoid discussing routing policies. T. Griffin et al.'s\nindependent scope of work focuses specifically on policyrelated problems. In addition, one design goal of their latest\nabstract routing protocol model [16] is explicit modularity\nwith respect to the routing algorithm and policy components\nof the protocol.4 Thus we believe that our work on the algorithmic component can proceed in parallel and virtually independently of the vitally important policy-related research.\nSatisfactory results in both domains would powerfully position the research community to offer a complete solution.\nTo summarize this section, we assert that in order to find\nsustainable solutions to the global Internet routing problem,\nwe need to investigate the scalability issues at their most fundamental level. For interdomain routing the framing question appears to be the performance guarantees of routing algorithms operating on graphs with topologies similar to the\nInternet AS-level topology. In particular, we are interested\nin rigorous upper bounds of the RT size. It turns out that\ncompact routing is exactly what we are looking for: a research area focused on construction of efficient routing algorithms with proven worst-case performance guarantees.\nHowever, before we describe compact routing, we need to\ndiscuss stretch.\n\n3 Routing stretch\nThe stretch of a routing algorithm is defined as a worst-case\nmultiplicative path-length increase factor. More specifically,\nfor every pair of nodes in all graphs in the set of graphs the\nalgorithm can operate on, we find the ratio of the length of the\npath produced by the algorithm to the length of the shortest\npath between the same pair of nodes. The maximum of this\nratio among all node pairs in all the graphs is the algorithm's\nstretch. The average stretch is the average of this ratio on a\nsubset of graphs.\nWe emphasize that stretch has nothing in common with\nknown forms of path inflation in contemporary Internet\nrouting. Path inflation is today's Internet is not due to the\nnon-trivial stretch of an underlying routing algorithm, but\nrather due to intra- and inter-domain routing policies, various incongruities across multiple levels of network topology\nabstraction (geographical, router-, AS-level), etc. [17]\nIn fact, we are not aware of any currently used routing protocol that would implement a routing algorithm with\n4 Note the difference between terms routing protocol and routing\nalgorithm. The algorithm is a part of a protocol. In BGP case, for\nexample, the protocol is BGP itself, while algorithm is path-vector.\n\n\fstretch greater than 1 (stretch>1): link-state (LS) in OSPF or\nISIS, distance-vector (DV) in RIP, LS/DV hybrid in EIGRP,\nand path-vector in BGP are all forms of trivial5 shortestpath routing (stretch-1). Consider two examples: BGP and\nOSPF. Non-trivial policy configurations generally prevent\nBGP from routing along the actual shortest path, but without\npolicies the BGP route selection process would always select the shortest paths in the AS-level graph. Similarly, nontrivial area configurations prevent OSPF from routing along\nthe shortest paths, but routing inside an area is always along\nthe shortest path in the weighted router-level graph.\nThe above examples seem straightforward but we identify\nthem to eliminate any possible confusion between stretch of a\nrouting algorithm and inflation of paths produced by a routing protocol. Clarifying the difference allows us to formulate both necessary and sufficient requirements for routing\nstretch. The sufficient routing stretch requirement is that the\nrouting algorithm underlying any realistic interdomain\nrouting protocol must be of stretch-1. Our reasoning behind this requirement is as follows. Consider a generic6\nstretch>1 routing algorithm and apply it to a complete graph,\nwhich has all nodes directly connected to all other nodes so\nthat all shortest paths are of length 1. If the routing algorithm\ndoes not guarantee to find all shortest paths, it would imply\nthat some nodes in a complete graph would not know about\ntheir own directly connected neighbors.\nOf course, the Internet interdomain topology is not a full\nmesh, and it might turn out that the same routing algorithm\nthat fails to be stretch-1 on a full mesh does in fact find all\nshortest paths to each node's neighbors in realistic Internetlike topologies. We thus might also pursue the explicit task\nof finding a non-generic routing algorithm that is applicable\nonly to Internet-like topologies. We do not require this algorithm be stretch-1, but it must be of stretch-1 on paths of\nlength 1 leading to nodes' neighbors. In other words, the necessary routing stretch requirement is that the routing algorithm underlying any realistic interdomain routing protocol must be of stretch-1 on paths of length 1 in realistic\nInternet-like topologies.\nThese requirements are purely practical: if a link exists\nbetween a pair of ASs, they must be able to route traffic\nover this link. If our sophisticated routing algorithm removes\nrouting information about this link from the ASs' RTs, then\nthe ASs' network operators will have to manually reinsert it,\nwhich counters the scalability objective of reducing the RT\nsize. We will refer to this administrative re-adding of information about shortest paths to nodes' neighbors as neighbor\nreinsertion.\nThe absence of a neighbor of a node in that node's RT appears to contradict common sense, but one can verify that it\noccurs with the algorithms we discuss in Section 5. We emphasize that we have not had to deal with this effect in practice yet because the routing algorithms in operation today\nare all of stretch-1. Indeed, this effect reflects the inevitable\ntrade-off between RT size and stretch. Intuitively, we can\nexplain this trade-off as follows: shortest path routing implies complete knowledge of the network topology, complete\n\nThe pioneering paper on routing scalability was Kleinrock\nand Kamoun's [18], which introduced the idea of hierarchical\nrouting. The key idea is to group (or aggregate) nearby nodes\ninto areas, areas into super-areas, and so on. Such grouping\nis a form of the network partitioning problem. Hierarchical\naggregation and addressing offer substantial RT size reduction by abstracting out unnecessary topological details about\nremote portions of the network: nodes in one (super-)area\nneed to keep only one RT entry for all nodes in another\n(super-)area. To our knowledge, all proposals for future Internet routing architectures trying to address the RT size problem are based, explicitly or implicitly, on this concept of hierarchical routing. In fact, no other kind of RT size reduction\ntechnique has been considered in the networking literature.7\nUnfortunately, according to the best available data, hierarchical routing is simply not a good candidate for interdomain\nrouting.\nIndeed, in the same paper [18], Kleinrock and Kamoun\nwere the first to analyze the stretch/RT size trade-off. They\nshowed that the routing stretch produced by the hierarchical approach is satisfactory only for topologies with average\n \u0304\nthat grows quickly\nshortest path hop-length (distance) d(n)\nwith network size n, which means it works well only for\ngraphs where long paths prevail. In fact, they assumed\n \u0304 \u223c n\u03bd with \u03bd > 0. Such graphs have many remote nodes,\nd(n)\ni.e., nodes at long hop distances from each other, and one\ncan efficiently, without substantial multiplicative path length\nincrease, aggregate details about topology around remote\nnodes, simply because those remote nodes are abundant.\nUnfortunately, according to the best available data, the Internet topology does not meet those conditions. The Internet AS-level topology is a scale-free network with characteristics described, for example, in [19]. To avoid terminology disputes, by scale-free we simply mean networks with\nfat-tail, e.g., power-law, node degree distributions. In theory, the average distance in such topologies grows with network size much more slowly than [18] assumed: it is at most\n \u0304 \u223c log n [20]. In practice, the average hop distance bed(n)\ntween ASs in the Internet stays virtually constant or even decreases due to increasing inter-AS connectivity [15, 6]. According to multiple data sources, the average AS-hop distance in the current Internet is between 3.1 and 3.7, with more\nthan 80% of AS pairs 2-4 hops away from each other [19].\nWe call a network small-world if most of its nodes are at\n\n5 The word trivial is not a judgment but a reference to trivial\nshortest-path routing in Section 5.\n6 A generic routing algorithm works correctly on all graphs.\n\n7 Recall that we have already adopted routing on AS numbers, so\nthat we consider here the RT size reduction below the total number\nof ASs in the interdomain topology graph.\n\nknowledge suggests a lot of information, and a lot of information suggests large RTs. In order to shrink RTs, we must\nprepare to lose topological information, and such loss necessarily increases path lengths. In addition, the meshier the\nnetwork, the more information about node neighbors there is\nto lose. The full mesh is an extreme example of this dilemma.\nThis fundamental and unavoidable trade-off between\nstretch of a routing algorithm and sizes of RTs it generates is\nat the center of compact routing research going on today, but\nthe first formalization of this trade-off was introduced many\nyears ago in the context of hierarchical routing.\n\n4\n\nWhy hierarchical routing will not work\n\n\fsmall distances from each other. Thus the Internet ASlevel topology is small-world: it has essentially no remote\nnodes, which is extremely bad news since the effectiveness\nof network partitioning depends on their abundance. In other\nwords, the unsettling but plainly observed reality is that\none cannot efficiently apply hierarchical routing to smallworld Internet-like topologies.\nThe previous arguments might sound too general since we\ncould still apply some generic hierarchical routing algorithm\nto the Internet. However, such application cannot be efficient\nand we must prepare to see high stretch. And indeed, simple analytical estimates [21] show that applying hierarchical\nrouting to an Internet AS-level topology incurs a \u223c15-time\npath length increase, which, although alarming enough by itself, would also lead to a substantial RT size surge caused\nby neighbor reinsertion. If we accept our argument in Section 3 that any truly scalable Internet routing algorithm must\nhave stretch as close as possible to 1, we must also accept\nthe fact that hierarchical routing will not meet our needs. We\nconclude that all previous Internet interdomain routing proposals heavily based on hierarchical routing ideas8 are not\nrealistic and, if deployed, would not genuinely scale.\n\n5\n\nHistory of compact routing\n\nFortunately, Kleinrock and Kamoun's results [18] are the first\nbut not the last results of research on scalable routing. The\nhistory of this research is not linear; we outline it in this section.\nWe have not mentioned yet that [18] also suffered from\na problem more serious than high stretch on small-world\ngraphs. It did not provide any algorithms to actually construct, for a given topology, a network partitioning upon\nwhich hierarchical routing can operate. Therefore, in works\nthat followed [18], first L. Kleinrock himself, then R. Perlman, and then in the late 1980s and in the 1990s B. Awerbuch, D. Peleg and others, all spent much time and effort\ntrying to salvage hierarchical routing and to find efficient\nnetwork partitioning algorithms. It did not become clear\nthat hierarchical routing does not have any future until 1999\nwhen L. Cowen [22] delivered her brilliant compact routing\nscheme. Her scheme had four attractive features: 1) it was\nnon-hierarchical, so required no network partitioning; 2) it\nwas generic and so worked for any topology; 3) it had a fixed\nstretch of 3 for any topology of any size; and 4) it had a sublinear RT size upper bound of \u00d5(n2/3 ). Cowen's algorithm\nwas also beautifully simple compared to numerous hierarchical routing algorithms accumulated by that time.\nIn retrospect, we can say that compact routing, which is the\nstate-of-the-art in efficient routing algorithm research today,\nbuilt on numerous findings from hierarchical routing, which\nhad been the state-of-the-art for decades. Today, compact\nrouting is a research area in the theory of distributed computation, a part of theoretical computer science. There is no\nstrict definition of a compact routing algorithm, or scheme,\nbut it usually means an algorithm with a sublinear RT size\nupper bound-the RT size is also called local memory space,\n8 Classic\n\nexamples of such proposals are [12, 11]. Note that recent work in [14] advocates hierarchical routing, but the authors do\nnot try to use it to reduce RT size. They do reduce RT size, but only\nby routing on AS numbers.\n\nor simply space in compact routing terminology-and with\nstretch bounded by a constant, in contrast to many hierarchical routing algorithms for which stretch grows to infinity\nwith network size.9\nSince 1999 progress has been much more rapid than\nin the preceding 22 years. In 2001, M. Thorup and\nU. Zwick [23] (TZ) improved on Cowen's RT size (space)\nupper bound, bringing it to \u00d5(n1/2 ) while maintaining stretch\nof 3. This result was particularly significant because the authors had previously proven [24] that any routing with stretch\nbelow 5 cannot guarantee space smaller than \u03a9(n1/2 ). Therefore the TZ scheme was the first stretch-3 scheme whose\nmemory space upper and lower bounds were nearly the same\n(up to a poly-logarithmic factor implied by ' \u0303' in the \u00d5 notation). In other words, the TZ scheme was the first generic\nnearly optimal routing scheme of stretch 3.\nThe main problem with both the Cowen and TZ schemes\nis that they are name-dependent, meaning that topological\ninformation is embedded in node addresses which thus cannot be arbitrary. Such schemes cannot be used in dynamic\ntopologies, since any topology change potentially requires\nrenaming many nodes. In 2003, M. Arias et al. [25], delivered a name-independent, i.e., name/addresses of nodes\ncan be arbitrary, routing scheme with a memory space upper\nbound of \u00d5(n1/2 ) and stretch of 5. In 2004, I. Abraham et\nal. [26] improved on [25] by decreasing stretch to 3, which\nmakes it the first generic nearly optimal name-independent\nstretch-3 routing scheme.\nWhy do we mention stretch-3 so often? For stretch-1\n(shortest path) routing, one can construct RTs at each node\nby storing, for every destination node, the ID of the outgoing port on the shortest path to the destination. The number of destinations is n \u2212 1, the maximum number of ports\na node can have (equal to maximum possible node degree)\nis also n \u2212 1, and thus a maximum O(n log n) bits of memory is required for an RT. This construction is called trivial\nshortest path routing. However, in 1996, C. Gavoille and\nS. P\u00e9renn\u00e8s [27] showed that the lower bound of generic\nstretch-1 routing is also \u03a9(n log n), i.e., there is no shortest path routing scheme that guarantees local memory space\nsmaller than \u03a9(n log n) at all nodes of all topologies. In\nother words, shortest path routing is incompressible. In order to decrease the maximum RT size, we must allow maximum stretch to increase. Finally, in 1997, C. Gavoille and\nM. Genegler [28] showed that for any stretch strictly below 3, the local space lower bound is nearly the same as for\nstretch-1 routing, \u03a9(n), meaning that no generic stretch<3\nrouting scheme can guarantee sublinear RT sizes: the minimum value of maximum stretch allowing sublinear RT sizes\nis 3.\n\n6\n\nCompact routing applicability\n\nThe end of the last section sounds alarming: it conflicts with\nconsiderations in Section 3, where we discuss why stretch\nshould be close to 1 for practical applicability. Do shortest\npath routing incompressibility and impossibility of sublinearspace stretch<3 routing mean that scalable interdomain rout9 One can verify that on an n-node full mesh, for example,\n[18] produces stretch growing to infinity as \u0398(log n).\n\n\fing with sublinear RT sizes is not achievable at all?\nTo answer this question, recall from Section 3 that stretch\nrefers to the maximum path length increase among all paths\nin all the graphs on which a routing algorithm operates,\nmeaning that there exists some worst-case graph10 on which\nthis maximum is achieved. Recall also that all schemes\nmentioned in Section 5 are generic; they can work on any\ngraph, meaning that the worst-case graph does not have to\nbe Internet-like. We can consequently expect the average\nstretch of these schemes on the class of Internet-like graphs\nto be lower than 3. But how close can it be to 1? At first\nthought it seems unlikely to be close to 1 at all, since we saw\nin Section 4 that the stretch of hierarchical routing tends to be\nhigh on small-world graphs, and there is no reason to believe\nthat compact routing would be drastically better. However, in\n2004, [21] showed that the average performance of the first\noptimal stretch-3 scheme (TZ) [23] on Internet-like topologies is spectacularly better than its worst case: while its upper bounds are around 2200 for RT size and 3 for stretch,\nthe average RT size of the TZ scheme on the real Internet\ntopology was found to be around 50 entries (for the whole\nInternet!) and the average stretch was only 1.1!11 These\nnumbers are striking evidence that, on the same topology and\nunder the same assumptions, compact routing dramatically\noutperforms both hierarchical routing [18], with its stretch\nof 15 and RTs of unknown sizes, and simple routing on AS\nnumbers (e.g., [14]), with RT sizes of the order of 104.\nAn interesting question is why compact routing turns out\nto be so spectacularly efficient on Internet-like topologies.\nThere is no rigorous answer to this question yet, but intuitively we can think of a scale-free network as a dense interconnection of star graphs, and one can verify that the stretch\nof many compact routing schemes, e.g., Cowen, TZ, on stars\nis 1. In addition, the scalability of the most efficient routing on trees-and stars are trees-is dazzling: RT sizes and\nRT lookup times are nearly constant (they do not grow with\nnetwork size), and stretch is 1 [23]! Of course, the Internet\ntopology is not at all tree-like, since strong clustering [19]\nrenders its treewidth high. But surprisingly, [29] finds that\nstrongly clustered networks and networks with low treewidth\nboth possess the set of properties allowing for remarkable\nperformance of an important class of routing strategies.\nWhile the preliminary findings in [21] clearly demonstrate\nthe potential power and superiority of compact routing to everything previously considered in networking in pursuit of\nrouting scalability, many open questions remain. In the remainder of this section we catalog the four open problems\nwe consider most important.\nThe average stretch was found to be close to 1 in [21], but\nnot 1. In fact, the average stretch does not even approach 1\nin the limit of large networks. One can verify that if the average stretch does not approach 1 on scale-free graphs at least\nas fast as 1 + \u0398\u0303(n\u22121/2 ), then the average number of nonshortest paths per node is such that the neighbor reinsertion\nfrom Section 3 will break the theoretical RT size upper bound\n10 See\n\n[28] for the explicit construction of this graph.\nremind that while these numbers are overwhelming, they\ncorrespond to a one-time improvement. In the long-term, what matters is the mathematically proven scaling behavior of the scheme\n(cf. Section 2).\n11 We\n\nof \u00d5(n1/2 ). If the average stretch does not approach 1 at all,\nas in [21], then neighbor reinsertion forces the RT size to go\nfrom \u00d5(n1/2 ) back to its trivial linear scaling \u00d5(n). Therefore, the stretch scaling problem is to find a compact routing scheme with satisfactory scaling of stretch, at least for\nlength-1 paths. Such a scheme likely exists given our intuition behind why the stretch of the TZ scheme on the Internet\nis so low in the first place: larger scale-free networks are increasingly \"star-like\".\nA stronger formulation of the same problem is to find\nshortest path routing with sublinear RT sizes on scale-free\ngraphs. Sublinear-space stretch-1 routing applicable to all\ngraphs cannot exist (cf. Section 5), but if we narrow the class\nof graphs to scale-free graphs then there are no results so far\nthat prove the non-existence of such routing. In addition, it\nmay turn out that we can significantly decrease RT size upper bounds, a likely possibility given how far below its upper bound the RT size of the TZ scheme is in [21]. In more\ngeneral terms, the scale-free routing problem is to utilize\npeculiarities of scale-free networks to obtain non-generic\nalgorithms optimized specifically for Internet-like topologies.\nThe most vital open problem, the dynamic routing problem, is to construct truly dynamic schemes. All currently\nexisting schemes are static. A dynamic scheme would have\nrigorous upper bounds for its performance parameters in dynamic networks, where nodes and links can fail, be added\nor removed. Dynamic performance parameters include the\nnumber of control messages the algorithm generates to converge after a topology change, sizes of those messages, number of affected nodes, etc. We refer to these parameters collectively as convergence costs. Note that all currently deployed routing algorithms are essentially static algorithms\napplied to dynamic environments, an approach we know can\nbe costly, e.g., the convergence costs of BGP are infinite\ngiven that it can oscillate persistently and not converge at\nall [30, 31]. The convergence costs of BGP's routing algorithm (path-vector) are also astronomically high, O(n!) [32].\nWe need a solution with satisfactory bounds of convergence\ncosts.\nUnfortunately, this problem is fundamentally hard, as illustrated by the notable but pessimistic result [33] which\nsays that even with unbounded RT sizes, there is no\ngeneric dynamic stretch-s routing scheme that guarantees\nless than \u03a9(n/s) routing messages. Simply put, there is no\ngeneric routing scheme that scales sublinearly in the number\nof control packets per topology change.12 As in the static\ncase we hope that narrowing the problem from the class of\nall graphs to the class of Internet-like graphs will yield more\nauspicious scaling.\nAn alternative shortcut is to disregard the fact that all existing compact routing schemes are static and to test them in\ndynamic networks anyway. The intuition behind why these\nschemes might still work well even in the dynamic environment lies in their ultra-optimal static performance. Since the\nexisting name-dependent schemes are not appropriate candidates for such experimentation for reasons we mentioned in\nSection 5, the name-independent routing problem is to ana12 Although linear scaling in practically unacceptable, it is still\nmuch better than the O(n!) scaling of the path-vector algorithm.\n\n\flyze the performance of static name-independent routing\nschemes on dynamic Internet-like topologies. Work in this\ndirection has already begun: in [34] the authors tested the\nfirst optimal stretch-3 name-independent routing scheme [26]\nwhich they implemented and deployed in an overlay on PlanetLab in October 2004.\n\n7\n\nConclusion\n\nThe ultimate goal of our work is to build an incrementally\ndeployable interdomain routing protocol that will encompass\nnot only a new routing algorithm with satisfactory rigorous\nbounds for routing table size, stretch, and convergence costs,\nbut also routing policies with appropriate performance guarantees. We believe it is too early to discuss protocol details\nsince we do not yet even have constituents with acceptable\ncharacteristics, much less understand their idiosyncrasies.\nOn the positive side, this quest has already begun. Current\ncircumstances in the fields of theoretical computer science\n(TCS) and networking have created a rare opportunity to pursue a fundamental breakthrough in the search for truly scalable routing. Recent developments in TCS yield shockingly\npromising results: alternative compact routing algorithms offer dramatically superior scalability characteristics than those\nbeing used or even considered in networking. We recognize\nthe need for a radical change in our approach to routing research in order to build on these contemporary results from\nTCS. The first task is to determine how applicable these results are to real-world networks.\nConstruction of practical, efficient, and scalable routing\nfor the next-generation Internet is a key motivator of our\nwork, but we recognize that we are only at the beginning\nof an extensive analysis of our most fundamental assumptions about routing in data networks. One such assumption\nis the adequacy of representing a real dynamic network using an intrinsically static construct, a graph. This assumption\nunderlies, either explicitly or implicitly, all forms of routing\nwe have discussed in this paper. If we discover in the future that scalable dynamic routing cannot even exist in principle within the static graph-theoretic framework constraints,\nthen some unknown but presumably paradigm-shifting approaches to data network routing will become inevitable. Regardless of the outcome, what matters today is that we have a\nunique opportunity to explore a radical new path, which initially looks more promising than any previously considered\napproach to scalable routing.\n\n8\n\nAcknowledgements\n\nThis work is supported by NSF CNS-0434996.\n\nReferences\n[1] C. Wittbrodt, B. Woodcock, A. Ahuja, T. Li, V. Gill, and\nE. Chen. Global routing system scaling issues. NANOG\nPanel, February 2001.\n[2] G. Huston. Scaling inter-domain routing-a view forward.\nThe Internet Protocol Journal, 4(4), 2001.\n[3] G. Huston. Commentary on Inter-Domain Routing in the Internet. IETF, RFC 3221, 2001.\n[4] T. Griffin. Position statement. Workshop on Internet Routing\nEvolution and Design (WIRED), October 2003.\n[5] A. Doria, E. Davies, and F. Kastenholz (edt.). Requirements\nfor Inter-Domain Routing. IRTF, Internet Draft, 2004.\n\n[6] A. Broido, E. Nemeth, and kc claffy. Internet expansion, refinement, and churn. European Transactions on Telecommunications, 13(1):33\u201351, 2002.\n[7] H. Narayan, R. Govindan, and G. Varghese. The impact of\naddress allocation and routing on the structure and implementation of routing tables. In ACM SIGCOMM, 2003.\n[8] Beyond BGP. http://www.beyondbgp.net/.\n[9] P. Verkaik, A. Broido, kc claffy, R. Gao, Y. Hyun, and\nR. van der Pol. Beyond CIDR aggregation. Technical Report\nTR-2004-1, CAIDA, 2004.\n[10] Internet Engineering Task Force (IETF). Site multihoming in\nIPv6. Working Group.\n[11] F. Kastenholz. ISLAY: A New Routing and Addressing Architecture. IRTF, Internet Draft, 2002.\n[12] I. Castineyra, N. Chiappa, and M. Steenstrup. The Nimrod\nRouting Architecture. IETF, RFC 1992, 1996.\n[13] R. Gummadi, R. Govindan, N. Kothari, B. Karp, Y.-J. Kim,\nand S. Shenker. Reduced State Routing in the Internet. In\nHotNets III, 2004.\n[14] L. Subramanian, M. Caesar, C. T. Ee, M. Handley, M. Mao,\nS. Shenker, and I. Stoica. HLP: A next generation interdomain routing protocol. In ACM SIGCOMM, 2005.\n[15] BGP Table Data, http://bgp.potaroo.net/.\n[16] T. Griffin and J. L. Sobrinho. Metarouting. In ACM SIGCOMM, 2005.\n[17] N. Spring, R. Mahajan, and T. Anderson. Quantifying the\ncauses of path inflation. In ACM SIGCOMM, 2003.\n[18] L. Kleinrock and F. Kamoun. Hierarchical routing for large\nnetworks: Performance evaluation and optimization. Computer Networks, 1:155\u2013174, 1977.\n[19] P. Mahadevan, D. Krioukov, M. Fomenkov, B. Huffaker,\nX. Dimitropoulos, kc claffy, and A. Vahdat. Lesson from three\nviews of the Internet topology. Technical Report TR-2005-02,\nCAIDA, 2005.\n[20] F. Chung and L. Lu. The average distance in a random graph\nwith given expected degrees. Internet Mathematics, 1(1):91\u2013\n114, 2003.\n[21] D. Krioukov, K. Fall, and X. Yang. Compact routing on\nInternet-like graphs. In IEEE INFOCOM, 2004.\n[22] L. Cowen. Compact routing with minimum stretch. In ACMSIAM SODA, 1999.\n[23] M. Thorup and U. Zwick. Compact routing schemes. In ACM\nSPAA, 2001.\n[24] M. Thorup and U. Zwick. Approximate distance oracles. In\nACM STOC, 2001.\n[25] M. Arias, L. Cowen, K. A. Laing, R. Rajaraman, and O. Taka.\nCompact routing with name independence. In ACM SPAA,\n2003.\n[26] I. Abraham, C. Gavoille, D. Malkhi, N. Nisan, and M. Thorup.\nCompact name-independent routing with minimum stretch. In\nACM SPAA, 2004.\n[27] C. Gavoille and S. P\u00e9renn\u00e8s. Memory requirement for routing\nin distributed networks. In ACM PODC, 1996.\n[28] C. Gavoille and M. Genegler. Space-efficiency for routing\nschemes of stretch factor three. In SIROCCO, 1997.\n[29] P. Fraigniaud. A new perspective on the small-world phenomenon: Greedy routing in tree-decomposed graphs. In ESA,\n2005.\n[30] T. Griffin and G. Wilfong. An analysis of BGP convergence\nproperties. In ACM SIGCOMM, 1999.\n[31] T. Griffin and G. Wilfong. Analysis of the MED oscillation\nproblem in BGP. In IEEE ICNP, 2002.\n[32] C. Labovitz, A. Ahuja, A. Bose, and F. Jahanian. Delayed Internet routing convergence. IEEE/ACM Transactions on Networking, 9(3):293\u2013306, June 2001.\n[33] Y. Afek, E. Gafni, and M. Ricklin. Upper and lower bounds\nfor routing schemes in dynamic networks (abstract). In IEEE\nFOCS, 1989.\n[34] I. Abraham, A. Badola, D. Bickson, D. Malkhi, S. Maloo, and\nS. Ron. Practical locality-awareness for large scale information sharing. In IPTPS, 2005.\n\n\f"}