{"id": "http://arxiv.org/abs/1005.5716v2", "guidislink": true, "updated": "2011-07-07T07:52:23Z", "updated_parsed": [2011, 7, 7, 7, 52, 23, 3, 188, 0], "published": "2010-05-31T18:16:51Z", "published_parsed": [2010, 5, 31, 18, 16, 51, 0, 151, 0], "title": "Pancyclic subgraphs of random graphs", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1005.1058%2C1005.5716%2C1005.2038%2C1005.3946%2C1005.3915%2C1005.1739%2C1005.4013%2C1005.5370%2C1005.3863%2C1005.0580%2C1005.5614%2C1005.4499%2C1005.3477%2C1005.4924%2C1005.1878%2C1005.1220%2C1005.1282%2C1005.4821%2C1005.3448%2C1005.0369%2C1005.5385%2C1005.0391%2C1005.3475%2C1005.0743%2C1005.0994%2C1005.0703%2C1005.4367%2C1005.0710%2C1005.0945%2C1005.5596%2C1005.2007%2C1005.2267%2C1005.1033%2C1005.0932%2C1005.0338%2C1005.4710%2C1005.3062%2C1005.3763%2C1005.2589%2C1005.5113%2C1005.0867%2C1005.3349%2C1005.1977%2C1005.3503%2C1005.3840%2C1005.1693%2C1005.5288%2C1005.2925%2C1005.4312%2C1005.5079%2C1005.0758%2C1005.3456%2C1005.2227%2C1005.2073%2C1005.2807%2C1005.3704%2C1005.4758%2C1005.1211%2C1005.1023%2C1005.0688%2C1005.5074%2C1005.3258%2C1005.0409%2C1005.1563%2C1005.2241%2C1005.5231%2C1005.0577%2C1005.0761%2C1005.5048%2C1005.4047%2C1005.0218%2C1005.1254%2C1005.2164%2C1005.3696%2C1005.4960%2C1005.0303%2C1005.3870%2C1005.5537%2C1005.4023%2C1005.2804%2C1005.2075%2C1005.0374%2C1005.3975%2C1005.2736%2C1005.4231%2C1005.4504%2C1005.4118%2C1005.5318%2C1005.1452%2C1005.5455%2C1005.5170%2C1005.1242%2C1005.0854%2C1005.1553%2C1005.3419%2C1005.0149%2C1005.4678%2C1005.3127%2C1005.1477%2C1005.5518%2C1005.5173&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Pancyclic subgraphs of random graphs"}, "summary": "An $n$-vertex graph is called pancyclic if it contains a cycle of length $t$\nfor all $3 \\leq t \\leq n$. In this paper, we study pancyclicity of random\ngraphs in the context of resilience, and prove that if $p \\gg n^{-1/2}$, then\nthe random graph $G(n,p)$ a.a.s. satisfies the following property: Every\nHamiltonian subgraph of $G(n,p)$ with more than $(1/2 + o(1)){n \\choose 2}p$\nedges is pancyclic. This result is best possible in two ways. First, the range\nof $p$ is asymptotically tight; second, the proportion 1/2 of edges cannot be\nreduced. Our theorem extends a classical theorem of Bondy, and is closely\nrelated to a recent work of Krivelevich, Lee, and Sudakov. The proof uses a\nrecent result of Schacht (also independently obtained by Conlon and Gowers).", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1005.1058%2C1005.5716%2C1005.2038%2C1005.3946%2C1005.3915%2C1005.1739%2C1005.4013%2C1005.5370%2C1005.3863%2C1005.0580%2C1005.5614%2C1005.4499%2C1005.3477%2C1005.4924%2C1005.1878%2C1005.1220%2C1005.1282%2C1005.4821%2C1005.3448%2C1005.0369%2C1005.5385%2C1005.0391%2C1005.3475%2C1005.0743%2C1005.0994%2C1005.0703%2C1005.4367%2C1005.0710%2C1005.0945%2C1005.5596%2C1005.2007%2C1005.2267%2C1005.1033%2C1005.0932%2C1005.0338%2C1005.4710%2C1005.3062%2C1005.3763%2C1005.2589%2C1005.5113%2C1005.0867%2C1005.3349%2C1005.1977%2C1005.3503%2C1005.3840%2C1005.1693%2C1005.5288%2C1005.2925%2C1005.4312%2C1005.5079%2C1005.0758%2C1005.3456%2C1005.2227%2C1005.2073%2C1005.2807%2C1005.3704%2C1005.4758%2C1005.1211%2C1005.1023%2C1005.0688%2C1005.5074%2C1005.3258%2C1005.0409%2C1005.1563%2C1005.2241%2C1005.5231%2C1005.0577%2C1005.0761%2C1005.5048%2C1005.4047%2C1005.0218%2C1005.1254%2C1005.2164%2C1005.3696%2C1005.4960%2C1005.0303%2C1005.3870%2C1005.5537%2C1005.4023%2C1005.2804%2C1005.2075%2C1005.0374%2C1005.3975%2C1005.2736%2C1005.4231%2C1005.4504%2C1005.4118%2C1005.5318%2C1005.1452%2C1005.5455%2C1005.5170%2C1005.1242%2C1005.0854%2C1005.1553%2C1005.3419%2C1005.0149%2C1005.4678%2C1005.3127%2C1005.1477%2C1005.5518%2C1005.5173&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "An $n$-vertex graph is called pancyclic if it contains a cycle of length $t$\nfor all $3 \\leq t \\leq n$. In this paper, we study pancyclicity of random\ngraphs in the context of resilience, and prove that if $p \\gg n^{-1/2}$, then\nthe random graph $G(n,p)$ a.a.s. satisfies the following property: Every\nHamiltonian subgraph of $G(n,p)$ with more than $(1/2 + o(1)){n \\choose 2}p$\nedges is pancyclic. This result is best possible in two ways. First, the range\nof $p$ is asymptotically tight; second, the proportion 1/2 of edges cannot be\nreduced. Our theorem extends a classical theorem of Bondy, and is closely\nrelated to a recent work of Krivelevich, Lee, and Sudakov. The proof uses a\nrecent result of Schacht (also independently obtained by Conlon and Gowers)."}, "authors": ["Choongbum Lee", "Wojciech Samotij"], "author_detail": {"name": "Wojciech Samotij"}, "author": "Wojciech Samotij", "arxiv_comment": "19 pages, 4 figures", "links": [{"href": "http://arxiv.org/abs/1005.5716v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1005.5716v2", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.CO", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.CO", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "05C80, 05C35, 05D40, 05C45", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1005.5716v2", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1005.5716v2", "journal_reference": null, "doi": null, "fulltext": "Pancyclic subgraphs of random graphs\n\narXiv:1005.5716v2 [math.CO] 7 Jul 2011\n\nChoongbum Lee\n\n\u2217\n\nWojciech Samotij\n\n\u2020\n\nAbstract\nAn n-vertex graph is called pancyclic if it contains a cycle of length t for all 3 \u2264 t \u2264 n. In\nthis paper, we study pancyclicity of random graphs in the context of resilience, and prove that if\np \u226b n\u22121/2 , then the random graph G(n, p) a.a.s. \u0001satisfies the following property: Every Hamiltonian\nsubgraph of G(n, p) with more than ( 21 + o(1)) n2 p edges is pancyclic. This result is best possible in\ntwo ways. First, the range of p is asymptotically tight; second, the proportion 21 of edges cannot be\nreduced. Our theorem extends a classical theorem of Bondy, and is closely related to a recent work\nof Krivelevich, Lee, and Sudakov. The proof uses a recent result of Schacht (also independently\nobtained by Conlon and Gowers).\n\n1\n\nIntroduction\n\nThe problem of finding cycles of various lengths in graphs is one of the main topics of study in extremal\ngraph theory. For a fixed odd\u0001 integer l with l \u2265 3, Erd\u0151s and Stone [13] proved that an n-vertex graph\nwith more than ( 21 + o(1)) n2 edges contains a cycle of length l, and for an even integer l, Bondy and\nSimonovits [5] proved that cn1+2/l edges suffice, for some constant c depending on l. It is remarkable\nthat the same graph parameter can behave so differently according to the parity of l. When the length\nof the cycle grows with the order of the graph, the most studied problem is that of finding a Hamilton\ncycle, i.e., a cycle passing through every vertex of the graph. This can be a very difficult problem\nsince determining whether a given graph is Hamiltonian is an NP-complete problem. However, there\nare some simple sufficient conditions which force a graph to be Hamiltonian. \u0006For\n\u0007 example, Dirac (see,\ne.g., [12]) proved that a graph on n vertices with minimum degree at least n2 contains a Hamilton\ncycle.\nAn n-vertex graph is called pancyclic if it contains a cycle of length t for all 3 \u2264 t \u2264 n. Clearly,\nevery pancyclic graph is also Hamiltonian and the converse is not true. Quite surprisingly though,\nmany times a condition which forces a graph to be Hamiltonian also forces it to be pancyclic. For\ninstance, Bondy [4] \u0006extended\nDirac's theorem and proved that a graph on n vertices with minimum\n\u0007\nn\ndegree greater than 2 is pancyclic. In fact, he proved the following stronger statement.\n\u0001\nTheorem 1.1. Every Hamiltonian graph with n vertices and more than 21 n2 edges is pancyclic.\nFor more results on cycles in graphs, see [3].\nThe results mentioned above can be also stated in the framework of resilience, defined by Sudakov\nand Vu [23].\n\n\u2217\nDepartment of Mathematics, UCLA, Los Angeles, CA, 90095. Email: choongbum.lee@gmail.com. Research supported in part by Samsung Scholarship.\n\u2020\nDepartment of Mathematics, University of Illinois, Urbana, IL, 61801, USA. E-mail address: samotij2@illinois.edu.\nResearch supported in part by Schark Fellowship and Parker Fellowship.\n\n1\n\n\fDefinition 1.2. Let P be a monotone increasing graph property and G be a graph having P\n(i) (Global resilience) The global resilience of G with respect to P is the minimum number r such\nthat by deleting r edges from G one can obtain a graph not having P.\n(ii) (Local resilience) The local resilience of G with respect to P is the minimum number r such that\nby deleting at most r edges at each vertex of G one can obtain a graph not having P.\nIn this framework, \u0004Dirac's\ntheorem can be reformulated as: \"The complete graph on n vertices\n\u0005\nn\nKn has local resilience 2 with respect to Hamiltonicity\". Theorem 1.1 can also be\u0001formulated as a\nglobal resilience result with an additional constraint: \"If one deletes fewer than 21 n2 edges from Kn\nwhile preserving Hamiltonicity, then the resulting graph is always pancyclic\". Sudakov and Vu pointed\nout that many classical results in extremal graph theory can be viewed in the context of resilience,\nand initiated a systematic study of resilience of random graphs. For example, in [23] they showed\n4\nthat if p > logn n , then a.a.s. every subgraph of G(n, p) with minimum degree at least ( 21 + o(1))np\nis Hamiltonian. Note that this is an extension of Dirac's theorem, since Kn can be regarded as the\nrandom graph G(n, 1). For more results of this flavor, see [1, 2, 6, 11, 14, 15, 19, 23].\nIn this paper, we study the global resilience of random graphs with respect to pancyclicity by\nextending Theorem 1.1 to binomial random graphs. The binomial random graph G(n, p) denotes the\nprobability distribution on the set of all graphs with vertex set {1, . . . , n} such that each pair of vertices\nforms an edge randomly and independently with probability p. We say that G(n, p) possesses a graph\nproperty P asymptotically almost surely (a.a.s. for short) if the probability that a graph drawn from\nG(n, p) possesses P tends to 1 as n tends to infinity. The pancyclicity of random graphs has been\nstudied in several papers, including [8, 9, 10, 19, 21]. Krivelevich, Lee, and Sudakov [19] proved that if\np \u226b n\u22121/2 , then G(n, p) a.a.s. has local resilience ( 12 + o(1))np with respect to being pancyclic. Since\npancyclicity is a global property, it is more meaningful to measure the local resilience than the global\nresilience; in a 'typical' graph from G(n, p), one can easily remove all Hamilton cycles by deleting about\nnp edges incident to a single vertex and isolating that vertex. However, similarly as in Theorem 1.1,\nif one adds the additional constraint that the remaining graph should be Hamiltonian, then removing\nall cycles of some length t \u2208 {3, . . . , n \u2212 1} requires deleting many more edges. We establish the global\nresilience of random graphs with respect to pancyclicity in this sense. Our main result is the following\nextension of Theorem 1.1.\nTheorem 1.3. If p \u226b n\u22121/2 , then G(n, p) a.a.s. satisfies the following. Every Hamiltonian subgraph\n2\nG\u2032 \u2282 G(n, p) with more than ( 21 + o(1)) n2 p edges is pancyclic.\nRemark. Theorem 1.3 is in fact stronger than the local resilience result obtained by Krivelevich,\nLee, and Sudakov due to Sudakov and Vu's result on resilient Hamiltonicity of random graphs. Let\np \u226b n\u22121/2 and G\u2032 be a spanning subgraph of G(n, p) with minimum degree at least ( 12 + o(1))np. Then\n2\ne(G\u2032 ) \u2265 ( 21 + o(1)) n2 p and, by Sudakov and Vu's theorem, G\u2032 is Hamiltonian. Therefore, G\u2032 must be\npancyclic by Theorem 1.3 and this establishes the local resilience.\nTheorem 1.3 is best possible in two ways. First, the range of p is asymptotically tight. To see this,\nassume that p \u226a n\u22121/2 and fix a Hamilton cycle H in G(n, p). Next, from every triangle in G(n, p),\nremove one edge which does not belong to H (this can be done as long as n > 3). Since a.a.s. there\nare at most n3 p3 = o(n2 p) triangles in the graph, only a small proportion of edges is removed and\nthe resulting graph is triangle-free, thus not pancyclic. Second, Hamilton subgraphs with fewer than\n2\n\n\f2\n\n( 12 + o(1)) n2 p edges need not be pancyclic. Assume that p \u226b n\u22121/2 and again fix a Hamilton cycle\nH in G(n, p). If n is even, then properly color the vertices of H with two colors and let V1 , V2 be\nthe color classes. Remove all the edges of G(n, p) within V1 and V2 . A.a.s. we will remove at most\n2\n( 21 + o(1)) n2 p edges, and the resulting graph will be bipartite, hence not pancyclic. If n is odd, then\ncolor the vertices of H with two colors so that there is only one (monochromatic) edge e in the color\nclass V1 and no edges in the other color class V2 . Assume that e = xy and let ex and ey be the edges\nof H \u2212 e incident to x and y, respectively. Remove all the edges from G(n, p) within V1 except e, all\nthe edges within V2 , and all the edges incident to e except ex and ey to obtain a graph G\u2032 . Note that\nall the odd cycles in G\u2032 contain the edge e; and since we removed most of the edges incident to e,\nthere will be no triangles in G\u2032 . Moreover, H \u2282 G\u2032 so G\u2032 is Hamiltonian, and a.a.s. the above process\n2\nproduces a graph G\u2032 with e(G\u2032 ) \u2265 ( 12 + o(1)) n2 p . This shows that the proportion 12 in Theorem 1.3 is\noptimal.\nTo simplify the presentation, we often omit floor and ceiling signs whenever these are not crucial\nand make no attempts to optimize absolute constants involved. We also assume that the order n of\nall graphs tends to infinity and therefore is sufficiently large whenever necessary.\nNotation. Let G be a graph with vertex set V and edge set E. For a vertex v, its degree will be\nP\ndenoted by deg(v), and for a set X, its total degree deg(X) is defined as deg(X) = v\u2208X deg(v).\nThe maximum degree and the minimum degree of G are denoted by \u2206(G) and \u03b4(G), respectively.\nFor a set X \u2282 V , let N (X) be the collection of all vertices v which are adjacent to at least one\nvertex in X. If X = {v}, we denote its neighborhood by N (v). Let N (0) (v) = {v} and N (k) (v) be\nthe set of vertices at distance exactly k from v. This can also be recursively defined as N (k) (v) =\nN (N (k\u22121) (v))\\(N (k\u22121) (v) \u222a N (k\u22122) (v)). Note that N (1) (v) = N (v). For a set X, we denote by E(X)\nthe set of edges in the induced subgraph G[X], and let e(X) = |E(X)|. Similarly, for two sets X\nand Y , we denote by E(X, Y ) the set of ordered pairs (x, y) \u2208 E such that x \u2208 X and y \u2208 Y , and\nlet e(X, Y ) = |E(X, Y )|. Note that e(X, X) = 2e(X). Sometimes we will use subscripts to prevent\n(k)\nambiguity. For example, NG (v) is the k-th neighborhood of v in the graph G. The set [n] is the set\nof remainders modulo n, and we use an integer i to represent the modulo class i mod n (one modulo\nclass can have several different representations).\n\n2\n\nPreliminaries\n\nIn this section, we collect several known results which are later used in the proof of the main theorem.\nFirst theorem, proved by Haxell, Kohayakawa, and Luczak [16], establishes the global resilience of\nG(n, p) with respect to the property of containing a cycle of fixed odd length.\nTheorem 2.1. For any fixed odd integer l with l \u2265 3, and positive \u03b5, there exists a constant C = C(l, \u03b5)\nsuch that if p \u2265 Cn\u22121+1/(l\u22121) , then G(n, p) a.a.s. satisfies the following property: Every subgraph\n2\nG\u2032 \u2282 G(n, p) with at least ( 12 + \u03b5) n2 p edges contains a cycle of length l.\nThe following extremal result was proved by Bondy and Simonovits [5].\nTheorem 2.2. Let k be a positive integer and G be a graph on n vertices with more than 90kn1+1/k\nedges. Then G contains a cycle of length 2k.\n\n3\n\n\fOne of the key ingredients in the proof of Theorem 1.3 is a recent very general result of Schacht [22]\n(independently obtained by Conlon and Gowers [7]) that allows one to transfer various extremal\nresults about discrete structures (such as graphs) to the setting of random binomial structures (such\nas binomial random graphs). Before we state this theorem, we need a few definitions on hypergraphs.\nDefinition 2.3. Let H be a k-uniform hypergraph, let \u03b1 and \u03b50 be reals, and let f : (0, 1) \u2192 (0, 1) be\na non-decreasing function. We say that H is (\u03b1, f, \u03b50 )-dense if for every \u03b5 \u2265 \u03b50 and U \u2282 V (H) with\n|U | \u2265 (\u03b1 + \u03b5)|V (H)|, we have\n|E(H[U ])| \u2265 f (\u03b5)|E(H)|.\nFor a k-uniform hypergraph H, i \u2208 {1, . . . , k \u2212 1}, v \u2208 V (H), and U \u2282 V (H), we denote by\ndegi (v, U ) the number of edges of H containing v and at least i vertices in U \\ {v}. More precisely,\ndegi (v, U ) = |{A \u2208 E(H) : |A \u2229 (U \\ {v})| \u2265 i and v \u2208 A}|.\nGiven an arbitrary set A and a real number q \u2208 [0, 1], we denote by Aq the random subset of A, where\neach element is included with probability q independently of all other elements.\nDefinition 2.4. Let H be a k-uniform hypergraph, let p \u2208 (0, 1), and let K be a positive real. We\nsay that H is (K, p)-bounded if for every i \u2208 {1, . . . , k \u2212 1} and q \u2208 [p, 1], H satisfies\n\uf8ee\n\uf8f9\nX\n|E(H)|2\n.\nE\uf8f0\ndegi (v, V (H)q )2 \uf8fb \u2264 Kq 2i\n|V (H)|\nv\u2208V (H)\n\nThe following statement can be easily read out from the proof of [22, Lemma 3.4].\nTheorem 2.5. Let (pn )n\u2208N be a sequence of probabilities and let (vn )n\u2208N and (en )n\u2208N be sequences of\nintegers such that pn vn \u2192 \u221e and pkn en \u2192 \u221e as n \u2192 \u221e. Fix \u03b1 and K with \u03b1 \u2265 0 and K \u2265 1, and let\nf : (0, 1) \u2192 (0, 1) be a fixed non-decreasing function. For every positive \u03b5, there exist b, \u03b50 , C, and n0\nsuch that for every n and q with n \u2265 n0 and n\u22121/3 \u2265 q \u2265 Cpn , the following holds.\nIf H is an (\u03b1, f, \u03b50 )-dense and (K, pn )-bounded hypergraph with |V (H)| \u2265 vn and |E(H)| \u2265 en ,\nthen with probability at least 1 \u2212 e\u2212bqvn , every subset W of V (H)q with |W | \u2265 (\u03b1 + \u03b5)|V (H)q | contains\nan edge of H.\nRemark. The upper bound n\u22121/3 on q is a function that we chose for convenience. In fact, it can be\nreplaced by 1/\u03c9(n) for an arbitrary function \u03c9(n) which tends to infinity as n goes to infinity. Note\nthat n0 will depend on this choice of \u03c9(n).\nNext theorem is a well-known concentration result (see, e.g., [17, Theorem 2.3]) that will be used\nseveral times in the proof. We denote by Bi(n, p) the binomial random variable with parameters n\nand p.\nTheorem 2.6 (Chernoff's inequality). If X \u223c Bi(n, p) and \u03b5 > 0, then\n\u0001\nP |X \u2212 E[X]| \u2265 \u03b5E[X] \u2264 e\u2212\u03a9\u03b5 (E[X]) .\n\n4\n\n\fThe argument of our proof becomes simpler if we assume that the edge probability p is exactly\nfor some positive constant C. However, if p\u2032 \u2264 p, then the fact that G(n, p\u2032 ) has global\n2 \u2032\nresilience ( 21 \u2212 \u03b5) n 2p with respect to some property does not necessarily imply that G(n, p) has global\n2\nresilience ( 12 \u2212 \u03b5) n2 p with respect to the same property. The following proposition, which is a global\nresilience form of a similar statement, [19, Proposition 3.1], will allow us to overcome this difficulty by\nestablishing the monotonicity of (relative) global resilience. The proof is essentially the same as the\nproof of [19, Proposition 3.1]; we repeat it here for the sake of completeness.\nCn\u22121/2\n\nProposition 2.7. Assume that 0 < p\u2032 \u2264 p \u2264 1 and n2 p\u2032 \u226b 1. If G(n, p\u2032 ) a.a.s. has global resilience\n2 \u2032\nat least ( 12 \u2212 2\u03b5 ) n 2p with respect to a monotone increasing graph property P, then G(n, p) a.a.s. has\n2\nglobal resilience at least ( 21 \u2212 \u03b5) n2 p with respect to the same property.\n2 \u2032\n\nProof. Let R(P) be the property of having global resilience at least ( 21 \u2212 2\u03b5 ) n 2p with respect to property\nP. Define q = p\u2032 /p and consider the following two-round process of exposing the edges of G(n, p\u2032 ).\nIn the first round, every edge appears with probability p (call this graph G1 ). In the second round,\nevery edge that appeared in the first round will remain with probability q and will be deleted with\nprobability 1 \u2212 q (call this graph G2 ). Then, G1 has the same distribution as G(n, p) and G2 has the\nsame distribution as G(n, p\u2032 ). By our assumption, we know that G2 a.a.s. has property R(P). Now,\n/ R(P)) = o(1)\nlet X be the event that G1 satisfies P (G2 \u2208\n/ R(P)|G1 ) \u2265 12 . Then, 21 P (X) \u2264 P (G2 \u2208\nand therefore P (X) = o(1). Thus, a.a.s. in G(n, p), P (G2 \u2208\n/ R(P)|G1 ) < 21 or in other words,\nP (G2 \u2208 R(P)|G1 ) \u2265 21 . Let A be the collection of graphs G1 having this property.\nSince a.a.s. G(n, p) \u2208 A, we can condition on the event that G1 = G(n, p) \u2208 A. Given a subgraph\n2\nH \u2282 G1 with at most ( 21 \u2212 \u03b5) n2 p edges, sample every edge of G1 with probability q to obtain subgraphs\nH \u2032 \u2282 G2 \u2282 G1 . Since G1 \u2208 A, we know that P (G2 \u2208 R(P)|G1 ) \u2265 21 ; also, by Theorem 2.6,\n2 \u2032\u0001\nP e(H \u2032 ) \u2264 ( 12 \u2212 2\u03b5 ) n 2p \u2265 1 \u2212 o(1). Thus, these two events have a non-empty intersection and\n2 \u2032\n\ntherefore it is possible to find subgraphs H \u2032 \u2282 G2 \u2282 G1 such that G2 \u2208 R(P) and e(H \u2032 ) \u2264 ( 21 \u2212 2\u03b5 ) n 2p .\nThen G2 \u2212 H \u2032 must have property P, and hence G1 \u2212 H must also have it by monotonicity.\n\n3\n\nMain Theorem\n\nIn this section, we prove the following main theorem.\nTheorem 3.1. For all positive \u03b5, there exists a constant C such that if p \u2265 Cn\u22121/2 , then G(n, p)\n2\na.a.s. satisfies the following: Every Hamiltonian subgraph G\u2032 of G(n, p) with more than ( 21 + \u03b5) n2 p\nedges is pancyclic.\nThe proof breaks down into two parts. Let \u03b4 be a positive constant depending on \u03b5 which will be\nchosen in the first part of the proof (one can take \u03b4 = \u03b5/64). First, we show that G\u2032 contains very\nshort cycles (lengths from 3 to \u03b4n) and very long cycles (lengths from (1 \u2212 \u03b4)n to n). Second, we show\nthat G\u2032 contains all cycles of intermediate lengths (from \u03b4n to (1 \u2212 \u03b4)n). Since the ideas and tools\nused in each part are quite different, we split the proof into two subsections.\n\n3.1\n\nShort and Long Cycles\n\nTheorem 3.2. For all positive \u03b5, there exist positive constants \u03b4 and C such that if p \u2265 Cn\u22121/2 ,\nthen G(n, p) a.a.s. satisfies the following: Every Hamiltonian subgraph G\u2032 of G(n, p) with more than\n5\n\n\f2\n\n( 12 + \u03b5) n2 p edges contains a cycle of length t for all t \u2208 [3, \u03b4n] \u222a [(1 \u2212 \u03b4)n, n].\nIf we choose C to be large enough, then the existence of cycles of lengths 3 to 7 directly follows from\nHaxell, Kohayakawa, and Luczak's Theorem 2.1 (odd cycles), and Bondy and Simonovits' Theorem\n2.2 (even cycles). Thus, in the remainder of this section we will only focus on cycles of length 8 and\nabove.\nFix a labeling of the vertices of the complete graph Kn with numbers from the set [n] of remainders\nmodulo n. Throughout this section, addition of the elements of [n] will be performed modulo n. Let\nCn be the subgraph of Kn consisting of the edges {i, i + 1} for all i \u2208 [n]. In order to better visualize\nour argument, we will from now on assume that Cn is drawn as a circle and the vertices 0, . . . , n \u2212 1\nlie in the clockwise order on that circle. Moreover, for each k \u2208 [n], we denote its distance from 0 on\nthat circle by kkk; more precisely, let\nkkk = min {x \u2265 0 : x \u2261 k\n\nmod n or x \u2261 \u2212k\n\nmod n} .\n\nGiven an integer l with 0 \u2264 l \u2264 n2 , we will call a subgraph X of Kn \\ Cn an l-shortcut if it is of one of\nthe following types:\n(i) There are i1 , i2 , i3 , i4 \u2208 [n], such that i1 , i1 + 1, i2 , i2 + 1, i3 , i3 + 1, i4 and i4 + l + 1 are all\ndistinct and lie in the clockwise order on the cycle Cn , and X consists of the edges {i1 , i3 }, {i1 +\n1, i4 }, {i2 , i4 + l + 1}, and {i2 + 1, i3 + 1}.\n(ii) There are i1 , i2 , i3 , i4 \u2208 [n], such that i1 , i1 + 1, i2 , i2 + 1, i4 , i4 + l + 1, i3 and i3 + 1 are all\ndistinct and lie in the clockwise order on the cycle Cn , and X consists of the edges {i1 , i3 }, {i1 +\n1, i4 }, {i2 , i4 + l + 1}, and {i2 + 1, i3 + 1}.\nObserve that for every l \u2208 {0, . . . , n2 } and an l-shortcut X, the graph Cn \u222a X contains cycles of lengths\nl + 8 and n \u2212 l, see Figure 3.1.\n2\nOur strategy will be to show that a.a.s. every subgraph G\u2032 of G(n, p) with more than ( 21 + \u03b5) n2 p\nedges contains an l-shortcut for each l \u2208 {0, . . . , \u03b4n} and every possible labeling of the vertices of G\u2032 .\nWe will first prove it when G(n, p) above is replaced by the complete graph (p = 1), and extend it to\nall range of p by applying Theorem 2.5.\ni4 + l + 1\n\ni4\ni3 + 1\n\ni3\n\ni3\ni4 + l + 1\n\ni4\n\ni1\n\ni2 + 1\ni2\n\ni3 + 1\n\ni1\n\ni2 + 1\ni2\n\ni1 + 1\n\ni1 + 1\n\nFigure 3.1: Two l-shortcuts of types (i) and (ii), respectively; marked are the cycles of length n \u2212 l.\n6\n\n\fLemma 3.3. For every positive \u03b50 , there exists an integer n0 such that if \u03b5\u2032 \u2265 \u03b50 and n \u2265 n0 , then\n2\n\u03b5\u2032 8 4\n) n l-shortcuts for every\nevery n-vertex graph G\u2032 with e(G\u2032 ) \u2265 ( 12 + \u03b5\u2032 ) n 2\u2212n contains at least ( 16\n\u03b5\u2032\nn} and every labeling of the vertex set of G\u2032 with [n].\nl \u2208 {0, . . . , 16\nProof. Let n0 =\n\n128\n\u03b520\n\nand assume that \u03b50 \u2264 \u03b5\u2032 and n \u2265 n0 . Fix a labeling of the vertex set of G\u2032\n\nwith [n]. For a k \u2208 [n], let degG\u2032 (k) denote the degree in G\u2032 of the vertex with the label k. By our\nassumption on e(G\u2032 ) and n,\n\u230an\n\u22121\u230b\n2\n\nX\ni=0\n\n\u0001\nn2\ndegG\u2032 (2i) + degG\u2032 (2i + 1) \u2265 2e(G\u2032 ) \u2212 degG\u2032 (n \u2212 1) \u2265 2e(G\u2032 ) \u2212 n \u2265 (1 + \u03b5\u2032 ) ,\n2\n\nand hence the set I defined by\n\b\n\u03b5\u2032\nn\nI = i \u2208 {0, . . . , \u230a \u2212 1\u230b} : degG\u2032 (2i) + degG\u2032 (2i + 1) \u2265 (1 + )n\n2\n2\n\u2032\n\n\u2032\n\ncontains at least \u03b54 n elements. For a k with 0 \u2264 k \u2264 (1 \u2212 \u03b54 )n, let I(k) = {i \u2208 I : degG\u2032 (2i) \u2208\n\u2032\n[k, k + \u03b54 n)}. A simple averaging argument implies that there exists a k such that\n|I(k)| \u2265\n\n\u03b5\u2032\n(\u03b5\u2032 )2\n|I|\n\u2265\n|I|\n\u2265\nn.\n8\n32\n\u2308 \u03b54\u2032 \u2309\n\u2032\n\nFix any such k and let I \u2032 = I(k). Observe that for all i, j \u2208 I \u2032 , we have | degG\u2032 (2i) \u2212 degG\u2032 (2j)| \u2264 \u03b54 n,\nand hence\n\u0012\n\u0013\n\u03b5\u2032\n\u03b5\u2032\ndegG\u2032 (2i) + degG\u2032 (2j + 1) \u2265 degG\u2032 (2j) + degG\u2032 (2j + 1) \u2212 n \u2265 1 +\nn.\n(1)\n4\n4\n\u2032\n\n\u03b5\nAnother simple averaging argument implies that there is a subset I \u2032\u2032 \u2282 I \u2032 with at least 16\n|I \u2032 | elements,\n\u03b5\u2032\nn.\nsuch that for all i, j \u2208 I \u2032\u2032 , the distance between 2i and 2j on the cycle Cn satisfies k2i \u2212 2jk \u2264 16\nThe assertion of Lemma 3.3 now easily follows from the following claim.\n\nClaim 3.4. For every pair i, j of distinct elements of I \u2032\u2032 , and every l with 0 \u2264 l \u2264\n\u0010 \u2032 \u00112\n\u03b5\nleast 16\nn l-shortcuts with {i1 , i2 } = {2i, 2j}.\n\n\u03b5\u2032\n16 n,\n\nthere are at\n\n\u2032\n\n\u2032\n\n\u03b5\n\u03b5\nn. By the definition of I \u2032\u2032 , k2i \u2212 2jk \u2264 16\nn. Let\nProof of Claim 3.4. Fix an l with 0 \u2264 l \u2264 16\n\u03b5\u2032\n{i1 , i2 } = {2i, 2j}, such that i2 = i1 + k, for some 0 < k \u2264 16 n, where the addition is modulo n, i.e.,\n\u03b5\u2032\nn from i1 while moving around Cn in the clockwise direction. Denote\ni2 lies in distance at most 16\nby A the set {i2 + 2, . . . , i1 \u2212 \u00101} of vertices\nof Cn lying on the longer of the two arcs connecting\n\u0011\n\u03b5\u2032\ni2 + 1 to i1 . Clearly, |A| \u2265 1 \u2212 16 n \u2212 2. Let A\u2032 = {i \u2208 A : i + l + 1 \u2208 A} and note that\n\u03b5\u2032\n16\n\n\u2032\n\n\u03b5\n\u2212 16\n)n. Let\n\b\nB = i \u2208 A\u2032 : {i1 + 1, i}, {i2 , i + l + 1} \u2208 E(G\u2032 ) .\n\n|A\u2032 | \u2265 |A| \u2212 (l + 1) \u2265 (1 \u2212 2 *\n\nMoreover, let N1 = NG\u2032 (i1 +1) and N2 = {i \u2208 [n] : i+l +1 \u2208 NG\u2032 (i2 )}, and note that B = A\u2032 \u2229N1 \u2229N2 .\nBy (1),\n\u0012\n\u0013\n\u03b5\u2032\n1+\n(2)\nn \u2264 degG\u2032 (i1 + 1) + degG\u2032 (i2 ) = |N1 | + |N2 | = |N1 \u222a N2 | + |N1 \u2229 N2 |\n4\n= |N1 \u222a N2 | + |([n] \u2212 A\u2032 ) \u2229 N1 \u2229 N2 | + |A\u2032 \u2229 N1 \u2229 N2 | \u2264 2n \u2212 |A\u2032 | + |B|,\n7\n\n\f\u2032\n\n\u2032\n\n\u2032\n\n\u2032\n\n\u03b5\n\u03b5\n\u03b5\nand therefore |B| \u2265 ( \u03b54 \u2212 2 * 16\n\u2212 16\n)n \u2265 16\nn. Fix some i4 \u2208 B, let J = {i4 , . . . , i4 + l + 1},\n\u03b5\u2032\n\u03b5\u2032\n\u2032\u2032\n\u2212 16\n)n. Moreover, let\nA = {i \u2208 A \\ J : i + 1 \u2208 A \\ J}, and note that |A\u2032\u2032 | \u2265 |A| \u2212 |J| \u2212 2 \u2265 (1 \u2212 2 * 16\n\b\nC = i \u2208 A\u2032\u2032 : {i1 , i}, {i2 + 1, i + 1} \u2208 E(G\u2032 ) .\n\nSimilarly as in (2),\n\u0012\n\u2032\n\n\u03b5\u2032\n1+\n4\n\n\u0013\n\u2032\n\nn \u2264 degG\u2032 (i1 ) + degG\u2032 (i2 + 1) \u2264 2n \u2212 |A\u2032\u2032 | + |C|,\n\u2032\n\n\u2032\n\n\u03b5\n\u03b5\n\u03b5\nand therefore |C| \u2265 ( \u03b54 \u2212 2 * 16\n\u2212 16\n)n \u2265 16\nn. Finally, note that for every i3 \u2208 C, the graph X \u2282 G\u2032\nconsisting of the edges {i1 , i3 }, {i1 + 1, i4 }, {i2 , i4 + l + 1}, and {i2 + 1, i3 + 1} is an l-shortcut.\n\nTo finish the proof of Lemma 3.3, note that by Claim 3.4, the total number of l-shortcuts is at\nleast\n\u0012 \u2032 \u00132\n\u0012 \u2032 \u00134\n\u0012 \u2032 \u00138\n\u0012 \u2032\u2032 \u0013 \u0012 \u2032 \u00132\n\u03b5\n\u03b5\n|I \u2032\u2032 |2\n\u03b5\n|I \u2032 |2\n|I |\n\u03b5\n2\n2\nn \u2265\n*\n*\n*n \u2265\n*n \u2265\n* n4 .\n*\n16\n4\n16\n4\n16\n16\n2\n\nGiven integers l and n with 0 \u2264 l \u2264 n2 , let Hnl be the 4-uniform hypergraph on the vertex set\nV (Hnl ) = E(Kn ) whose hyperedges are all l-shortcuts in Kn \\ Cn . More precisely, every hyperedge\ncorresponds to some four edges in the graph (four vertices in the hypergraph) that form an l-shortcut.\nSince the sequence (i1 , i2 , i3 , i4 ) uniquely determines an l-shortcut, one can observe that\n|V (Hnl )| = |E(Kn )| =\n\nn2 \u2212 n\n2\n\nand cn4 \u2264 |E(Hnl )| \u2264 n4 ,\n\n(3)\n\nwhere c is some positive constant that does not depend on l or n. In order to apply Theorem 2.5\nto the hypergraphs Hnl and find l-shortcuts in subgraphs of random graphs, we need to show that\nthey are well-behaved, i.e., Hnl is (\u03b1, f, \u03b50 )-dense (see Definition 2.3) and (K, (n\u22121/2 ))-bounded (see\nDefinition 2.4) for some suitably chosen \u03b1, f , \u03b50 , and K.\nThe following statement is an immediate corollary of Lemma 3.3.\n\u2032\n\n\u03b5 8\nCorollary 3.5. Let f : (0, 1) \u2192 (0, 1) be the (non-decreasing) function defined by f (\u03b5\u2032 ) = ( 16\n) for all\n\u2032\n\u03b5 \u2208 (0, 1). For every positive \u03b50 , there exist a positive \u03b4 and an integer n0 such that for all l and n\nsatisfying n \u2265 n0 and 0 \u2264 l \u2264 \u03b4n, the hypergraph Hnl is ( 21 , f, \u03b50 )-dense.\n\nOur next lemma establishes (K, (n\u22121/2 ))-boundedness of the hypergraphs Hnl .\nLemma 3.6. There exists a positive constant K such that for all n and l with 0 \u2264 2l \u2264 n, the\nhypergraph Hnl is (K, (n\u22121/2 ))-bounded.\nProof. First, observe that once we fix i edges of an l-shortcut for some i \u2208 {1, 2, 3}, we are fixing at\nleast i + 1 elements in the sequence (i1 , i2 , i3 , i4 ) that uniquely describes this l-shortcut (up to at most\n8! possibilities as each endpoint of an edge can correspond to i1 , i1 + 1, i2 , etc.). Therefore, there are\nabsolute constants c1 , c2 , and c3 , such that every i edges of Kn \\ Cn are contained in at most ci n3\u2212i\nl-shortcuts for every i \u2208 {1, 2, 3} and all n and l with n \u2265 2l (we require n \u2265 2l in order to have\nenough space between i4 and i4 + l + 1).\n8\n\n\fAssume that q \u2265 n\u22121/2 , and fix integers n and l with n \u2265 2l. Let e be an edge of Kn \\ Cn (hence\ne is also a vertex of Hnl ). For i \u2208 {1, 2, 3}, define di (e) as,\ni\nh\ndi (e) = E degi (e, V (Hnl )q )2 ,\nwhere degi (e, V (Hnl )q ) = |{X \u2208 E(Hnl ) : |X \u2229 (V (Hnl )q \\ {e})| \u2265 i and e \u2208 X}| is defined before\nDefinition 2.4. Observe that degi (e, V (Hnl )q )2 is equal to\n|{(X1 , X2 ) \u2208 E(Hnl )2 : |Xk \u2229 (V (Hnl )q \\ {e})| \u2265 i for k = 1, 2 and e \u2208 X1 \u2229 X2 }|.\nThus, in order to calculate di (e) we can consider all pairs of l-shortcuts X1 , X2 that share the edge e,\nand consider the possible combinations of |(X1 \u2229X2 )\u2229V (Hnl )q |, |X1 \u2229V (Hnl )q |, and |X2 \u2229V (Hnl )q | that\ngive |Xk \u2229 (V (Hnl )q \\ {e})| \u2265 i for k = 1, 2. By parametrizing the size of |(X1 \u2229 X2 ) \u2229 (V (Hnl )q \\ {e})|\nby j, this interpretation gives the inequality\ndi (e) \u2264\n\nX\n\ne\u2208X1 \u2229X2\n\nmin{i,|X1 \u2229X2 |\u22121} \u0012\n\nX\nj=0\n\n4\ni\n\n\u00132\n\nq 2i\u2212j .\n\n(4)\n\nFor t \u2208 {1, 2, 3, 4}, let Ft = |{(X1 , X2 ) : |X1 \u2229 X2 | \u2265 t, e \u2208 X1 \u2229 X2 }|. Once we bound the size of\nthe sets Ft , we can obtain a bound on di (e) using inequality (4). As mentioned at the beginning of\nthe proof, if we fix t edges of an l-shortcut, then we are fixing at least t + 1 elements of the sequence\n(i1 , i2 , i3 , i4 ) describing an l-shortcut (up to at most 8! possibilities). Since both X1 and X2 contain\nthe edge e, at least two values are fixed for both X1 and X2 . Thus, |F1 | = O(n4 ). Similarly, we have\n|Ft | = O(n5\u2212t ) for t \u2208 {1, 2, 3} and |F4 | = O(n2 ). It follows that\n\u0001\nd1 (e) \u2264 42 * |F1 |q 2 + |F2 |q = O(n4 q 2 + n3 q) \u2264 c\u2032 n4 q 2 ,\n\u0001\nd2 (e) \u2264 62 * |F1 |q 4 + |F2 |q 3 + |F3 |q 2 = O(n4 q 4 + n3 q 3 + n2 q 2 ) \u2264 c\u2032 n4 q 4 ,\n\u0001\nd3 (e) \u2264 42 * |F1 |q 6 + |F2 |q 5 + |F3 |q 4 + |F4 |q 3 = O(n4 q 6 + n3 q 5 + n2 q 4 + n2 q 3 ) \u2264 c\u2032 n4 q 6\n\nfor some absolute constant c\u2032 , where the last inequality in each row holds by our assumption that\nq \u2265 n\u22121/2 . Finally, recall from (3) that |E(Hnl )|2 /|V (Hnl )|2 \u2265 cn4 for some positive constant c not\ndepending on n or l. It follows that for each i \u2208 {1, 2, 3},\n\uf8ee\n\uf8f9\ni c\u2032\nh\nX\nX\n|E(Hnl )|2\n,\nE\uf8f0\ndegi (e, V (Hnl )q )2 \uf8fb =\nE degi (e, V (Hnl )q )2 \u2264 * q 2i\nc\n|V (Hnl )|\nl\nl\ne\u2208V (Hn )\n\ne\u2208V (Hn )\n\n\u2032\n\ni.e., the sequence (Hnl ) is ( cc , (n\u22121/2 ))-bounded.\nGiven a positive real \u03b4, let P\u03b4 be the following graph property: An n-vertex graph G satisfies P\u03b4\nif and only if G contains an l-shortcut for every l with 0 \u2264 l \u2264 \u03b4n and every labeling of the vertices of\nG with [n]. Clearly, P\u03b4 is monotone increasing.\nLemma 3.7. For all positive \u03b5, there exist positive \u03b4 and C such that if Cn\u22121/2 \u2264 p(n) \u2264 n\u22121/3 , then\nG(n, p) a.a.s. satisfies the following. Every subgraph G\u2032 of G(n, p) with more than ( 12 + \u03b5)e(G(n, p))\nedges satisfies P\u03b4 .\n9\n\n\f\u0001\nProof. Let k = 4, \u03b1 = 12 , pn = n\u22121/2 , vn = n2 , en = cn4 , where c is a positive constant that\nsatisfies (3), and let K be as in the statement of Lemma 3.6. Let f be the function defined in\nCorollary 3.6. Note that\nlim en (n\u22121/2 )4 = \u221e\n\nn\u2192\u221e\n\nand\n\nlim vn n\u22121/2 = \u221e,\n\nn\u2192\u221e\n\nand let b, \u03b50 , C, and n0 be the numbers satisfying the conclusion of Theorem 2.5 for \u03b1, f , \u03b5, k, K,\n(pn ), (vn ), and (en ) as above. Let n1 and \u03b4 be the parameters obtained from Corollary 3.5 by using\nthe parameter \u03b50 .\nAssume that n \u2265 max{n1 , n0 } and fix an l with 0 \u2264 l \u2264 \u03b4n. Furthermore, fix a labeling of\nthe vertices of G(n, p) with [n]. By Corollary 3.5, the hypergraph Hnl is ( 21 , f, \u03b50 )-dense, and by\nLemma 3.6, it is (K, (n\u22121/2 ))-bounded. Moreover, |V (Hnl )| \u2265 vn and |E(Hnl )| \u2265 en . Let p satisfy\nCn\u22121/2 \u2264 p(n)\n\u2264 n\u22121/3 . Since n \u2265 n0 , it follows from Theorem 2.5 that with probability at least\nn\u0001\n1 \u2212 exp(\u2212bp 2 ), every G\u2032 \u2282 G(n, p) with e(G\u2032 ) \u2265 ( 21 + \u03b5)e(G(n, p)) contains a hyperedge of Hnl , which\nis an l-shortcut with\u0001respect to our fixed labeling of the vertices. Hence, with probability at least\n1 \u2212 n! * n * exp(\u2212bp n2 ), which clearly is 1 \u2212 o(1), the random graph G(n, p) satisfies P\u03b4 .\nHaving proved Lemma 3.7, we are finally ready to show the existence of short and long cycles.\n\nProof of Theorem 3.2. As it was remarked at the beginning of this section, we can restrict our attention\nto cycles of length at least 8. Let C and \u03b4 be numbers satisfying the conclusion of Lemma 3.7\n2 \u2032\nfor 4\u03b5 . Moreover, let p\u2032 (n) = Cn\u22121/2 . Since a.a.s. e(G(n, p\u2032 )) \u2264 (1 + 8\u03b5 ) n 2p , then by Lemma 3.7,\n2 \u2032\na.a.s. every subgraph of G(n, p\u2032 ) with more than ( 12 + 2\u03b5 ) n 2p edges satisfies P\u03b4 . By Proposition 2.7,\n2\nif p(n) \u2265 Cn\u22121/2 , then a.a.s. every subgraph G\u2032 of G(n, p) with at least ( 12 + \u03b5) n2 p edges satisfies P\u03b4 .\nFinally, observe that every Hamiltonian graph with property P\u03b4 contains a cycle of length t for every\nt \u2208 [8, \u03b4n] \u222a [(1 \u2212 \u03b4)n, n].\n\n3.2\n\nMedium Length Cycles\n\nTheorem 3.8. For all positive \u03b5 and \u03b4, there exists a constant C such that if p \u2265 Cn\u22121/2 , then G(n, p)\n2\na.a.s. satisfies the following: Every Hamiltonian subgraph G\u2032 of G(n, p) with more than ( 21 + \u03b5) n2 p\nedges contains a cycle of length t for all t \u2208 [\u03b4n, (1 \u2212 \u03b4)n].\nFix a labeling of the vertices of the complete graph Kn with numbers from the set [n] of remainders\nmodulo n. Throughout this section, the addition of the elements of [n] will be performed modulo n.\nWe define the following partition of E(Kn ):\nE(Kn ) =\n\nn\u22121\n[\ni=0\n\n\b\nEi , where Ei = {x, y} : x + y \u2261 i mod n .\n\nWe will later refer to the elements of Ei as the edges in direction i. For each i \u2208 [n], there is a natural\nordering \u2264i of the elements of Ei defined as follows. If we evenly place the numbers from [n] on a circle,\neach set Ei will consist of all parallel edges in certain direction. We order these edges with respect to\ntheir distance from the point 2i (the arc from \u230a 2i \u230b to \u2308 2i \u2309 in case i is odd), see Figure 3.2. For example,\nE0 consists of the \u230a n2 \u230b edges {x, \u2212x} for positive integers x < n2 , and {x1 , \u2212x1 } \u22640 {x2 , \u2212x2 } for two\npositive integers x1 , x2 < n2 if and only if x1 \u2264 x2 . Since every n-vertex graph G is a subgraph of the\n10\n\n\fcomplete graph Kn , we tacitly assume that when we fix a labeling of the set of vertices of G with [n],\nE(G) inherits the partition into sets Ei with their orders \u2264i .\nLet Cn be the subgraph of Kn consisting of the edges {i, i + 1} for all i \u2208 [n]. We call two edges\ne1 , e2 \u2208 E(Kn ) \\ E(Cn ) crossing if their endpoints are all distinct and lie alternately on the cycle\nCn . With all this notation at hand, observe that for every i \u2208 [n] and l \u2208 {2, . . . , n \u2212 2}, the graph\nCn \u222a {e1 , e2 }, where e1 \u2208 Ei and e2 \u2208 Ei+l are crossing edges, contains cycles of lengths l + 2 and\nn \u2212 l + 2, see Figure 3.2.\ni\n2\n\n\u22123\n\ni\n2\n\n\u22122\n\ni\n2\n\n\u22121\n\nx\ni\n2\n\n\u2264i\n\ny\ni\n2\n\n+1\ni\n2\n\ni\n2\n\n+2\n\n+3\n\nn+i\n2\n\ni\u2212x\ni+l\u2212y\n\nFigure 3.2: The set Ei in the case when both i and n are even, the arrow points from \u2264i -smaller\nto \u2264i -larger elements; a crossing between an edge {x, i \u2212 x} \u2208 Ei and an edge {y, i + l \u2212 y} \u2208 Ei+l ,\nmarked is the cycle of length l + 2.\n2\n\nOur strategy will be to show that a.a.s. every subgraph G\u2032 of G(n, p) with more than ( 12 + \u03b5) n2 p\nedges contains such pair e1 , e2 for each l \u2208 {\u03b4n \u2212 2, . . . , (1 \u2212 \u03b4)n} and every possible labeling of the\nvertices of G\u2032 . Before we start working with the random graph, we need to introduce some more\nnotation.\nNote that even though the size of Ei depends on the parity of i and n, it always satisfies n2 \u2212 1 \u2264\n|Ei | \u2264 n2 . Given a \u03b2 \u2208 (0, 61 ) and a natural number k with 1 \u2264 k \u2264 ( 21 \u2212 \u03b2)n, denote by Eik the set of\n\u03b2n consecutive (with respect to \u2264i ) edges in Ei , starting from the kth smallest, i.e., Eik is the interval\nof length \u03b2n in Ei whose leftmost endpoint is the kth smallest element of Ei . Also, let Mi \u2282 Ei\ndenote the set of ( 21 \u2212 2\u03b2)n middle elements of Ei in the ordering \u2264i , i.e., Ei without the leftmost\nand rightmost subintervals of lengths \u03b2n. Let G be a graph on the vertex set [n]. For i \u2208 [n], \u03b5\u2032 > 0\nand p \u2208 [0, 1], we will say that the direction Ei is (\u03b2, \u03b5\u2032 , p)-good in G (or simply good) if for all k with\n1 \u2264 k \u2264 ( 21 \u2212 \u03b2)n, G satisfies\n\u0013\n\u0012\n1\n1\n\u2212 2\u03b2 np \u2264 \u03b5\u2032 ( \u2212 2\u03b2)np.\n|E(G) \u2229 Eik | \u2212 \u03b2np \u2264 \u03b5\u2032 \u03b2np and\n|E(G) \u2229 Mi | \u2212\n2\n2\nLemma 3.9. If p \u2265 Cn\u22121/2 for some positive constant C, and \u03b2, \u03b5\u2032 \u2208 (0, 16 ), then a.a.s. for every\nlabeling of the vertices of G(n, p) with [n], there are at most n3/4 directions that are not (\u03b2, \u03b5\u2032 , p)-good\nin G(n, p).\n\n11\n\n\fProof. Let G be a graph drawn from G(n, p) and fix a labeling of the set of vertices of G with [n]. By\nChernoff's inequality (Theorem 2.6) , for every i and k,\n\u0010\n\u0011\nP |E(G) \u2229 Eik | \u2212 \u03b2np > \u03b5\u2032 \u03b2np \u2264 e\u2212cnp\nfor some positive constant c = c(\u03b2, \u03b5\u2032 ), and similarly (note that 12 \u2212 2\u03b2 \u2265 \u03b2)\n\u0013\n\u0013 \u0013\n\u0012\n\u0012\n\u0012\n1\n\u2032 1\n\u2212 2\u03b2 np > \u03b5\n\u2212 2\u03b2 np \u2264 e\u2212cnp .\nP |E(G) \u2229 Mi | \u2212\n2\n2\nHence, the probability that a particular Ei is not good in G is at most e\u2212cnp/2 by the union bound.\nSince the sets Ei are pairwise disjoint, the events 'Ei is not good' are mutually independent. Therefore,\nthe probability that there are more than n3/4 bad directions is at most\n\u0013\u0010\n\u0012\n\u0011n3/4\nn\n7/4\n\u2032 5/4\n\u2212cnp/2\n\u2264 2n * e\u2212cn p/2 = e\u2212c n ,\ne\n3/4\nn\nfor some constant c\u2032 depending on c and C. Finally, since there are only n! different labellings, the\nprobability of there being a labeling with more than n3/4 bad directions is o(1).\nRecall that, given a labeling of the vertex set of Kn with [n], we say that two edges e1 , e2 \u2208\nE(Kn )\\E(Cn ) cross if their endpoints lie alternately on the cycle Cn . Since in the proof of Theorem 3.8,\nwe are planning to use an averaging argument to show the existence of a suitable pair of crossing edges,\nit would be very convenient if for every i and l, every edge from Ei crossed the same number of edges\nfrom Ei+l . Unfortunately, this is not true. To overcome this obstacle, we introduce the notion of\nclose crossings, for which such uniformity statement holds approximately. Similarly as before, for each\nk \u2208 [n], denote its distance from 0 on the cycle Cn by kkk; more precisely, let\nkkk = min {x \u2265 0 : x \u2261 k\n\nmod n or x \u2261 \u2212k\n\nmod n} .\n\nGiven a \u03b2 \u2208 (0, 16 ), a crossing between edges {x1 , y1 } and {x2 , y2 } will be called close if the smallest of\nthe distances between their endpoints is at most \u03b2n, i.e., min{kx1 \u2212x2 k, kx1 \u2212y2 k, ky1 \u2212x2 k, ky1 \u2212y2 k} \u2264\n\u03b2n. The following simple observations will be crucial in the proof of Theorem 3.8.\nLemma 3.10. For every i \u2208 [n], \u03b2 \u2208 (0, 16 ), and l \u2208 {2\u03b2n + 1, . . . , (1 \u2212 2\u03b2)n \u2212 1}, the following holds.\n(i) Every edge in Ei forms close crossings with at most 2\u03b2n edges from Ei+l , and these edges can\nk1\nk2\nbe covered by a set of the form Ei+l\n\u222a Ei+l\nfor some k1 and k2 with 1 \u2264 k1 , k2 \u2264 ( 12 \u2212 \u03b2)n.\n(ii) At least ( 21 \u2212 2\u03b2)n edges in Ei form close crossings with exactly 2\u03b2n edges from Ei+l , and these\nk1\nk2\n2\u03b2n edges constitute a set of the form Ei+l\n\u222a Ei+l\nfor some k1 and k2 with 1 \u2264 k1 , k2 \u2264 ( 12 \u2212 \u03b2)n.\n(iii) The ( 21 \u2212 2\u03b2)n edges from (ii) cover the interval Mi \u2282 Ei .\nProof. Fix an edge e1 \u2208 Ei and assume that e1 = {x1 , y1 }. Note that the set C(e1 ) of edges in\nEi+l that cross e1 is an interval in the ordering \u2264i+l of Ei+l . The edges in Ei+l that form close\ncrossings with e1 come precisely from the leftmost and the rightmost subintervals of C(e1 ) of lengths\n\u03b2n. Hence (i) follows. Moreover, the length of C(e1 ) is min{kx1 \u2212 y1 k, klk, n \u2212 klk} \u2212 1. Note that\nkx1 \u2212 y1 k \u2264 2\u03b2n precisely for those 2\u03b2n edges {x1 , y1 } \u2208 Ei which come from the leftmost and the\nrightmost subintervals of Ei of lengths \u03b2n, i.e., Ei \\ Mi . Also klk \u2212 1, n \u2212 klk \u2212 1 \u2265 2\u03b2n by our\nassumption on l, so e1 forms a close crossing with less than 2\u03b2n edges if and only if kx1 \u2212 y1 k \u2264 2\u03b2n.\nThis proves (ii) and (iii).\n12\n\n\fWith the above two lemmas at hand, we are ready to show the existence of medium length cycles.\n\u03b5\n\u03b5\n} and \u03b5\u2032 = 10\n. Let G be a graph drawn from G(n, p).\nProof of Theorem 3.8. Let \u03b2 = min{ 4\u03b4 , 10\nBy Lemma 3.9, a.a.s. every labeling of the vertices of G with [n] yields at most \u03b5\u2032 n directions that\n2\nare not (\u03b2, \u03b5\u2032 , p)-good in G. Moreover, by Chernoff's inequality, a.a.s. e(G) \u2264 (1 + 2\u03b5 ) n2 p . Fix a\nt \u2208 [\u03b4n, (1 \u2212 \u03b4)n]. We will show that, conditioned on the above two events (which hold a.a.s.), every\n2\nHamiltonian subgraph G\u2032 of G with more than ( 12 + \u03b5) n2 p edges contains a cycle of length t.\nFix such a subgraph G\u2032 and a labeling of its vertices such that Cn is a Hamilton cycle in G\u2032 , and let\nl = t \u2212 2. It suffices to show that for some i \u2208 [n], the graph G\u2032 contains some e1 \u2208 Ei and e2 \u2208 Ei+l\nwhich form a close crossing, since we have already observed that the graph Cn \u222a {e1 , e2 } contains a\ncycle of length l + 2, and l was chosen so that l + 2 = t. Let I be the set of directions that are good in\nG and recall that |I| \u2265 (1 \u2212 \u03b5\u2032 )n. We start by estimating the number of close crossings between pairs\nof edges of G which came from Ei and Ei+l such that both i and i + l are in I. Denote this quantity\nby X. For the remainder of the proof we will assume that 2l 6= n; the case 2l = n can be resolved\nusing an almost identical argument and we leave it to the reader. The number of pairs {i, i + l} \u2282 I is\nat least (1 \u2212 2\u03b5\u2032 )n (here we use the assumption that 2l 6= n and hence i + l 6= i \u2212 l). Let us fix one of\nthem. Since l \u2208 (3\u03b2n, (1 \u2212 3\u03b2n)) by our assumption on t, Lemma 3.10 proves that each of the at least\n(1 \u2212 \u03b5\u2032 )( 12 \u2212 2\u03b2)np edges in Mi \u2229 E(G) forms a close crossing with every edge from some two disjoint\nk of sizes \u03b2n each. Since i + l \u2208 I, the graph G has at least (1 \u2212 \u03b5\u2032 )\u03b2np edges in each such set\nsets Ei+l\nk . It follows that\nEi+l\n\u2032\n\n\u2032\n\nX \u2265 (1 \u2212 2\u03b5 )n * (1 \u2212 \u03b5 )\n\n\u0012\n\n\u0013\n1\n\u2212 2\u03b2 np * 2(1 \u2212 \u03b5\u2032 )\u03b2np \u2265 (1 \u2212 4\u03b5\u2032 \u2212 4\u03b2)\u03b2n3 p2 .\n2\n\nOn the other hand, since every edge e1 \u2208 Ei forms close crossings with at most 2\u03b2n edges from Ei\u00b1l ,\nk (Lemma 3.10), every edge in a good direction i can form at\nand such edges are covered by sets Ei\u00b1l\nmost (1 + \u03b5\u2032 ) * 4\u03b2np close crossings with edges in a good direction i \u00b1 l, i.e., crossings counted by X.\nHence, the number X \u2032 of crossings in G that are counted by X but are not contained in G\u2032 satisfies\n\u0001\n1 \u2212 \u03b5 n2 p\n*\n* 4\u03b2np \u2264 (1 \u2212 \u03b5 + \u03b5\u2032 )\u03b2n3 p2 .\nX \u2032 \u2264 e(G) \u2212 e(G\u2032 ) * (1 + \u03b5\u2032 ) * 4\u03b2np \u2264 (1 + \u03b5\u2032 ) *\n2\n2\nSince 5\u03b5\u2032 + 4\u03b2 < \u03b5, it follows that X > X \u2032 and hence G\u2032 must contain a crossing pair of edges from\nsome Ei and Ei+l . Finally, recall that these two edges, together with the edges of the spanning cycle\nin G\u2032 , form a graph containing a cycle of length t.\n\n4\n4.1\n\nConcluding Remarks\nNecessity of Hamiltonicity\n\nIn this paper, we proved that if p \u226b n\u22121/2 , then G(n, p) a.a.s. satisfies\n\u0001 the following property: Every\nn\n1\n\u2032\nHamiltonian subgraph G \u2282 G(n, p) with more than ( 2 + o(1)) 2 p edges is pancyclic. Our proof\nheavily relied on the fact that G\u2032 contains a Hamilton cycle, and as discussed in the introduction, it\nis important to assume the Hamiltonicity. However, if we are only interested in finding short cycles,\ncycles of length 3 up to \u03b4(\u03b5)n, then it is no longer necessary to assume the Hamiltonicity of G\u2032 . The\nproof of this fact will be given in the appendix.\n13\n\n\f4.2\n\n4-pancyclicity\n\nThe general idea of our proof of Theorem 1.3 was to find a particular configuration of edges which form\na cycle of desired length together with the given Hamilton cycle. Let k-crossing be a configuration\nconsisting of k edges depicted in Figure 4.1. When finding medium length cycles, we only considered\n2-crossings (which we called crossing pairs), while when finding short and long cycles, we considered\n4-crossings (which we called shortcuts). One of the reasons that the proof consists of two separate\nparts is because it is impossible to use only 2-crossings to find long cycles. For example, after fixing\na Hamilton cycle, there are only about n2 2-crossings in the complete graph Kn that form a cycle of\nlength n \u2212 1 together with the fixed Hamilton cycle; only about n2 p2 of them will appear in G(n, p).\nSince n2 p2 \u226a n2 p, we can easily remove all the 2-crossings which form a cycle of length n \u2212 1 together\nwith the given Hamilton cycle. This issue has been resolved by considering 4-crossings.\n\nFigure 4.1: 2, 3 and 4-crossings.\nFollowing Cooper [8], we call a graph k-pancyclic if there is some Hamilton cycle in the graph such\nthat for all t \u2208 {3, . . . , n}, we can find a cycle of length t using only the edges of this fixed Hamilton\ncycle and at most k other edges. Using this terminology, Theorems 3.2 and 3.8 say that a.a.s. every\nsubgraph G\u2032 as above is 'almost' 4-pancyclic (recall that the existence of cycles of length 3 to 7 relied\non Theorems 2.1 and 2.2). In fact, also for t with 3 \u2264 t \u2264 7, we can show that there exists a cycle\nof length t which uses only the edges of the given Hamilton cycle and at most 4 other edges. This\nstatement is vacuously true for cycles of lengths 3 and 4. For cycles of lengths 5, 6, and 7, it can be\nshown using the methods from the proof of Theorem 3.2, by considering a slightly modified definition\nof a shortcut, where vertices in some of the pairs {ij , ij + 1} are merged. Thus, a minor modification\nof our argument establishes the fact that a.a.s. every subgraph G\u2032 as above is 4-pancyclic. Moreover,\nwe believe that it is true that a.a.s. each such subgraph G\u2032 is 3-pancyclic. In order to show this, it\nwould be sufficient to prove a statement corresponding to Lemma 3.3 for 3-crossings (see Figure 4.1).\nHowever, at this point we do not know how to prove such a statement.\nAcknowledgement. This work was done during the IPAM Long Program, Combinatorics: Methods\nand Applications in Mathematics and Computer Science. We would like to greatly thank the members\nof staff at IPAM, the organizers of this program, and all its participants for creating a fantastic research\nenvironment. We would also like to thank our advisors J\u00f3zsef Balogh and Benny Sudakov, and the\nanonymous referee.\n\n14\n\n\fA\n\nShort Cycles without Hamiltonicity\n\nAs mentioned in the concluding remark, when finding short cycles, i.e., cycles of length 3 to \u03b4(\u03b5)n, it\nis not necessary to have the additional condition that the subgraph is Hamiltonian. In the appendix,\nwe prove the following theorem which establishes this fact.\nTheorem A.1. For all positive \u03b5, there exists a constant C such that if p \u2265 Cn\u22121/2 , then G(n, p)\n2\na.a.s. satisfies the following. Every subgraph G\u2032 \u2282 G(n, p) with more than ( 12 + \u03b5) n2 p edges contains a\n\u03b5\nn.\ncycle of length t for all 3 \u2264 t \u2264 25600\nThe following well-known results from extremal graph theory will be used in our proof. First\ntheorem allows one to find a large minimum degree subgraph in a graph with many edges (see, e.g.,\n[12, Proposition 1.2.2]).\nLemma A.2. Let G be a graph on n vertices with at least dn edges. Then G contains a subgraph G\u2032\nwith minimum degree at least d.\nNext lemma is P\u00f3sa's rotation-extension lemma (see, e.g., [20, Ch. 10, Problem 20]).\nLemma A.3. Let G be a graph such that |N (X) \\ X| \u2265 2|X| \u2212 1 for all X \u2282 V (G) with |X| \u2264 t.\nThen for any vertex v of G, there exists a path of length 3t \u2212 2 in G that has v as an end point.\nRemark. The original statement does not say anything about the end point of the path. However,\nthis fact is implicit in the proof of this lemma given in [20].\nThe proof of Theorem A.1 follows the line of Krivelevich, Lee, and Sudakov [19], and most of\nthe lemmas we use are variants of lemmas from [19]. We will uses these lemmas to gain control of\nsubgraphs of a random graph. Since the modifications are quite simple, we will omit proofs of these\nlemmas. First lemma, which is a variant of [19, Lemma 3.3], controls the growth of the neighborhood\nof a set.\nLemma A.4. For every \u03b5\u2032 \u2208 (0, 1), there exists a constant C0 such that the following holds. If\np = Cn\u22121/2 for some constant C \u2265 C0 , and r \u2208 (0, 1], then a.a.s. every subgraph G\u2032 \u2282 G(n, p)\nsatisfies the following property. For all X \u2282 V with |X| \u2265 \u03b5\u2032 np and degG\u2032 (X) \u2265 |X|rnp, we have\n|NG\u2032 (X)| \u2265 (1 \u2212 \u03b5\u2032 )rn.\nNext lemma establishes the expansion property of subgraphs of random graphs with large minimum\ndegree. The same lemma appeared in [19, Lemma 3.4].\nLemma A.5. If p = Cn\u22121/2 for some constant C > 0, and \u03b5\u2032 > 0, then a.a.s. every subgraph\nG\u2032 \u2282 G(n, p) with minimum degree at least \u03b5\u2032 np satisfies the following expansion property. For all\n1 \u2032\n\u03b5 n, |NG\u2032 (X)\\X| \u2265 2|X|.\nX \u2282 V with |X| \u2264 80\nThe final lemma is the key ingredient in the proof of Theorem A.1. It asserts the existence of a\nvertex with many edges in its 2nd neighborhood.\n1\n), there exists a constant C0 such that the following holds. If\nLemma A.6. For every \u03b5 \u2208 (0, 16\n\u22121/2\np = Cn\nfor some constant C \u2265 C0 , then G(n, p) a.a.s. satisfies the following. Every subgraph\n2\n(2)\n\u03b5 2\nn p.\nG\u2032 \u2282 G(n, p) with more than ( 21 + \u03b5) n2 p edges contains a vertex w such that e(NG\u2032 (w)) \u2265 16\n\n15\n\n\f2\n\nProof. Let G = G(n, p) and G\u2032 be a subgraph satisfying e(G\u2032 ) \u2265 ( 12 + \u03b5) n2 p . By Chernoff's inequality\n(Theorem 2.6), we may assume that \u2206(G\u2032 ) \u2264 \u2206(G) \u2264 (1 + \u03b5)np. Let B be the collection of all the\nvertices which have degree at least ( 21 + 2\u03b5 )np in G\u2032 . Then, by the inequality\n\u0012\n\u0013\n\u0013\n\u0012\n1 \u03b5\n1\n2\n\u2032\n+ \u03b5 n p \u2264 2e(G ) = degG\u2032 (V ) = degG\u2032 (B) + degG\u2032 (V \\ B) \u2264 degG\u2032 (B) +\n+\nn2 p,\n2\n2 2\nP\nwe have 2\u03b5 n2 p \u2264 degG\u2032 (B) =\nv\u2208V |NG\u2032 (v) \u2229 B|. Therefore, there should exist a vertex v0 which\n\u03b5\nsatisfies |NG\u2032 (v0 ) \u2229 B| \u2265 2 np. Then degG\u2032 (NG\u2032 (v0 ) \u2229 B) \u2265 ( 21 + 2\u03b5 )np|NG\u2032 (v0 ) \u2229 B|, and by Lemma\nA.4, |NG\u2032 (NG\u2032 (v0 ) \u2229 B)| \u2265 ( 21 + 4\u03b5 )n for large enough C0 . Thus,\n\u0012\n\u0013\n\u0012\n\u0013\n1 \u03b5\n1 \u03b5\n(2)\n|NG\u2032 (v0 )| \u2265 |NG\u2032 (NG\u2032 (v0 ))| \u2212 |NG\u2032 (v0 )| \u2212 |{v0 }| \u2265\n+\n+\nn \u2212 (1 + \u03b5)np \u2212 1 \u2265\nn\n2 4\n2 8\n(2)\n\nfor large enough n. If e(NG\u2032 (v0 )) \u2265\nassume otherwise.\n\n\u03b5 2\n16 n p,\n\nthen we have found the vertex w = v0 as claimed, so\n\nN (v0 ) \u2229 B\n\nB\n\nX\n\nY\n\nN (v1 ) \u2229 BX\nN (2) (v0 )\n\nv1\n\nBX\n\nX\nv0\nN (2) (v1 )\n\nFigure A.1: The second neighborhood of either v0 or v1 must contain many edges.\n(2)\n\n\u03b5\n\u03b5\n)n and Y = V (G) \\ X so that |Y | = ( 21 \u2212 80\n)n. Let\nLet X \u2282 NG\u2032 (v0 ) be such that |X| = ( 12 + 80\n\u2032\u2032\n\u2032\nG be the graph obtained from G by removing all the edges within X. Then by assumption, we have\n\u0012\n\u0013\n\u03b5 2\n1 \u03b5 n2 p\n\u2032\u2032\n\u2032\ne(G ) \u2265 e(G ) \u2212 n p \u2265\n+\n.\n16\n2 2\n2\n2\n\nBy Chernoff's inequality (Theorem 2.6), a.a.s. eG (Y ) \u2264 n8 p and eG (X, Y ) \u2264 (1 +\n\u03b5\n] satisfying eG\u2032\u2032 (X, Y ) = rn2 p. Moreover,\nfore, we can find r \u2208 [0, 14 + 64\n\n\u03b5\n64 )|X||Y\n\n|p. There-\n\n\u03b5\nn2 p\nn2 p\n\u2264 e(G\u2032\u2032 ) = eG\u2032\u2032 (X) + eG\u2032\u2032 (X, Y ) + eG\u2032\u2032 (Y ) \u2264 n2 p + rn2 p +\n,\n4\n16\n8\n\u03b5\nand thus r > 1/16 \u2265 \u03b5. Let BX \u2282 X be the collection of vertices in X which have at least (2r \u2212 20\n)np\nneighbors in Y . Then the following inequality holds:\nX\nX\n|NG\u2032\u2032 (v)| = degG\u2032\u2032 (BX ) + degG\u2032\u2032 (X \\ BX )\n|NG\u2032\u2032 (v) \u2229 Y | =\nrn2 p = eG\u2032\u2032 (X, Y ) =\nv\u2208X\n\nv\u2208X\n\n\u0012\n\u0013\n\u0010\n\u0010\n\u03b5\u0011 1\n\u03b5\n\u03b5\u0011\nnp|X| = degG\u2032\u2032 (BX ) + 2r \u2212\n+\nn2 p.\n\u2264 degG\u2032\u2032 (BX ) + 2r \u2212\n20\n20\n2 80\n16\n\n\f\u0001 2\n\u0001 2\n\u03b5\n\u03b5\n\u03b5 2\n\u03b5\nSubtracting r \u2212 40\nn p from each side gives 40\nn p \u2264 degG\u2032\u2032 (BX ) + 80\n2r \u2212 20\nn p, which implies\n3\n1\n\u03b5 2\nthat degG\u2032\u2032 (BX ) \u2265 80 n p because of the restriction r \u2264 8 and \u03b5 < 16 . Moreover, since\nX\n\n|NG\u2032\u2032 (y) \u2229 BX | = degG\u2032\u2032 (BX ) \u2265\n\ny\u2208Y\n\n\u03b5 2\nn p,\n80\n\n\u03b5\nthere should exist a vertex v1 \u2208 Y which satisfies |NG\u2032\u2032 (v1 ) \u2229 BX | \u2265 80\nnp. Then by Lemma A.4,\n\u03b5\n\u03b5\n\u03b5\n|NG\u2032\u2032 (NG\u2032\u2032 (v1 )\u2229BX )| \u2265 (1\u2212 20 )(2r \u2212 20 )n \u2265 (2r \u2212 10 )n for large enough C0 . Moreover, NG\u2032\u2032 (NG\u2032\u2032 (v1 )\u2229\n(2)\n\nBX ) \u2282 NG\u2032\u2032 (v1 ) \u2229 Y since we removed all the edges within X. Thus,\n(2)\n\n|NG\u2032\u2032 (v1 ) \u2229 Y | \u2265 |NG\u2032\u2032 (NG\u2032\u2032 (v1 ) \u2229 BX )| \u2212 |NG\u2032\u2032 (v1 )| \u2212 |{v1 }|\n\u0010\n\u0010\n\u03b5\u0011\n\u03b5\u0011\nn \u2212 (1 + \u03b5)np \u2212 1 \u2265 2r \u2212\nn\n\u2265 2r \u2212\n10\n8\n(2)\n\nfor large enough n. If e(NG\u2032\u2032 (v1 )) \u2265\n\n\u03b5 2\n16 n p\n\nthen we have found the vertex w = v1 as required. We claim\n(2)\n\nthat this should always be the case. Otherwise, let Y \u2032 \u2282 NG\u2032\u2032 (v1 ) \u2229 Y be a set of size |Y \u2032 | = (2r \u2212 8\u03b5 )n\n\u03b5\n\u03b5\n)n \u2212 (2r \u2212 8\u03b5 )n \u2265 32\nn. Since both Y \\ Y \u2032 and Y \u2032 are sets of linear size,\nand note that |Y \\ Y \u2032 | \u2265 ( 21 \u2212 80\nwe can use Chernoff's inequality (Theorem 2.6) to bound eG\u2032\u2032 (Y \\ Y \u2032 ) and eG\u2032\u2032 (Y \\ Y \u2032 , Y \u2032 ) to get:\n\u0013\n\u0012\n1 \u03b5 n2 p\n+\n\u2264 eG\u2032\u2032 (V ) = eG\u2032\u2032 (X) + eG\u2032\u2032 (X, Y ) + eG\u2032\u2032 (Y ) \u2264 0 + rn2 p + eG\u2032\u2032 (Y )\n2 2\n2\n= rn2 p + eG\u2032\u2032 (Y \\ Y \u2032 ) + eG\u2032\u2032 (Y \\ Y \u2032 , Y \u2032 ) + eG\u2032\u2032 (Y \u2032 )\n\u0010\n\u03b5\u0011\np \u0010\n\u03b5\n\u03b5\u0011\n\u2264 rn2 p + 1 +\n|Y \\ Y \u2032 |2 + 1 +\n|Y \\ Y \u2032 ||Y \u2032 |p + n2 p\n16 \u0010\n2\n16\n16\n\u0001p\n\u03b5\n\u03b5\u0011\n|Y |2 \u2212 |Y \u2032 |2\n\u2264 n2 p + rn2 p + 1 +\n16\n16 \u0012\n2 \u0013\n\u0011\n\u0011\n\u0010\n\u0010\n1\n\u03b5\n\u03b5 2 n2 p\n\u03b5\n\u2212 2r \u2212\n.\n\u2264 n2 p + rn2 p + 1 +\n16\n16\n4\n8\n2\nDivide each side by\n\nn2 p\n2\n\nto get\n\n\u0012\n\u0012\n\u0013\n\u0013\n\u0010\n1 \u03b5\n1 \u0010\n\u03b5\u0011 1 \u0010\n\u03b5 \u00112\n\u03b5 \u00112\n\u03b5\n\u03b5\n\u03b5\n+ \u2264 + 2r + 1 +\n\u2212 2r \u2212\n\u2212 2r \u2212\n\u2264 + 2r +\n+ ,\n2 2\n8\n16\n4\n8\n8\n4\n8\n16\n\u0012\n\u0013\n2\n2\n1\nr\u03b5 \u03b5\n1\n3\u03b5\n\u03b5\n3\u03b5\n3\u03b5\n+ 2r +\n\u2212 4r 2 +\n\u2212\n+ 2r + \u2212 4r 2 +\n\u2212 ,\n\u2264\n\u2264\n16\n4\n2\n64\n16\n4\n16 64\n\u00012\n\u03b52\nwhich when rearranged gives, 21 \u2212 2r + 8\u03b5 + 64\n\u2264 0; this is a contradiction, since \u03b5 > 0. Therefore,\n\u03b5 2\nn p edges inside it.\neither the second neighborhood of v0 or v1 should have had at least 16\nNow we are ready to show the existence of short cycles.\nProof of Theorem A.1. By Proposition 2.7 we may assume that p = Cn\u22121/2 for some constant C to\n1\n, since for larger\nbe chosen later, and prove only this case. Moreover, we may assume that \u03b5 \u2264 16\n1\n\u2032\n\u03b5, the statement follows from the case \u03b5 = 16 . Let G = G(n, p) and G be a subgraph satisfying\n2\n\ne(G\u2032 ) \u2265 ( 21 + \u03b5) n2 p . By Chernoff's inequality (Theorem 2.6), we know that a.a.s. every pair of vertices\nhas codegree less than (log n)np2 = C 2 log n in G, thus throughout the proof we will assume that this\n17\n\n\festimate holds. We can find cycles of length 3 by using Haxell, Kohayakawa, and Luczak's Theorem\n2.1 and cycles of length 4 by Bondy and Simonovits' Theorem 2.2 by choosing C = C(\u03b5) to be large\nenough.\n\u03b5\nn, first apply Lemma A.6 to find a vertex w which\nTo find a cycle of length t for some 5 \u2264 t \u2264 25600\n(2)\n\n(2)\n\n\u03b5 2\nsatisfies e(NG\u2032 (w)) \u2265 16\nn p. Then by Lemma A.2, there exists a subset Z \u2282 NG\u2032 (w) such that G\u2032 [Z]\n\u03b5\nnp. Pick an arbitrary vertex w2 \u2208 Z, and pick a vertex w1 \u2208 NG\u2032 (w)\nhas minimum degree at least 16\nso that ww1 w2 is a path of length 2 in G\u2032 . Then remove all the neighborhoods of w1 in Z except w2\nand let Z1 be the resulting set. Since the codegree of every pair of vertices is less than C 2 log n, G\u2032 [Z1 ]\n\u03b5\n\u03b5\nwill be a graph of minimum degree at least 16\nnp \u2212 C 2 log n, which is at least 32\nnp for large enough n.\n\u2032\nThus by Lemma A.5, the graph G [Z1 ] has an expansion property; namely, every set X \u2282 V of size at\n\u03b5\n\u03b5\nmost |X| \u2264 25600\nn satisfies |NG\u2032 (X)\\X| \u2265 2|X|. By Lemma A.3, we can find a path of length 25600\nn\n\u2032\nin G which has w2 as an endpoint. Call this path w2 x1 x2 . . . x\u03b5n/25600 . Note that by the definition\nof Z1 , for each xs in this path, there exists a vertex x\u2032s in NG\u2032 (w) that is not w1 which forms a path\nwx\u2032s xs in G\u2032 . Then ww1 w2 x1 . . . xs x\u2032s w forms a cycle of length s + 4 in G\u2032 . Thus, we have found cycles\n\u03b5\nn.\nof length t for all 5 \u2264 t \u2264 25600\n\nReferences\n[1] J. Balogh, B. Csaba, and W. Samotij, Local resilience of almost spanning trees in random graphs,\nRandom Structures and Algorithms 38 (2011), 121\u2013139.\n[2] S. Ben-Shimon, M. Krivelevich, and B. Sudakov, Local resilience and Hamiltonicity MakerBreaker games in random regular graphs, Combinatorics, Probability and Computing 20 (2011),\n173\u2013211.\n[3] J. Bondy, Basic Graph Theory: Paths and Circuits, Chapter 1 in Handbook of Combinatorics\nVol. 1 (ed. by R. Graham, M. Gr\u00f6tschel and L. Lov\u00e1sz), North-Holland, Amsterdam, 1995, 3\u2013110.\n[4] J. Bondy, Pancyclic graphs I, J. Combinatorial Theory Ser. B 11 (1971), 80\u201384.\n[5] J. Bondy and M. Simonovits, Cycles of even length in graphs, J. Combinatorial Theory Ser. B\n16 (1974), 97\u2013105.\n[6] J. B\u00f6ttcher, Y. Kohayakawa, and A. Taraz, Almost spanning subgraphs of random graphs after\nadversarial edge removal, arXiv:1003.0890v1 [math.CO].\n[7] D. Conlon and T. Gowers, Combinatorial theorems in sparse random sets, arXiv:1011.4310v1\n[math.CO].\n[8] C. Cooper, 1-pancyclic Hamilton cycles in random graphs, Random Structures and Algorithms 3\n(1992), 277\u2013287.\n[9] C. Cooper, Pancyclic Hamilton cycles in random graphs, Discrete Math. 91 (1991), 141\u2013148.\n[10] C. Cooper and A.M. Frieze, Pancyclic Random Graphs, Random Graphs '87, Wiley, Chichester\n(1990), 29\u201339.\n\n18\n\n\f[11] D. Dellamonica, Y. Kohayakawa, M. Marciniszyn, and A. Steger, On the resilience of long cycles\nin random graphs, Electron. J. Combin. 15 (2008), Research Paper 32.\n[12] R. Diestel, Graph theory, Volume 173 of Graduate Texts in Mathematics, Springer-Verlag,\nBerlin, 3rd edition, 2005.\n[13] P. Erd\u0151s and A. Stone, On the structure of linear graphs, Bull. Amer. Math. Soc. 52 (1946),\n1087\u20131091.\n[14] A. Frieze and M. Krivelevich, On two Hamilton cycle problems in random graphs, Israel J. Math.\n166 (2008), 221\u2013234.\n[15] H. Huang, C. Lee, and B. Sudakov, Bandwidth theorem for random graphs, J. Combinatorial\nTheory Ser. B, doi:10.1016/j.jctb.2011.03.00.\n[16] P.E. Haxell, Y. Kohayakawa, and T. Luczak. Tur\u00e1n's extremal problem in random graphs:\nforbidding odd cycles, Combinatorica 16 (1996), 107\u2013122.\n[17] S. Janson, T. Luczak, and A. Ruci\u0144ski, Random graphs, Wiley-Interscience Series in Discrete\nMathematics and Optimization. Wiley-Interscience, New York, 2000.\n[18] J. Kim, B. Sudakov, and V. Vu, On the asymmetry of random regular graphs and random graphs,\nRandom Structures and Algorithms 21 (2002), 216\u2013224.\n[19] M. Krivelevich, C. Lee, and B. Sudakov, Resilient pancyclicity of random and pseudorandom\ngraphs, SIAM Journal on Discrete Math. 24 (2010), 1\u201316.\n[20] L. Lov\u00e1sz, Combinatorial problems and exercises, AMS Chelsea Publishing, Providence,\nRI, 2nd edition, 2007.\n[21] T. Luczak, Cycles in random graphs, Discrete Math. 98 (1991), 231\u2013236.\n[22] M. Schacht, Extremal results for random discrete structures, manuscript.\n[23] B. Sudakov and V. Vu, Local resilience of graphs, Random Structures and Algorithms 33 (2008),\n409\u2013433.\n\n19\n\n\f"}