{"id": "http://arxiv.org/abs/0809.3470v5", "guidislink": true, "updated": "2009-12-20T01:56:36Z", "updated_parsed": [2009, 12, 20, 1, 56, 36, 6, 354, 0], "published": "2008-09-22T19:51:22Z", "published_parsed": [2008, 9, 22, 19, 51, 22, 0, 266, 0], "title": "Double Hall algebras and derived equivalences", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=0809.3405%2C0809.1375%2C0809.3907%2C0809.4511%2C0809.2922%2C0809.1822%2C0809.2466%2C0809.3735%2C0809.0430%2C0809.4452%2C0809.0456%2C0809.0518%2C0809.1293%2C0809.0681%2C0809.1900%2C0809.2290%2C0809.4709%2C0809.0841%2C0809.1459%2C0809.2641%2C0809.4548%2C0809.1404%2C0809.2608%2C0809.0415%2C0809.0552%2C0809.4675%2C0809.2677%2C0809.1123%2C0809.4198%2C0809.4271%2C0809.2890%2C0809.3193%2C0809.1316%2C0809.0339%2C0809.2212%2C0809.4135%2C0809.2935%2C0809.2524%2C0809.4687%2C0809.1584%2C0809.4629%2C0809.5107%2C0809.2557%2C0809.5051%2C0809.4316%2C0809.3084%2C0809.0327%2C0809.4009%2C0809.2973%2C0809.4303%2C0809.2337%2C0809.2547%2C0809.2848%2C0809.3944%2C0809.2643%2C0809.0024%2C0809.2868%2C0809.1466%2C0809.2447%2C0809.2678%2C0809.2553%2C0809.0088%2C0809.2205%2C0809.1303%2C0809.1367%2C0809.4912%2C0809.2206%2C0809.3386%2C0809.3175%2C0809.4550%2C0809.0943%2C0809.2082%2C0809.3243%2C0809.0810%2C0809.4618%2C0809.3502%2C0809.0818%2C0809.2874%2C0809.2733%2C0809.0265%2C0809.3850%2C0809.2756%2C0809.0237%2C0809.4492%2C0809.1153%2C0809.3962%2C0809.4930%2C0809.0218%2C0809.3595%2C0809.3546%2C0809.1323%2C0809.0004%2C0809.4273%2C0809.0257%2C0809.4250%2C0809.3470%2C0809.0490%2C0809.2380%2C0809.2326%2C0809.3685%2C0809.1630&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Double Hall algebras and derived equivalences"}, "summary": "We show that the reduced Drinfeld double of the Ringel-Hall algebra of a\nhereditary category is invariant under derived equivalences. By associating an\nexplicit isomorphism to a given derived equivalence, we also extend the results\nof [BS1], [BS2], [SVdB], and [XY].", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=0809.3405%2C0809.1375%2C0809.3907%2C0809.4511%2C0809.2922%2C0809.1822%2C0809.2466%2C0809.3735%2C0809.0430%2C0809.4452%2C0809.0456%2C0809.0518%2C0809.1293%2C0809.0681%2C0809.1900%2C0809.2290%2C0809.4709%2C0809.0841%2C0809.1459%2C0809.2641%2C0809.4548%2C0809.1404%2C0809.2608%2C0809.0415%2C0809.0552%2C0809.4675%2C0809.2677%2C0809.1123%2C0809.4198%2C0809.4271%2C0809.2890%2C0809.3193%2C0809.1316%2C0809.0339%2C0809.2212%2C0809.4135%2C0809.2935%2C0809.2524%2C0809.4687%2C0809.1584%2C0809.4629%2C0809.5107%2C0809.2557%2C0809.5051%2C0809.4316%2C0809.3084%2C0809.0327%2C0809.4009%2C0809.2973%2C0809.4303%2C0809.2337%2C0809.2547%2C0809.2848%2C0809.3944%2C0809.2643%2C0809.0024%2C0809.2868%2C0809.1466%2C0809.2447%2C0809.2678%2C0809.2553%2C0809.0088%2C0809.2205%2C0809.1303%2C0809.1367%2C0809.4912%2C0809.2206%2C0809.3386%2C0809.3175%2C0809.4550%2C0809.0943%2C0809.2082%2C0809.3243%2C0809.0810%2C0809.4618%2C0809.3502%2C0809.0818%2C0809.2874%2C0809.2733%2C0809.0265%2C0809.3850%2C0809.2756%2C0809.0237%2C0809.4492%2C0809.1153%2C0809.3962%2C0809.4930%2C0809.0218%2C0809.3595%2C0809.3546%2C0809.1323%2C0809.0004%2C0809.4273%2C0809.0257%2C0809.4250%2C0809.3470%2C0809.0490%2C0809.2380%2C0809.2326%2C0809.3685%2C0809.1630&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We show that the reduced Drinfeld double of the Ringel-Hall algebra of a\nhereditary category is invariant under derived equivalences. By associating an\nexplicit isomorphism to a given derived equivalence, we also extend the results\nof [BS1], [BS2], [SVdB], and [XY]."}, "authors": ["Tim Cramer"], "author_detail": {"name": "Tim Cramer"}, "author": "Tim Cramer", "links": [{"href": "http://arxiv.org/abs/0809.3470v5", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/0809.3470v5", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.QA", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.QA", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.RT", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "16G20, 17B37", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/0809.3470v5", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/0809.3470v5", "arxiv_comment": null, "journal_reference": null, "doi": null, "fulltext": "DOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\narXiv:0809.3470v5 [math.QA] 20 Dec 2009\n\nTIM CRAMER\n\nWe show that the reduced Drinfeld double of the Ringel-Hall algebra of a hereditary\ncategory is invariant under derived equivalences. By associating an explicit isomorphism\nto a given derived equivalence, we also extend the results of Burban-Schiffmann ([6, 7]),\nSevenhant-Van den Bergh ([27]), and Xiao-Yang ([33]).\n1. Introduction\nLet A be an essentially small Abelian category such that the sets Hom(A, B) and Ext1 (A, B)\nare each finite for all A, B \u2208 A, and let I denote the set of isomorphism classes of objects in\nA. Then it is possible to give the vector space C[I] the structure of an associative algebra\nby the rule\nX\nC\n[A] \u2217 [B] =\ngA,B\n[C],\n[C]\u2208I\n\nwhere\nis defined to be the number of subobjects M \u2282 C such that M \u223c\n= A.\n= B and C/M \u223c\nEquivalently,\n|\u2206C\nB,A |\nC\n=\ngA,B\n,\n|AutA||AutB|\nwhere \u2206C\nB,A denotes the set of short exact sequences\nC\ngA,B\n\n0 \u2192 B \u2192 C \u2192 A \u2192 0.\nThe resulting algebra is known as the Hall algebra HA of A. Our conditions on A guarantee\nC\nthat the structure constants gA,B\nare finite. Associativity can easily be shown, and indeed\nthe structure constants gAB1 ,A2 ,*** ,An in the product\nX\n[A1 ] \u2217 [A2 ] \u2217 * * * \u2217 [An ] =\ngAB1 ,A2 ,***An [B]\n[B]\u2208I\n\ncount the number of filtrations\n\nLn \u2282 * * * \u2282 L2 \u2282 L1 = B\nsuch that L1 /L2 \u223c\n= A1 , L2 /L3 \u223c\n= A2 , * * * and Ln \u223c\n= An .\nHall algebras first appeared in the work of Steinitz ([28]) and Hall ([14]) in the case where\nA is the category of Abelian p-groups. They reemerged in the work of Ringel ([21]-[23]), who\n~\nshowed in [21] that when A is the category of quiver representations of an A-D-E quiver Q\nover a finite field Fq , the Hall algebra of A provides a realization of the nilpotent subalgebra\n~ More generally,\nUq (n+ ) of the quantum group Uq (g) associated to the underlying graph of Q.\n~\nif Q is of affine type, then the subalgebra of the Hall algebra generated by the simple objects\ncorresponding to the vertices (known as the \"composition subalgebra\") is isomorphic to the\n~\nnilpotent subalgebra Uq (n+ ) of the quantum Kac-Moody algebra Uq (g) associated to Q.\nE-mail address: tim.cramer@yale.edu.\n\n1\n\n\f2\n\nTIM CRAMER\n\nIn [21], Ringel posed the question of how to extend this construction naturally to recover\nthe whole quantum group Uq (g). Using the group algebra of the Grothendieck group K0 (A)\nto realize the torus algebra, he showed how to extend the Hall algebra in such a way that it\n~ By generalizing the coproduct of\nrecovers the Borel subalgebra Uq (b+ ) when A = RepFq (Q).\nGreen ([13]) to this \"extended\" Hall algebra, Xiao ([31]) showed that it is a self-dual Hopf\nalgebra when A is the category of representations of a quiver. Using the Drinfeld double\nconstruction, Xiao defined an algebra DHA that realizes the whole quantum group in the\n~ is an A-D-E quiver. In fact, this construction generalizes to any Abelian\nspecial case that Q\ncategory A that is hereditary (i.e. of homological dimension less than or equal to one) and\nsatisfies certain finiteness conditions.\nIt has remained an open question, however, whether this is the most natural way to\n(1)\nrealize Uq (g). Since the Hall algebras of such derived equivalent categories as RepFq (A1 )\nand Coh(P1 ) have been found to correspond to positive \"halves\" of the same quantum group\n([17]), it has been thought that the correct extension of HA should be given in terms of\nthe derived category, or should at least be invariant under derived equivalences. Indeed,\nmany attempts have been made to define associative algebras analogous to the Hall algebra\nfor D b (A) using exact triangles (e.g. [30], [29], [32]), but none of these constructions have\n~ On the other hand, in the case of the\nrealized the quantum group Uq (g) for A = RepFq (Q).\nderived Bernstein-Gelfand-Ponomarev reflection functors ([12])\n~\n~ \u2192 D b (RepFq (\u03c3\u03b1 Q)),\nR\u03b1 : D b (RepFq (Q))\nexplicit isomorphisms (R\u03b1 )\u2217 : DHQ~ \u2192 DH\u03c3\u03b1 Q~ have been given in [27] and [33]. Similarly, Burban and Schiffmann have associated algebra automorphisms of DHA to the autoequivalences of the derived categories of coherent sheaves on elliptic curves ([6]) and weighted\nprojective lines of tubular type ([7]). In [25], Schiffmann states a conjecture generalizing these\nformulas to any tilting functor.\nIn this paper we consider hereditary categories subject to finiteness conditions which are\nsatisfied by all of the above examples.\nDefinition 1. We say that an essentially small category A is finitary if Hom(A, B) and\nExt1 (A, B) are finite sets for all A, B \u2208 A, and if for some number k there is a homomorphism\nd : K0 (A) \u2192 Zk such that\ni) d(K0+ (A)) \u2282 Nk \u222a (Nk\u22121 \\{0}) \u00d7 Z\nii) If d([A]) = 0, then A = 0.\nHere K0+ (A) denotes the subset of K0 (A) corresponding to classes of objects in A.\nThis condition is satisfied by the category of representations of a quiver over Fq (or, equivalently, the category of finite-dimensional modules of a hereditary algebra over Fq ) and by\nthe category of coherent sheaves on a smooth projective curve or a weighted projective line\nover Fq (see Sections 7-9).\nThe main result of this paper can be stated as follows\nTheorem 1. Let A and B be two finitary hereditary Abelian categories. If there exists a\nderived equivalence F : D b A \u2192 D b B, then DHA and DHB are isomorphic as algebras.\nAcknowledgements. I would like to thank Professor Mikhail Kapranov for his support and\nmany useful discussions. I am also grateful to Professor Igor Burban for pointing out mistakes\nin an earlier version of the paper.\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n3\n\n2. The Drinfeld double\nGiven two Hopf algebras \u0393 and \u039b, a Hopf pairing is a bilinear map \u03c6 : \u0393\u00d7\u039b \u2192 C satisfying\nfor all a, a\u2032 \u2208 \u0393 and b, b\u2032 \u2208 \u039b\n(2.1)\n\n\u03c6(1, b) = \u01eb\u039b (b), \u03c6(a, 1) = \u01eb\u0393 (a),\n\n(2.2)\n\n\u03c6(a, bb\u2032 ) = \u03c6(\u25b3\u0393(a), b \u2297 b\u2032 ),\n\n(2.3)\n\n\u03c6(aa\u2032 , b) = \u03c6(a \u2297 a\u2032 , \u25b3\u039b (b)),\n\n(2.4)\n\n\u03c6(\u03c3\u0393 (a), b) = \u03c6(a, \u03c3\u039b (b)),\n\nwhere \u01eb, \u25b3, and \u03c3 denote the counit, coproduct, and antipode, respectively. Here we define\n\u03c6 : (\u0393 \u2297 \u0393) \u00d7 (\u039b \u2297 \u039b) \u2192 C by the rule \u03c6(a \u2297 a\u2032 , b \u2297 b\u2032 ) = \u03c6(a, b)\u03c6(a\u2032 , b\u2032 ).\nA skew-Hopf pairing is a bilinear map \u03c6 : \u0393 \u00d7 \u039b \u2192 C satisfying (2.1)-(2.2) and\n(2.5)\n\n\u03c6(aa\u2032 , b) = \u03c6(a \u2297 a\u2032 , \u25b3opp\n\u039b (b)),\n\n(2.6)\n\n\u03c6(\u03c3\u0393 (a), b) = \u03c6(a, \u03c3\u039b\u22121 (b)).\n\nWhen there exists a skew-Hopf pairing \u03c6 : \u0393 \u00d7 \u039b \u2192 C, the Drinfeld double ([10], [16]) of\n\u0393 and \u039b with respect to \u03c6 is the vector space \u0393 \u2297 \u039b with multiplication defined by\n(2.7)\n\n(a \u2297 1)(a\u2032 \u2297 1) = aa\u2032 \u2297 1,\n\n(2.8)\n\n(1 \u2297 b)(1 \u2297 b\u2032 ) = 1 \u2297 bb\u2032 ,\n\n(2.9)\n\n(a \u2297 1)(1 \u2297 b) = a \u2297 b,\n\n(2.10)\n\n(1 \u2297 b)(a \u2297 1) =\n\nX\n\n\u03c6(a(1) , \u03c3\u039b (b(1) ))a(2) \u2297 b(2) \u03c6(a(3) , b(3) ),\n\nfor all a, a\u2032 \u2208 \u0393, b, b\u2032 \u2208 \u039b. The last identity (2.10) is equivalent to\n(2.11)\n\nX\n\n\u03c6(a(2) , b(2) )a(1) \u2297 b(1) =\n\nX\n\n\u03c6(a(1) , b(1) )(1 \u2297 b(2) )(a(2) \u2297 1)\n\nfor all a \u2208 \u0393, b \u2208 \u039b.\nThe following lemma is adapted from Lemma 3.2 in [6]:\nLemma 1. For any a \u2208 \u0393 and b \u2208 \u039b, let D(a, b) denote the equation (2.11). Then for\na, a\u2032 \u2208 \u0393 and b \u2208 \u039b, the equation D(aa\u2032 , b) is implied by the collection of equations D(a, b(1) )\nand D(a\u2032 , b(2) ). Similarly, for a \u2208 \u0393 and b, b\u2032 \u2208 \u039b, D(a, bb\u2032 ) is implied by the collection of\nequations D(a(1) , b) and D(a(2) , b\u2032 ).\n\u0003\n\n\f4\n\nTIM CRAMER\n\nWe now mention the original motivation for the Drinfeld double construction. Let g be\na Kac-Moody algebra and consider Uq (b+ ), the quantized enveloping algebra of a Borel\nsubalgebra b+ \u2282 g. Note that this is a Hopf algebra. We would like to recover Uq (g) from\nUq (b+ ). Let \u0393 = Uq (b+ ) and let \u039b = \u0393coop , i.e. \u0393 with opposite coproduct. Then there exists\na symmetric skew-Hopf pairing \u03c6 : \u0393 \u00d7 \u039b \u2192 C defined by\n\u03c6(Ei , Ej ) =\n\n\u03b4i,j\n, \u03c6(Ki , Kj ) = q (i,j)/2 , \u03c6(Ei , Kj ) = 0.\nq\u22121\n\nThe quotient of the Drinfeld double of \u0393 and \u039b with respect to this pairing by the ideal\ngenerated by the elements Ki \u2297 1 \u2212 1 \u2297 Ki\u22121 is isomorphic to Uq (g).\n3. Hall algebras\nAssume A is an essentially small Abelian category of finite global dimension with Exti (M, N)\nfinite for all i. Then we can define a new multiplication on C[I] that is still associative by\nX\n1\nC\ngAB\n[C],\n[A] \u2217 [B] =\nhB, Ai\n[C]\u2208I\n\nwhere the Euler form h*, *i : K0 (A) \u00d7 K0 (A) \u2192 C is defined by\nq\ni\n(\u22121)i .\nhM, Ni = \u03a0\u221e\ni\u22650 |Ext (M, N)|\n\nWe will call this the Ringel-Hall algebra of A and denote it by HA . In the case of A =\n~ the Ringel-Hall algebra of A (or its \"composition subalgebra\" if Q\n~ is not finite\nRepFq (Q),\ntype) also gives a realization of Uq (n+ ).\nNext, we define the extended Ringel-Hall algebra H\u0303A to be the associative algebra generated by HA and C[K0 (A)] subject to the relation\nk\u03b1 [M] = (\u03b1|M)[M]k\u03b1 ,\nwhere (A|B) := hA, BihB, Ai. Here k\u03b1 represents a basis element of C[K0 (A)] corresponding\nto \u03b1 \u2208 K0 (A). There is an isomorphism of vector spaces given by the multiplication\nm : C[K0 (A)] \u2297 HA \u2192 H\u0303A .\nNote that [0] \u2208 I is the unit in both HA and H\u0303A .\nIf we assume that A is hereditary and that each object of A has finitely many subobjects,\n~ is an A-D-E\nthen H\u0303A is a self-dual Hopf algebra, as shown by Xiao [31]. In the case that Q\n~\nquiver, the extended Hall algebra H\u0303A of A = RepFq (Q) gives a realization of Uq (b+ ) as a\nHopf algebra. In general, the coproduct, counit, and antipode for H\u0303A are given by ([13],\n[31]):\n(3.1)\n\n\u25b3([A]) =\n\nX\n\n[A\u2032 ],[A\u2032\u2032 ]\u2208I\n\n|\u2206A\nA\u2032\u2032 ,A\u2032 |\nhA , A i\nkA\u2032\u2032 [A\u2032 ] \u2297 [A\u2032\u2032 ],\n|AutA|\n\u2032\n\n\u2032\u2032\n\n(3.2)\n\n\u25b3(k\u03b1) = k\u03b1 \u2297 k\u03b1 ,\n\n(3.3)\n\n\u01eb([A]k\u03b1 ) = \u03b4[A],[0],\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n(3.4)\n\u03c3([A]) =\n\nkA\u22121\n|AutA|\n\n5\n\n\uf8f6\n\uf8eb\nn\nX\nX Y\n\uf8ed (\u22121)n\nhLi /Li+1 , Li+1 i(Li /Li+1 |Li+1 )|AutLi /Li+1 |[Li /Li+1 ]\uf8f8 ,\nn=1\n\nL\u2022 \u2208FA,n i=1\n\n\u03c3(k\u03b1 ) = k\u03b1\u22121 ,\n\n(3.5)\n\nfor [A] \u2208 I and \u03b1 \u2208 K0 (A). Here the indexing set FA,n denotes the set of all strict n-step\nfiltrations\n0 = Ln+1 \u2282 Ln \u2282 * * * \u2282 L2 \u2282 L1 = A.\nNote that H\u0303A is graded as a Hopf algebra by the Grothendieck group K0 (A).\nWe will use a pairing between H\u0303A and H\u0303Acoop which is a renormalization of Green's scalar\nproduct on H\u0303A .\nProposition 1. The bilinear map \u03c6 : H\u0303A \u00d7 H\u0303Acoop \u2192 C defined by\n\u03c6(k\u03b1 [M], k\u03b2 [M \u2032 ]) = (\u03b1|M)(M|M)(M|\u03b2)(\u03b1|\u03b2)\n\n\u03b4[M ],[M \u2032]\n|AutM|\n\nis a skew-Hopf pairing.\nProof.\n\nIt is clear that (2.1) holds. We check (2.2) and (2.5) follows from a similar argument.\n1\n\u03c6(k\u03b1 [A], k\u03b2+\u03b3 [B][C])\n(B|\u03b3)\n(\u03b1|\u03b2 + \u03b3)(A|\u03b2 + \u03b3)\n=\n\u03c6(k\u03b1 [A], [B][C])\n(B|\u03b3)\nX\n(\u03b1|\u03b2 + \u03b3)(A|\u03b2 + \u03b3)\nD\n\u03c6(k\u03b1 [A],\ngB,C\n[D])\n=\n(B|\u03b3)hC, Bi\n\n\u03c6(k\u03b1 [A], k\u03b2 [B]k\u03b3 [C]) =\n\n[D]\n\n=\n=\n=\n=\n=\n\n(\u03b1|\u03b2 + \u03b3)(A|\u03b2 + \u03b3)\nA\n\u03c6(k\u03b1 [A], gB,C\n[A])\n(B|\u03b3)hC, Bi\nA\n(\u03b1|\u03b2 + \u03b3)(A|\u03b2 + \u03b3)(\u03b1|A)(A|A)gB,C\n(B|\u03b3)hC, Bi|AutA|\nA\n(\u03b1|\u03b2 + \u03b3)(B + C|\u03b2 + \u03b3)(\u03b1|B + C)(B + C|B + C)gB,C\n(B|\u03b3)hC, Bi|AutA|\nA\n(\u03b1|\u03b2)(\u03b1|\u03b3)(B|\u03b2)(B|\u03b3)(C|\u03b2)(C|\u03b3)(\u03b1|B)(\u03b1|C)(B|B)(B|C)(B|C)(C|C)gB,C\n(B|\u03b3)hC, Bi|AutA|\nA\n(\u03b1|\u03b2)(\u03b1|\u03b3)(B|\u03b2)(C|\u03b2)(C|\u03b3)(\u03b1|B)(\u03b1|C)(B|B)(B|C)(C|C)hB, CigB,C\n|AutA|\n\n\f6\n\nTIM CRAMER\n\n\u03c6(\u25b3(k\u03b1[A]), k\u03b2 [B] \u2297 k\u03b3 [C]) = \u03c6(\n\nX\n\n|\u2206A\nA\u2032\u2032 ,A\u2032 |\nk\u03b1+A\u2032\u2032 [A\u2032 ] \u2297 k\u03b1 [A\u2032\u2032 ], k\u03b2 [B] \u2297 k\u03b3 [C])\nhA , A i\n|AutA|\n\u2032\u2032\n\u2032\n\n\u2032\u2032\n\n[A\u2032 ],[A ]\n\n|\u2206A\nC,B |\nk\u03b1+C [B] \u2297 k\u03b1 [C], k\u03b2 [B] \u2297 k\u03b3 [C])\n|AutA|\nhB, Ci|\u2206A\nC,B |(\u03b1 + C|\u03b2)(\u03b1 + C|B)(B|\u03b2)(B|B)(\u03b1|\u03b3)(\u03b1|C)(C|\u03b3)(C|C)\n=\n|AutA||AutB||AutC|\nA\ngB,C hB, Ci(\u03b1|\u03b2)(C|\u03b2)(\u03b1|B)(C|B)(B|\u03b2)(B|B)(\u03b1|\u03b3)(\u03b1|C)(C|\u03b3)(C|C)\n=\n|AutA|\n= \u03c6(hB, Ci\n\nTogether, \u03c6(k\u03b1 [A], k\u03b2 [B]k\u03b3 [C]) = \u03c6(\u25b3(k\u03b1[A]), k\u03b2 [B] \u2297 k\u03b3 [C]), verifying (2.2). Together, the\nconditions (2.1), (2.2), and (2.5) imply (2.6), and we are done.\n\u0003\n4. Double Hall algebras\nIn this section we let A be a finitary hereditary Abelian category. Without the requirement\nthat every object in A has finitely many subobjects, the sums (3.1) and (3.4) may be infinite.\nHowever, there are weaker conditions satisfied by finitary categories that will allow us to apply\nthe Drinfeld double construction to H\u0303A . The following definition and lemma are adapted\nfrom Definition B.2 and Lemma B.3 in [6].\nDefinition 2. Given two objects A, B \u2208 A, an anti-equivalence between A and B is a pair\nof strict filtrations\n(0 = Ln+1 \u2282 Ln \u2282 * * * \u2282 L1 \u2282 L0 = A, 0 = Mn+1 \u2282 Mn \u2282 * * * \u2282 M1 \u2282 M0 = B)\nsuch that Li /Li+1 \u2243 Mn\u2212i /Mn\u2212i+1 for all i. We say that two objects A and B are antiequivalent if there exists at least one anti-equivalence between them.\nLemma 2. 1) Given any two objects A, B \u2208 A, there exist finitely many anti-equivalences\nbetween A and B.\n2) Let A and B be any two objects in A. Then there are finitely many pairs of anti-equivalent\nobjects (A\u2032 , B \u2032 ) such that A\u2032 is a subobject of A and B \u2032 is a quotient of B.\nProof. We define an order on K0+ (A)\u00d7K0+ (A) by setting d2 (A, B) = min(d(A), d(B)), where\nd : K0 (A) \u2192 Zk is the homomorphism in Definition 1 and Zk is ordered lexicographically.\nWe prove both parts of the lemma using induction on the pair (A, B), with the case of\nd2 (A, B) \u2208 (0, * * * , 0, 1) being trivial in each case.\nLet \u03a3(A, B) denote the set of anti-equivalences between A and B. Let S(A, B) denote the\nset of objects in A that are both subobjects of A and quotients of B. Since |Hom(B, A)| < \u221e,\nthe set S(A, B) is finite. If\n(0 = Ln+1 \u2282 Ln \u2282 * * * \u2282 L1 \u2282 L0 = A, 0 = Mn+1 \u2282 Mn \u2282 * * * \u2282 M1 \u2282 M0 = B)\nis an anti-equivalence between A and B, then Ln \u2208 S(A, B). For an object L \u2208 S(A, B),\nlet \u03a3L (A, B) denote the set of anti-equivalences between A and B such that L is the first\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n7\n\nnon-zero term in the corresponding filtration of A. Then we have\n[\n(4.1)\n\u03a3(A, B) =\n\u03a3L (A, B).\nL\u2208S(A,B)\n\nGiven an anti-equivalence between A and B of the form\n(0 = Ln+1 \u2282 Ln \u2282 * * * \u2282 L1 \u2282 L0 = A, 0 = Mn+1 \u2282 Mn \u2282 * * * \u2282 M1 \u2282 M0 = B),\nwe can associate a pair of filtrations\n(0 \u2282 Ln\u22121 /Ln \u2282 * * * \u2282 L1 /Ln \u2282 A/Ln , 0 = Mn+1 \u2282 Mn \u2282 * * * \u2282 M1 )\nthat is an anti-equivalence between A/Ln and M1 . In fact, this establishes a bijection between\nthe sets \u03a3Ln (A, B) and \u03a3(A/Ln , M1 ). Because the union in (4.1) is taken over the finite set\nS(A, B), the first part of the lemma follows by induction.\nNow suppose that A\u2032 is a subobject of A and B \u2032 is a quotient of B. Then it can also be\nshown that\n[\n\u03a3(A\u2032 , B \u2032 ) =\n\u03a3L (A\u2032 , B \u2032 ).\nL\u2208S(A,B)\n\nSo to prove the second part of the lemma, it suffices to show that for any L \u2208 S(A, B), there\nare finitely many pairs of objects (A\u2032 , B \u2032 ) such that\n(a) A\u2032 is a subobject of A,\n(b) B \u2032 is a quotient of B, and\n(c) \u03a3L (A\u2032 , B \u2032 ) is non-empty.\nIf (A\u2032 , B \u2032 ) satisfies the conditions (a) and (b), then A\u2032 /L is a subobject of A/L and\nker(B \u2032 \u0589 L) is a quotient of ker(B \u0589 L). Moreover, if the pair (A\u2032 , B \u2032 ) satisfies condition (c), then \u03a3(A\u2032 /L, ker(B \u2032 \u0589 L)) is non-empty and the objects A\u2032 /L and ker(B \u2032 \u0589 L) are\nanti-equivalent. By our induction hypothesis, this says that there are only a finite number of\nvalues that A\u2032 /L and ker(B \u2032 \u0589 L) can take if A\u2032 and B \u2032 satisfy the three conditions above.\nBecause |Ext1 (M, N)| < \u221e for any M, N \u2208 A, it follows that there are finitely many pairs\nof objects (A\u2032 , B \u2032 ) satisfying (a)-(c).\n\u0003\nWe define the inverse antipode \u03c3 \u22121 : H\u0303A \u2192 H\u0303A by\n(4.2)\n\u03c3 \u22121 ([A]) =\n\nand\n(4.3)\n\n1\n|AutA|\n\n\uf8eb\n\uf8f6\nn\nX\nX Y\n\uf8ed (\u22121)n\nhLi /Li+1 , Li+1 i|AutLi /Li+1 |[Ln\u2212i+1 /Ln\u2212i+2 ]\uf8f8 kA\u22121\nn=1\n\nL\u2022 \u2208FA,n i=1\n\n\u03c3 \u22121 (k\u03b1 ) = k\u03b1\u22121 .\n\nAlthough the sum in (4.2) may be infinite as well, the coefficient of a given basis element [B]\nwill be finite by Lemma 2.\nNow, using (2.6) to replace \u03c3 with \u03c3 \u22121 , one can show that the relations (2.7)-(2.10) define\nan associative multiplication on the tensor product H\u0303A \u2297 H\u0303Acoop (equivalently, H\u0303A \u2297 H\u0303A ) by\nsimilar arguments as in the case when H\u0303A is a Hopf algebra (see e.g. [16]). The only essential\ndifference is that we must first show that the sums (2.10) and (2.11) are finite.\n\n\f8\n\nTIM CRAMER\n\nProposition 2. Let \u0393 = H\u0303A and \u039b = H\u0303Acoop . Then the relations (2.10) and (2.11) consist of\nfinite sums for any elements a \u2208 \u0393, b \u2208 \u039b.\nProof.\n\nFirst, we rewrite the sum (3.1) as\n\u25b3([A]) =\n\nX\n\nhA/L, Li\n\nL\u2282A\n\n|AutA/L||AutL|\nkL [A/L] \u2297 [L]\n|AutA|\n\nfor A \u2208 A. By coassociativity, we have\n\u25b32 ([A]) =\n\nX\n\nhA/L2 , L2 ihL1 /L2 , L2 i\n\nL2 \u2282L1 \u2282A\n\n|AutA/L1 ||AutL1 /L2 ||AutL2 |\nkL1 [A/L1 ]\u2297kL1 \u2212L2 [L1 /L2 ]\u2297[L2 ].\n|AutA|\n\nIf we set a = k\u03b1 [A] and b = k\u03b2 [B], the right hand side of (2.10) is a sum of terms\n(4.4) CL\u2022 ,M\u2022 ,\u03b1,\u03b2 * \u03c6(\u03c3 \u22121 ([A/L1 ]), [M2 ]) * \u03c6([L2 ], [B/M1 ]) * kL1 \u2212L2 [L1 /L2 ] \u2297 kM1 \u2212M2 [M1 /M2 ]\nover pairs of filtrations (L2 \u2282 L1 \u2282 A, M2 \u2282 M1 \u2282 B). Here CL\u2022 ,M\u2022 ,\u03b1,\u03b2 is a complex number\ndepending on \u03b1, \u03b2, and the pair of filtrations. Because Hom(B, A) is finite, the term\n\u03c6([L2 ], [B/M1 ])\nis 0 for all but a finite number of choices of L2 and M1 . Similarly, by Lemma 2, the term\n\u03c6(\u03c3 \u22121 ([A/L1 ]), [M2 ])\nwill be 0 for all but a finite number of L1 and M2 . It follows that the right hand side of (2.10)\nis a finite sum in this case. Since H\u0303A and H\u0303Acoop are each spanned by elements of the form\nk\u03b1 [A] and k\u03b2 [B], we can conclude that (2.10) consists of finite sums for all a \u2208 \u0393 and b \u2208 \u039b.\nA similar argument shows that the sums in (2.11) are finite.\n\u0003\nWe can now look at the algebra structure on H\u0303A \u2297 H\u0303A in some detail. Substituting\na = k\u03b1 [A] and b = k\u03b2 [B] into (2.11) gives us\n(4.5)\n\nX\n\n[L],[M ],[N ]\n\n(4.6)\n\nX\n\nB\n|\u2206A\nhA, BihB, Bi\nM,L ||\u2206N,M |\n(kM [L] \u2297 1)(1 \u2297 [N]) =\nhL, NihN, Ni |AutA||AutB||AutM|\n\n[L],[M ],[N ]\n\nB\n|\u2206A\nhB, AihA, Ai\nL,M ||\u2206M,N |\n(1 \u2297 kM [N])([L] \u2297 1).\nhN, LihL, Li |AutA||AutB||AutM|\n\nNote that this identity is independent of k\u03b1 and k\u03b2 . For any A, B, L, N \u2208 A, the four-term\nexact sequence\n0\u2192N \u2192B\u2192A\u2192L\u21920\nhas a unique decomposition into two short exact sequences\n0\u2192N \u2192B\u2192M \u21920\nand\n0 \u2192 M \u2192 A \u2192 L \u2192 0,\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n9\n\nand conversely, any pair of short exact sequences of this form determines a unique four-term\nexact sequence. It follows that for fixed [L], [N] \u2208 I,\n(4.7)\nX\n[M ]\n\nB\n|\u2206A\n|{\u03c6 : B \u2192 A|Ker(\u03c6) \u2243 N, Coker(\u03c6) \u2243 L}||AutN||AutL|\nM,L ||\u2206N,M |\n=\n.\n|AutA||AutB||AutM|\n|AutA||AutB|\n\nIt will be useful for us to rewrite (4.5)-(4.6) in terms of exact triangles. Define\ngAC\u2022\u2022,B\u2022 =\n\n\u2022\n|\u2206C\nB\u2022 ,A\u2022 |\n,\n|AutA\u2022 ||AutB\u2022 |\n\n\u2022\nwhere \u2206C\nB\u2022 ,A\u2022 denotes the set of exact triangles\n\nB\u2022 \u2192 C\u2022 \u2192 A\u2022 \u2192 B\u2022 [1]\nb\n\nin D (A), the bounded derived category of A ([12]). This set is finite because Hom(M, N)\nand Ext1 (M, N) are finite sets for any M, N \u2208 A. We adapt the following lemma from\nProposition 2.4.3 in [18]:\nLemma 3. For any objects A, B, L, N \u2208 A,\nX\n[M ]\n\nN [1]\u2295L\n\nB\ngB[1],A\n|\u2206A\nM,L ||\u2206N,M |\n=\n|AutA||AutB||AutM| |Ext1 (L, N)|\n\n\u0003\nAs a result of the lemma, (4.5)-(4.6) becomes\n\n(4.8)\n\nN [1]\u2295L\nX hA, BihB, Bi gB[1],A\n(kA\u2212L [L] \u2297 1)(1 \u2297 [N]) =\nhL, NihN, Ni |Ext1 (L, N)|\n\n[L],[N ]\n\n(4.9)\n\nL[1]\u2295N\nX hB, AihA, Ai gA[1],B\n(1 \u2297 kA\u2212L [N])([L] \u2297 1).\nhN, LihL, Li |Ext1 (N, L)|\n\n[L],[N ]\n\nThe following definition is motivated by the construction of the quantum group Uq (g) from\nUq (b+ ).\nDefinition 3. The \"double Hall algebra\" DHA is the quotient of H\u0303A \u2297 H\u0303A by the ideal\ngenerated by the elements k\u03b1 \u2297 1 \u2212 1 \u2297 k\u03b1\u22121 .\n5. Derived equivalences and normal form\nThe following result can be found in [18]:\nProposition 3. Suppose that A is hereditary. Then each indecomposable object of D b (A) is\nof the form A[i] where A is an indecomposable object in A.\n\u0003\n\n\f10\n\nTIM CRAMER\n\nLet F : D b (A) \u2192 D b (B) be a derived equivalence. Define Ai to be the full subcategory of\nA with objects {A \u2208 A|F (A) \u2282 B[i]} and define Bi = F (Ai )[\u2212i]. Then for Ai \u2208 Ai , Aj \u2208\nAj , Bi \u2208 Bi , Bj \u2208 Bj , we have\nHomA (Ai , Aj ) = HomDb (B) (Bi [i], Bj [j]) = ExtBj\u2212i (Bi , Bj ) = 0, unless j = i or j = i + 1\nHomB (Bi , Bj ) = HomDb (A) (Ai [\u2212i], Aj [\u2212j]) = Exti\u2212j\nA (Ai , Aj ) = 0, unless j = i or j = i \u2212 1\nExt1A (Ai , Aj ) = HomDb (A) (Ai , Aj [1]) = HomDb (B) (Bi [i], Bj [j + 1])\n= Extj\u2212i+1\n(Bi , Bj ) = 0, unless j = i or j = i \u2212 1\nB\nExt1B (Bi , Bj ) = HomDb (B) (Bi , Bj [1]) = HomDb (A) (Ai [\u2212i], Aj [\u2212j + 1])\n= Exti\u2212j+1\n(Ai , Aj ) = 0, unless j = i or j = i + 1\nA\nIf we assume that A and B satisfy the hypotheses of Theorem 1, then it follows that [Ai \u2295Aj ] =\nhAj , Ai i[Ai ] \u2217 [Aj ] whenever L\ni < j and Ai \u2208 Ai , Aj \u2208 Aj . More generally, any object A \u2208 A\ndecomposes as a direct sum i\u2208S Ai with Ai \u2208 Ai , and [A] can be written in normal form\nY\nY\n[A] =\nhAj , Ai i [Ai ],\ni<j\n\ni\u2208S\n\nwhere the indices in the product on the right are in increasing order. This says that the\nmultiplication map\nO\nm:\nHAi \u2192 HA\ni\u2208Z\n\nis an isomorphism of vector spaces. Here HAi denotes the subalgebra of HA generated\nby elements {[A]|A \u2208 Ai } (or equivalently, the vector subspace spanned by the elements\n{[A]|A \u2208 Ai }). Note that we define the infinite tensor product of algebras as spanned by\ntensors with all but finitely many factors equal to 1. Moreover, the multiplication\n(5.1)\n\nm:\n\nO\n\nC[K0 (Ai )] \u2297\n\ni\u2208Z\n\nO\n\nHAi \u2192 H\u0303A\n\ni\u2208Z\n\nis a surjective homomorphism, where C[K0 (Ai )] denotes the subalgebra of C[K0 (A)] generated by the elements kA for A \u2208 Ai .\nProposition 4. Let F : D b (A) \u2192 D b (B) be a derived equivalence and define the subcategories\nAi for i \u2208 Z as above. The double Hall algebra DHA is isomorphic to the free associative\nalgebra on the vector space H\u0303A \u2297 H\u0303A modulo the relations\n(5.2)\n\n([A] \u2297 1)([B] \u2297 1) =\n\nX\n1\nC\ngA,B\n([C] \u2297 1)\nhB, Ai\n[C]\u2208I\n\n(5.3)\n\n(kA \u2297 1)(kB \u2297 1) = (kA+B \u2297 1)\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n(5.4)\n\n11\n\n(kA \u2297 1)([B] \u2297 1) = (kA [B] \u2297 1) = (A|B)([B] \u2297 1)(kA \u2297 1)\n\n(5.5)\n\n(1 \u2297 [A])(1 \u2297 [B]) =\n\nX\n1\nC\ngA,B\n(1 \u2297 [C])\nhB, Ai\n[C]\u2208I\n\n(5.6)\n\n(1 \u2297 kA )(1 \u2297 kB ) = (1 \u2297 kA+B )\n\n(5.7)\n\n(1 \u2297 [A])(1 \u2297 kB ) = (1 \u2297 [A]kB ) = (A|B)(1 \u2297 kB )(1 \u2297 [A])\n\n(5.8)\n\n([A] \u2297 1)(1 \u2297 [B]) = ([A] \u2297 [B])\n\n(5.9)\n\nkA \u2297 1 = 1 \u2297 kA\u22121\n\n(5.10)\n\nN [1]\u2295L\nX hA, BihB, Bi gB[1],A\n(kA\u2212L [L] \u2297 1)(1 \u2297 [N]) =\nhL, NihN, Ni |Ext1 (L, N)|\n\n[L],[N ]\n\n(5.11)\n\nL[1]\u2295N\nX hB, AihA, Ai gA[1],B\n(1 \u2297 kA\u2212L [N])([L] \u2297 1).\nhN, LihL, Li |Ext1 (N, L)|\n\n[L],[N ]\n\nfor A \u2208 Ai , B \u2208 Aj , i, j \u2208 Z.\nProof. Our original definition of DHA is clearly isomorphic to the free associative algebra\non H\u0303A \u2297 H\u0303A modulo the relations (5.2)-(5.11) for A, B \u2208 A. Using (5.1), it is also not hard\nto see that if the relations (5.2)-(5.9) hold for all A \u2208 Ai and B \u2208 Aj , then they hold for all\nA, B \u2208 A.\nAssume that (5.10)-(5.11) holds for all A \u2208 Ai and B \u2208 Aj for all i, j \u2208 Z. It is clear\nthat we can use Lemma 1 to show that (5.10)-(5.11) also holds for all A, B \u2208 A with either\nA or B simple. Recall the homomorphism d2 : K0 (A) \u00d7 K0 (A) \u2192 Zk and the order on\nK0+ (A) \u00d7 K0+ (A) defined in the proof of Lemma 2. If d2 (A, B) = (0, 0, * * * , 1), then either A\nor B is a simple object and the relation (5.10)-(5.11) holds. Therefore, using Lemma 1, we\ncan show that (5.10)-(5.11) holds for all A, B \u2208 A by induction.\n\u0003\n\n\f12\n\nTIM CRAMER\n\n6. Proof of Theorem 1\nWe now prove the main result that the double Hall algebra is invariant under derived\nequivalences. Assume throughout this section that A and B satisfy the hypotheses of Theorem\n1.\nProposition 5. Let F : D b (A) \u2192 D b (B) be a derived equivalence. Then the assignment\nn\n1 \u2297 [M] 7\u2192 hN, Nin (1 \u2297 [N]kN\n) for n even\nn\n1 \u2297 [M] 7\u2192 hN, Nin ([N]kN\n\u2297 1) for n odd\n\nkM \u2297 1 7\u2192 kN \u2297 1 for n even\nkM \u2297 1 7\u2192 1 \u2297 kN for n odd\nn\n[M] \u2297 1 7\u2192 hN, Nin ([N]kN\n\u2297 1) for n even\nn\n[M] \u2297 1 7\u2192 hN, Nin (1 \u2297 [N]kN\n) for n odd\n\nwhere M \u2208 An and N = F (M)[\u2212n], extends to a homomorphism F\u2217 : DHA \u2192 DHB .\nProof. First, we can extend F\u2217 to a linear map F\u2217 : H\u0303A \u2297 H\u0303A \u2192 DHB . For M \u2208 An and\nN = F (M)[\u2212n], define\nF\u2217 (1 \u2297 kM ) = 1 \u2297 kN\nfor n even and\nF\u2217 (1 \u2297 kM ) = kN \u2297 1\nfor n odd. By (5.1), we can decompose k\u03b1 [A] uniquely as\nY\nY\nY\nk\u03b1 [A] =\nk\u03b1i\nhAj , Ai i [Ai ]\ni\n\ni<j\n\ni\n\nfor any \u03b1 \u2208 K0 (A) and A \u2208 A. So, define\nY\nY\nY\nF\u2217 (k\u03b1 [A] \u2297 1) =\nF\u2217 (k\u03b1i \u2297 1) hAj , Ai i\nF\u2217 ([Ai ] \u2297 1).\ni\n\ni<j\n\ni\n\nDefine F\u2217 (1 \u2297 k\u03b2 [B]) similarly, and define\n\nF\u2217 (k\u03b1 [A] \u2297 k\u03b2 [B]) = F\u2217 (k\u03b1 [A] \u2297 1)F\u2217 (1 \u2297 k\u03b2 [B]).\nThen F\u2217 extends to a linear map on H\u0303A \u2297 H\u0303A and to an algebra homomorphism on the\nfree associative algebra on H\u0303A \u2297 H\u0303A . By Proposition 3, it suffices to show that F\u2217 preserves\n(5.2)-(5.11).\nIt is immediate from our definition of F\u2217 that (5.8) and (5.9) are preserved for A \u2208 Ai and\nB \u2208 Aj . It is also easy to see that (5.3) and (5.6) are preserved for A \u2208 Ai and B \u2208 Aj . This\nis because F induces a group homomorphism on K0 (A).\nNow, take A \u2208 Ai and A\u2032 \u2208 Ai+n . Without loss of generality, we may assume that i is\neven. If we set B = F (A)[\u2212i] and B \u2032 = F (A\u2032 )[\u2212i \u2212 1], then for n even,\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n13\n\ni\nF\u2217 (kA \u2297 1)F\u2217 ([A\u2032 ] \u2297 1) = F\u2217 (kA [A\u2032 ] \u2297 1) = hB, Bii kB [B \u2032 ]kB\n\u2032 \u2297 1 =\ni\n\u2032\n\u2032\ni\n\u2032\n\u2032\nhB, Bi (B|B )[B ]kB kB\u2032 \u2297 1 = (B|B )F\u2217 ([A ] \u2297 1)F\u2217 (kA \u2297 1),\nand for n odd,\ni\nF\u2217 (kA \u2297 1)F\u2217 ([A\u2032 ] \u2297 1) = F\u2217 (kA [A\u2032 ] \u2297 1) = hB, Bii kB \u2297 [B \u2032 ]kB\n\u2032 =\n\n1\nhB, Bii\n\u22121 i\n(1 \u2297 [B \u2032 ]kB\nF\u2217 ([A\u2032 ] \u2297 1)F\u2217 (kA \u2297 1).\nkB \u2032 ) =\n\u2032\n\u2032\n(B|B )\n(B|B )\n\u2032\n\u2032\nNote that (A|A ) = (B|B ) if n = 0 and (A|A\u2032 ) = (B|B \u2032 )\u22121 if n = 1. If n \u2265 2, then\n(A|A\u2032 ) = (B|B \u2032 ) = 1. Hence, F\u2217 is consistent with (5.4), and by a similar argument, it is\nconsistent with (5.7).\nWe divide the proof that F\u2217 preserves (5.5) into three cases. The proof for (5.2) is analogous.\nCase 1: i = j\nLet A\u2032 , A\u2032\u2032 \u2208 Ai and let B \u2032 = F (A\u2032 )[\u2212i], B \u2032\u2032 = F (A\u2032\u2032 )[\u2212i]. Without loss of generality,\nassume that i is even. Then\n\n\u2032\u2032 i\ni\nF\u2217 (1 \u2297 [A\u2032 ])F\u2217 (1 \u2297 [A\u2032\u2032 ]) = hB \u2032 , B \u2032 ii hB \u2032\u2032 , B \u2032\u2032 ii (1 \u2297 [B \u2032 ]kB\n\u2032 )(1 \u2297 [B ]kB \u2032\u2032 )\n= hB \u2032 , B \u2032 ii hB \u2032\u2032 , B \u2032\u2032 ii (B \u2032 |B \u2032\u2032 )i (1 \u2297 [B \u2032 ][B \u2032\u2032 ]kB\u2032 +B\u2032\u2032 )\n= hB \u2032 + B \u2032\u2032 , B \u2032 + B \u2032\u2032 ii (1 \u2297 [B \u2032 ][B \u2032\u2032 ]kB\u2032 +B\u2032\u2032 ).\n\nSince F is a derived equivalence, it defines a bijection between the short exact sequences\n0 \u2192 A\u2032\u2032 \u2192 A \u2192 A\u2032 \u2192 0\nand\n0 \u2192 B \u2032\u2032 \u2192 B \u2192 B \u2032 \u2192 0,\nand the last equation is equal to the image of\nX\n1\ngAA\u2032 ,A\u2032\u2032 (1 \u2297 [A])\n\u2032\u2032\n\u2032\nhA , A i\n[A]\u2208I\n\nunder F\u2217 . This shows that F\u2217 is consistent with (5.5).\nCase 2: |i \u2212 j| = 1\nLet Ai \u2208 Ai and Ai+1 \u2208 Ai+1 . Without loss of generality, we may assume that i is even. It\nis immediate that F\u2217 preserves (5.5) in the case that Ai = A and Ai+1 = B. So, substitute\nAi+1 = A and Ai = B into (5.5). Then we can rewrite the right hand side of (5.5) in normal\nform:\nX\nX\n1\n1\ngACi+1,Ai (1 \u2297 [C]) =\ngAD\u2295E\n(1 \u2297 [D \u2295 E])\ni+1 ,Ai\nhAi , Ai+1 i\nhAi , Ai+1 i\n[C]\n\n[D]\u2208Ii ,[E]\u2208Ii+1\n\n=\n\n1\nhAi , Ai+1 i\n\nX\n\n[D]\u2208Ii ,[E]\u2208Ii+1\n\nhE, DigAD\u2295E\n(1 \u2297 [D])(1 \u2297 [E]).\ni+1 ,Ai\n\n\f14\n\nTIM CRAMER\n\nHere Ii and Ii+1 denote the set of isomorphism classes of objects in Ai and Ai+1 , respectively.\nNow,\n\ni+1\ni\nF\u2217 (1 \u2297 [Ai+1 ])F\u2217 (1 \u2297 [Ai ]) = hBi+1 , Bi+1 ii+1 hBi , Bi ii ([Bi+1 ]kB\n\u2297 [Bi ]kB\n)\ni\ni+1\n\n=\n\nhBi+1 , Bi+1 ii+1 hBi , Bi ii\ni+1\ni\n([Bi+1 ] \u2297 [Bi ])(kB\n\u2297 kB\n),\ni\ni+1\n(Bi+1 |Bi )i+1\n\nwhere Bi+1 = F (Ai+1 )[\u2212i \u2212 1] and Bi = F (Ai )[\u2212i]. Using (4.8)-(4.9), we have\n\nX hBi , Bi+1 ihBi+1 , Bi+1 i gBL[1]\u2295N\ni+1 [1],Bi\n(1 \u2297 kBi+1 \u2212L [N])([L] \u2297 1)\nhN, LihL, Li\n|Ext1 (N, L)|\n\n[Bi+1 ] \u2297 [Bi ] =\n\n[L],[N ]\n\n=\n\nX hBi , Bi+1 ihBi+1 , Bi+1 i gBL[1]\u2295N\n(Bi+1 |N)(L|L)\ni+1 [1],Bi\n(1 \u2297 [N])([L] \u2297 kBi+1 \u2212L ).\n1\nhN, LihL, Li\n|Ext (N, L)| (L|N)(Bi+1 |L)\n\n[L],[N ]\n\nSince N \u2208 Bi and L \u2208 Bi+1 for all non-zero terms, |Ext1 (N, L)| = hN, Li\u22122 , and after\nsimplifying, we have\n\n[Bi+1 ] \u2297 [Bi ] =\n\nX hBi , Bi+1 i(Bi+1 |Bi )hL, Li L[1]\u2295N\ngBi+1 [1],Bi (1 \u2297 [N])([L] \u2297 kBi+1 \u2212L ).\nhL, NihBi+1 , Bi+1 i\n\n[L],[N ]\n\nSo, we calculate\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n15\n\nF\u2217 (1 \u2297 [Ai+1 ])F\u2217 (1 \u2297 [Ai ]) =\nhBi+1 , Bi+1 ii+1 hBi , Bi ii X hBi , Bi+1 i(Bi+1 |Bi )hL, Li L[1]\u2295N\ni\ngBi+1 [1],Bi (1 \u2297 [N])([L]kLi+1 \u2297 kN\n) =\ni+1\n(Bi+1 |Bi )\nhL, NihBi+1 , Bi+1 i\n[L],[N ]\n\nhBi+1 , Bi+1 ii hBi , Bi ii X hBi , Bi+1 ihL, Li L[1]\u2295N\ni\ngBi+1 [1],Bi (1 \u2297 [N])([L]kLi+1 \u2297 kN\n) =\ni\n(Bi+1 |Bi )\nhL, Ni\n[L],[N ]\n\nX hBi+1 , Bi+1 ii hBi , Bi ii hBi , Bi+1 ihL, Li L[1]\u2295N\ni\ngBi+1 [1],Bi (1 \u2297 [N])([L]kLi+1 \u2297 kN\n) =\ni\n(Bi+1 |Bi )\nhL, Ni\n\n[L],[N ]\n\nX\n\nhL \u2212 N, L \u2212 Nii\n\n[L],[N ]\n\nhBi , Bi+1 ihL, Li L[1]\u2295N\ni\ngBi+1 [1],Bi (1 \u2297 [N])([L]kLi+1 \u2297 kN\n) =\nhL, Ni\n\nX hL, Lii+1 hN, Nii hBi , Bi+1 i L[1]\u2295N\ni\ngBi+1 [1],Bi (1 \u2297 [N])([L]kLi+1 \u2297 kN\n) =\ni\nhL, Ni(L|N)\n\n[L],[N ]\n\nX hL, Lii+1 hN, Nii L[i+1]\u2295N [i]\n1\ni\ngBi+1 [i+1],Bi[i] (1 \u2297 [N]kN\n)([L]kLi+1 \u2297 1) =\nhAi , Ai+1 i\nhL, Ni\n[L],[N ]\n\n1\nhAi , Ai+1 i\n\nX\n\nhE, DigAD\u2295E\nF (1 \u2297 [D])F\u2217 (1 \u2297 [E]) =\ni+1 ,Ai \u2217\n\n[D]\u2208Ii ,[E]\u2208Ii+1\n\nX\n1\ngACi+1 ,Ai F\u2217 (1 \u2297 [C]),\nhAi , Ai+1 i\n[C]\n\nshowing that F\u2217 is consistent with (5.5).\nCase 3: |i \u2212 j| \u2265 2\nIf Ai \u2208 Ai and Ai+n \u2208 Ai+n where n \u2265 2, then it is clear from the discussion in Section 5\nthat the right hand side of (5.5) is the same whether Ai = A and Ai+n = B or Ai+n = A and\nAi = B. Explicitly,\n1\nhAi+n , Ai i\n\nX\n\ngACi ,Ai+n (1 \u2297 [C]) =\n\n[C]\n\nX\n1\ngACi+n ,Ai (1 \u2297 [C]) = 1 \u2297 [Ai \u2295 Ai+n ]\nhAi , Ai+n i\n[C]\n\nIf n is even, then it is also clear that\nF\u2217 (1 \u2297 [Ai ])F\u2217 (1 \u2297 [Ai+n ]) = F\u2217 (1 \u2297 [Ai+n ])F\u2217 (1 \u2297 [Ai ]) = F\u2217 (1 \u2297 [Ai \u2295 Ai+n ]).\nIf n is odd, then we have\ni\ni+n\nF\u2217 (1 \u2297 [Ai ])F\u2217 (1 \u2297 [Ai+n ]) = hBi , Bi ii hBi+n , Bi+n ij ([Bi ]kB\n\u2297 1)(1 \u2297 [Bi+n ]kB\n)\ni\ni+n\ni\ni+n\n= hBi , Bi ii hBi+n , Bi+n ii+n ([Bi ] \u2297 1)(1 \u2297 [Bi+n ])(kB\n\u2297 kB\n)\ni\ni+n\n\n\f16\n\nTIM CRAMER\n\nand\ni+n\ni\nF\u2217 (1 \u2297 [Ai+n ])F\u2217 (1 \u2297 [Ai ]) = hBi+n , Bi+n ii+n hBi , Bi ii (1 \u2297 [Bi+n ]kB\n)([Bi ]kB\n\u2297 1)\ni\ni+n\ni\ni+n\n= hBi , Bi ii hBi+n , Bi+n ii+n (1 \u2297 [Bi+n ])([Bi ] \u2297 1)(kB\n\u2297 kB\n),\ni\ni+n\n\nwhere Bi = F (Ai )[\u2212i] and Bi+1 = F (Ai+1 )[\u2212i \u2212 1].\nNow, because Hom(Bi , Bi+n )=Hom(Bi+n , Bi )=0, from (4.7), we see that (4.5)-(4.6) reduces\nto\n[Bi+n ] \u2297 [Bi ] = (1 \u2297 [Bi ])([Bi+n ] \u2297 1)\nwhen we take A = Bi+n and B = Bi .\nHence, the equation\nF\u2217 (1 \u2297 [Ai ])F\u2217 (1 \u2297 [Ai+n ]) = F\u2217 (1 \u2297 [Ai+n ])F\u2217 (1 \u2297 [Ai ]) = F\u2217 (1 \u2297 [Ai \u2295 Ai+n ])\nholds in general, and F\u2217 preserves (5.5).\nWe now prove that F\u2217 preserves (5.10)-(5.11) by again considering three separate cases.\nCase 1: i = j\nWithout loss of generality, take A, B \u2208 A0 . We show that the images of the left hand\nN [1]\u2295L\nside and the right hand side of (4.8)-(4.9) under F\u2217 are equal. If gB[1],A 6= 0, then we can\ndecompose L and N as\n[L] = hL1 , L0 i[L0 ][L1 ]\nand\n[N] = hN0 , N\u22121 i[N\u22121 ][N0 ]\nL[1]\u2295N\n\nwhere L1 \u2208 A1 , L0 , N0 \u2208 A0 , and N\u22121 \u2208 A\u22121 . Similarly, if gA[1]\u2295B 6= 0, then we can decompose\nL And N as\n[L] = hL0 , L\u22121 i[L\u22121 ][L0 ]\nand\n[N] = hN1 , N0 i[N0 ][N1 ],\nwhere L\u22121 \u2208 A\u22121 , L0 , N0 \u2208 A0 , and N1 \u2208 A1 .\nNow, set BA = F (A) and BB = F (B). On the left hand side, set BL0 = F (L0 ), BL1 =\nF (L1 )[\u22121], BN0 = F (N0 ), BN\u22121 = F (N\u22121 )[1], and on the right hand side, set BA = F (A), BL\u22121 =\nF (L\u22121 )[1], BL0 = F (L0 ), BN0 = F (N0 ), BN1 = F (N1 )[\u22121]. Then it remains to show that\nN [1]\u2295L\nX hA, BihB, Bi gB[1],A\nhN, N\u22121 ihN0 , L1 i\nkB \u2212B \u2212B ([BL0 \u2295BN\u22121 ]\u2297[BN0 \u2295BL1 ]) =\n1\nhL, NihN, Ni |Ext (L, N)| hL, L1 ihL0 , N\u22121 i A L0 N\u22121\n\n[L],[N ]\n\nL[1]\u2295N\nX hB, AihA, Ai gA[1],B\nhL, L\u22121 ihL0 , N1 i\n(1\u2297kBA \u2212BL0 \u2212BN1 )(1\u2297[BN0 \u2295BL\u22121 ])([BL0 \u2295BN1 ]\u22971).\n1\nhN, LihL, Li |Ext (N, L)| hN, N1 ihN0 , L\u22121 i\n\n[L],[N ]\n\nBut this is just the identity (4.8)-(4.9) with F (A) and F (B) in place of A and B : Because\nF establishes a bijection between exact triangles\nA \u2192 N[1] \u2295 L \u2192 B[1] \u2192 A[1]\n(resp. B \u2192 L[1] \u2295 N \u2192 A[1] \u2192 B[1])\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n17\n\nand\nBA \u2192 (BN0 \u2295 BL1 )[1] \u2295 (BL0 \u2295 BN\u22121 ) \u2192 BB [1] \u2192 BA [1]\n(resp. BB \u2192 (BL0 \u2295 BN1 )[1] \u2295 (BN0 \u2295 BL\u22121 ) \u2192 BA [1] \u2192 BB [1]),\nwe have\nN [1]\u2295L\n\n(BN \u2295BL )[1]\u2295(BL0 \u2295BN\u22121 )\n\nL[1]\u2295N\n\n(BL \u2295BN )[1]\u2295(BN0 \u2295BL\u22121 )\n\n0\n1\ngB[1],A = gBB [1],B\nA\n\nand\n\n0\n1\ngA[1],B = gBA [1],B\nB\n\n.\n\nMoreover, this says that it suffices to show that\nN [1]\u2295L\n\nhA, BihB, Bi gB[1],A\nhN, N\u22121 ihN0 , L1 i\n=\n1\nhL, NihN, Ni |Ext (L, N)| hL, L1 ihL0 , N\u22121 i\n(BN \u2295BL )[1]\u2295(BL0 \u2295BN\u22121 )\n\n0\n1\nhBA , BB ihBB , BB igBB [1],B\nA\n\nhBL0 \u2295 BN\u22121 , BN0 \u2295 BL1 ihBN0 \u2295 BL1 , BN0 \u2295 BL1 i|Ext1 (BL0 \u2295 BN\u22121 , BN0 \u2295 BL1 )|\nand\nL[1]\u2295N\n\nhL, L\u22121 ihL0 , N1 i\nhB, AihA, Ai gA[1],N\n=\n1\nhN, LihL, Li |Ext (N, L)| hN, N1 ihN0 , L\u22121 i\n(BL \u2295BN )[1]\u2295(BN0 \u2295BL\u22121 )\n\n0\n1\nhBB , BA ihBA , BA igBA [1],B\nB\n\nhBN0 \u2295 BL\u22121 , BL0 \u2295 BN1 ihBL0 \u2295 BN1 , BL0 \u2295 BN1 i|Ext1 (BN0 \u2295 BL\u22121 , BL0 \u2295 BN1 )|\n\n.\n\nfor arbitrary A, B, L, N \u2208 A, which can be seen by a straightforward computation.\nCase 2: |i \u2212 j| = 1\nTake Ai \u2208 Ai , Ai+1 \u2208 Ai+1 . Without loss of generality we may assume that i is even. Then\nfor A = Ai+1 and B = Ai , (5.10)-(5.11) becomes\n\n(1 \u2297 [Ai ])([Ai+1 ] \u2297 1) =\n\nX hAi+1 , Ai ihAi , Ai i gANi[1]\u2295L\n[1],Ai+1\nkA \u2212L [L] \u2297 [N]\n1\nhL, NihN, Ni |Ext (L, N)| i+1\n\n[L],[N ]\n\n=\n\nX hAi+1 , Ai ihAi , Ai i N [1]\u2295L\ngAi [1],Ai+1 hL, Ni2 kAi+1 \u2212L [L] \u2297 [N]\nhL, NihN, Ni\n\n[L],[N ]\n\n=\n\nX hAi+1 , Ai ihAi , Ai i N [1]\u2295L\n(Ai+1 |L)(L|N)\ngAi [1],Ai+1 hL, Ni\n[L] \u2297 [N]kA\u22121i+1 \u2212L\nhN, Ni\n(L|L)(Ai+1 |N)\n\n[L],[N ]\n\n=\n\nX hAi+1 , Ai ihAi , Ai i N [1]\u2295L\n(Ai+1 |Ai+1 )(L|Ai )\ngAi [1],Ai+1 hL, Ni\n[L] \u2297 [N]kA\u22121i+1 \u2212L .\nhN, Ni\n(L|Ai+1 )(Ai+1 |Ai )\n\n[L],[N ]\n\nLet BL = F (L)[\u2212i \u2212 1], BN = F (N)[\u2212i], Bi = F (Ai )[\u2212i], and Bi+1 = F (Ai+1 )[\u2212i \u2212 1].\nThen applying F\u2217 to the right hand side gives\n\n\f18\n\nTIM CRAMER\n\nX hAi+1 , Ai ihAi , Ai i N [1]\u2295L\n(Ai+1 |Ai+1 )(L|Ai ) hL, Lii+1 hN, Nii\ni\ngAi [1],Ai+1 hL, Ni\n(1 \u2297 [BL ][BN ]kB\nk i+1 )\ni Bi+1\nhN, Ni\n(L|Ai+1 )(Ai+1 |Ai )\n(L|N)i+1\n\n[L],[N ]\n\n=\n\nX hAi , Ai ii hAi+1 , Ai+1 ii+1 hAi+1 , Ai i N [1]\u2295L\ni\ngAi [1],Ai+1 (1 \u2297 [BL ][BN ]kB\nk i+1 )\ni Bi+1\n(Ai |Ai+1 )i hN, Li\n\n[L],[N ]\n\n=\n\nX hAi , Ai ii hAi+1 , Ai+1 ii+1 hAi+1 , Ai i N [1]\u2295L\ni\ngAi [1],Ai+1 (1 \u2297 [BL \u2295 BN ]kB\nk i+1 )\ni Bi+1\n(Ai |Ai+1 )i\n\n[L],[N ]\n\n=\n\nX hBi , Bi ii hBi+1 , Bi+1 ii+1 (Bi |Bi+1 )i\n[B]\n\nhBi+1 , Bi i\n\ni\ngBBi ,Bi+1 (1 \u2297 [B]kB\nk i+1 )\ni Bi+1\n\ni+1\ni\n= hBi , Bi ii hBi+1 , Bi+1 ii+1 (1 \u2297 [Bi ]kB\n[Bi+1 ]kB\n)\ni\ni+1\n\n= F\u2217 (1 \u2297 [Ai ])F\u2217 ([Ai+1 ] \u2297 1)\n= F\u2217 [(1 \u2297 [Ai ])([Ai+1 ] \u2297 1)],\nproving that (5.10) and (5.11) have the same image under F\u2217 . The proof for A = Ai and\nB = Ai+1 is similar.\nCase 3: |i \u2212 j| \u2265 2\nIf we take A \u2208 Ai and B \u2208 Aj for |i \u2212 j| \u2265 2, then (5.10)-(5.11) becomes\n[A] \u2297 [B] = (1 \u2297 [B])([A] \u2297 1),\nand it is easy to see that\nF\u2217 ([A] \u2297 [B]) = F\u2217 (1 \u2297 [B])F\u2217 ([A] \u2297 1).\nHence, (5.10)-(5.11) is preserved.\n\u0003\nb\n\nb\n\nIt is clear from the definition of F\u2217 that if G : D (B) \u2192 D (A) is a quasi-inverse to the\nderived equivalence F : D b (A) \u2192 D b (B), then G\u2217 defines an inverse to F\u2217 , proving Theorem\n1.\n7. Bernstein-Gelfand-Ponomarev reflection functors\n~ a vertex \u03b1 is called a source (resp., sink) if no arrows end in \u03b1 (resp.,\nFor a quiver Q,\n~ the quiver obtained from Q\n~ by reversing\nstart at \u03b1). For a given vertex \u03b1, we denote by \u03c3\u03b1 Q\n~\nall arrows at \u03b1. Now, assume that Q contains no multiple edges or oriented cycles. In this\n~ must contain at least one source and sink. The derived Bernstein-Gelfand-Ponomarev\ncase Q\nreflection functor ([12])\n~ \u2192 D b (Repk (\u03c3\u03b1 Q))\n~\nR\u03b1+ : D b (Repk (Q))\n~ we define A\u2022 to\nis defined for a given source \u03b1 as follows: given a complex C\u2022 \u2208 D b (Repk Q),\nbe the subcomplex of C\u2022 corresponding to the \u03b1 component, i.e. (Ai )\u03b1 = (Ci )\u03b1 and (Ai )\u03b2 = 0\nif \u03b2 6= \u03b1. Define B\u2022 by (Bi )\u03b2 = (Ci )\u03b2 for \u03b2 6= \u03b1 and (Bi )\u03b1 = \u2295\u03b2\u2208S (Ci )\u03b2 where S is the set\n~ connected to \u03b1 by an arrow. In addition, we replace each arrow starting\nof all vertices in Q\nat \u03b1 with the inclusion map going in the opposite direction. With the differentials defined\n~\nin the natural way, A\u2022 and B\u2022 become objects in D b (Repk (\u03c3\u03b1 Q)).\nThere is a natural map\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n19\n\nf : A\u2022 \u2192 B\u2022 obtained by taking the direct sum of the maps f\u03b2 : (Ci )\u03b1 \u2192 (Ci )\u03b2 over S in each\ndegree. We define R\u03b1+ (C\u2022 ) to be the mapping cone C(f ) = A\u2022 [1]\u2295B\u2022 of f : A\u2022 \u2192 B\u2022 . It is not\nhard to check that this definition is functorial. There is a dual construction R\u03b1\u2212 for reversing\nthe arrows at a sink, and in fact this defines a quasi-inverse to the derived equivalence R\u03b1+ .\nThe category of representations of a quiver is one of the most basic examples of a hereditary\nAbelian category. Over a finite field, it is easy to check that it is finitary. Applying Theorem\n1 to the derived equivalences R\u03b1\u00b1 for k = Fq provides isomorphisms between the double\nHall algebras of quivers with the same underlying graph but different orientations (as shown\nin the original paper [3], any orientation on a graph without cycles can be obtained from\nany other orientation by a sequence of reflections at sources and sinks). These formulas\nwere given in [27] and [33] using the original (non-derived) Bernstein-Gelfand-Ponomarev\n~ an A-D-E quiver. In this case, the double Hall algebra of\nreflection functors ([3]) with Q\n~ is canonically isomorphic to Uq (g) and these formulas give automorphisms of Uq (g)\nRepFq (Q)\nwhich turn out to coincide with Lusztig's symmetries ([19], [33]). Moreover, it is known that\n~ can be identified with\n~ and K0 (D b (RepFq (\u03c3\u03b1 Q))\nthe Grothendieck groups K0 (D b (RepFq (Q))\nthe root lattice of Uq (g), and under this correspondence the induced map\n~\n~\n\u2192 K0 (D b (RepFq (\u03c3\u03b1 Q)))\n(R\u03b1+ )\u2217 : K0 (D b (RepFq (Q)))\nis exactly the reflection at the simple root associated to \u03b1.\n8. The Kronecker quiver and Coh(P1 )\nLet K denote the Kronecker quiver, i.e.the quiver with two vertices and two arrows oriented\n(1)\nin the same direction. The underlying graph of K is the affine Dynkin diagram A1 , so K\nis tame and the dimension vectors of its indecomposable representations correspond to the\npositive roots of sl\u02c62 . In dimension (n, n+1) (n \u2208 Z+ ) there is a unique indecomposable\n\u0012\n\u0013\n\u0012object\n\u0013\nIn\n0\nup to isomorphism, which we denote by P (n). It is given by two maps\nand\n0\nIn\nn\nn+1\nfrom k to k . Similarly, in dimension (n + 1, n) (n \u2208\u0001 Z+ ) there is a\u0001unique indecomposable\nobject up to isomorphism given by the maps In 0 and 0 In from k n+1 to k n which\nwe denote by I(n). These two classes of indecomposable objects form the preprojective and\npreinjective components of Repk (K), respectively. The regular indecomposable objects lie in\ndimensions (n, n) corresponding to the imaginary roots and for each n they are parameterized\nby x \u2208 P1 (k).\nNow consider Coh(P1 (k)), the category of coherent sheaves on P1 (k). For this category the\nindecomposable objects can be parameterized by the nonstandard set of positive roots\n{(n, n + 1)|n \u2208 Z} \u222a {(n, n)|n \u2208 N}\nof sl\u02c62. The correspondence is given by defining\ndim(F ) = (deg(F ), rank(F ) + deg(F ))\nThe line bundles O(n) then correspond to the real roots (n, n + 1) and corresponding to\neach imaginary root (n, n) is the family of indecomposable sheaves Oxn parameterized by\nx \u2208 P1 (k).\nThe conditions of Definition 1 apply to Coh(P1 (k)) when k is a finite field due to the\nfollowing lemma.\nLemma 4. Let X be a smooth projective curve over a finite field k. Then Coh(X) is finitary.\n\n\f20\n\nTIM CRAMER\n\nProof. It is a theorem of Serre that Hom(F , G) and Ext(F , G) are finite-dimensional vector\nspaces over k for all F , G \u2208 Coh(X) ([15]). The map d : K0 (Coh(X)) \u2192 Z2 defined by\nd([F ]) = (rank(F ), deg(F )) satisfies the desired properties of Definition 1.\n\u0003\nIn addition to the indecomposable objects of Coh(P1 (k)) and Repk (K) both being parameterized by positive roots of sl\u02c62, the Hall algebras of these two categories (which we denote\nby HP1 and HK , respectively) are related to the quantum enveloping algebras of the Borel\nsubalgebras of sl\u02c62 associated to their corresponding set of positive roots. Specifically, the\n\u00b11\nsubalgebra of HK generated by the elements [P (0)], [I(0)], kP\u00b11(0) , and kI(0)\n, which we denote\nby CK , is isomorphic to Uq (b+ ), the Borel subalgebra corresponding to the affine root system of sl\u02c62. The subalgebra of HP1 generated by the elements [O(n)], Tr , kO , and kOx , which\nwe denote by CP1 , is isomorphic to Uq (bL+ ) in the Drinfeld realization [9] of Uq (sl\u02c62). Here\n\u22121\nsl2\n2\nbL+ = nsl\n+ [t, t ] \u2295 \u03b4 [t] and Tr denotes a specific linear combination of elements [Ox ] over\n1\nx \u2208 P (k) depending on the integer r \u2208 Z+ (see [1] for details).\nA result of [2] is the derived equivalence D b (Coh(P1 (k))) \u223c\n= D b (Repk (K)). This is given\nexplicitly by the tilting functor\n\n(8.1)\n\nRHom(O \u2295 O(1), *) : D b (Coh(P1 (k))) \u2192 D b (Repk (K))\n\nwhich sends the line bundles O(n) to the preprojective indecomposables P (n) for n \u2265 0,\nand to the preinjective indecomposables I(\u2212n \u2212 1) for n < 0 (translated to the right by one\ndegree), and sends the torsion sheaves Oxn to the regular indecomposables in dimension (n, n).\nBy Theorem 1, this equivalence induces an isomorphism between the double Hall algebras\nDHP1 and DHK . Let DCP1 denote the subalgebra of DHP1 generated by the elements a \u2297 1\nand 1 \u2297 b for a \u2208 CP1 and b \u2208 CPcoop\n1 . Let DCK denote the subalgebra of DHK generated by\ncoop\nthe elements a \u2297 1 and 1 \u2297 b for a \u2208 CK and b \u2208 CK\n. As shown in [5], the isomorphism\nbetween DHP1 and DHK restricts to an isomorphism between DCP1 and DCK , which can\nbe identified with the Drinfeld-Beck isomorphism Uq (Lsl2) \u2192 Uq (sl\u02c62).\n\n9. Affine quivers and weighted projective lines\nAs a generalization of Coh(P1 ), we can consider the category of coherent sheaves on a\nweighted projective line Xp,\u03bb, first studied in [11]. Given a sequence of postive integers\np = (p1 , * * * , pn ), we define the weighted projective space Pp (k) as the quotient of An \u2212 {0}\nby the action of the group G(p) = {(t1 , * * * tn ) \u2208 (k \u2217 )n |tp11 = * * * = tpnn }. For a sequence\nof distinct elements \u03bb = (\u03bb1 , * * * , \u03bbn\u22121 ) \u2208 (P1 (k))n , the equations Xipi = X2p2 \u2212 \u03bbi X1p1 , for\ni = 3, * * * , n\u22121 determine a two-dimensional subvariety F (p, \u03bb) of An . We define the weighted\nprojective line Xp,\u03bb as the quotient of F (p, \u03bb) by G(p). To define a sheaf theory for Xp,\u03bb,\nwe first let L(p) denote the rank one abelian group on generators x~1 , * * * , x~n with relations\np1 x~1 = * * * = pn x~n . Then the coordinate ring S(p, \u03bb) = k[x1 , * * * , xn ]/I\u03bb of the affine variety\nF (p, \u03bb) can be given an L(p)-grading by setting deg(xi ) = x~i . The category Coh(Xp,\u03bb) of\ncoherent sheaves on Xp,\u03bb is defined as the Serre quotient of the category of finitely generated\ngraded S(p, \u03bb)-modules by the Serre subcategory of finite dimensional modules.\n\n\fDOUBLE HALL ALGEBRAS AND DERIVED EQUIVALENCES\n\n21\n\nThe \"virtual genus\" of Xp,\u03bb is defined to be\n1\ngX = 1 +\n2\n\nn\nX\np\n(n \u2212 2)p \u2212\np\ni=1 i\n\n!\n\nwhere p is the least common multiple of p1 , * * * , pn . It satisfies an analogue of the RiemannRoch theorem. We associate a graph Tp1 ,*** ,pn to the sequence (p1 , * * * , pn ) as follows. Starting\nwith a central vertex, we attach to it n segments, the i-th segment consisting of pi \u2212 1 edges.\nExample 1. For p1 , p2 \u2265 2, the graph Tp1 ,p2 is Ap1 +p2 \u22121 .\nExample 2. For p \u2265 2, the graph Tp,2,2 is Dp+2.\nIt can be checked that Tp1 ,*** ,pn is an A-D-E Dynkin diagram if and only if gX < 1, and if\ngX = 1, then it is an affine A-D-E diagram. In general, we can associate a Kac-Moody algebra\ng to Tp1 ,*** ,pn . The Grothendieck group K0 (Coh(Xp,\u03bb)) is isomorphic to the root lattice of the\nloop algebra Lg. As in the case of quivers and Coh(P1 ), the class of an indecomposable object\nin K0 (Coh(Xp,\u03bb)) always corresponds to a positive root (see [8]). Note that Coh(P1 ) may be\nseen as a weighted projective line with p = (1) and T1 = A1 .\nProposition 6. The category Coh(Xp,\u03bb) is hereditary and abelian, and if k is finite it is\nfinitary.\nProof.\nIt is shown that Coh(Xp,\u03bb ) is hereditary and abelian in [11]. It is also shown\nthat Hom(F , G) is finite for all F , G \u2208 Coh(Xp,\u03bb), and by Serre duality this holds for\nExt1 (F , G) as well. Finally, to define d : K0 (Coh(Xp,\u03bb)) \u2192 Z2 , we again use the map\nd([F ]) = (rank(F ), deg(F )).\n\u0003\nWe can therefore define the double Hall algebra of Coh(Xp,\u03bb), which we denote by DHp,\u03bb.\nAs shown by Schiffmann [26], in the case of gX = 0 or 1, the Hall algebra Hp,\u03bb of Coh(Xp,\u03bb)\ncontains a subalgebra isomorphic to Uq (bL+ ) in the Drinfeld realization of Uq (\u011d). Here g is\nthe Kac-Moody algebra corresponding\nto Tp1 *** ,pn . The equivalence (8.1) can be generalized\nL\nby replacing O \u2295 O(1) with\nx) where ~c = p1 x~1 = * * * = pn x~n and O(~x) is the\n0\u2264~\nx\u2264~c O(~\nimage of the S(p, \u03bb)-module S(p, \u03bb)[~x] in Coh(Xp,\u03bb). In this case, Repk (K) is replaced with\nthe category of finite-dimensional modules over Ringel's \"canonical algebra\" \u039bp,\u03bb associated\nto p and \u03bb (see [24] for details). The algebras \u039bp,\u03bb are not hereditary in general, and\nthis equivalence was used to give a classification of indecomposable modules over tubular\nalgebras (i.e., those corresponding to gX = 1). In the case that gX < 1, there is another\nderived equivalence between \u039bp,\u03bb-mod and the category of representations of the affine quiver\ncorresponding to Tp1 ,*** ,pn . Applying Theorem 1 to the composition\nD b (Coh(Xp,\u03bb)) \u2192 D b (RepFq (Q\u0302))\ndefines an isomorphism between the double Hall algebra DHp,\u03bb of Coh(Xp,\u03bb) and the double\nHall algebra DHQ\u0302 of RepFq (Q\u0302). It seems plausible that the restriction of this isomorphism\nto the subalgebras corresponding to Uq (bL+ ) and Uq (b+ ) can again be identified with the\nDrinfeld-Beck isomorphism Uq (Lg) \u2192 Uq (\u011d).\n\n\f22\n\nTIM CRAMER\n\nReferences\n[1] P. Baumann, C. Kassel, The Hall algebra of the category of coherent sheaves on the projective line, J.\nreine angew. Math 533, pp. 207233, (2001).\n[2] A. Beilinson, Coherent sheaves on P n and problems of linear algebra, Funct. Anal. Appl. 12 (1978), N.\n3, p. 68-69.\n[3] I.N. Bernstein, I.M. Gelfand, V.A. Ponomarev, Coxeter functors, and Gabriels theorem, Uspehi Mat.\nNauk 28, no. 2 (170), 1933, (1973).\n[4] P. Bonneau, Topological quantum double, Rev. Math. Phys. vol 16, n2 (1994), 305-318.\nb 2 ) via Hall algebra ap[5] I.Burban, O.Schiffmann, Two descriptions of the quantum affine algebra Uv (sl\nproach, preprint arXiv:0903.4828.\n[6] I. Burban, O. Schiffmann, On the Hall algebra of an elliptic curve, I, preprint math.AG/0505148.\n[7] I. Burban, O. Schiffmann, On the Hall algebra of tubular weighted projective lines, preprint.\n[8] W. Crawley-Boevey, Kac's Theorem for weighted projective lines, to appear in Journal of the European\nMathematical Society, preprint math.AG/0512078.\n[9] V.G. Drinfeld, A new realization of Yangians and quantized enveloping algebras, Sov. Math. Dokl. 36\n(1988), 212-216.\n[10] V.G. Drinfeld, Quantum groups, Proc. ICM-86 (Berkeley), vol.1, p. 798-820, Amer. math. Soc., 1987.\n[11] W. Geigle and H. Lenzing, A class of weighted projective curves arising in the representation theory of\nfinite-dimensional algebras, Singularities, Representations of Algebras and Vector Bundles (Lambrecht,\nGermany, 1985), Lecture Notes in Math. 1273, Springer, Berlin, 1987, 265\u2013297.\n[12] S.I. Gelfand, Y.I. Manin, Methods of Homological Algebra, Springer-Verlag, 1996.\n[13] J.A. Green, Hall algebras, hereditary algebras and quantum groups, Invent. Math. 120 (1995), 361-377.\n[14] P. Hall, The algebra of partitions, in: Proc. 4th Canad. Math. Congress, Banff 1957, Univ. of Toronto\nPress, 1958, 147-159.\n[15] R. Hartshorne, Algebraic geometry, GTM, No. 52, Springer-Verlag, (1977).\n[16] A. Joseph, Quantum groups and their primitive ideals, Ergeb. Math. Grenzgeb. 3 29 (1995).\n[17] M. Kapranov, Eisenstein series and quantum affine algebras, Algebraic geometry, 7. J. Math. Sci. (New\nYork) 84, no. 5, (1997).\n[18] M. Kapranov, Heisenberg doubles and derived categories, J. Algebra 202, no. 2, 712-744, (1998).\n[19] G. Lusztig, Introduction to quantum groups, Birkhauser (1992).\n[20] L. Peng, J. Xiao, Root categories and simple Lie algebras, J. Algebra 198, no. 1, 1956, (1997).\n[21] C.M. Ringel, Hall algebras and quantum groups, Invent. Math. 101 (1990), 583-592.\n[22] C.M. Ringel, The composition algebra of a cyclic quiver, Proc. London Math. Soc. (3) 66 (1993), 507-537.\n[23] C.M. Ringel, Hall algebras revisited, in: Israel Math. Conf. Proc. vol. 7 (1993), p. 171-176.\n[24] C.M. Ringel, Tame algebras and integral quadratic forms, Springer, Berlin - Heidelberg - New York,\n1984. Lectures Notes in Mathematics 1099.\n[25] O. Schiffmann, Lectures on Hall algebras, math.RT/0611617\n[26] O. Schiffmann, Noncommutative projective curves and quantum loop algebras. Duke Math. J. 121 (2004),\n113168.\n[27] B. Sevenhant, M. Van den Bergh, On the double of the Hall algebra of a quiver, J. Algebra 221, (1999).\n[28] E. Steinitz, Zur Theorie der Abel'schen Gruppen, Jahresber. Deutsch. Math.-Verein. 9 (1901). 80-85.\n[29] B. Toen, Derived Hall algebras, math.QA/0501343, Duke Math. J. Volume 135, Number 3 (2006), 587615.\n[30] J. Xiao, Hall algebra in a root category, Preprint 95-070, Univ. of Bielefeld, 1995.\n[31] J. Xiao, Drinfeld double and Ringel-Green theory of Hall algebras, J. Algebra 190, no. 1, (1997).\n[32] J. Xiao, and F. Xu, Hall algebras associated to triangulated categories, Duke Math. J. Volume 143,\nNumber 2 (2008), 357-373.\n[33] J. Xiao, S. Yang, BGP-reflection functors and Lusztig's symmetries: A Ringel-Hall approach to quantum\ngroups, J. Algebra 241, 204-246, (2001).\n\n\f"}