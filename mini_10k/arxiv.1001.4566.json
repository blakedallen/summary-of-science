{"id": "http://arxiv.org/abs/1001.4566v3", "guidislink": true, "updated": "2012-10-30T17:46:35Z", "updated_parsed": [2012, 10, 30, 17, 46, 35, 1, 304, 0], "published": "2010-01-25T23:25:22Z", "published_parsed": [2010, 1, 25, 23, 25, 22, 0, 25, 0], "title": "Okounkov bodies and toric degenerations", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1001.1683%2C1001.1583%2C1001.5250%2C1001.2538%2C1001.0025%2C1001.1503%2C1001.1511%2C1001.1401%2C1001.5125%2C1001.4530%2C1001.0142%2C1001.4833%2C1001.0418%2C1001.3735%2C1001.4676%2C1001.4869%2C1001.3262%2C1001.1445%2C1001.0989%2C1001.3049%2C1001.3458%2C1001.2151%2C1001.2620%2C1001.2409%2C1001.0021%2C1001.3406%2C1001.3565%2C1001.1531%2C1001.3878%2C1001.2979%2C1001.0058%2C1001.1535%2C1001.2224%2C1001.1736%2C1001.2449%2C1001.2775%2C1001.3777%2C1001.2683%2C1001.1168%2C1001.0464%2C1001.3205%2C1001.3091%2C1001.4738%2C1001.0371%2C1001.2992%2C1001.0111%2C1001.1688%2C1001.1099%2C1001.2555%2C1001.4043%2C1001.0504%2C1001.0239%2C1001.0445%2C1001.2558%2C1001.0709%2C1001.0731%2C1001.4660%2C1001.4050%2C1001.3087%2C1001.5097%2C1001.3613%2C1001.0641%2C1001.5236%2C1001.0782%2C1001.3604%2C1001.3389%2C1001.3725%2C1001.1558%2C1001.2406%2C1001.2031%2C1001.2100%2C1001.3961%2C1001.4596%2C1001.1506%2C1001.4354%2C1001.4365%2C1001.0423%2C1001.2453%2C1001.1125%2C1001.4572%2C1001.5278%2C1001.5255%2C1001.2913%2C1001.2184%2C1001.5167%2C1001.0447%2C1001.3887%2C1001.4896%2C1001.5021%2C1001.4029%2C1001.1534%2C1001.5335%2C1001.4190%2C1001.2517%2C1001.0621%2C1001.3882%2C1001.4566%2C1001.2511%2C1001.1918%2C1001.0659%2C1001.0293&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Okounkov bodies and toric degenerations"}, "summary": "Let \\Delta be the Okounkov body of a divisor D on a projective variety X. We\ndescribe a geometric criterion for \\Delta to be a lattice polytope, and show\nthat in this situation X admits a flat degeneration to the corresponding toric\nvariety. This degeneration is functorial in an appropriate sense.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1001.1683%2C1001.1583%2C1001.5250%2C1001.2538%2C1001.0025%2C1001.1503%2C1001.1511%2C1001.1401%2C1001.5125%2C1001.4530%2C1001.0142%2C1001.4833%2C1001.0418%2C1001.3735%2C1001.4676%2C1001.4869%2C1001.3262%2C1001.1445%2C1001.0989%2C1001.3049%2C1001.3458%2C1001.2151%2C1001.2620%2C1001.2409%2C1001.0021%2C1001.3406%2C1001.3565%2C1001.1531%2C1001.3878%2C1001.2979%2C1001.0058%2C1001.1535%2C1001.2224%2C1001.1736%2C1001.2449%2C1001.2775%2C1001.3777%2C1001.2683%2C1001.1168%2C1001.0464%2C1001.3205%2C1001.3091%2C1001.4738%2C1001.0371%2C1001.2992%2C1001.0111%2C1001.1688%2C1001.1099%2C1001.2555%2C1001.4043%2C1001.0504%2C1001.0239%2C1001.0445%2C1001.2558%2C1001.0709%2C1001.0731%2C1001.4660%2C1001.4050%2C1001.3087%2C1001.5097%2C1001.3613%2C1001.0641%2C1001.5236%2C1001.0782%2C1001.3604%2C1001.3389%2C1001.3725%2C1001.1558%2C1001.2406%2C1001.2031%2C1001.2100%2C1001.3961%2C1001.4596%2C1001.1506%2C1001.4354%2C1001.4365%2C1001.0423%2C1001.2453%2C1001.1125%2C1001.4572%2C1001.5278%2C1001.5255%2C1001.2913%2C1001.2184%2C1001.5167%2C1001.0447%2C1001.3887%2C1001.4896%2C1001.5021%2C1001.4029%2C1001.1534%2C1001.5335%2C1001.4190%2C1001.2517%2C1001.0621%2C1001.3882%2C1001.4566%2C1001.2511%2C1001.1918%2C1001.0659%2C1001.0293&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Let \\Delta be the Okounkov body of a divisor D on a projective variety X. We\ndescribe a geometric criterion for \\Delta to be a lattice polytope, and show\nthat in this situation X admits a flat degeneration to the corresponding toric\nvariety. This degeneration is functorial in an appropriate sense."}, "authors": ["Dave Anderson"], "author_detail": {"name": "Dave Anderson"}, "author": "Dave Anderson", "arxiv_comment": "v3: final version, some expository improvements in Section 5, to\n  appear in Math. Ann", "links": [{"href": "http://arxiv.org/abs/1001.4566v3", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1001.4566v3", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.CO", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "14C20 (Primary), 14D06, 14M25, 52B20, 32M10, 14M15, 14M17\n  (Secondary)", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1001.4566v3", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1001.4566v3", "journal_reference": "Math. Ann. 356 (2013), no. 3, 1183-1202", "doi": null, "fulltext": "arXiv:1001.4566v3 [math.AG] 30 Oct 2012\n\nOKOUNKOV BODIES AND TORIC DEGENERATIONS\nDAVE ANDERSON\nAbstract. Let \u2206 be the Okounkov body of a divisor D on a projective variety X. We describe a geometric criterion for \u2206 to be a lattice\npolytope, and show that in this situation X admits a flat degeneration\nto the corresponding toric variety. This degeneration is functorial in an\nappropriate sense.\n\n1. Introduction\nLet X be a projective algebraic variety of dimension d over an algebraically\nclosed field k, and let D be a big divisor on X. (Following [LM], all divisors\nare Cartier in this article.) As part of his proof of the log-concavity of\nthe multiplicity function for representations of a reductive group, Okounkov\nshowed how to associate to D a convex body \u2206Y\u2022 (D) \u2286 Rd [Ok1, Ok2]. The\nconstruction depends on a choice of flag Y\u2022 of subvarieties of X, that is, a\nchain X = Y0 \u2283 Y1 \u2283 * * * \u2283 Yd , where Yr is a subvariety of codimension\nr in X which is nonsingular at the point Yd . One uses the flag to define a\nvaluation \u03bd = \u03bdY\u2022 , which in turn defines a graded semigroup \u0393Y\u2022 \u2286 N \u00d7 Nd ;\nthe convex body \u2206 = \u2206Y\u2022 (D) is the intersection of {1} \u00d7 Rd with the closure\nof the convex hull of \u0393Y\u2022 in R \u00d7 Rd . The details of this construction will be\nreviewed in \u00a73.\nRecently, Kaveh-Khovanskii [KK2] and Lazarsfeld-Musta\u0163\u0103 [LM] have\nsystematically developed this construction, and exploited it to show that\n\u2206Y\u2022 (D) captures much of the geometry of D. For example, the volume of\nD (as a divisor) is equal to the Euclidean volume of \u2206 (up to a normalizing factor of d!), and one can use this to prove continuity of the volume\nfunction, as a map N 1 (X)R \u2192 R (see [LM, Theorem B] and the references\ngiven there). Many intersection-theoretic notions can also be defined and\ngeneralized using the convex bodies \u2206(D); this is discussed at length in\n[KK2].\nThese Okounkov bodies-as \u2206Y\u2022 (D) is called in the literature stemming\nfrom [LM]-are generally quite difficult to compute. They are often not\npolyhedral; when polyhedral, they are often not rational; and even if \u2206 is\na rational polyhedron, the semigroup used to define it need not be finitely\nDate: October 9, 2012.\nKey words and phrases. Okounkov body, toric variety, degeneration.\nThe author was partially supported by NSF Grants DMS-0502170 and DMS-0902967,\nand also by the Clay Mathematics Institute as a Liftoff Fellow.\n1\n\n\f2\n\nDAVE ANDERSON\n\ngenerated. In fact, the numbers appearing as volumes or coordinates of Okounkov bodies can be quite general [KLM]; they certainly may be irrational.\nOne situation, however, is easy. When X is a smooth toric variety, D is\na T -invariant ample divisor, and Y\u2022 is a flag of T -invariant subvarieties, the\nOkounkov body \u2206Y\u2022 (D) is the lattice polytope associated to D by the usual\ncorrespondence of toric geometry [LM, Proposition 6.1].\nIn this article, we extend the connection between Okounkov bodies and\ntoric varieties. Suppose X is an arbitrary variety and D an ample divisor\nsuch that the corresponding semigroup \u0393Y\u2022 is finitely generated, so \u2206Y\u2022 (D)\nis a rational polytope. We construct a flat degeneration from X to the (not\nnecessarily normal) toric variety defined by \u0393Y\u2022 . The normalization of the\nlimit is the toric variety corresponding to the polytope \u2206Y\u2022 (D) (see Theorem\n5.8).\nMore generally, for a big divisor D and a linear system V \u2286 H 0 (X, L),\none has a semigroup \u0393Y\u2022 (V ) and an Okounkov body \u2206Y\u2022 (V ) (see \u00a73 for the\nprecise definitions). Write X(V ) for the closure of the image of X in P(V ).\nAbusing notation slightly, let \u03bd(V ) \u2286 Zd denote the image of V r {0} under\nthe valuation \u03bd. A variety X admits a flat degeneration to a variety X0 if\nthere is a flat family X \u2192 A1 such that the fiber Xt is isomorphic to X for\nt 6= 0, and the fiber over 0 is X0 .\nTheorem 1.1. Let \u03bd = \u03bdY\u2022 be the valuation associated to a flag of subvarieties of X, and let V \u2286 H 0 (X, L) be a linear system such that \u0393 = \u0393Y\u2022 (V )\nis finitely generated.\n(a) The variety X(V ) admits a flat degeneration to the (not necessarily\nnormal) toric variety X0 = Proj k[\u0393]. The normalization of X0 is\nthe (normal) toric variety corresponding to the polytope \u2206Y\u2022 (V ).\n(b) If a torus T acts on X, such that V is a T -invariant linear system\nand Y\u2022 consists of T -invariant subvarieties, then the degeneration is\nT -equivariant.\n\n\u2732\n\n\u271b\n\n(c) Suppose V \u2032 \u2286 V is a subsystem inducing a birational morphism\n\u03c6 : X(V ) \u2192 X(V \u2032 ), and whose semigroup is also finitely generated.\nThe corresponding degenerations of X(V ) and X(V \u2032 ) are compatible: there is a commuting diagram of flat families\n\u03a6\n\u2732 X\u2032\nX\n\nA1 ,\nsuch that \u03a6t \u223c\n= \u03c6 for t 6= 0, and \u03a60 = \u03c60 .\n(d) Fix 0 \u2264 r \u2264 d, and assume Yr does not lie in the base locus of V .\nThen the subvariety Yr (V ) \u2286 X(V ) admits a flat degeneration to a\ntoric variety, compatible with that of X(V ). The toric limit (Yr )0\ncorresponds to the face \u2206Y\u2022 (V ) \u2229 ({0}d\u2212r \u00d7 Zr ).\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n3\n\nThe theorem summarizes the results in Theorem 5.8 and Proposition 5.16,\ntogether with their applications in Examples 5.17, 5.18, and 5.19.\nIn general, the question of when the semigroup \u0393Y\u2022 (V ) is finitely generated\nappears to be quite subtle, sensitive to both the linear system V and the\nflag Y\u2022 (see Example 4.4 and \u00a76.3). It is closely related to the existence\nof a finite SAGBI basis for the ring R(V ) (see [KK1, \u00a75.6]). Motivated by\nthis, we provide some criteria for finite generation in \u00a74. The key notion\nintroduced there is that of a maximal divisor in a linear system V , with\nrespect to a fixed divisor Y . Such divisors have maximal order along Y , and\nalso have the property that their multiples are maximal in the powers V m ;\nthus they bound the growth of the semigroup \u0393Y\u2022 (V ).\nThe main purpose of this article is to develop a formal framework for the\ntoric degenerations resulting from a finitely generated semigroup (\u00a75), and\nto show how criteria for finite generation can be applied in examples (\u00a76).\nWe also hope to motivate further study of the finite generation problem.\nThis work began with a desire to understand toric degenerations of flag\nvarieties and Schubert varieties, which have been described from various\npoints of view over the last fifteen years (see, e.g., [GL, Ca, AB, Ka1, KM]).\nI plan to return to this subject in future paper [An], generalizing the example\ngiven in \u00a76.4.\nAcknowledgements. I am grateful to Sara Billey, Jos\u00e9 Luis Gonz\u00e1lez, S\u00e1ndor\nKov\u00e1cs, Rob Lazarsfeld, Ezra Miller, Mircea Musta\u0163\u0103, and Rekha Thomas\nfor useful comments and fruitful discussions, and especially to Megumi Harada\nand Kiumars Kaveh for several valuable suggestions. I also thank Bill Fulton\nand Ben Howard for helping me learn about toric degenerations.\n2. Valuations and semigroups\nThroughout this article, let k denote an algebraically closed field. Let K\nbe a field extension of k; in our applications, K will be the function field\nof a variety over k, and we may always assume it has finite transcendence\ndegree. Equip Zd with the lexicographic order, making it an ordered abelian\ngroup. Following [KK2], a Zd -valuation on K is a map \u03bd : K r {0} \u2192 Zd\nsatisfying\n(i) for all f, g \u2208 K, \u03bd(f +g) \u2265 min{\u03bd(f ), \u03bd(g)} (when all these elements\nare nonzero); and\n(ii) for nonzero f, g in K, \u03bd(f g) = \u03bd(f ) + \u03bd(g).\nIt follows from the first of these conditions that\n(1)\n\n\u03bd(f + g) > min{\u03bd(f ), \u03bd(g)} only if \u03bd(f ) = \u03bd(g).\n\n(Indeed, suppose \u03bd(f ) < \u03bd(g), but \u03bd(f + g) > \u03bd(f ). Then \u03bd(f ) = \u03bd((f +\ng) + (\u2212g)) \u2265 min{\u03bd(f + g), \u03bd(g)} > \u03bd(f ), a contradiction.)\nTo any (nonzero) finite-dimensional k-vector subspace V \u2286 K, we associate a ring, a semigroup, a cone, and a convex body, still following [KK2].\nTo wit,\n\n\f4\n\nDAVE ANDERSON\n\nL\n\u2022 the ring R(V ) is the graded ring m\u22650 V m , where V m is the subspace spanned by products f1 * * * fm , with each fi \u2208 V ;\n\u2022 \u0393(V ) = \u0393\u03bd (V ) = {(m, \u03bd(f )) \u2208 N \u00d7 Zd | f \u2208 V m r {0}}, a graded\nsemigroup in N \u00d7 Zd ;\n\u2022 Cone(V ) = Cone(\u0393(V )) is the closure of the convex hull of \u0393(V ) in\nR \u00d7 Rd ;\n\u2022 the Newton-Okounkov body is \u2206(V ) = \u2206\u03bd (V ) = Cone(V ) \u2229\n({1} \u00d7 Rd ).\nIt will be convenient to use an \"extended\" valuation\n\u03bdb : R(V ) r {0} \u2192 N \u00d7 Zd ,\n\ndefined by \u03bdb(f ) = (m, \u03bd(fm )), where fm is the highest-degree homogeneous\ncomponent of f . By definition, the image of \u03bdb is \u0393 = \u0393\u03bd (V ). Also, we will\nuse a slightly modified total order on \u0393, induced from the order on N \u00d7 Zd\ngiven by (m1 , u1 ) \u2264 (m2 , u2 ) iff m1 < m2 or m1 = m2 and u1 \u2265 u2 . Note\nthe switch: this is the opposite of the order defined in [KK2, p. 23].\nWe record a few easy facts which will be useful later:\nLemma 2.1. Let \u0393 = \u0393\u03bd (V ) and R = R(V ).\n(a) The order on N\u00d7Zd respects addition, and induces an ordered group\nstructure on Z \u00d7 Zd .\n(b) Given any (m, u) \u2208 N \u00d7 Zd , the set\n\u0393\u2264(m,u) = {(m\u2032 , u\u2032 ) \u2208 \u0393 | (m\u2032 , u\u2032 ) \u2264 (m, u)}\nis finite.\n(c) For any (m, u) \u2208 \u0393,\nR\u2264(m,u) = {f \u2208 R | \u03bdb(f ) \u2264 (m, u)}\n\nis a (finite-dimensional) vector subspace of R. (I.e., it is closed\nunder addition.)\n(d) For any (m, u) and (m\u2032 , u\u2032 ) in \u0393, we have\nR\u2264(m,u) * R\u2264(m\u2032 ,u\u2032 ) \u2286 R\u2264(m+m\u2032 ,u+u\u2032 ) .\n\u0003\nLemma 2.2. Let \u0393 \u2286 N \u00d7 Nd be a graded semigroup, and suppose Cone(\u0393)\nis generated by \u0393 \u2229 ({1} \u00d7 Nd ). Then \u0393 is finitely generated.\n\u0003\nThis is a special case of [BG, Corollary 2.10]; I thank Rekha Thomas for this\nreference (and for showing me an alternative proof).\nWe need one more algebraic fact:\nLemma 2.3. Let \u0393 \u2286 N \u00d7 Nd be as in Lemma 2.2. Let \u2206 \u2286 Rd be the\npolytope given by {1} \u00d7 \u2206 = Cone(\u0393) \u2229 ({1} \u00d7 Rd ), and assume that every\nlattice point in d\u2206 lies in \u0393, i.e., \u0393 \u2229 ({d} \u00d7 Nd ) = ({d} \u00d7 d\u2206) \u2229 ({d} \u00d7 Nd ).\nThen Proj k[\u0393] is the normal toric variety corresponding to \u2206.\n\u0003\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n5\n\nThe content of the statement is that Proj k[\u0393] is normal, and this is a\nconsequence of fact that the semigroup ring k[\u0393d ] is normal, where \u0393d \u2286 \u0393\nis the sub-semigroup generated by \u0393 \u2229 ({d} \u00d7 Nd ) and the polytope \u2206 is\nd-dimensional (see, e.g., [BG, Corollary 7.45] for a finer criterion). It follows\nthat Proj k[\u0393] \u223c\n= Proj k[\u0393d ].\nRemark 2.4. While Proj k[\u0393] is normal in the situation of Lemma 2.3, it\nneed not be projectively normal-that is, the semigroup \u0393 may not contain\nall the lattice points of Cone(\u0393). One has normality of the graded ring\nk[\u0393] when p(\u2206 \u2229 Zd ) = (p\u2206 \u2229 Zd ) for all p > 0, but this is far from true\nin general. See [BG], especially Chapter 2, for discussions of non-normal\nsemigroup rings.\nAnother normality criterion, with slightly weaker hypotheses than those\nof Lemma 2.3, is given in [CK, Corollary 3.7].\nRemark 2.5. It may be interesting to consider valuations with respect\nto different total orders on the lattice Zd ; one would need a variant of\nLemma 5.2 in order for the most general results of this paper to go through\n(e.g., Proposition 5.1). However, for valuations arising from the Okounkov\nconstruction (to be described in the next section), lexicographic order is the\nmost natural one to use. Since our emphasis in the present paper is on such\nvaluations, we shall work with lexicographic order exclusively.\n3. Okounkov bodies\nWe will be mainly interested in valuations which arise from a geometric\nconstruction; see [LM] for a more detailed description. Let X be a projective\nvariety of dimension d, and let Y\u2022 be a flag of subvarieties; recall that this\nmeans each Yi has codimension i, and is nonsingular at the point Yd . (In\n[LM], the condition that Yd be a nonsingular point defines an admissible\nflag, but we will not consider flags without this condition.) Let L be a line\nbundle on X, and let V \u2286 H 0 (X, L) be a linear system. For each m \u2265 0, let\nV m be the\nof Symm V under the naturalLmap to H 0 (X, L\u2297m ). Thus\nL image\nm\nR(V ) =\nV is a subring of the section ring\nH 0 (X, L\u2297m ).\nThe valuation \u03bd = \u03bdY\u2022 is defined as follows. For f \u2208 V m , set \u03bd1 = \u03bd1 (f ) =\nordY1 (f ). Let y1 be a local equation for Y1 , and let f1 be the restriction\nof f * y1\u2212\u03bd1 to Y1 . Now set \u03bd2 = \u03bd2 (f ) = ordY2 (f1 ), and repeat, defining \u03bdr\nsimilarly for each Yr .\nRemark 3.1. Appropriately identifying V with a subspace of the field K =\nK(X) of rational functions on X, \u03bd extends to a valuation on K in the sense\nof \u00a72.\nWhen the constructions of \u00a72 are applied to this situation, with \u03bd = \u03bdY\u2022 ,\nwe will often write \u0393\u03bd (V ) = \u0393Y\u2022 (V ) and \u2206\u03bd (V ) = \u2206Y\u2022 (V ), and call the latter\nthe Okounkov body associated to V . In this sense, Okounkov bodies are\nspecial cases of Newton-Okounkov convex bodies.\n\n\f6\n\nDAVE ANDERSON\n\nThe following fact will play a key role in the toric degenerations constructed in \u00a75:\nLemma 3.2 ([Ok1, \u00a72.3], [LM, Lemma 1.3]). Let V \u2286 H 0 (X, L) be any\nsubspace, and let Y\u2022 be a (complete) flag, inducing a valuation \u03bdY\u2022 . For\nu \u2208 Zd , set V\u2265u = {f \u2208 V | \u03bdY\u2022 (f ) \u2265 u}, and define V>u similarly. Then\ndim(V\u2265u /V>u ) \u2264 1.\n\u0003\nIn this lemma, X need not be projective, and V need not be finitedimensional. However, the claim is particular to valuations arising from\ncomplete flags Y\u2022 ; the analogous statement does not hold for the zero valuation, for example, or for any valuation defined by an incomplete flag [LM,\nRemark 1.4].\nRemark 3.3. In [LM], arbitrary graded linear series are considered. These\nare spaces of sections V\u2022 , with Vm \u2286 H 0 (X, L\u2297m ), satisfying Vl * Vm \u2286\nVl+m . In this generality, one can construct any Newton-Okounkov body as\nan Okounkov body for some graded linear series, so the two perspectives\nare essentially equivalent, at least for valuations arising from complete flags.\nHere, however, we will only use linear series which are \"generated in degree\n1\"-that is, Vm = V m .\n4. Maximal divisors and finite generation\nContinuing the notation of \u00a73, let Y\u2022 be a flag in X, and let \u03bd = \u03bdY\u2022 be the\nassociated valuation. Here we give several criteria for the semigroup \u0393\u03bd (V )\nto be finitely generated. We first set up some further notation for use in this\nsection.\nFor 0 \u2264 r \u2264 d, let pr : Zd \u2192 Zr be the projection on the first r coordinates,\nand let \u03bd|r = (\u03bd1 , . . . , \u03bdr ) be the composition of \u03bd with pr . For a linear system\nV , let\n\u0393\u03bd |r (V ) = {(m, \u03bd|r (f )) | f \u2208 V m } = (id \u00d7 pr )(\u0393\u03bd (V )) \u2282 Z \u00d7 Zr .\nWe will also need some notation for certain restricted linear systems, using\na construction from [Jo]. Given an effective divisor E, consider the map\nH 0 (X, L \u2297 O(\u2212E)) \u2192 H 0 (X, L) arising from the section of O(E) defining\nE. Write V \u2212 E \u2286 H 0 (X, L \u2297 O(\u2212E)) for the inverse image of V under this\nmap.\nNow fix a flag Y\u2022 . Given an r-tuple of integers a = (a1 , . . . , ar ), define\nV (a) \u2286 H 0 (Yr , L \u2297 O(\u2212a1 Y1 \u2212 * * * \u2212 ar Yr )|Yr )\ninductively as the image of V (a1 , . . . , ar\u22121 )\u2212ar Yr \u2286 H 0 (Yr\u22121 , L\u2297O(\u2212a1 Y1 \u2212\n* * * \u2212 ar\u22121 Yr\u22121 )|Yr\u22121 \u2297 O(\u2212ar Yr )) under the restriction map from Yr\u22121 to Yr .\nFinally, a linear system V is said to be saturated with respect to a divisor\nY if the set {ordY (f ) | f \u2208 V } is a complete interval, i.e., it is equal to\n[amin , amax ] \u2282 Z.\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n7\n\nOur first criterion for finite generation is simple, but useful; its proof is\nimmediate from Lemma 2.2.\nProposition 4.1. Suppose the Okounkov body \u2206Y\u2022 (V ) is equal to the convex\nhull of the lattice points \u03bd(V ) \u2286 Zd . Then \u0393\u03bd (V ) is finitely generated.\n\u0003\nExample 4.2. Let X be a smooth projective curve of genus g, with the\nflag Y\u2022 given by X \u220b P for a point P . Let L be a line bundle of degree\nn \u2265 2g + 1. Then the Okounkov body \u2206Y\u2022 (V ) is the interval [0, n], so the\nhypothesis of Proposition 4.1 holds (for the complete linear system) exactly\nwhen there is a section vanishing to order n at P , that is, when L \u223c\n= O(nP ).\nIn fact, a partial converse to the proposition holds in this case: \u0393\u03bd (V ) is\n(finitely) generated by elements of degree 1 only if L \u223c\n= O(nP ).\nTo generalize the situation of Example 4.2 to higher dimensions, we introduce some terminology. Recall that the cone of pseudoeffective divisors\non a variety X is the closed convex hull of all numerical classes of effective\ndivisors in the N\u00e9ron-Severi space N 1 (X)R (see [La, \u00a72]). A facet of a convex\ncone is the intersection of the cone with a supporting hyperplane.\nDefinition 4.3. Let V \u2286 H 0 (X, L) be a linear system, and fix a prime\ndivisor Y \u2286 X. Consider an effective divisor aY + b1 B1 + * * * + bk Bk +\ne1 E1 + * * * + el El in V , written as a sum of irreducible components with\nmultiplicities. The divisor is maximal (in V with respect to Y ) if each\ncomponent bi Bi is contained in the base scheme of V , and the classes of the\nEi lie in a facet of the pseudoeffective cone Eff(X) not containing the class\nof Y .\nExample 4.4. Let X be an elliptic curve, let P \u2208 X be a point, and let\nV = H 0 (X, O(3P )). Then P is maximal with respect to P \u2032 if and only if\nP \u2032 is an inflection point for the embedding by 3P , i.e., if O(3P \u2032 ) \u223c\n= O(3P ).\n\u2032 + Q\u2032 ) for some point Q\u2032 6= P \u2032 , and 2P \u2032 + Q\u2032\n(Otherwise, O(3P ) \u223c\nO(2P\n=\nis not maximal, since P \u2032 \u2261 Q\u2032 in N 1 (X).) On the other hand, let P \u2032 be a\ngeneral point, and suppose V \u2286 H 0 (X, O(3P )) = H 0 (X, O(2P \u2032 + Q\u2032 )) is the\nsubspace of sections vanishing at Q\u2032 . Then 2P \u2032 + Q\u2032 is maximal in V with\nrespect to P \u2032 .\nExample 4.5. Let X = C \u00d7 C be a product of elliptic curves. Choose\npoints p1 , p2 \u2208 C, and write C1 = {p1 } \u00d7 C and C2 = C \u00d7 {p2 }. The divisor\n3C1 + 3C2 is maximal in V = H 0 (X, O(3C1 + 3C2 )) with respect to C1 or\nC2 . (Here the cone Eff(X) is equal to the nef cone. This is a round cone\nbounded by classes \u03b1 such that (\u03b12 ) = 0, so the facets are just the extremal\nrays. Since (C22 ) = 0, its class lies on a facet not containing C1 .)\nOn the other hand, let V = H 0 (X, O(3C1 +3C2 )) as before, and let \u03b4 \u2286 X\nbe the diagonal. One can find divisors \u03b4 + D in V , for some effective D, but\nthese are not maximal with respect to \u03b4. (Indeed, D \u2261 3C1 + 3C2 \u2212 \u03b4 in\nN 1 (X), so (D 2 ) = 3 > 0 and therefore the components of D do not lie\non a single facet of Eff(X).) In the linear system V , there are no effective\n\n\f8\n\nDAVE ANDERSON\n\ndivisors of order greater than 1 along \u03b4, since 2\u03b4 + D \u2261 3C1 + 3C2 implies\n(D 2 ) = \u22123 < 0. Thus there are no maximal divisors in V with respect to \u03b4.\nWe now record some basic facts about maximal divisors. The nomenclature is justified by the first lemma:\nLemma 4.6. Let D = a1 D1 + * * * + ak Dk be an effective divisor with irreducible components Di , which is maximal in V \u2286 H 0 (X, D) with respect\nto D1 ; and let t \u2208 V be any section, defining a linearly equivalent effective\ndivisor b1 D1 + E. Then b1 \u2264 a1 .\nProof. Suppose D2 , . . . , Dj are the components of D with ai Di \u2286 Bs(V ).\nSince a2 D2 + * * * + aj Dj \u2286 Bs(V ), we can write E = b2 D2 + * * * + bj Dj + E \u2032 ,\nwith bi \u2265 ai . The effective divisor E \u2032 is linearly equivalent to (a1 \u2212 b1 )D1 +\n(a2 \u2212 b2 )D2 + * * * + (aj \u2212 bj )Dj + aj+1 Dj+1 + * * * + ak Dk . The claim follows\nfrom Lemma 4.7 below, using the assumption that D is maximal and the\n\u0003\nfact that Eff(X) is a pointed cone [LM, Lemma 4.6].\nLemma 4.7. Let \u03c3 be a P\npointed convex\ncone in a (real or rational) vector\nP\nspace. Suppose v = cu + di vi + ej wj lies in \u03c3, along with the vectors\nu, vi , and wj . If the wj lie in a facet of \u03c3 not containing u, and all di \u2264 0,\nthen c \u2265 0.\nProof. Take a functional \u03c6 defining a hyperplane supporting the facet containing the\nP wj , so \u03c3 \u2286 {\u03c6 \u2265 0} and \u03c6(wi ) = 0 for all j. Then \u03c6(v) =\nc\u03c6(u) + di \u03c6(vi ) \u2265 0 implies c \u2265 0.\n\u0003\n\nThe next lemma is an immediate consequence of the additivity properties\nof base loci:\nLemma 4.8. Fix prime divisors D1 , . . . , Dk . Suppose D = a1 D1 +* * *+ak Dk\nis maximal in V \u2286 H 0 (X, D) and D \u2032 = a\u20321 D1 + * * * + a\u2032k Dk is maximal in\nV \u2032 \u2286 H 0 (X, D \u2032 ), both with respect to D1 . Then D + D \u2032 is maximal in\nV * V \u2032 \u2286 H 0 (X, D + D \u2032 ) with respect to D1 . In particular, for any section\nt \u2208 V * V \u2032 , we have ordD1 (t) \u2264 a1 + a\u20321 .\n\u0003\nNow fix a flag Y\u2022 . Suppose V contains a maximal divisor D with respect to\nY1 , and also contains a section not vanishing along Y1 . It follows immediately\nfrom Lemmas 4.6 and 4.8, together with Lemma 2.2, that the semigroup\n\u03931 := \u0393\u03bd |1 (V ) is finitely generated. Indeed, Cone(\u03931 ) \u2286 R \u00d7 R is generated\nby (1, 0) and (1, a), where a is the coefficient of Y1 in the maximal divisor\nD.\nIn order to extend this to the semigroups \u0393v |r (V ) for r > 1, we define\nsome conditions on (restricted) linear systems.\nDefinition 4.9. Given two linear systems V \u2286 H 0 (X, L) and W \u2286 H 0 (X, M),\nand an integer r with 1 \u2264 r \u2264 d, consider the following conditions:\n(i) For each a \u2208 \u03bd|r\u22121 (V ), V (a) contains a maximal divisor, as well as\na section that does not vanish at the point Yd ; and similarly for each\nb \u2208 \u03bd|r\u22121 (W ).\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n9\n\n(ii) For each c \u2208 \u03bd|r\u22121 (V ) + \u03bd|r\u22121 (W ), there is a divisor in V (a) * W (b)\nwhich is maximal in (V * W )(c), for some a + b = c.\n(iii) For each a \u2208 \u03bd|r\u22121 (V ) and b \u2208 \u03bd|r\u22121 (W ), the linear systems V (a)\nand W (b) are saturated with respect to Yr .\nWe say condition Cr (V, W ) holds if (i) and (ii) hold. We say the condition\nDr (V, W ) holds if (i), (ii), (iii), and Dr\u22121 (V, W ) hold.\nProposition 4.10. Suppose Cr (V, W ) holds, and \u03bd|r\u22121 (V *W ) = \u03bd|r\u22121 (V )+\n\u03bd|r\u22121 (W ). Then Conv(\u03bd|r (V * W )) = Conv(\u03bd|r (V )) + Conv(\u03bd|r (W )).\nSuppose, additionally, that the saturation condition (iii) holds. Then\n\u03bd|r (V * W ) = \u03bd|r (V ) + \u03bd|r (W ).\nProof. Given (c1 , . . . , cr ) \u2208 \u03bd|r (V * W ), write c = (c1 , . . . , cr\u22121 ). Find a \u2208\n\u03bd|r\u22121 (V ) and b \u2208 \u03bd|r\u22121 (W ) such that a + b = c, and such that V (a) * W (b)\ncontains a divisor which is maximal in (V * W )(c). Such a divisor is also\nmaximal in V (a) * W (b), and therefore its order of vanishing along Yr is\nequal to amax\n+bmax\n, where amax\nand bmax\nare the orders of maximal divisors\nr\nr\nr\nr\nin V (a) and W (b), respectively. It follows that cr \u2264 cmax\n:= amax\n+ bmax\n,\nr\nr\nr\nproving the first statement.\nIf V (a) and W (b) are saturated, then for each cr in the interval [0, cmax\n],\nr\nthere are sections s \u2208 V (a) and t \u2208 W (b) with ordYr (s) = ar , ordYr (t) = br ,\nand ar + br = cr . These correspond to points (a, ar ) \u2208 \u03bd|r (V ) and (b, br ) \u2208\n\u03bd|r (W ) with (a, ar ) + (b, br ) = (c, cr ), so the second statement follows. \u0003\nFrom the inductive nature of condition Dr (V, W ), we have the following:\nCorollary 4.11. Suppose Dr (V, V m ) holds for all m \u2265 1. Then \u0393\u03bd |r (V ) is\ngenerated by {1} \u00d7 \u03bd|r (V ). In particular, if r = d, then the Okounkov body\n\u2206Y\u2022 (V ) is equal to the lattice polytope Conv(\u03bd(V )).\n\u0003\n5. Degenerations\nReturn to the general setup of \u00a72. We have a filtration of R = R(V )\nindexed by \u0393 = \u0393\u03bd (V ), since R\u2264(m,u) \u2286 R\u2264(m\u2032 ,u\u2032 ) whenever (m, u) \u2264 (m\u2032 , u\u2032 ).\nLet\nM\ngr R =\nR\u2264(m,u) /R<(m,u)\n(m,u)\u2208\u0393\n\nbe the associated graded; this is a \u0393-graded ring. Our first observation is that\nthe degenerations constructed in [Ca] and [AB] generalize to this setting.\nProposition 5.1. Let R = R(V ), and assume that gr R is finitely generated\n(so \u0393 = \u0393\u03bd (V ) is also finitely generated). Then there is a finitely generated,\nN-graded, flat k[t]-subalegbra R \u2286 R[t], such that\n\u2022 R/tR \u223c\n= gr R and\n\u2022 R[t\u22121 ] \u223c\n= R[t, t\u22121 ] as k[t, t\u22121 ]-algebras.\n\n\f10\n\nDAVE ANDERSON\n\nMore specifically, there is a linear projection \u03c0 : Z \u00d7 Zd \u2192 Z, inducing an\nN-filtration R\u2264k \u2286 R whose associated graded is gr R. The Rees algebra\nM\nR=\n(R\u2264k ) tk\nk\u22650\n\nfor this filtration satisfies the required\nL properties.\nFinally, the N-grading on R =\nV m is compatible with the one on R\n(via powers of t), so in fact R is naturally (N \u00d7 N)-graded.\nThe proposition is proved by imitating the proof of [AB, Proposition 2.2],\nwhich in turn is based on [Ca, \u00a73.2]. We repeat the arguments here, since\nwe will adapt some of them for Proposition 5.16.\nFirst, we need a lemma.\nLemma 5.2. Let S be a finite subset of Z \u00d7 Zd . Then there is a linear\nprojection \u03c0 : Z \u00d7 Zd \u2192 Z such that \u03c0(m, u) < \u03c0(n, v) whenever (m, u) <\n(n, v) in S (using the modified lexicographic order on Z \u00d7 Zd , from \u00a72).\nThis is a standard fact, and can be found in [Ba, Proposition 1.8] or [Ca,\nLemma 3.2]. Its proof is simple:\nProof. Let C be a positive integer larger than all coordinates of (m, u) \u2212\n(n, v), for every pair of elements (m, u), (n, v) \u2208 S, and let \u03b10 , . . . , \u03b1d be\nchosen so that \u03b1k > C(\u03b1k+1 + * * * + \u03b1d ) for each k \u2265 0. Then \u03c0 = \u03b10 e\u22170 \u2212\nPd\n\u2217\n\u2217\nd\n\u0003\ni=1 \u03b1i ei does the trick, where ei : Z \u00d7 Z \u2192 Z is the ith coordinate.\nWe now prove the proposition. Simultaneously, we will give a presentation\nfor the ring R.\nProof of Proposition 5.1. Choose homogeneous generators f 1 , . . . , f p for gr R,\nwith deg(f i ) = (mi , ui ) \u2208 \u0393 \u2286 N \u00d7 Zd . Lift these to generators f1 , . . . , fp\nfor R, with fi \u2208 V mi . Set S = k[x1 , . . . , xp ], and give S a grading by\ndeg(xi ) = (mi , ui ); thus the surjective map S \u2192 gr R defined by xi 7\u2192 f i\nis a map of graded rings. Let g1 , . . . , g q \u2208 S be homogeneous generators of\nthe kernel, and set deg(g j ) = (nj , vj ). It follows that g j (f1 , . . . , fp ) lies in\nR<(nj ,vj ) for each j. Since this space is finite-dimensional and \u0393<(nj ,vj ) is\nfinite, one can find elements gj in g j + S<(nj ,vj ) such that gj (f1 , . . . , fp ) = 0.\nThe gj will not be homogeneous for the full N\u00d7Zd grading of S, but since the\nfi are homogeneous for the first (N) factor, the gj can be chosen to respect\nthe N-grading as well. (This means gj lies in (Snj )>vj , where Sm denotes\nthe piece of S with N-degree m.)\nWe now claim that the induced map S/(g1 , . . . , gq ) \u2192 R is an isomorphism. To see this, let I denote the kernel of the map S \u2192 R, and let J\nbe the kernel of S \u2192 gr R. Then gj \u2208 I by construction, and the initial\nterms gj generate J; we only need to show that the gj 's generate I. In\nfact, J is the initial ideal of I, using the term order determined by the ora\nb\nder on Z \u00d7 Zd . (Specifically, the term order is xa11 * * * xpp \u2264 xb11 * * * xpp iff\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n11\n\nP\n\nP\nai (mi , ui ) \u2264\nbi (mi , ui ). Note that we allow ties between monomials in\nthis notion of term order.) Indeed, the inclusion J \u2286 in(I) is clear; and given\nan element h \u2208 I, the equality h(f1 , . . . , fp ) = 0 implies h(f 1 , . . . , f p ) = 0,\nso the initial term h lies in J. It follows that the gj 's form a Gr\u00f6bner basis\nfor I, using, e.g., [Ei, Exercise 15.14(a)], and in particular they generate the\nideal.\nIt is a standard fact that Gr\u00f6bner bases give rise to flat degenerations,\nbut for later use, it will be convenient to recall the construction. To do\nthis, let (n\u2032j , vj\u2032 ) be a degree of some homogeneous component of gj \u2212 gj , so\n(n\u2032j , vj\u2032 ) < (nj , vj ); consider the difference (nj , vj ) \u2212 (n\u2032j , vj\u2032 ). (The choice of\ngj actually means n\u2032j = nj , but we will preserve the notation for clarity.) Let\nS \u2286 Z \u00d7 Zd be the finite set consisting of such differences, together with 0\nand the d + 1 generators of N \u00d7 Nd . Using Lemma 5.2, choose \u03c0 : Z \u00d7 Zd \u2192 Z\npreserving order on S. Since each nonzero element of S is greater than 0,\n\u03c0 takes positive integer values on S r {0}, and therefore also takes positive\nvalues on the cone it spans; in particular, \u03c0 takes positive values on N \u00d7 Nd .\nTherefore, for each j, we have \u03c0(nj , vj ) > \u03c0(n\u2032j , vj\u2032 ) > 0-that is, the initial\nterm of gj with respect to the weighting of monomials defined by \u03c0 is exactly\ng j , the initial term with respect to the original order.\nNow let wi = \u03c0(mi , ui ) be the degree of xi under the weighting induced\nby \u03c0, let kj = \u03c0(nj , vj ), and set gej = \u03c4 kj gj (\u03c4 \u2212w1 x1 , . . . , \u03c4 \u2212wp xp ). Set\nR = S[\u03c4 ]/(e\ng1 , . . . , geq ).\n\nFrom the construction, this ring satisfies the properties specified in the\nproposition, where the k[t]-algebra structure is given by t 7\u2192 \u03c4 .\nThe ring R has two N-gradings, which we will call the \"m-grading\" and\nt-grading\". The first comes from the N-grading on S, which R inherits since\nthe e\ngj 's are homogeneous for this grading, of degree nj . The second, which\nwe will call the \"t-grading,\" is defined by giving xi degree wi , and \u03c4 degree\n1. Then \u03c4 \u2212wi xi has t-degree 0, so each gej is homogeneous for the t-grading,\nof degree kj .\nTo see how R arises as a Rees ring, as in [Ca, \u00a73.2] and [AB, proof of\nProp. 2.2], one can define an N-filtration by\nR\u2264k = Span{F = fia11 * * * fiass | \u03c0 \u25e6 \u03bdb(F ) \u2264 k},\n\nand this has the same associated graded gr R as the one from the \u0393-filtration.\nThe corresponding Rees ring is isomorphic to R; in fact, the presentation\ngiven above is a standard way of producing a Rees ring from a Gr\u00f6bner\nbasis (see,\nL e.g., [Ei, Theorem 15.17] or [BG, \u00a77.A]). Explicitly, the map\nS[\u03c4 ] \u2192 (R\u2264k )tk is given by xi 7\u2192 twi fi and \u03c4 7\u2192 t.\n\u0003\nExample 5.3. Suppose R = R(V ) is the ring k[x, y, z]/(g), where g =\nx3 + x2 z + xz 2 + y 3 , and the valuation is \u03bd(x) = 3, \u03bd(y) = 1, and \u03bd(z) = 0.\nThe ring is generated in degree 1, so the full N\u00d7Z degrees of the variables are\ndeg(x) = (1, 3), deg(y) = (1, 1), deg(z) = (1, 0). We can take \u03c0 : Z \u00d7 Z \u2192 Z\n\n\f12\n\nDAVE ANDERSON\n\nto be given by \u03c0(a, b) = 5a \u2212 b, so wx = \u03c0(1, 3) = 2, wy = \u03c0(1, 1) = 4, and\nwz = \u03c0(1, 0) = 5. The initial term of g is g = xz 2 + y 3 , which has weight\n\u03c0(3, 3) = 12. So\ng = \u03c4 12 (\u03c4 \u22126 x3 + \u03c4 \u22129 x2 z + \u03c4 \u221212 xz 2 + \u03c4 \u221212 y 3 )\ne\n= \u03c4 6 x3 + \u03c4 3 x2 z + xz 2 + y 3 .\n\nThe ring R is k[x, y, z, \u03c4 ]/(e\ng ), giving the flat degeneration of R to R/tR =\nk[x, y, z]/(xz 2 + y 3 ).\nGeometrically, Proposition 5.1 says there is a flat family of affine varieties\nb \u2192 A1 , such that the general fiber X\nbt is isomorphic to X\nb = Spec R(V ) for\nX\n\u2217\nb\nt 6= 0, and the zero fiber X0 has an action of the torus k \u00d7 (k\u2217 )d .\nThe first N-grading, coming from the grading of k[t], says that the family\nb and A1 .\nis equivariant for actions of k\u2217 on X\nTaking Proj with respect to the second N-grading, coming from the grading of R, we obtain a projective flat family X = Proj R \u2192 A1 , with general fiber isomorphic to X = X(V ) = Proj R(V ) and special fiber X0 =\nProj(gr R) equipped with an action of (k\u2217 )d . The k\u2217 action from the first\nN-grading descends, and X \u2192 A1 is equivariant for this k\u2217 action.\nAs in [AB, Theorem 3.2], the polarization of X also deforms. The Rmodule R(1) obtained by shifting the N-grading corresponds to the very\nample line bundle OX (1) embedding X in projective space, since by definition R is generated by its first graded piece. Similarly, shifting the grading\non gr R produces a sheaf OX0 (1), but this may not be locally free, since \u0393\n(and gr R) may not be generated in degree one.\nIn fact, letting (m1 , u1 ), . . . , (mp , up ) be the valuations of the generators\nf1 , . . . , fp chosen in the proof of Proposition 5.1, we get an embedding\nX \u0592\u2192 P(m1 , . . . , mp ) \u00d7 A1\ninto weighted projective space over A1 . Pulling back the Serre sheaf for\nweighted projective space, we obtain a sheaf OX (1) on X which restricts to\nOX (1) on the fibers Xt = X for t 6= 0, and to OX0 (1) at t = 0. There are\nanalogous sheaves OX (n) for all n \u2265 0, corresponding to higher shifts of the\ngrading. (Note, however, that OX (n) is not equal to OX (1)\u2297n in general.)\nFor n = lcm(m1 , . . . , mp ), the sheaf OX (n) is a very ample line bundle,\ncoming from the restriction of the generator of Pic(P(m1 , . . . , mp )).\nWe can summarize the above geometric interpretation of Proposition 5.1\nas follows. Let X be a projective variety with a very ample and normally\ngenerated line bundle L, with V = H 0 (X, L), so the section ring of L is\nequal to R(V ).\nCorollary 5.4. Given such a pair (X, L), assume the hypothesis of Proposition 5.1. There is a flat, projective morphism X \u2192 A1 , equivariant for an\naction of k\u2217 , such that the zero fiber X0 is equipped with an action of (k\u2217 )d ,\nand its complement Xr X0 is isomorphic to X \u00d7 (A1 r {0}). Moreover, there\nare sheaves OX (n) on X restricting to the line bundles L\u2297n on fibers Xt = X\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n13\n\n(n)\n\nfor t 6= 0, and restricting to sheaves L0 on X0 . For sufficiently divisible n,\nthese sheaves are very ample line bundles.\nIf, additionally, X is normal and X0 is reduced, then X is normal, and\nthe sheaves OX (n) are reflexive (and divisorial).\nProof. The statements in the first paragraph are direct translations of the\ncontent of Proposition 5.1, as explained above. Note that, in general, the\nsingular locus of X is contained in the union of the singular loci of Xt , for\nall t. For t 6= 0, this is obvious, since X is trivial away from 0. On the\nother hand, let A be a local ring of X at a point in the zero fiber which\nis nonsingular in X0 . Since X = Proj R is flat over A1 = Spec k[t], t is a\nnonzerodivisor in A. Since the point is nonsingular in X0 , the maximal ideal\nof the local ring A/(t) is generated by a regular sequence (a1 , . . . , adim X0 ).\nThen (t, a1 , . . . , adim X0 ) is a regular sequence generating the maximal ideal\nof A.\nIt follows that X is always R1 . When X is normal, the non-normal locus\nof X must be contained in the zero fiber. But if X0 is reduced, the local\nrings A/(t) are S1 , so the local rings A are S2 , and X is normal by Serre's\ncriterion (cf. [BH, Exercise 2.2.33]). The claim about reflexivity of OX (n) is\nproved as in [AB, Theorem 3.2].\n\u0003\nRemark 5.5. The limit X0 depends only on the valuation \u03bd, but the family\nitself depends on the choice of projection \u03c0 : Z \u00d7 Zd \u2192 Z.\nRemark 5.6. A version of Proposition 5.1 is stated in [KK1, \u00a75.6], where\nthe language of SAGBI bases is used. Degenerations to graded rings using\nmore general valuations were constructed by Teissier [Te, \u00a72], with a view toward resolution of singularities; the algebras he considers are not necessarily\nfinitely generated.\n0\nRemark 5.7. Given r linear systems V1 , . . . , Vr , with VL\ni \u2286 H (X, Li ), one\ncan form the multigraded section ring R(V1 , . . . , Vr ) = m\u2208Nr Vm , where\n1\nVm = V1m1 * V2m2 * * * Vrmr \u2286 H 0 (X, L\u2297m\n\u2297 * * * \u2297 L\u2297mr ). The Nr -graded\n1\nstructure of R gives rise to a multi-parameter \"degeneration in stages\" generalizing the Gelfand-Tsetlin degeneration of [KM]. The extended valuation\n\u03bdb is defined as in \u00a72, but now takes values in Nr \u00d7 Zd . One begins by considering R itself as an (Nr \u00d7 Zd )-graded (in fact, \u0393\u03bd -graded) ring, but with the\n(m, u)-component equal to zero for u 6= 0. Then one constructs a sequence\nof filtrations and associated graded rings\n\nR = gr(0) R, gr(1) R, . . . , gr(r) R = gr R.\nAt the jth stage, the subring of gr(j) R indexed by Nj \u00d7 {0} has a nontrivial\n\u0393-grading, while the subring indexed by {0} \u00d7 Nr\u2212j remains isomorphic to\nR(Vj+1 , . . . , Vr ). The details of the construction are straightforward but\nnotationally quite unwieldy, so we omit them.\nWhen the valuation comes from a complete flag, we obtain a toric degeneration. Let X be a projective variety, and let V \u2286 H 0 (X, L) be a linear\n\n\f14\n\nDAVE ANDERSON\n\nsystem. Let X(V ) = Proj R(V ) be the (closure of the) image of X under\nthe corresponding rational map to P(V ).\nTheorem 5.8. Fix a complete flag Y\u2022 on X, and let \u03bd = \u03bdY\u2022 be the associated\nvaluation. Assume \u0393 = \u0393\u03bd (V ) is finitely generated. Then X(V ) admits a flat\ndegeneration to the (not necessarily normal) toric variety X(\u0393) = Proj k[\u0393].\nSuppose Cone(\u0393) is generated by \u0393\u2229({1}\u00d7Nd ). If \u03bd(V d ) = d\u2206Y\u2022 (V )\u2229Zd ,\nthen X(\u0393) is normal; when V = H 0 (X, L) with L very ample and normally\ngenerated, the converse holds.\nProof. It suffices to show that the associated graded gr R is isomorphic to the\nsemigroup algebra k[\u0393]. By Lemma 3.2, R\u2264(m,u) /R<(m,u) = (V m )\u2265u /(V m )>u\nis one-dimensional when (m, u) \u2208 \u0393, and it is zero otherwise. Moreover, homogeneous elements of gr R are nonzerodivisors, since R\u2264(m,u) * R\u2264(m\u2032 ,u\u2032 ) 6\u2286\nR<(m+m\u2032 ,u+u\u2032 ) , as one sees from the additivity of the valuation \u03bd. It follows\nthat gr R \u223c\n= k[\u0393] (see [BG, Remark 4.13]).\nThe second statement is an immediate consequence of Lemma 2.3. The\nonly possible exception to the \"converse\" statement happens when \u0393 generates a proper sublattice of Z\u00d7Zd ; however, by [LM, Lemma 2.2], this cannot\noccur for complete linear series.\n\u0003\nNote that the condition Dd (V, V m ) for all m \u2265 0 implies all the hypotheses\nof the theorem.\nExample 5.9. Let X be an elliptic curve, with flag Y\u2022 given by X \u220b P\nfor some point P . Take V = H 0 (X, OX (3P )), giving the cubic embedding\nin P2 . Then Dd (V, V m ) holds for all m \u2265 0 (with respect to Y\u2022 ), and one\nsees that the semigroup \u0393 \u2282 N \u00d7 Z is generated by (1, 0), (1, 1), and (1, 3).\n(See Figure 1(a).) The curve X degenerates to a cuspidal cubic curve (with\nits toric structure). For the curve X = {x3 + x2 z + xz 2 + y 3 = 0} \u2286 P2 ,\nwith inflection point P = [0, 0, 1], the algebra of the degeneration is given in\nExample 5.3.\nExample 5.10 ([LM, Ex. 1.7]). Take X to be an elliptic curve and V =\nH 0 (X, O(3P )) as before, but using a general point P \u2032 \u2208 X to define the flag.\nThe semigroup is \u0393P \u2032 (V ) = {(0, 0)} \u222a {(m, r) | 0 \u2264 r \u2264 3m \u2212 1} \u2282 N \u00d7 Z,\nwhich is not finitely generated: every lattice point on the line r = 3m \u2212 1 is\nneeded to generate \u0393. (Figure 1(b).)\nRemark 5.11. Examples 5.9 and 5.10 work just as well for any smooth\nprojective curve, using a very ample linear system V ([LM, Ex. 1.7]).\nThe construction of Proposition 5.1 is functorial, in a sense to be made\nprecise by Proposition 5.16. For this, we need to define two notions of\ncompatibility. First, let M be a finitely generated free abelian group. Suppose L\nthe vector space V is M -graded, i.e., we are given a decomposition\nV = \u03bb\u2208M V\u03bb , and that the kernel of the natural map Sym\u2022 V \u2192 R(V ) is\nhomogeneous, so the grading on V defines one on R. (This M -grading is\nindependent of the standard N-grading on R.)\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\ne0\n\n15\n\ne0\ne1\n\ne1\n\n(a)\n\n(b)\n\nFigure 1. Semigroups \u0393\u03bd from Examples 5.9 and 5.10. (The\nstandard basis for Z\u00d7Z is {e0 , e1 }; the axes have been interchanged\nfor typographical convenience.)\nDefinition 5.12. The M -grading is compatible with a Zd -valuation \u03bd if for\nm and V m are M -graded subspaces\nall m \u2208 N and u \u2208 Zd , the subspaces V\u2265u\n>u\n(i.e., they have bases of M -homogeneous elements).\nm and V m are M -graded\nRemark 5.13. In fact, it suffices to require that V\u2265u\n>u\nas (m, u) ranges over a generating set for \u0393\u03bd \u2286 N \u00d7 Zd .\n\nSecond, let R and R\u2032 be N-graded rings, and consider a graded ring ho\u2032\nmomorphism \u03c6 : R \u2192 R\u2032 , with kernel J \u2286 R. Let h : Zd \u2192 Zd be a map of\nordered groups, with respect to the opposite lexicographic order; this makes\n\u2032\nid \u00d7 h : Z \u00d7 Zd \u2192 Z \u00d7 Zd into a map of ordered groups with respect to the\n\u2032\norder defined in \u00a72. Let \u03bd be a Zd -valuation on R, and \u03bd \u2032 be a Zd -valuation\non R\u2032 .\nDefinition 5.14. The valuations \u03bd and \u03bd \u2032 are compatible with \u03c6 and h if\nthe diagram\n\u03c6\nR r J \u2732 R\u2032 r {0}\n\u03bd\u2032\n\n\u03bd\n\u2744\n\nZd\n\n\u2744\n\nh \u2732 d\u2032\nZ\n\ncommutes.\nRemark 5.15. The requirement that h preserve the opposite lexicographic\norder is somewhat restrictive. For example, if d \u2265 d\u2032 and h is a coordinate\nprojection, then it must be the projection on the last d\u2032 factors.\nProposition 5.16. Let R = R(V ) and \u03bd be as in Proposition 5.1.\n(a) If R has an M -grading which is compatible with \u03bd, then the grading\nlifts to R, so R is (N \u00d7 M \u00d7 N)-graded.\n(b) Let V \u2032 , R\u2032 = R(V \u2032 ), and \u03bd \u2032 be as in Proposition 5.1, as well. Let\n\u2032\nh : Zd \u2192 Zd be a map of ordered groups, and let \u03c6 : R \u2192 R\u2032 be a\ngraded ring map arising from a linear map V \u2192 V \u2032 . Suppose these\n\u2032\nare compatible with \u03bd and \u03bd \u2032 . Then one can choose \u03c0 \u2032 : Z \u00d7 Zd \u2192 Z,\nand set \u03c0 = \u03c0 \u2032 \u25e6 (id \u00d7 h), such that the corresponding Rees rings\nR and R\u2032 both satisfy the properties specified in Proposition 5.1.\n\n\f16\n\nDAVE ANDERSON\n\nMoreover, there is an induced map of k[t]-algebras \u03a6 : R \u2192 R\u2032 ,\nwhich preserves the (N \u00d7 N)-gradings.\nProof. For (a), simply observe that by definition, R\u2264(m,u) is M -graded for\neach (m, u) \u2208 Z \u00d7 Zd ; therefore so is R\u2264k , once a projection \u03c0 is chosen.\nFor (b), apply Lemma 5.2 to the finite set S consisting of the elements\nused in the construction of R\u2032 , together with the images of those used in the\nconstruction of R under the map h. Since \u03c0 = \u03c0 \u2032 \u25e6 (id \u00d7 h), and \u03bd and \u03bd \u2032 are\n\u2032\nfor each k. The statement follows. \u0003\ncompatible, we have \u03c6(R\u2264k ) \u2286 R\u2264k\nThese notions of compatibility arise naturally when \u03bd = \u03bdY\u2022 .\nExample 5.17. Let T be a torus with character group M acting on X, let L\nbe a T -linearized line bundle, with the induced M -grading on H 0 (X, L), and\nlet V \u2286 H 0 (X, L) be an M -graded subspace. Let Y\u2022 be a flag of T -invariant\nsubvarieties. Then the M -grading is compatible with \u03bdY\u2022 .\nTo see this, first note that the maps H 0 (X, L)\u2297m \u2192 H 0 (X, L\u2297m ) are T equivariant for all m, and it follows that the map Sym\u2022 V \u2192 R(V ) defines\nan M -grading on R = R(V ). Next, observe that \u03bd(t * s) = \u03bd(s) for any\nsection s \u2208 H 0 (X, L) and any t \u2208 T . (This follows from the general fact\nthat ordD (g * s) = ordg\u22121 D (s) for any divisor D and any group action.)\nConsequently, for any T -invariant subspace V \u2286 H 0 (X, L) and any u \u2208 Zd ,\nthe subspace V\u2265u is also T -invariant. Replacing V with V m , we see that the\nM -grading is compatible.\nNow let (y1 , . . . , yd ) be a regular sequence at the point Yd , with (y1 , . . . , yr )\ndefining Yr for all 1 \u2264 r \u2264 d. Since the yi 's define a basis for the cotangent\nspace TY\u2217d X, the torus T acts on TYd X with weights \u2212\u03bb1 , . . . , \u2212\u03bbd . In fact,\nthe map Zd \u2192 M , ei 7\u2192 \u03bbi , gives a map T \u2192 (k \u2217 )d and defines an action of\nT on the limit toric variety X(\u2206Y\u2022 (V )).\nExample 5.18. Suppose V \u2032 \u0592\u2192 V is an inclusion which induces a birational\nmap X(V ) \u2192 X(V \u2032 ). Fix any flag Y\u2022 on X, and let h : Zd \u2192 Zd be the\nidentity. The corresponding ring map R(V \u2032 ) \u2192 R(V ) is compatible with \u03bd.\nMore specifically, let L be a very ample line bundle on X, set V =\nH 0 (X, L), and assume \u0393Y\u2022 (V ) is finitely generated. Let V \u2032 \u2286 V be a subspace such that the corresponding rational map \u03c6 : X \u2192 X \u2032 = X(V \u2032 ) is a birational morphism, and assume that \u0393Y\u2022 (V \u2032 ) is also finitely generated. Then\n\u2206Y\u2022 (V \u2032 ) \u2286 \u2206Y\u2022 (V ), and the birational morphism \u03c6 : X \u2192 X \u2032 degenerates\nto a birational morphism of toric varieties \u03c60 : X(\u2206Y\u2022 (V )) \u2192 X(\u2206Y\u2022 (V \u2032 )).\nThat is, there is a diagram\n\u03a6\n\n\u2732 X\u2032\n\n\u2732\n\n\u271b\n\nX\n\nA1 ,\nsuch that \u03a6t \u223c\n= \u03c6 for t 6= 0, and \u03a60 = \u03c60 .\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n17\n\nExample 5.19. Let R = R(V ), X = X(V ), and \u03bd = \u03bdY\u2022 . Let X \u2032 = Yr \u2286 X,\nso X \u2032 has dimension d \u2212 r, and define the restricted flag Y\u2022\u2032 to be X \u2032 = Yr \u2283\nYr+1 \u2283 * * * \u2283 Yd . Assume that X \u2032 is not contained in the base locus of V . Let\nJ \u2286 R be the (largest) homogeneous ideal of X \u2032 , and let \u03c6 : R \u2192 R\u2032 = R/J\nbe the natural map. Then \u03bdY\u2022 and \u03bdY\u2022\u2032 are compatible with \u03c6 and h, where\nh : Zd \u2192 Zd\u2212r is the projection on the last d \u2212 r coordinates.\n6. Examples\n6.1. Ruled surfaces. We use the conventions of [Ha, \u00a75.2]. Let \u03c0 : X =\nP(E) \u2192 C be ruled surface over a curve of genus g, normalized so that\nH 0 (C, E \u2297 L) = 0 for any line bundle L of negative degree on C. Let e =\n\u2212 deg(E); we will assume e \u2265 0 here. Let C0 be a section of \u03c0 corresponding\nto OP(E) (1). Fix a point p \u2208 C, and let F = \u03c0 \u22121 (p) be the fiber. A divisor\nD = aF + bC0 is effective iff a, b \u2265 0, and nef iff 0 \u2264 b \u2264 ae .\nLet Y\u2022 be the flag X \u2283 F \u2283 {x}, where x = C0 \u2229 F . Fix a big divisor\nD = aF + bC0 ; this is maximal in its complete linear system with respect\nto F . Replacing D with a multiple if necessary, assume that be \u2265 2g,\nand O(D) is normally and globally generated. Set V = H 0 (X, O(D)), so\nV m = H 0 (X, O(mD)).\nProposition 6.1. Suppose a > be > 0, so D is ample. Then \u0393\u03bd (V ) is\nfinitely generated, and X degenerates to a toric variety whose normalization\nis isomorphic to the Hirzebruch surface Fe .\nProof. Using [LM, \u00a76.2], we find that the Okounkov body \u2206Y\u2022 (V ) is the\ntrapezoid with vertices at (0, 0), (0, b), (a, b), and (a \u2212 be, 0). It is wellknown that the toric variety corresponding to this polytope is Fe (see, e.g.,\n[Fu, \u00a71.1]). We will check that these four points occur as valuations of\nsections in V ; the claim then follows from Proposition 4.1.\nFirst, we have assumed O(D) is globally generated, so there is a section\nnot vanishing at x; this accounts for (0, 0). Since a > be \u2265 2g, the divisor\nOC (a * p) is globally generated, and it follows that D is linearly equivalent to\nE + bC0 , for some effective divisor E pulled back from C and not containing\nF ; the corresponding section has valuation (0, b). The section defining divisor\nD itself evaluates to (a, b).\nTo find a section with valuation (a \u2212 be, 0), note that be \u2265 2g implies\nthere is a point q 6= p with OC (be * p) \u223c\n= OC (be * q). It follows that D is\n\u2032\nlinearly equivalent to (a \u2212 be)F + beF + bC0 , so there are sections s with\n\u03bd1 (s) = a \u2212 be. Now C0 * (D \u2212 (a \u2212 be)F ) = C0 * (beF + bC0 ) = 0, so there\nis a section of O(D \u2212 (a \u2212 be)F ) not vanishing at x. The image of this\nsection under the map H 0 (X, O(beF \u2032 + bC0 )) \u2192 H 0 (X, O(D)) is the desired\nsection.\n\u0003\nA similar argument works when a \u2264 be, in which case X(V ) degenerates\nto a toric variety whose normalization is the cone over the rational normal\ncurve of degree e.\n\n\f18\n\nDAVE ANDERSON\n\n3\n2\n1\n0\n\n3\n2\n1\n0\n0 1 2 3\n\n\u03bd(V )\n\n6 7 8 9\n\n\u03bd(V 2 )\n\nFigure 2. Images of \u03bd for the linear system V of \u00a76.3.\n6.2. Abelian surfaces. Let X be an abelian surface with Picard number\nat least 3. Let C be a curve such that the line bundle O(C) is normally\ngenerated, and let C0 be a curve with (C02 ) = 0, not numerically equivalent\nto a multiple of C. Write n = (C 2 ) and m = (C * C0 ), so m > 0, and it\nfollows that D = C + C0 is ample. For the flag Y\u2022 , take X \u2283 C \u2283 {x}, where\nx \u2208 C \u2229 C0 .\nProposition 6.2. Assume that O(C)|C \u223c\n= OC (nx) and O(C0 )|C \u223c\n= OC (mx).\n0\nFor D = C + C0 , set V = H (X, O(D)). Then \u0393\u03bd (V ) is finitely generated,\nand X degenerates to a toric variety whose normalization is isomorphic to\nthe Hirzebruch surface Fn .\nProof. Note that D is maximal with respect to C, and the hypothesis means\nthat H 0 (C, D|C ) and H 0 (C, (D \u2212 C)|C ) both contain maximal divisors with\nrespect to x; namely, (n + m)x and mx, respectively. We see that \u03bd(V ) contains the points (0, 0), (1, 0), (0, n + m), and (1, m), and from the description\nof \u2206Y\u2022 (V ) given in [LM, Figure 1], these are the vertices of the Okounkov\nbody. The claim follows from Proposition 4.1.\n\u0003\n6.3. A counterexample. Fix a flag Y\u2022 on X and a linear system V \u2286\nH 0 (X, L). Suppose that for all 0 \u2264 r \u2264 d \u2212 1 and all a \u2208 \u03bd|r (V ), the restricted system a linear system V (a) contains a maximal divisor with respect\nto Yr+1 . It may still happen that \u03bd(V 2 ) ) 2 * \u03bd(V ).\nA simple example may be constructed as follows. On X = P1 \u00d7P1 , take the\nflag given by Y1 = {0}\u00d7P1 and Y2 = (0, 0). Choose coordinates {x, y} around\nthe point (0, 0), so Y1 has local equation {x = 0}, let V \u2286 H 0 (X, O(1, 3)) be\nthe four-dimensional subspace spanned by\n1, x, y + xy 3 , xy.\n(The image of X in P(V ) = P3 is a singular cubic surface.) One easily checks\nthat \u03bd(V ) and \u03bd(V 2 ) are as in Figure 2. In particular, using the notation of\n\u00a74, note that\nx * (y + xy 3 ) \u2212 1 * xy\n= y3\nx2\nlies in (V 2 )(2), but does not come from V (1)2 , so the condition C2 (V, V )\nfails.\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n(a)\n\n19\n\n(b)\n\nFigure 3. Okounkov bodies for GL3 /B and X(\u03b1, \u03b2, \u03b1)\n6.4. Bott-Samelson varieties. This example is intended for readers familiar with flag varieties and Bott-Samelson resolutions.\nLet B \u2286 GL3 be the subgroup of upper-triangular matrices, and let T be\nthe diagonal torus. Let \u03b1 = (1, \u22121, 0) and \u03b2 = (0, 1, \u22121) be the two simple\nroots. Set \u03b1 = (\u03b1, \u03b2, \u03b1), so we have a Bott-Samelson variety X = X(\u03b1) =\nP\u03b1 \u00d7B P\u03b2 \u00d7B P\u03b1 /B, together with a birational map \u03c6 : X \u2192 GL3 /B. In\nmatrix coordinates, this map is\n\uf8ee\uf8eb\n\uf8f6 \uf8eb\n\uf8f6 \uf8eb\n\uf8eb\n\uf8f6\uf8f9\n\uf8f6\nx 1\n1\nz 1\nxz + y x 1\n\uf8f0\uf8ed 1\n\uf8f8, \uf8ed\n\uf8f8\uf8fb 7\u2192 \uf8ed\n\uf8f8.\ny 1 \uf8f8, \uf8ed 1\nz\n1\n1\n1\n1\n1\nThe flag variety GL3 /B embeds in P2 \u00d7 P2 , and the restriction of O(1, 1)\nis a very ample line bundle L = L(\u03c1) on GL3 /B. Its sections correspond to\nsemistandard Young tableaux on the partition (2, 1); they are products of\nminors of the 3 \u00d7 3 matrix, with the rows of each minor indexed by a column\nof the tableau. To get sections of \u03c6\u2217 L, just take these minors of the matrix\n1 3\ngives [(xz +y)\u2212xz]*1 = y.\non the RHS above. For example, the tableau 2\nThe space U = H 0 (X, \u03c6\u2217 L) is eight-dimensional, with a basis given by the\nsections\n1, x, y, z, xz, yz, x(xz + y), y(xz + y).\nUsing the above matrix coordinates, take the flag Y\u2022 given by Y1 = {x = 0},\nY2 = {x = y = 0}, Y3 = {x = y = z = 0}.\nThe corresponding valuation \u03bd evaluates as follows on the sections of \u03c6\u2217 L:\ns\n1\nx\ny\nz\n\n\u03bd(s)\n(0, 0, 0)\n(1, 0, 0)\n(0, 1, 0)\n(0, 0, 1)\n\ns\n\u03bd(s)\nxz\n(1, 0, 1)\nyz\n(0, 1, 1)\nx(xz + y) (1, 1, 0)\ny(xz + y) (0, 2, 0).\n\nThe Okounkov body \u2206Y\u2022 (U ) is the convex hull of these eight points; see\nFirgure 3(a). This is the same polytope as the one described in [Go, Example\n\n\f20\n\nDAVE ANDERSON\n\n6.1]. Indeed, GL3 /B is isomorphic to P(TP2 ), the projectived tangent bundle\nof P2 . Up to a lattice isomorphism, the polytope may also be identified with\nthe Gelfand-Tsetlin polytope, and it was shown in [KM] that the flag varieties\nfor GLn degenerate to these toric varieties.\nFinally, let M = \u03c6\u2217 L \u2297 pr1\u2217 O(1), where pr1 : X \u2192 P\u03b1 /B \u223c\n= P1 is the projection. One can check that M is very ample on X, and that V = H 0 (X, M)\nhas a basis consisting of the eight sections spanning U , together with the five\nadditional ones obtained by multiplying by x. The corresponding Okounkov\nbody is shown in Figure 3(b). Note that this is isomorphic to the polytope\nappearing in [FK, Figure 2].\nRecently, Kaveh has given a different computation of Okounkov bodies on\nBott-Samelson varieties, identifying valuation vectors with lattice points in\nthe string cone and establishing a connection with the crystal basis [Ka2].\nNote that the flag used there is different from our Y\u2022 .\nReferences\n[AB]\n\nValery Alexeev and Michel Brion, \"Toric degenerations of spherical varieties,\"\nSelecta Math. (N.S.) 10 (2004), no. 4, 453\u2013478.\n[An]\nDave Anderson, \"Okounkov bodies of Bott-Samelson varieties,\" in preparation.\n[Ba]\nDavid Bayer, The Division Algorithm and the Hilbert Scheme, Ph.D. Thesis, Harvard University, 1982.\n[BG] Winfried Bruns and Joseph Gubeladze, Polytopes, rings, and K-theory, Springer,\nDordrecht, 2009.\n[BH] Winfried Bruns and J\u00fcrgen Herzog, Cohen-Macaulay Rings, revised edition, Cambridge University Press, Cambridge, 1998.\n[Ca]\nPhilippe Caldero, \"Toric degenerations of Schubert varieties,\" Transform. Groups\n7 (2002), no. 1, 51\u201360.\n[CK] James B. Carrell and Alexandre Kurth, \"Normality of torus orbit closures in G/P ,\"\nJ. Algebra 233 (2000), 122\u2013134.\n[Ei]\nDavid Eisenbud, Commutative Algebra, with a View Toward Algebraic Geometry,\nSpringer, 1995.\n[FK] Philip Foth and Sangjib Kim, \"Toric degenerations of Bott-Samelson varieties,\"\npreprint, arXiv:0905.1374v1 [math.AG].\n[Fu]\nWilliam Fulton, Introduction to Toric Varieties, Princeton, 1993.\n[GL] N. Gonciulea and V. Lakshmibai, \"Degenerations of flag and Schubert varieties to\ntoric varieties,\" Transform. Groups 1 (1996), no. 3, 215\u2013248.\n[Go]\nJos\u00e9 Luis Gonz\u00e1lez, \"Okounkov bodies on projectivizations of rank two toric vector\nbundles,\" J. Algebra 330 (2011), 322\u2013345.\n[Ha]\nRobin Hartshorne, Algebraic Geometry, Springer, 1977.\n[Jo]\nShin-Yao Jow, \"Okounkov bodies and restricted volumes along very general\ncurves,\" Adv. Math. 223 (2010), no. 4, 1356\u20131371.\n[Ka1] Kiumars Kaveh, \"SAGBI bases and degeneration of spherical varieties to toric\nvarieties,\" Michigan Math. J. 53 (2005), no. 1, 109\u2013121.\n[Ka2] Kiumars Kaveh, \"Crystal bases and Newton-Okounkov bodies,\" preprint,\narXiv:1101.1687v1 [math.AG].\n[KK1] Kiumars Kaveh and A. G. Khovanskii, \"Convex bodies and algebraic equations on\naffine varieties,\" preprint, arXiv:0804.4095v1 [math.AG].\n[KK2] Kiumars Kaveh and A. G. Khovanskii, \"Newton convex bodies, semigroups of\nintegral points, graded algebras and intersection theory,\" to appear in Ann. Math.\nPreprint available as arXiv:0904.3350v3 [math.AG].\n\n\fOKOUNKOV BODIES AND TORIC DEGENERATIONS\n\n21\n\n[KM]\n\nMikhail Kogan and Ezra Miller, \"Toric degeneration of Schubert varieties and\nGelfand-Tsetlin polytopes,\" Adv. Math. 193 (2005), no. 1, 1\u201317.\n[KLM] Alex K\u00fcronya, Victor Lozovanu, and Catriona Maclean, \"Convex bodies appearing\nas Okounkov bodies of divisors,\" Adv. Math. 229 (2012), no. 5, 2622\u20132639.\n[La]\nRobert Lazarsfeld, Positivity in algebraic geometry I: Classical setting: line bundles\nand linear series, Springer-Verlag, 2004.\n[LM] Robert Lazarsfeld and Mircea Musta\u0163\u0103, \"Convex bodies associated to linear series,\"\nAnn. Sci. \u00c9cole Norm. Sup. 42 (2009), no. 5, 783\u2013835.\n[Ok1] Andrei Okounkov, \"Brunn-Minkowski inequality for multiplicities,\" Invent. Math.\n125 (1996), no. 3, 405\u2013411.\n[Ok2] Andrei Okounkov, \"Multiplicities and Newton polytopes,\" Kirillov's seminar on\nrepresentation theory, 231\u2013244, in Amer. Math. Soc. Transl. Ser. 2, 181, Amer.\nMath. Soc., Providence, RI, 1998.\n[Te]\nBernard Teissier, \"Valuations, deformations, and toric geometry,\" in Valuation\ntheory and its applications, Vol. II (Saskatoon, SK, 1999), 361\u2013459, Fields Inst.\nCommun., 33, Amer. Math. Soc., Providence, RI, 2003.\nDepartment of Mathematics, University of Washington, Seattle, WA 98195,\nUSA\nE-mail address: dandersn@math.washington.edu\nFSMP\u2013Institut de Math\u00e9matiques de Jussieu, 75013 Paris, France\nE-mail address: andersond@math.jussieu.fr\n\n\f"}