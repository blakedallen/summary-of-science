{"id": "http://arxiv.org/abs/math/0601129v3", "guidislink": true, "updated": "2006-02-11T18:30:40Z", "updated_parsed": [2006, 2, 11, 18, 30, 40, 5, 42, 0], "published": "2006-01-06T20:44:15Z", "published_parsed": [2006, 1, 6, 20, 44, 15, 4, 6, 0], "title": "Operads and PROPs", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=math%2F0408195%2Cmath%2F0408342%2Cmath%2F0408381%2Cmath%2F0408252%2Cmath%2F0408355%2Cmath%2F0408379%2Cmath%2F0408153%2Cmath%2F0408099%2Cmath%2F0408336%2Cmath%2F0408273%2Cmath%2F0408432%2Cmath%2F0408409%2Cmath%2F0408026%2Cmath%2F0408177%2Cmath%2F0408423%2Cmath%2F0408040%2Cmath%2F0408171%2Cmath%2F0408298%2Cmath%2F0408287%2Cmath%2F0408312%2Cmath%2F0408289%2Cmath%2F0408331%2Cmath%2F0408390%2Cmath%2F0408404%2Cmath%2F0408311%2Cmath%2F0408279%2Cmath%2F0408011%2Cmath%2F0408157%2Cmath%2F0408057%2Cmath%2F0408427%2Cmath%2F0408307%2Cmath%2F0408249%2Cmath%2F0408402%2Cmath%2F0408165%2Cmath%2F0408149%2Cmath%2F0408158%2Cmath%2F0408218%2Cmath%2F0408125%2Cmath%2F0408395%2Cmath%2F0408391%2Cmath%2F0408240%2Cmath%2F0408038%2Cmath%2F0408089%2Cmath%2F0408349%2Cmath%2F0408365%2Cmath%2F0408371%2Cmath%2F0408233%2Cmath%2F0408217%2Cmath%2F0408105%2Cmath%2F0408288%2Cmath%2F0408044%2Cmath%2F0408204%2Cmath%2F0408358%2Cmath%2F0408271%2Cmath%2F0601362%2Cmath%2F0601731%2Cmath%2F0601628%2Cmath%2F0601764%2Cmath%2F0601193%2Cmath%2F0601532%2Cmath%2F0601615%2Cmath%2F0601310%2Cmath%2F0601467%2Cmath%2F0601319%2Cmath%2F0601598%2Cmath%2F0601081%2Cmath%2F0601507%2Cmath%2F0601769%2Cmath%2F0601733%2Cmath%2F0601528%2Cmath%2F0601230%2Cmath%2F0601548%2Cmath%2F0601690%2Cmath%2F0601645%2Cmath%2F0601750%2Cmath%2F0601293%2Cmath%2F0601165%2Cmath%2F0601468%2Cmath%2F0601587%2Cmath%2F0601313%2Cmath%2F0601130%2Cmath%2F0601516%2Cmath%2F0601720%2Cmath%2F0601626%2Cmath%2F0601279%2Cmath%2F0601463%2Cmath%2F0601388%2Cmath%2F0601206%2Cmath%2F0601464%2Cmath%2F0601590%2Cmath%2F0601103%2Cmath%2F0601453%2Cmath%2F0601666%2Cmath%2F0601129%2Cmath%2F0601005%2Cmath%2F0601280%2Cmath%2F0601535%2Cmath%2F0601503%2Cmath%2F0601760%2Cmath%2F0601192%2Cmath%2F0601088&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Operads and PROPs"}, "summary": "We review definitions and basic properties of operads, PROPs and algebras\nover these structures.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=math%2F0408195%2Cmath%2F0408342%2Cmath%2F0408381%2Cmath%2F0408252%2Cmath%2F0408355%2Cmath%2F0408379%2Cmath%2F0408153%2Cmath%2F0408099%2Cmath%2F0408336%2Cmath%2F0408273%2Cmath%2F0408432%2Cmath%2F0408409%2Cmath%2F0408026%2Cmath%2F0408177%2Cmath%2F0408423%2Cmath%2F0408040%2Cmath%2F0408171%2Cmath%2F0408298%2Cmath%2F0408287%2Cmath%2F0408312%2Cmath%2F0408289%2Cmath%2F0408331%2Cmath%2F0408390%2Cmath%2F0408404%2Cmath%2F0408311%2Cmath%2F0408279%2Cmath%2F0408011%2Cmath%2F0408157%2Cmath%2F0408057%2Cmath%2F0408427%2Cmath%2F0408307%2Cmath%2F0408249%2Cmath%2F0408402%2Cmath%2F0408165%2Cmath%2F0408149%2Cmath%2F0408158%2Cmath%2F0408218%2Cmath%2F0408125%2Cmath%2F0408395%2Cmath%2F0408391%2Cmath%2F0408240%2Cmath%2F0408038%2Cmath%2F0408089%2Cmath%2F0408349%2Cmath%2F0408365%2Cmath%2F0408371%2Cmath%2F0408233%2Cmath%2F0408217%2Cmath%2F0408105%2Cmath%2F0408288%2Cmath%2F0408044%2Cmath%2F0408204%2Cmath%2F0408358%2Cmath%2F0408271%2Cmath%2F0601362%2Cmath%2F0601731%2Cmath%2F0601628%2Cmath%2F0601764%2Cmath%2F0601193%2Cmath%2F0601532%2Cmath%2F0601615%2Cmath%2F0601310%2Cmath%2F0601467%2Cmath%2F0601319%2Cmath%2F0601598%2Cmath%2F0601081%2Cmath%2F0601507%2Cmath%2F0601769%2Cmath%2F0601733%2Cmath%2F0601528%2Cmath%2F0601230%2Cmath%2F0601548%2Cmath%2F0601690%2Cmath%2F0601645%2Cmath%2F0601750%2Cmath%2F0601293%2Cmath%2F0601165%2Cmath%2F0601468%2Cmath%2F0601587%2Cmath%2F0601313%2Cmath%2F0601130%2Cmath%2F0601516%2Cmath%2F0601720%2Cmath%2F0601626%2Cmath%2F0601279%2Cmath%2F0601463%2Cmath%2F0601388%2Cmath%2F0601206%2Cmath%2F0601464%2Cmath%2F0601590%2Cmath%2F0601103%2Cmath%2F0601453%2Cmath%2F0601666%2Cmath%2F0601129%2Cmath%2F0601005%2Cmath%2F0601280%2Cmath%2F0601535%2Cmath%2F0601503%2Cmath%2F0601760%2Cmath%2F0601192%2Cmath%2F0601088&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We review definitions and basic properties of operads, PROPs and algebras\nover these structures."}, "authors": ["Martin Markl"], "author_detail": {"name": "Martin Markl"}, "author": "Martin Markl", "arxiv_comment": "49 pages, to appear in Handbook of Algebra. More citations added", "links": [{"href": "http://arxiv.org/abs/math/0601129v3", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/math/0601129v3", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.AT", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.AT", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/math/0601129v3", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/math/0601129v3", "journal_reference": null, "doi": null, "fulltext": "arXiv:math/0601129v3 [math.AT] 11 Feb 2006\n\nOPERADS AND PROPS\nMARTIN MARKL\nAbstract. We review definitions and basic properties of operads, PROPs and algebras over\nthese structures.\n\nDedicated to the memory of Jakub Jan Ryba (1765\u20131815)\nOperads involve an abstraction of the family {Map(X n , X)}n\u22650 of composable functions of\nseveral variables together with an action of permutations of variables. As such, they were originally studied as a tool in homotopy theory, specifically for iterated loop spaces and homotopy\ninvariant structures, but the theory of operads has recently received new inspiration from homological algebra, category theory, algebraic geometry and mathematical physics. The name\noperad and the formal definition appear first in the early 1970's in J.P. May's book [86], but\na year or more earlier, M. Boardman and R. Vogt [9] described the same concept under the\nname categories of operators in standard form, inspired by PROPs and PACTs of Adams and\nMac Lane [67]. As pointed out in [62], also Lambek's definition of multicategory [60] (late 1960s)\nwas almost equivalent to what is called today a colored or many-sorted operad. Another important precursor was the associahedron K that appeared in J.D. Stasheff's 1963 paper [106]\non homotopy associativity of H-spaces. We do not, however, aspire to write an account on the\nhistory of operads and their applications here \u2013 we refer to the introduction of [83], to [89], [114],\nor to the report [105] instead.\nOperads are important not in and of themselves but, like PROPs, through their representations, more commonly called algebras over operads or operad algebras. If an operad is thought of\nas a kind of algebraic theory, then an algebra over an operad is a model of that theory. Algebras\nover operads involve most of 'classical' algebras (associative, Lie, commutative associative, Poisson, &c.), loop spaces, moduli spaces of algebraic curves, vertex operator algebras, &c. Colored\nor many-sorted operads then describe diagrams of homomorphisms of these objects, homotopies\nbetween homomorphisms, modules, &c.\nPROPs generalize operads in the sense that they admit operations with several inputs and several outputs. Therefore various bialgebras (associative, Lie, infinitesimal) are PROPic algebras.\nPROPs were also used to encode 'profiles' of structures in formal differential geometry [92, 93].\n\nBy the renaissance of operads we mean the first half of the nineties of the last century when\nseveral papers which stimulated the rebirth of interest in operads appeared [31, 34, 41, 45, 47,\n49, 72]. Let us mention the most important new ideas that emerged during this period.\nDate: January 25, 2006.\nThe author was supported by the grant GA \u010cR 201/05/2117 and by the Academy of Sciences of the Czech\nRepublic, Institutional Research Plan No. AV0Z10190503.\n1\n\n\f2\n\nM. MARKL\n\nFirst of all, operads were recognized as the underlying combinatorial structure of the moduli\nspace of stable algebraic curves in complex geometry, and of compactifications of configuration\nspaces of points of affine spaces in real geometry. In mathematical physics, several very important\nconcepts such as vertex operator algebras or various string theories were interpreted as algebras\nover operads. On the algebraic side, the notion of Koszulness of operads was introduced and\nstudied, and the relation between resolutions of operads and deformations of their algebras was\nrecognized. See [63] for an autochthonous account of the renaissance. Other papers that later\nbecame influential then followed in a rapid succession [30, 33, 32, 73, 75].\nLet us list some most important outcomes of the renaissance of operads. The choice of the material for this incomplete catalog has been of course influenced by the author's personal expertise\nand inclination towards algebra, geometry and topics that are commonly called mathematical\nphysics. We will therefore not be able to pay as much attention to other aspects of operads, such\nas topology, category theory and homotopy theory, as they deserve.\nComplex geometry. Applications involve moduli spaces of stable complex algebraic curves\nof genus zero [34], enumerative geometry, Frobenius manifolds, quantum cohomology and cohomological field theory [55, 71]. The moduli space of genus zero curves exhibits an additional\nsymmetry that leads to a generalization called cyclic operads [32]. Modular operads [33] then\ndescribe the combinatorial structure of the space of curves of arbitrary genus.\nReal geometry. Compactifications of configuration spaces of points in real smooth manifolds\nare operads in the category of smooth manifolds with corners or modules over these operads [76].\nThis fact is crucial for the theory of configuration spaces with summable labels [96]. The cacti\noperad [117] lies behind the Chas-Sullivan product on the free loop space of a smooth manifold [13], see also [14]. Tamarkin's proof of the formality of Hochschild cochains of the algebra of\nfunctions on smooth manifolds [110] explained in [40] uses obstruction theory for operad algebras\nand the affirmative answer to the Deligne conjecture [17, 56].\nMathematical physics. The formality mentioned in the previous item implies the existence\nof the deformation quantization of Poisson manifolds [54]. We must not forget to mention the\noperadic interpretation of vertex operator algebras [46], string theory [49] and Connes-Kreimer's\napproach to renormalization [15]. Operads and multicategories are important also for BeilinsonDrinfeld's theory of chiral algebras [6].\nAlgebra. Operadic cohomology [1, 26, 31, 34, 83] provides a uniform treatment of all 'classical'\ncohomology theories, such as the Hochschild cohomology of associative algebras, Harrison cohomology of associative commutative algebras, Chevalley-Eilenberg cohomology of Lie algebras, &c.\nMinimal models for operads [75] offer a conceptual understanding of strong homotopy algebras,\ntheir homomorphisms and homotopy invariance [80]. Operads serve as a natural language for\nvarious types of 'multialgebras' [64, 65]. Relation between Koszulness of operads and properties\nof posets was studied in [27]. Also the concept of the operadic distributive law turned out to be\nuseful [26, 74].\nModel structures. It turned out [8, 31, 39, 100] that algebras over a reasonable (possibly\ncolored) operad form a model category that generalizes the classical model structures of the\ncategories of dg commutative associative algebras and dg Lie algebras [95, 107]. Operads, in a\n\n\fOPERADS AND PROPS\n\n3\n\nreasonable monoidal model category, themselves form a model category [7, 31] such that algebras\nover cofibrant operads are homotopy invariant, see also [104]. Minimal operads mentioned in the\nprevious item are particular cases of cofibrant dg-operads and the classical W -construction [9] is\na functorial cofibrant replacement in the category of topological operads [116]. The above model\nstructures are important for various constructions in the homology theory of (free or based) loop\nspaces [14, 43] and formulations of 'higher' Deligne conjecture [44].\nTopology. Operads as gadgets organizing homotopy coherent structures are important in\nthe brave new algebra approach to topological Hochschild cohomology and algebraic K-theory,\nsee [22, 23, 90, 115], or [21] for a historical background. A description of a localized category of\nintegral and p-adic homotopy types by E\u221e -operads was given in [69, 70]. An operadic approach\nto partial algebras and their completions was applied in [58] to mixed Tate motives over the\nrationals. See also an overview [88].\nCategory theory. Operads and multicategories were used as a language in which to propose\na definition of weak \u03c9-category [3, 4, 5, 61]. Operads themselves can be viewed as special kinds\nof algebraic theory (as can multicategories, if one allows many-sorted theories), see [85]. There\nare also 'categorical' generalizations of operads, e.g. the globular operads of [2] and T -categories\nof [11]. An interesting presentation of PROP-like structures in enriched monoidal categories can\nbe found in [91].\nGraph Complexes. Each cyclic operad P determines a graph complex [33, 77]. As observed earlier by M. Kontsevich [52], these graph complexes are, for some specific choices of P, closely related\nto some very interesting objects such as moduli spaces of Riemann surfaces, automorphisms of\nfree groups or primitives in the homology of certain infinite-dimensional Lie algebras, see also [83,\nII.5.5]. In the same vein, complexes of directed graphs are related to PROPs [84, 111, 112, 113]\nand directed graphs with back-in-time edges are tied to wheeled PROPs introduced in [93].\nDeformation theory and homotopy invariant structures in algebra. A concept of homotopy\ninvariant structures in algebra parallel to the classical one in topology [9, 10] was developed\nin [80]. It was explained in [56, 73, 79] how cofibrant resolutions of operads or PROPs determine\na cohomology theory governing deformations of related algebras. In [81], deformations were identified with solutions of the Maurer-Cartan equation of a certain strongly homotopy Lie algebra\nconstructed in a very explicit way from a cofibrant resolution of the underlying operad or PROP.\n\u2013\u2013\u2013\u2013\u2013\nTerminology. As we already observed, operads are abstractions of families of composable\nfunctions. Given functions f : X \u00d7n \u2192 X and gi : X \u00d7ki \u2192 X, 1 \u2264 i \u2264 n, one may consider the\nsimultaneous composition\n(I)\n\nf (g1 , . . . , gn ) : X \u00d7(k1 +***+kn ) \u2192 X.\n\nOne may also consider, for f : X \u00d7n \u2192 X, g : X \u00d7m \u2192 X and 1 \u2264 i \u2264 n, the individual\ncompositions\n(II)\n\nf (id , * * * , id , g, id, * * * , id) : X \u00d7(m+m\u22121) \u2192 X,\n\nwith g at the ith place. While May's original definition of an operad [86] was an abstraction of\n\n\f4\n\nM. MARKL\n\ntype (I) compositions, there exist an alternative approach based on type (II) compositions. This\nsecond point of view was formalized in the 1963 papers by Gerstenhaber [29] and Stasheff [106].\nA definition that included the symmetric group action was formulated much later in the author's\npaper [75] in which the two approaches were also compared.\nIn the presence of operadic units, these approaches are equivalent. There are, however, situations where one needs also non-unital versions, and then the two approaches lead to different\nstructures \u2013 a non-unital structure of the second type always determines a non-unital structure\nof the first type, but not vice versa! It turns out that more common are non-unital structures\nof the second type; they describe, for example, the underlying combinatorial structure of the\nmoduli space of stable complex curves.\nWe will therefore call the non-unital versions of the first type of operads non-unital May's\noperads, while the second version simply non-unital operads. We opted for this terminology,\nwhich was used already in the first version of [75], after a long hesitation, being aware that it\nmight not be universally welcome. Note that non-unital operads are sometimes called (Markl's)\npseudo-operads [75, 83].\n\nOutline of the paper: 1. Operads \u2013 page 5\n2. Non-unital operads \u2013 page 11\n3. Operad algebras \u2013 page 15\n4. Free operads and trees \u2013 page 18\n5. Unbiased definitions \u2013 page 24\n6. Cyclic operads \u2013 page 27\n7. Modular operads \u2013 page 31\n8. PROPs \u2013 page 36\n9. Properads, dioperads and 21 PROPs \u2013 page 40\nReferences \u2013 page 45\nIn the first three sections we review basic definitions of (unital and non-unital) operads and\noperad algebras, and give examples that illustrate these notions. The fourth section describes\nfree operads and their relation to rooted trees. In the fifth section we explain that operads can\nbe defined as algebras over the monad of rooted trees. In the following two sections we show\nthat, replacing rooted trees by other types of trees, one obtains two important generalizations \u2013\ncyclic and modular operads. In the last two sections, PROPs and their versions are recalled; this\narticle is the first expository text where these structures are systematically treated.\nSections 1\u20133 are based on the classical book [86] by J.P. May and the author's article [75].\nSections 4\u20137 follow the seminal paper [34] by V. Ginzburg and M.M. Kapranov, and papers [32,\n33] by E. Getzler and M.M. Kapranov. The last two sections are based on the preprint [84] of\nA.A. Voronov and the author, and on an e-mail message [53] from M. Kontsevich. We were also\ninfluenced by T. Leinster's concept of biased versus un-biased definitions [61]. At some places,\nour exposition follows the monograph [83] by S. Shnider, J.D. Stasheff and the author.\n\n\fOPERADS AND PROPS\n\n5\n\nAcknowledgment. I would like to express my gratitude to Ezra Getzler, Tom Leinster, Peter\nMay, Jim Stasheff, Bruno Vallette and Rainer Vogt for careful reading the manuscript and many\nuseful suggestions. I would also like to thank the Institut des Hautes \u00c9tudes Scientifiques, Buressur-Yvette, France, for the hospitality during the period when this article was completed.\n1. Operads\nAlthough operads, operad algebras and most of related structures can be defined in an arbitrary symmetric monoidal category with countable coproducts, we decided to follow the choice\nof [58] and formulate precise definitions only for the category Modk = (Modk , \u2297) of modules over\na commutative unital ring k, with the monoidal structure given by the tensor product \u2297 = \u2297k\nover k. The reason for such a decision was to give, in Section 4, a clean construction of free\noperads. In a general monoidal category, this construction involves the unordered \u2299-product [83,\nDefinition II.1.38] so the free operad is then a double colimit, see [83, Section II.1.9]. Our choice\nalso allows us to write formulas involving maps in terms of elements, which is sometimes a welcome simplification. We believe that the reader can easily reformulate our definitions into other\nmonoidal categories or consult [83, 87].\nLet k[\u03a3n ] denote the k-group ring of the symmetric group \u03a3n .\nDefinition 1 (May's operad). An operad in the category of k-modules is a collection P =\n{P(n)}n\u22650 of right k[\u03a3n ]-modules, together with k-linear maps (operadic compositions)\n\u03b3 : P(n) \u2297 P(k1 ) \u2297 * * * \u2297 P(kn ) \u2192 P(k1 + * * * + kn ),\n\n(1)\n\nfor n \u2265 1 and k1 , . . . , kn \u2265 0, and a unit map \u03b7 : k \u2192 P(1). These data fulfill the following\naxioms.\nAssociativity. Let n \u2265 1 and let m1 , . . . , mn and k1 , . . . , km , where m := m1 + * * * + mn , be\nnon-negative integers. Then the following diagram, in which gs := m1 + * * * + ms\u22121 and hs =\nkgs +1 * * * + kgs+1 , for 1 \u2264 s \u2264 n, commutes.\n!\nm\nn\nm\nO\nO\nO\n\u03b3 \u2297 id\nP(m) \u2297\nP(kr )\nP(n) \u2297\nP(ms ) \u2297\nP(kr )\ns=1\n\nr=1\n\nr=1\n\n\u03b3\n\n?\n\nP(k1 + * * * + km )\n\nshuffle\n\n6\n\u03b3\n\n?\n\nP(n) \u2297\n\nn\nO\ns=1\n\nP(ms ) \u2297\n\nms\nO\nq=1\n\nP(kgs +q )\n\n!\n\nid \u2297 (\n\nNn\n\ns=1\n\n\u03b3)\n\n-\n\nP(n) \u2297\n\nn\nO\n\nP(hs )\n\ns=1\n\nEquivariance. Let n \u2265 1, let k1 , . . . , kn be non-negative integers and \u03c3 \u2208 \u03a3n , \u03c41 \u2208 \u03a3k1 , . . . , \u03c4n \u2208\n\u03a3kn permutations. Let \u03c3(k1 , . . . , kn ) \u2208 \u03a3k1 +***+kn denote the permutation that permutes n blocks\n\n\f6\n\nM. MARKL\n\n(1, . . . , k1 ), . . . , (kn\u22121 + 1, . . . , kn ) as \u03c3 permutes (1, . . . , n) and let \u03c41 \u2295 * * * \u2295 \u03c4n \u2208 \u03a3k1 +***+kn be the\nblock sum of permutations. Then the following diagrams commute.\nP(n) \u2297 P(k1 ) \u2297 * * * \u2297 P(kn )\n\n\u03c3 \u2297 \u03c3 \u22121\n\n-\n\nP(n) \u2297 P(k\u03c3(1) ) \u2297 * * * \u2297 P(k\u03c3(n) )\n\n\u03b3\n\n\u03b3\n\n?\n\n\u03c3(k\u03c3(1) , . . . , k\u03c3(n) )\n\nP(k1 + * * * + kn )\nP(n) \u2297 P(k1 ) \u2297 * * * \u2297 P(kn )\n\nid \u2297 \u03c41 \u2297 * * * \u2297 \u03c4n\n\n-\n\n?\n-\n\nP(k\u03c3(1) + * * * + k\u03c3(n) )\n\nP(n) \u2297 P(k1 ) \u2297 * * * \u2297 P(kn )\n\n\u03b3\n\n\u03b3\n\n?\n\nP(k1 + * * * + kn )\n\n?\n\n\u03c41 \u2295 * * * \u2295 \u03c4n\n\n-\n\nP(k1 + * * * + kn )\n\nUnitality. For each n \u2265 1, the following diagrams commute.\n\u223c\n=\n\n- P(n)\n3\n\u0011\n\u0011\n\u03b3\n\u0011\n\u0011\n\u0011\n\u0011\n\nP(n) \u2297 k\u2297n\nid \u2297 \u03b7 \u2297n\n\n?\n\n\u2297n\n\nP(n) \u2297 P(1)\n\n\u03b7 \u2297 id\n\n?\n\n\u223c\n=\n\n- P(n)\n3\n\u0011\n\u0011\n\u03b3\n\u0011\n\u0011\n\u0011\n\u0011\n\nk \u2297 P(n)\n\nP(1) \u2297 P(n)\n\nA straightforward modification of the above definition makes sense in any symmetric monoidal\ncategory (M, \u2299, 1) such as the category of differential graded modules, simplicial sets, topological\nspaces, &c, see [83, Definition II.1.4] or [87, Definition 1]. We then speak about differential graded\noperads, simplicial operads, topological operads, &c.\nExample 2. All properties axiomatized by Definition 1 can be read from the endomorphism\noperad End V = {End V (n)}n\u22650 of a k-module V . It is defined by setting End V (n) to be the space of\nk-linear maps V \u2297n \u2192 V . The operadic composition of f \u2208 End V (n) with g1 \u2208 End V (k1 ), . . . , gn \u2208\nEnd V (kn ) is given by the usual composition of multilinear maps as\n\u03b3(f, g1 , . . . , gn ) := f (g1 \u2297 * * * \u2297 gn ),\nthe symmetric group acts by\n\u03b3\u03c3(f, g1 , . . . , gn ) := f (g\u03c3\u22121 (1) \u2297 * * * \u2297 g\u03c3\u22121 (n) ), \u03c3 \u2208 \u03a3n ,\nand the unit map \u03b7 : k \u2192 End V (1) is given by \u03b7(1) := id V : V \u2192 V . The endomorphism operad\ncan be constructed over an object of an arbitrary symmetric monoidal category with an internal\nhom-functor, as it was done in [83, Definition. II.1.7].\nOne often considers operads A such that A(0) = 0 (the trivial k-module). We will indicate\nthat A is of this type by writing A = {A(n)}n\u22651.\nExample 3. Let us denote by Ass = {Ass(n)}n\u22651 the operad with Ass(n) := k[\u03a3n ], n \u2265 1, and\nthe operadic composition defined as follows. Let id n \u2208 \u03a3n , id k1 \u2208 \u03a3k1 , . . . , id kn \u2208 \u03a3kn be the\n\n\fOPERADS AND PROPS\n\n7\n\nidentity permutations. Then\n\u03b3(id n , id k1 , . . . , id kn ) := id k1 +***+kn \u2208 \u03a3k1 +***+kn .\nThe above formula determines \u03b3(\u03c3, \u03c41 , . . . \u03c4n ) for general \u03c3 \u2208 \u03a3n , \u03c41 \u2208 \u03a3k1 , . . . , \u03c4n \u2208 \u03a3kn by the\nequivariance axiom. The unit map \u03b7 : k \u2192 Ass(1) is given by \u03b7(1) := id 1 .\nExample 4. Let us give an example of a topological operad. For k \u2265 1, the little k-discs operad\nDk = {Dk (n)}n\u22650 is defined as follows [83, Section II.4.1]. Let\nDk := {(x1 , . . . , xk ) \u2208 Rk ; x21 + * * * + x2k \u2264 1}\nbe the standard closed disc in Rk . A little k-disc is then a linear embedding d : Dk \u0592\u2192 Dk which\nis the restriction of a linear map Rk \u2192 Rk with parallel axes. The n-th space Dk (n) of the\nlittle k-disc operad is the space of all n-tuples (d1 , . . . , dn ) of little k-discs such that the images\nof d1 ,. . . ,dn have mutually disjoint interiors. The operad structure is obvious \u2013 the symmetric\ngroup \u03a3n acts on Dk (n) by permuting the labels of the little discs and the structure map \u03b3 is\ngiven by composition of embeddings. The unit is the identity embedding id : Dk \u0592\u2192 Dk .\nExample 5. The collection of normalized singular chains C\u2217 (T) = {C\u2217 (T(n))}n\u22650 of a topological\noperad T = {T(n)}n\u22650 is an operad in the category of differential graded Z-modules. For a ring\nR, the singular homology H\u2217 (T(n); R) = H\u2217 (C\u2217 (T(n)) \u2297Z R) forms an operad H\u2217 (T; R) in the\ncategory of graded R-modules, see [58, Section I.5] for details.\nDefinition 6. Let P = {P(n)}n\u22650 and Q = {Q(n)}n\u22650 be two operads. A homomorphism\nf : P \u2192 Q is a sequence f = {f (n) : P(n) \u2192 Q(n)}n\u22650 of equivariant maps which commute with\nthe operadic compositions and preserve the units.\nAn operad R = {R(n)}n\u22650 is a suboperad of P if R(n) is, for each n \u2265 0, a \u03a3n -submodule of\nP(n) and if all structure operations of R are the restrictions of those of P. Finally, an ideal in\nthe operad P is the collection I = {I(n)}n\u22650 of \u03a3n -invariant subspaces I(n) \u2282 P(n) such that\n\u03b3P(f, g1 , . . . , gn ) \u2208 I(k1 + * * * + kn )\nif either f \u2208 I(n) or gi \u2208 I(ki) for some 1 \u2264 i \u2264 n.\nb = {P(n)}\nb\nExample 7. Given an operad P = {P(n)}n\u22650 , let P\nn\u22650 be the collection defined by\nb\nb\nb\nP(n) := P(n) for n \u2265 1 and P(0) := 0. Then P is a suboperad of P. The correspondence\nb is a full embedding of the category of operads P with P(0) \u223c\nP 7\u2192 P\n= k into the category of\n\u223c\noperads A with A(0) = 0. Operads satisfying P(0) = k have been called unital while operads\nwith A(0) = 0 non-unital operads. We will not use this terminology because non-unital operads\nwill mean something different in this article, see Section 2.\nb for some operad P with P(0) \u223c\nAn example of an operad A which is not of the form P\n= k can\nbe constructed as follows. Observe first that operads P with the property that\nP(0) \u223c\n= k and P(n) = 0 for n \u2265 2\n\nare the same as augmented associative algebras. Indeed, the space P(1) with the operation\n\u25e61 : P(1) \u2297 P(1) \u2192 P(1) is clearly a unital associative algebra, augmented by the composition\n\u223c\n\u223c\n\u25e61\n=\n=\nP(0) \u223c\nP(1) \u2212\u2192 P(1) \u2297 k \u2212\u2192 P(1) \u2297 P(0) \u2212\u2192\n= k.\n\n\f8\n\nM. MARKL\n\nNow take an arbitrary unital associative algebra A and define the operad A = {A(n)}n\u22651 by\n\u001a\nA, for n = 1 and\nA(n) :=\n0, for n 6= 1,\n\nwith \u25e61 : A(1) \u2297 A(1) \u2192 A(1) the multiplication of A. It follows from the above considerations\nb for some operad P with P(0) \u223c\nthat A = P\n= k if and only if A admits an augmentation. Therefore\nany unital associative algebra that does not admit an augmentation produces the desired example.\nExample 8. Kernels, images, &c., of homomorphisms between operads in the category of kmodules are defined componentwise. For example, if f : P \u2192 Q is such homomorphism, then\nKer (f ) = {Ker(f )(n)}n\u22650 is the collection with\n\u0001\nKer(f )(n) := Ker f : P(n) \u2192 Q(n) , n \u2265 0.\nIt is clear that Ker(f ) is an ideal in P.\n\nAlso quotients are defined componentwise. If I is an ideal in P, then the collection P/I =\n{(P/I)(n)}n\u22650 with (P/I)(n) := P(n)/I(n) for n \u2265 0, has a natural operad structure induced by\nthe structure of P. The canonical projection P \u2192 P/I has the expected universal property. The\nkernel of this projection equals I.\nSometimes it suffices to consider operads without the symmetric group action. This notion is\nformalized by:\nDefinition 9 (May's non-\u03a3 operad). A non-\u03a3 operad in the category of k-modules is a collection\nP = {P(n)}n\u22650 of k-modules, together with operadic compositions\n\u03b3 : P(n) \u2297 P(k1 ) \u2297 * * * \u2297 P(kn ) \u2192 P(k1 + * * * + kn ),\nfor n \u2265 1 and k1 , . . . , kn \u2265 0, and a unit map \u03b7 : k \u2192 P(1) that fulfill the associativity and\nunitality axioms of Definition 1.\nEach operad can be considered as a non-\u03a3 operad by forgetting the \u03a3n -actions. On the other\nhand, given a non-\u03a3 operad P, there is an associated operad \u03a3[P] with \u03a3[P](n) := P(n) \u2297 k[\u03a3n ],\nn \u2265 0, with the structure operations induced by the structure operations of P. Operads of this\nform are sometimes called regular operads.\nExample 10. Consider the operad Com = {Com(n)}n\u22651 such that Com(n) := k with the trivial\n\u03a3n -action, n \u2265 1, and the operadic compositions (1) given by the canonical identifications\n\u223c\n=\n\nCom(n) \u2297 Com(k1 ) \u2297 * * * \u2297 Com(kn ) \u223c\n= Com(k1 + * * * + kn ).\n= k\u2297(n+1) \u2212\u2192 k \u223c\nd k , where End\nd k is the\nThe operad Com is obviously not regular. Observe also that Com \u223c\n= End\nendomorphism operad of the ground ring without the initial component, see Example 7 for the\nnotation.\nLet Ass denote the operad Com considered as a non-\u03a3 operad. Its symmetrization \u03a3[Ass]\nthen equals the operad Ass introduced in Example 3.\nAs we already observed, there is an alternative approach to operads. For the purposes of\ncomparison, in the rest of this section and in the following section we will refer to operads viewed\n\n\fOPERADS AND PROPS\n\ncase 1 \u2264 i < j :\n@\n@\n\nf\n\nj\ng@\n@\n\n======\n\n9\n\ncase j \u2264 i < b + j:\n@\n@\n\n@\n@\n\nf\n\nf\n\ni\n\nj\ng@\n@\n\nh@\n@\nj+c\u22121\n\ni\nh@\n@\n\n======\n\n@\n@\n\nf\n\nj\ng@\n@\n\ni\n\ng@\n@\n\ni\u2212j+1\n\nh@\n@\n\nh@\n@\n\ncase j + b \u2264 i \u2264 a + b \u2212 1:\n@\n@\n\nf\n\nj\ng@\n@\n\n@\n@\n\nf\n\n======\n\ni\u2212b+1\n\nh@\n@\ni\n\nj\n\nh@\n@\n\ng@\n@\n\nFigure 1. Flow charts explaining the associativity in Markl's operads.\nfrom this alternative perspective as to Markl's operads. See also the remarks on the terminology\nin the introduction.\nDefinition 11. A Markl's operad in the category of k-modules is a collection S = {S(n)}n\u22650 of\nright k[\u03a3n ]-modules, together with k-linear maps (\u25e6i -compositions)\n\u25e6i : S(m) \u2297 S(n) \u2192 S(m + n \u2212 1),\nfor 1 \u2264 i \u2264 m and n \u2265 0. These data fulfill the following axioms.\nAssociativity. For each 1 \u2264 j \u2264 a, b, c \u2265 0, f \u2208 S(a), g \u2208 S(b) and h \u2208 S(c),\n\uf8f1\n\uf8f2 (f \u25e6i h) \u25e6j+c\u22121 g, for 1 \u2264 i < j,\nf \u25e6j (g \u25e6i\u2212j+1 h), for j \u2264 i < b + j, and\n(f \u25e6j g) \u25e6i h =\n\uf8f3\n(f \u25e6i\u2212b+1 h) \u25e6j g, for j + b \u2264 i \u2264 a + b \u2212 1,\nsee Figure 1.\n\nEquivariance. For each 1 \u2264 i \u2264 m, n \u2265 0, \u03c4 \u2208 \u03a3m and \u03c3 \u2208 \u03a3n , let \u03c4 \u25e6i \u03c3 \u2208 \u03a3m+n\u22121 be given by\ninserting the permutation \u03c3 at the ith place in \u03c4 . Let f \u2208 S(m) and g \u2208 S(n). Then\n(f \u03c4 ) \u25e6i (g\u03c3) = (f \u25e6\u03c4 (i) g)(\u03c4 \u25e6i \u03c3).\nUnitality. There exists e \u2208 S(1) such that\n(2)\n\nf \u25e6i e = e and e \u25e61 g = g\n\nfor each 1 \u2264 i \u2264 m, n \u2265 0, f \u2208 S(m) and g \u2208 S(n).\nExample 12. All axioms in Definition 11 can be read from the endomorphism operad End V =\n{End V (n)}n\u22650 of a k-module V reviewed in Example 2, with \u25e6i -operations given by\nf \u25e6i g := f (id V\u2297i\u22121 \u2297 g \u2297 id \u2297m\u22121\n),\nV\n\n\f10\n\nM. MARKL\n\nfor f \u2208 End V (m), g \u2208 End V (n), 1 \u2264 i \u2264 m and n \u2265 0.\nThe following proposition shows that Definition 1 describes the same objects as Definition 11.\nProposition 13. The category of May's operads is isomorphic to the category of Markl's operads.\nProof. Given a Markl's operad S = {S(n)}n\u22650 as in Definition 11, define a May's operad\nP = May(S) by P(n) := S(n) for n \u2265 0, with the \u03b3-operations given by\n\u03b3(f, g1 , . . . , gn ) := (* * * ((f \u25e6n gn ) \u25e6n\u22121 gn\u22121 ) * * * ) \u25e61 g1\n\n(3)\n\nwhere f \u2208 P(n), gi \u2208 P(ki ), 1 \u2264 i \u2264 n, k1 , . . . , kn \u2265 0. The unit morphism \u03b7 : k \u2192 P(1) is\ndefined by \u03b7(1) := e. It is easy to verify that May(\u2212) extends to a functor from the category of\nMarkl's operads the category of May's operads.\nOn the other hand, given a May's operad P, one can define a Markl's operad S = Mar(P) by\nS(n) := P(n) for n \u2265 0, with the \u25e6i -operations:\nf \u25e6i g := \u03b3(f, e, . . . , e, g, e, . . . , e),\n| {z } | {z }\n\n(4)\n\ni\u22121\n\nm\u2212i\n\nfor f \u2208 S(m), g \u2208 S(n), m \u2265 1, n \u2265 0, where e := \u03b7(1) \u2208 P(1). It is again obvious that Mar(\u2212)\nextends to a functor that the functors May(\u2212) and Mar(\u2212) are mutually inverse isomorphisms\nbetween the category of Markl's operads and the category of May's operads.\n\u0003\nThe equivalence between May's and Markl's operads implies that an operad can be defined\nby specifying \u25e6i -operations and a unit. This is sometimes simpler that to define the \u03b3-operations\ndirectly, as illustrated by:\nExample 14. Let \u03a3 be a Riemann sphere, that is, a nonsingular complex projective curve\nof genus 0. By a puncture or a parametrized hole we mean a point p of \u03a3 together with a\nholomorphic embedding of the standard closed disc U = {z \u2208 C ; |z| \u2264 1} to \u03a3 centered at\nthe point. Thus a puncture is a holomorphic embedding u : \u0168 \u2192 \u03a3, where \u0168 \u2282 C is an open\nneighborhood of U and u(0) = p. We say that two punctures u1 : \u01681 \u2192 \u03a3 and u2 : \u01682 \u2192 \u03a3 are\ndisjoint, if\no\n\no\n\nu1 ( U) \u2229 u2 ( U ) = \u2205,\no\n\nwhere U := {z \u2208 C ; |z| < 1} is the interior of U.\nc0 (n) be the moduli space of Riemann spheres \u03a3 with n+1 disjoint punctures ui : \u0168i \u2192 \u03a3,\nLet M\nc0 (n) is\n0 \u2264 i \u2264 n, modulo the action of complex projective automorphisms. The topology of M\n\na very subtle thing and we are not going to discuss this issue here; see [46]. The constructions\nbelow will be made only 'up to topology.'\nc0 (n) a natural right \u03a3n -action and the\nRenumbering the holes u1 , . . . , un defines on each M\nc 0 = {M\nc 0(n)}n\u22650 forms a topological operad under sewing Riemannian spheres at\n\u03a3-module M\npunctures. Let us describe this operadic structure using the \u25e6i -formalism. Thus, let \u03a3 represent\nc 0 (m) and \u2206 represent an element y \u2208 M\nc0 (n). For 1 \u2264 i \u2264 m, let ui : \u0168i \u2192 \u03a3\nan element x \u2208 M\nbe the ith puncture of \u03a3 and let u0 : \u01680 \u2192 \u2206 be the 0th puncture of \u2206.\n\n\fOPERADS AND PROPS\n\n11\n\nThere certainly exists some 0 < r < 1 such that both \u01680 and \u0168i contain the disc U1/r :=\n{z \u2208 C ; |z| < 1/r}. Let now \u03a3r := \u03a3 \\ ui(Ur ) and \u2206r := \u2206 \\ u0 (Ur ). Define finally\nG\n\u039e := (\u03a3r\n\u2206r )/ \u223c,\n\nwhere the relation \u223c is given by\n\n\u03a3r \u220b ui (\u03be) \u223c u0 (1/\u03be) \u2208 \u2206r ,\nfor r < |\u03be| < 1/r. It is immediate to see that \u039e is a well-defined punctured Riemannian sphere,\nwith n + m \u2212 1 punctures induced in the obvious manner from those of \u03a3 and \u2206, and that the\nc0 (m + n \u2212 1) does not depend on the\nclass of the punctured surface \u039e in the moduli space M\nrepresentatives \u03a3, \u2206 and on r. We define x \u25e6i y to be the class of \u039e.\nc 0 (1) can be defined as follows. Let CP1 be the complex projective line with\nThe unit e \u2208 M\n\nhomogeneous coordinates [z, w], z, w \u2208 C, [118, Example I.1.6]. Let 0 := [0, 1] \u2208 CP1 and\n\u221e := [1, 0] \u2208 CP1 . Recall that we have two canonical isomorphisms p\u221e : CP1 \\ \u221e \u2192 C and\np0 : CP1 \\ 0 \u2192 C given by\np\u221e ([z, w]) := z/w and p0 ([z, w]) := w/z.\n\n1\n1\n\u22121\nThen p\u22121\n\u221e : C \u2192 CP (respectively p0 : C \u2192 CP ) is a puncture at 0 (respectively at \u221e). We\nc0 (1) to be the class of (CP1 , p\u22121 , p\u22121 ).\ndefine e \u2208 M\n0\n\u221e\nc 0 = {M\nc 0 (n)}n\u22650 a\nIt is not hard to verify that the above constructions make the collection M\nc 0 is a also May's operad.\nMarkl's operad. By Proposition 13, M\n\nIn the rest of this article, we will consider May's and Markl's operads as two versions of the\nsame object which we will call simply a (unital) operad.\n2. Non-unital operads\nIt turns out that the combinatorial structure of the moduli space of stable genus zero curves\nis captured by a certain non-unital version of operad. Let M0,n+1 be the moduli space of (n + 1)tuples (x0 , . . . , xn ) of distinct numbered points on the complex projective line CP1 modulo projective automorphisms, that is, transformations of the form\nCP1 \u220b [\u03be1 , \u03be2 ] 7\u2192 [a\u03be1 + b\u03be2 , c\u03be1 + d\u03be2] \u2208 CP1 ,\nwhere a, b, c, d \u2208 C with ad \u2212 bc 6= 0.\n\nThe moduli space M0,n+1 has, for n \u2265 2, a canonical compactification M0 (n) \u2283 M0,n+1\nintroduced by A. Grothendieck and F.F. Knudsen [16, 50]. The space M0 (n) is the moduli space\nof stable (n + 1)-pointed curves of genus 0:\nDefinition 15. A stable (n + 1)-pointed curve of genus 0 is an object\n(C; x0 , . . . , xn ),\nwhere C is a (possibly reducible) algebraic curve with at most nodal singularities and x0 , . . . , xn \u2208\nC are distinct smooth points such that\n(i) each component of C is isomorphic to CP1 ,\n\n\f12\n\nM. MARKL\n\n(ii) the graph of intersections of components of C (i.e. the graph whose vertices correspond\nto the components of C and edges to the intersection points of the components) is a tree,\nand\n(iii) each component of C has at least three special points, where a special point means either\none of the xi , 0 \u2264 i \u2264 n, or a singular point of C (the stability).\nIt can be easily seen that a stable curve (C; x0 , . . . , xn ) admits no infinitesimal automorphisms\nthat fix marked points x0 , . . . , xn , therefore (C; x0 , . . . , xn ) is 'stable' in the usual sense. Observe\nalso that M0 (0) = M0 (1) = \u2205 (there are no stable curves with less than three marked points)\nand that M0 (2) = the point corresponding to the three-pointed stable curve (CP1 ; \u221e, 1, 0). The\nspace M0,n+1 forms an open dense part of M0 (n) consisting of marked curves (C; x0 , . . . , xn ) such\nthat C is isomorphic to CP1 .\nLet us try to equip the collection M0 = {M0 (n)}n\u22652 with an operad structure as in Definition 1.\nFor C = (C, x1 , . . . , xn ) \u2208 M0 (n) and Ci = (Ci , y1i , . . . , yki i ) \u2208 M0 (ki ), 1 \u2264 i \u2264 n, let\n\u03b3(C, C1 , . . . , Cn ) \u2208 M0 (k1 + * * * + kn )\n\n(5)\n\nbe the stable marked curve obtained from the disjoint union C \u2294 C 1 \u2294 * * * \u2294 C n by identifying,\nfor each 1 \u2264 i \u2264 n, the point xi \u2208 C with the point y0i \u2208 Ci , introducing a nodal singularity, and\nrelabeling the remaining marked points accordingly. The symmetric group acts on M0 (n) by\n(C, x0 , x1 , . . . , xn ) 7\u2212\u2192 (C, x0 , x\u03c3(1) , . . . , x\u03c3(n) ), \u03c3 \u2208 \u03a3n .\nWe have defined the \u03b3-compositions and the symmetric group action, but there is no room\nfor the identity, because M0 (1) is empty! The above structure is, therefore, a non-unital operad\nin the sense of the following definition (which is formulated, as all definitions in this article, for\nthe monoidal category of k-modules).\nDefinition 16. A May's non-unital operad in the category of k-modules is a collection P =\n{P(n)}n\u22650 of k[\u03a3n ]-modules, together with operadic compositions\n\u03b3 : P(n) \u2297 P(k1 ) \u2297 * * * \u2297 P(kn ) \u2192 P(k1 + * * * + kn ),\nfor n \u2265 1 and k1 , . . . , kn \u2265 0, that fulfill the associativity and equivariance axioms of Definition 1.\nWe may as well define on the collection M0 = {M0 (n)}n\u22652 operations\n(6)\n\n\u25e6i : M0 (m) \u00d7 M0 (n) \u2192 M0 (m + n \u2212 1)\n\nfor m, n \u2265 2, 1 \u2264 i \u2264 m, by\n(C 1 ; y0, . . . , ym ) \u00d7 (C 2 ; x0 , . . . , xn ) 7\u2212\u2192 (C; y0 , . . . , yi\u22121, x0 , . . . , xn , yi+1 , . . . , ym )\nF\nwhere C is the quotient of the disjoint union C 1 C 2 given by identifying x0 with yi at a nodal\nsingularity, see Figure 2. The collection M0 = {M0 (n)}n\u22652 with \u25e6i -operations (6) is an example\nof another version of non-unital operads, recalled in:\nDefinition 17. A non-unital Markl's operad in the category of k-modules is a collection P =\n{P(n)}n\u22650 of k[\u03a3n ]-modules, together with operadic compositions\n\u25e6i : S(m) \u2297 S(n) \u2192 S(m + n \u2212 1),\n\n\fOPERADS AND PROPS\n\n13\n\nC2\n\u0010\n\u0010\u0010\n\n\u2022\n\nJ\nJJ\n\nyi = x0\n\nC1\nFigure 2. The \u25e6i -compositions in M0 = {M0 (n)}n\u22652 .\nfor 1 \u2264 i \u2264 m and n \u2265 0, that fulfill the associativity and equivariance axioms of Definition 11.\nA we saw in Proposition 13, in the presence of operadic units, May's operads are the same as\nMarkl's operads. Surprisingly, the non-unital versions of these structures are radically different\n\u2013 Markl's operads capture more information than May's operads! This is made precise in the\nfollowing:\nProposition 18. The category of non-unital Markl's operads is a subcategory of the category of\nnon-unital May's operads.\nProof. It is easy to see that (3) defines, as in the proof of Proposition 13, a functor \u03c8May(\u2212)\nwhich is an embedding of the category of non-unital Markl's operads into the category of nonunital May's operads.\n\u0003\nObserve that formula (4), inverse to (3), does not make sense without units. The relation\nbetween various versions of operads discussed so far is summarized in the following diagram of\ncategories and their inclusions:\nMar\n\nMay's operads\n\n\u001b\n\n?\n\nnon-unital May's operads\n\nMay\n\n\u03c8May\n\n\u001b\n\n?\n\nMarkl's operads\n\n?\n\nnon-unital Markl's operads\n\nThe following example shows that non-unital Markl's operads form a proper sub-category of\nthe category of non-unital May's operads.\nExample 19. We describe a non-unital May's operad V = {V(n)}n\u22650 which is not of the form\n\u03c8May(S) for some non-unital Markl's operad S. Let\n\u001a\nk, for n = 2 or 4, and\nV(n) :=\n0, otherwise.\n\n\f14\n\nM. MARKL\n\nThe only non-trivial \u03b3-composition is \u03b3 : V(2) \u2297 V(2) \u2297 V(2) \u2192 V(4), given as the canonical\nisomorphism\n\u223c\n=\nV(2) \u2297 V(2) \u2297 V(2) \u223c\n= V(4).\n= k\u22973 \u2212\u2192 k \u223c\nSuppose that V = May(S) for some non-unital Markl's operad S. Then, according to (3), for\nf, g1 , g2 \u2208 V(2),\n\u03b3(f, g1 , g2 ) = (f \u25e62 g2 ) \u25e61 g1 .\nSince (f \u25e62 g) \u2208 V(3) = 0, this would imply that \u03b3 is trivial, which is not true.\nProposition 21 below shows that Markl's rather than May's non-unital operads are true nonunital versions of operads. We will need the following definition in which K = {K(n)}n\u22651 is the\ntrivial (unital) operad with K(1) := k and K(n) = 0, for n 6= 1.\nDefinition 20. An augmentation of an operad P in the category of k-modules is a homomorphism \u01eb : P \u2192 K. Operads with an augmentation are called augmented operads. The kernel\nP := Ker (\u01eb : P \u2192 K)\nis called the augmentation ideal.\nThe following proposition was proved in [75].\nProposition 21. The correspondence P 7\u2192 P is an isomorphism between the category of augmented operads and the category of Markl's non-unital operads.\nProof. The \u25e6i -operations of P obviously restrict to P, making it a non-unital Markl's operad.\nIt is simple to describe a functorial inverse S 7\u2192 e\nS of the correspondence P 7\u2192 P. For a Markl's\ne\nnon-unital operad S, denote by S the collection\n\u001a\nS(n),\nfor n 6= 1, and\ne\n(7)\nS(n) :=\nS(1) \u2295 k, for n = 1.\n\nThe \u25e6i -operations of e\nS are uniquely determined by requiring that they extend the \u25e6i -operations\nof S and satisfy (2), with the unit e := 0 \u2295 1k \u2208 S(1) \u2295 k = e\nS(1). Informally, e\nS is obtained from\nthe Markl's non-unital operad S by adjoining a unit.\n\u0003\nObserve that if S were a May's, not Markl's, non-unital operad, the construction of e\nS described\nin the above proof would not make sense, because we would not know how to define\n\u03b3(f, e, . . . , e, g, e, . . . , e)\n| {z } | {z }\ni\u22121\n\nm\u2212i\n\nfor f \u2208 S(m), g \u2208 S(n), m \u2265 2, n \u2265 0, 1 \u2264 i \u2264 m. Proposition 21 should be compared to the\nobvious statement that the category of augmented unital associative algebras is isomorphic to\nthe category of (non-unital) associative algebras. In the following proposition, Oper denotes the\ncategory of k-linear operads and \u03c8Oper the category of k-linear Markl's non-unital operads.\nProposition 22. Let P be an augmented operad and Q an arbitrary operad in the category of\nk-modules. Then there exists a natural isomorphism\n(8)\nMor Oper (P, Q) \u223c\n= Mor \u03c8Oper (P, \u03c8May(Q)).\n\n\fOPERADS AND PROPS\n\n15\n\nThe proof is simple and we leave it the reader. Combining (8) with the isomorphism of\nProposition 21 one obtains a natural isomorphism\nMor Oper (e\nS, Q) \u223c\n= Mor \u03c8Oper (S, \u03c8May(Q))\n\n(9)\n\nwhich holds for each Markl's non-unital operad S and operad Q. Isomorphism (9) means that\ne: \u03c8Oper \u2192 Oper and \u03c8May : Oper \u2192 \u03c8Oper are adjoint functors. This adjunction will be used\nin the construction of free operads in Section 4.\n\nIn the rest of this article, non-unital Markl's operads will be called simply non-unital operads.\nThis will not lead to confusion, since all non-unital operads referred to in the rest of this article\nwill be Markl's.\n3. Operad algebras\nAs we already remarked, operads are important through their representations called operad\nalgebras or simply algebras.\n\nDefinition 23. Let V be a k-module and End V the endomorphism operad of V recalled in Example 2. A P-algebra is a homomorphism of operads \u03c1 : P \u2192 End V .\nThe above definition admits an obvious generalization into an arbitrary symmetric monoidal\ncategory with an internal hom-functor. The last assumption is necessary for the existence of\nthe 'internal' endomorphism operad, see [83, Definition II.1.20]. Definition 23 can be however\nunwrapped into the form given in [58, Definition 2.1] that makes sense in an arbitrary symmetric\nmonoidal category without the internal hom-functor assumption:\nProposition 24. Let P be an operad. A P-algebra is the same as a k-module V together with\nmaps\n\u03b1 : P(n) \u2297 V \u2297n \u2192 V, n \u2265 0,\n\n(10)\nthat satisfy the following axioms.\n\nAssociativity. For each n \u2265 1 and non-negative integers k1 , . . . , kn , the following diagram commutes.\n!\nn\nn\nO\nO\n\u03b3 \u2297 id\n- P(k + * * * + k ) \u2297 V \u2297(k1 +***+kn )\nV \u2297ks\nP(n) \u2297\nP(ks ) \u2297\n1\nn\ns=1\n\ns=1\n\n\u03b1\n\n?\n\nV\n\nshuffle\n\n\u03b1\n6\n\nP(n) \u2297\n\nn \u0012\nO\ns=1\n\n?\n\nP(ks ) \u2297 V\n\n\u2297ks\n\n\u0013\n\nid \u2297 (\n\nNn\n\ns=1\n\n\u03b1)\n\n-\n\nP(n) \u2297 V \u2297n\n\nEquivariance. For each n \u2265 1 and \u03c3 \u2208 \u03a3n , the following diagram commutes.\n\n\f16\n\nM. MARKL\n\u03c3 \u2297 \u03c3 \u22121\n\nP(n) \u2297 V \u2297n\nQ\nQ\n\n\u03b1 Q\nQ\ns\nQ\n\nV\n\n-\n\nP(n) \u2297 V \u2297n\n\n\u0011\n\u0011\n\u0011 \u03b1\n\u0011\n+\n\u0011\n\nUnitality. For each n \u2265 1, the following diagram commutes.\nk\u2297V\n\u03b7 \u2297 id\n\n?\n\n\u223c\n=\n\n3\n\u0011\n\u03b1 \u0011\u0011\n\u0011\n\u0011\n\u0011\n\nV\n\nP(1) \u2297 V\nWe leave as an exercise to formulate a version of Proposition 24 that would use \u25e6i -operations\ninstead of \u03b3-operations.\nExample 25. In this example we verify, using Proposition 24, that algebras over the operad\nCom = {Com(n)}n\u22651 recalled in Example 10 are ordinary commutative associative algebras.\nTo simplify the exposition, let us agree that v's with various subscripts denote elements of V .\nSince Com(n) = k for n \u2265 1, the structure map (10) determines, for each n \u2265 1, a linear map\n\u03bcn : V \u2297n \u2192 V by\n\u03bcn (v1 , . . . , vn ) := \u03b1(1n , v1 , . . . , vn ),\nwhere 1n denotes in this example the unit 1n \u2208 k = Com(n). The associativity of Proposition 24\nsays that\n\u0001\n(11) \u03bcn \u03bck1 (v1 , . . . , vk1 ), . . . , \u03bckn (vk1 +***+kn\u22121 +1 , . . . , vk1 +***+kn ) = \u03bck1 +***+kn (v1 , . . . , vk1 +***+kn ),\nfor each n, k1 , . . . , kn \u2265 1. The equivariance of Proposition 24 means that each \u03bcn is fully\nsymmetric\n(12)\n\n\u03bcn (v1 , . . . , vn ) = \u03bcn (v\u03c3(1) , . . . , v\u03c3(n) ), \u03c3 \u2208 \u03a3n ,\n\nand the unitality implies that \u03bc1 is the identity map,\n(13)\n\n\u03bc1 (v) = v.\n\nThe above structure can be identified with a commutative associative multiplication on V .\nIndeed, the bilinear map * := \u03bc2 : V \u2297 V \u2192 V is clearly associative:\n(v1 * v2 ) * v3 = v1 * (v2 * v3 )\n\n(14)\nand commutative:\n\nv1 * v2 = v2 * v1 .\n\n(15)\nOn the other hand, \u03bc1 (v) := v and\n\n\u03bcn (v1 , . . . , vn ) := (***(v1 * v2 ) * * * vn\u22121 ) * vn for n \u2265 2\ndefines multilinear maps {\u03bcn : V \u2297n \u2192 V } satisfying (11)\u2013(13). It is equally easy to verify that\nalgebras over the operad Ass introduced in Example 3 are ordinary associative algebras.\n\n\fOPERADS AND PROPS\n\n17\n\nFollowing Leinster [61], one could say that (11)\u2013(13) is an unbiased definition of associative\ncommutative algebras, while (14)\u2013(15) is a definition of the same object biased towards bilinear\noperations. Operads therefore provide unbiased definitions of algebras.\nExample 26. Let us denote by UCom the endomorphism operad End k of the ground ring k. It\nis easy to verify that UCom-algebras are unital commutative associative algebras. We leave it to\nthe reader to describe the operad UAss governing unital associative operads.\nAlgebras over a non-\u03a3 operad P are defined as algebras, in the sense of Definition 23, over the\nsymmetrization \u03a3[P] of P . Algebras over non-unital operads discussed in Section 2 are defined\nby appropriate obvious modifications of Definition 23.\nExample 27. Let Y be a topological space with a base point \u2217 and Sk the k-dimensional sphere,\nk \u2265 1. The k-fold loop space \u03a9k Y is the space of all continuous maps Sk \u2192 Y that send the\nsouth pole of Sk to the base point of Y . Equivalently, \u03a9k Y is the space of all continuous maps\n\u03bb : (Dk , Sk\u22121 ) \u2192 (Y, \u2217) from the standard closed k-dimensional disc Dk to Y that map the\nboundary Sk\u22121 of Dk to the base point of Y . Let us show, following Boardman and Vogt [10],\nthat \u03a9k Y is a natural topological algebra over the little k-discs operad Dk = {Dk (n)}n\u22650 recalled\nin Example 4.\nThe action \u03b1 : Dk (n) \u00d7 (\u03a9k Y )\u00d7n \u2192 \u03a9k Y is, for n \u2265 0, defined as follows. Given \u03bbi :\n(Dk , Sk\u22121 ) \u2192 (Y, \u2217) \u2208 \u03a9k Y , 1 \u2264 i \u2264 n, and little k-discs d = (d1 , . . . , dn ) \u2208 Dk (n) as in\nExample 4, then\n\u03b1(d, \u03bb1, . . . , \u03bbn ) : (Dk , Sk\u22121 ) \u2192 (Y, \u2217) \u2208 \u03a9k Y\nis the map defined to be \u03bbi : Dk \u2192 Y (suitably rescaled) on the image of di, and to be \u2217 on the\ncomplement of the images of the maps di , 1 \u2264 i \u2264 n.\nTherefore each k-fold loop space is a Dk -space. The following classical theorem is a certain\nform of the inverse statement.\nTheorem 28. (Boardman-Vogt [10], May [86]) A path-connected Dk -algebra X has the weak\nhomotopy type of a k-fold loop space.\nThe connectedness assumption in the above theorem can be weakened by assuming that the\nDk -action makes the set \u03c00 (X) of path components of X a group.\nExample 29. The non-unital operad M0 of stable pointed curves of genus 0 (also called the\nconfiguration (non-unital) operad ) recalled on page 12 is a non-unital operad in the category of\nsmooth complex projective varieties. It therefore makes sense, as explained in Example 5, to\nconsider its homology operad H\u2217 (M0 , k) = {H\u2217 (M0 (n), k)}n\u22652 .\nAn algebra over this non-unital operad is called a (tree level) cohomological conformal field\ntheory or a hyper-commutative algebra [55]. It consist of a family {(\u2212, . . . , \u2212) : V \u2297n \u2192 V }n\u22652 of\nlinear operations which are totally symmetric, that is\n(v\u03c3(1) , . . . , v\u03c3(n) ) = (v1 , . . . , vn ),\n\n\f18\n\nM. MARKL\n\nfor each permutation \u03c3 \u2208 \u03a3n . Moreover, we require the following form of associativity:\nX\nX\n(16)\n((u, v, xi; i \u2208 S), w, xj ; j \u2208 T ) =\n(u, (v, w, xi; i \u2208 S), xj ; j \u2208 T ),\n(S,T )\n\n(S,T )\n\nwhere u, v, w, x1, . . . , xn \u2208 V and (S, T ) runs over disjoint decompositions S \u2294 T = {1, . . . , n}.\nFor n = 0, (16) means the (usual) associativity of the bilinear operation (\u2212, \u2212), i.e. ((u, v), w) =\n(u, (v, w)). For n = 1 we get\n((u, v), w, x) + ((u, v, x), w) = (u, (v, w, x)) + (u, (v, w), x).\nExample 30. In this example, k is a field of characteristic 0. The non-unital operad M0 (R) =\n{M0 (R)(n)}n\u22652 of real points in the configuration operad M0 is called the mosaic non-unital\noperad [19]. Algebras over the homology H\u2217 (M0 (R), k) = {H\u2217 (M0 (R)(n), k)}n\u22652 of this operad\nwere recently identified [25] with 2-Gerstenhaber algebras, which are structures (V, \u03bc, \u03c4 ) consisting\nof a commutative associative product \u03bc : V \u2297 V \u2192 V and an anti-symmetric degree +1 ternary\noperation \u03c4 : V \u2297 V \u2297 V \u2192 V which satisfies the generalized Jacobi identity\nX\nsgn(\u03c3) * \u03c4 (\u03c4 (x\u03c3(1) , x\u03c3(2) , x\u03c3(3) ), x\u03c3(4) , x\u03c3(5) ) = 0,\n\u03c3\n\nwhere the summation runs over all (3, 2)-unshuffles \u03c3(1) < \u03c3(2) < \u03c3(3), \u03c3(4) < \u03c3(5). Moreover,\nthe ternary operation \u03c4 is tied to the multiplication \u03bc by the distributive law\n\u03c4 (\u03bc(s, t), u, v) = \u03bc(\u03c4 (s, u, v), t) + (\u22121)(1+|u|+|v|)|s| * \u03bc(s, \u03c4 (t, u, v)), s, t, u, v \u2208 V,\n\nsaying that the assignment s 7\u2192 \u03c4 (s, u, v) is a degree (1 + |u| + |v|)-derivation of the associative\ncommutative algebra (V, \u03bc), for each u, v \u2208 V .\n4. Free operads and trees\nThe purpose of this section is three-fold. First, we want to study free operads because each\noperad is a quotient of a free one. The second reason why we are interested in free operads\nis that their construction involves trees. Indeed, it turns out that rooted trees provide 'pasting\nschemes' for operads and that, replacing trees by other types of graphs, one can introduce several\nimportant generalizations of operads, such as cyclic operads, modular operads, and PROPs.\nThe last reason is that the free operad functor defines a monad which provides an unbiased\ndefinition of operads as algebras over this monad. Everything in this section is written for klinear operads, but the constructions can be generalized into an arbitrary symmetric monoidal\ncategory with countable coproducts (M, \u2299, 1) whose monoidal product \u2299 is distributive over\ncoproducts, see [83, Section II.1.9].\nRecall that a \u03a3-module is a collection E = {E(n)}n\u22650 in which each E(n) is a right k[\u03a3n ]module. There is an obvious forgetful functor : Oper \u2192 \u03a3-mod from the category Oper of\nk-linear operads to the category \u03a3-mod of \u03a3-modules.\nDefinition 31. The free operad functor is a left adjoint [38, \u00a7 II.7] \u0393 : \u03a3-mod \u2192 Oper to the\nforgetful functor : Oper \u2192 \u03a3-mod. This means that there exists a functorial isomorphism\nMor Oper (\u0393(E), P) \u223c\n= Mor \u03a3-mod (E, (P))\n\n\fOPERADS AND PROPS\n\n19\n\nfor an arbitrary \u03a3-module E and operad P. The operad \u0393(E) is the free operad generated by the\n\u03a3-module E. Similarly, the free non-unital operad functor is a left adjoint \u03a8 : \u03a3-mod \u2192 \u03c8Oper\nof the obvious forgetful functor \u03c8 : \u03c8Oper \u2192 \u03a3-mod, that is\nMor \u03c8Oper (\u03a8(E), S) \u223c\n= Mor \u03a3-mod (E, \u03c8 (S)),\nwhere E is a \u03a3-module and S a non-unital operad. The non-unital operad \u03a8(E) is the free\nnon-unital operad generated by the \u03a3-module E.\nLet e : \u03c8Oper \u2192 Oper be the functor of 'adjoining the unit' considered in the proof of\nProposition 21 on page 14. Functorial isomorphism (9) implies that one may take\ne\n\u0393 := \u03a8,\n\n(17)\n\nwhich means that the free operad \u0393(E) can be obtained from the free non-unital operad \u03a8(E)\nby formally adjoining the unit.\nLet us indicate how to construct the free non-unital operad \u03a8(E), a precise description will\nbe given later in this section. The free non-unital operad \u03a8(E) must be built up from all formal\n\u25e6i -compositions of elements of E modulo the axioms listed in Definition 11. For instance, given\nf \u2208 E(2), g \u2208 E(3), h \u2208 E(2) and l \u2208 E(0), the component \u03a8(E)(5) must contain the following\nfive compositions\n(18)\n\n(f \u25e61 (g \u25e62 l)) \u25e63 h, (f \u25e62 h) \u25e61 (g \u25e62 l), ((f \u25e62 h) \u25e61 g) \u25e62 l,\n((f \u25e61 g) \u25e62 l) \u25e63 h and ((f \u25e61 g) \u25e64 h) \u25e62 l.\n\nThe elements in (18) can be depicted by the 'flow diagrams' of Figure 3 on page 20. Nodes of\nthese diagrams are decorated by elements f, g, h and l of E in such a way that an element of E(n)\ndecorates a node with n input lines, n \u2265 0. Thin 'amoebas' indicate the nesting which specifies\nthe order in which the \u25e6i -operations are performed. The associativity of Definition 11 however\nsays that the result of the composition does not depend on the order, therefore the amoebas can\nbe erased and the common value of the compositions represented by\n\n\u2022\n(19)\n\ng\n\n\u2022\n\u0001\u2022A\n\u0001 l A\n\u0001A\n\n\u0001\n\nA\n\nf\n\n@\n@\nh\n@\n@\u2022\n\u0001A\n\u0001 A\nA\n\u0001\nA\n\u0001\n\nLet us look more closely how diagram (19) determines an element of the (still hypothetical)\nfree non-unital operad \u03a8(E). The crucial fact is that the underlying graph of (19) is a planar\nrooted tree. Recall that a tree is a finite connected simply connected graph without loops and\nmultiple edges. For a tree T we denote, as usual, by Vert(T ) the set of vertices and Edg(T ) the\nset of edges of T . The number of edges adjacent to a vertex v \u2208 Vert(T ) is called the valence of\nv and denoted val (v). We assume that one is given a subset\next(T ) \u2282 {v \u2208 Vert(T ); val (v ) = 1 }\n\n\f20\n\nM. MARKL\n\n\u0013\n\n\u2022\n(f \u25e61 (g \u25e62 l)) \u25e63 h =\n\ng\n\n\u2022\n\n\u0001A\n\u0001\u2022A\n\u0001 l A\n\u0001\u0012 A\n\u0013\n\n((f \u25e62 h) \u25e61 g) \u25e62 l =\n\nf\n\n\u0010\n\n@\n@\n@\n@\u2022 h\n\u0001A\n\u0001 A\nA\n\u0001\nA\u0011\n\u0001\n\nf\n\u2022 @@\n\n(f \u25e62 h) \u25e61 (g \u25e62 l) =\n\n\u0010\n\n@\n@\n@@\n@\n@ h\n@\n@\ng\n@\n@\n@\u2022\n\u2022\n\u0001A\n\u0001A\n\u0001 A\n\u0001\u2022A\nA\n\u0001\n\u0001 l A\nA\u0011\n\u0001\n\u0001\u0012 A\n\n((f \u25e61 g) \u25e64 h) \u25e62 l\n\n\u0013\n\n=\n\nf\n\u2022@\n\n\u0010\n\n@\n@\n@\n@\n@\n@h\ng\n@\n@\u2022\n@\n\u2022\n\u0001A\n\u0001A\n\u0001 A\n\u0001\u2022A\nA\n\u0001\n\u0001 l A\nA\u0011\n\u0001\n\u0001\u0012 A\n\u0013\n\nf\n\n\u0010\n\n\u2022\n((f \u25e61 g) \u25e62 l) \u25e63 h =\n\ng\n\n\u2022\n\n\u0001A\n\u0001\u2022A\n\n\u0013\n\nf\n\u2022@\n@\n\ng\n\u2022\n\n\u0001A\n\u0001\u2022A\n\n\u0001 l A\n\u0001\u0012 A\n\n\u0010\n\n\u0001 l A\n\u0001\u0012 A\n\n@\n@\n@\n@\u2022 h\n\u0001A\n\u0001 A\nA\n\u0001\nA\u0011\n\u0001\n\n@@\n@\n@\n@\u2022 h\n\u0001A\n\u0001 A\nA\n\u0001\nA\u0011\n\u0001\n\nFigure 3. Flow diagrams in non-unital operads.\n\nof external vertices, the remaining vertices are internal . Let us denote\nvert(T ) := Vert(T ) \\ ext(T )\nthe set of all internal vertices. Henceforth, we will assume that our trees have at least one\ninternal vertex. This excludes at this stage the exceptional tree consisting of two external vertices\nconnected by an edge.\nEdges adjacent to external vertices are the legs of T . A tree is rooted if one of its legs, called\nthe root, is marked and all other edges are oriented, pointing to the root. The legs different from\nthe root are the leaves of T . For example, the tree in (19) has 4 internal vertices decorated f ,\ng, h and l, and 4 leaves. Finally, the planarity means that an embeddings of T into the plane is\nspecified. In our pictures, the root will always be placed on the top. By a vertex we will always\nmean an internal one.\nThe planarity and a choice of the root of the underlying tree of (19) specifies a total order of\nthe set in(v) of input edges of each vertex v \u2208 vert(T ) as well as a total order of the set Leaf (T )\n\n\fOPERADS AND PROPS\n\n21\n\nof the leaves of T , by numbering from the left to the right:\n\n2\n\n1@\n\ng\n\n(20)\n\nf\n\n\u2022\n\nh\n@\n@\u2022\n\u00011A 2\n\u0001 A\nA\n\u0001\nA\n\u0001\n\n\u2022\n\n\u0001A 3\n\u00011 2A\n\u0001\nA\n\u0001 \u2022 A\n\n1 l 2 3\n4\nThis tells us that l should be inserted into the second input of g, g into the first input of f and\nh into the second input of f . Using 'abstract variables' v1 , v2 , v3 and v4 , the element represented\nby (20) can also be written as the 'composition' f (g(v1, l, v2 ), h(v3 , v4 )).\nNow we need to take into account also the symmetric group action. If \u03c4 is the generator of\n\u03a32 , then the obvious equality\nf (g(v1 , l, v2 ), h(v3 , v4 )) = f \u03c4 (h(v3 , v4 ), g(v1, l, v2 ))\nof 'abstract compositions' coming from the equivariance of Definition 11 translates into the\nfollowing equality of flow diagrams:\n\n(21)\n\n\u2022\n\n2\n1@\n\ng\n\u2022\n\n\u0001A 3\n\u00011 2A\nA\n\u0001\n\u0001 \u2022 A\n\n1\n\nf\n\nl\n\n\u2022\n\nh\n\n@\n@\u2022\n\u00011A 2\n\u0001 A\nA\n\u0001\nA\n\u0001\n\n2 3\n\n4\n\n=\n\nh\n\u0001\n\u0001\n\u0001\n\n3\n\nf\u03c4\n\n2\n1@\n\n\u20222\n\n\u00011A\n\nA\nA\nA\n\n\u2022\n\ng\n\n@\n@\u2022\n\u0001A 3\n\u00011 2A\nA\n\u0001\n\u0001 \u2022 A\n\n4 1\n\nl\n\n=\n\n2\n\nh\n\u0001\n\u0001\n\u0001\n\n3\n\nf\n\n1\n2@\n\n\u20222\n\n\u00011A\n\nA\nA\nA\n\ng\n\n@\n@\u2022\n\u0001A 3\n\u00011 2A\nA\n\u0001\n\u0001 \u2022 A\n\n4 1\n\nl\n\n2\n\nRelation (21) shows that the equivariance of Definition 11 violates the linear orders induced\nby the planar embedding of T . This leads us to the conclusion that the flow diagrams describing\nelements of free non-unital operads are (abstract, non-planar) rooted, leaf-labeled decorated trees.\nLet us describe, after these motivations, a precise construction of \u03a8(E). The first subtlety\none needs to understand is how to decorate vertices of non-planar trees. To this end, we need to\nexplain how each \u03a3-module E = {E(n)}n\u22650 naturally extends into a functor (denoted again E)\nfrom the category Setf of finite sets and their bijections to the category of k-modules. If X and\nY are finite sets, denote by\n(22)\n\n\u223c\n=\n\nBij (Y, X) := {\u03b8 : X \u2212\u2192 Y }\n\nthe set of all isomorphisms between X and Y (notice the unexpected direction of the arrow!). It\nis clear that Bij (Y, X) is a natural left Aut Y - right Aut X -bimodule, where Aut X := Bij (X, X)\nand Aut Y := Bij (Y, Y ) are the sets of automorphisms with group structure given by composition.\nFor a finite set S \u2208 Setf of cardinality n and a \u03a3-module E = {E(n)}n\u22650 define E(S) to be\n(23)\n\nE(S) := E(n) \u00d7\u03a3n Bij ([n], S)\n\nwhere, as usual, [n] := {1, . . . , n} and, of course, \u03a3n = Aut [n] .\n\n\f22\n\nM. MARKL\n\nLet us recall that a (leaf-) labeled rooted n-tree is a rooted tree T together with a specified\n\u223c\nbijection l : Leaf (T ) \u2192 [n]. Let Treen be the category of labeled rooted n-trees and their\nbijections. For T \u2208 Treen define\nO\n(24)\nE(T ) :=\nE(in(v))\nv\u2208vert(T )\n\nwhere in(v) is, as before, the set of all input edges of a vertex v \u2208 vert(T ). It is easy to verify\nthat E 7\u2192 E(T ) defines a functor from the category Treen to the category of k-modules.\nRecall that the colimit of a covariant functor F : D \u2192 Modk is the quotient\nM\ncolim F (x) =\nF (x)/ \u223c,\nx\u2208D\n\nx\u2208D\n\nwhere \u223c is the equivalence generated by\n\nF (y) \u220b a \u223c F (f )(a) \u2208 F (z),\nfor each a \u2208 F (y), y, z \u2208 D and f \u2208 Mor D(y, z). Define finally\n(25)\n\n\u03a8(E)(n) := colim E(T ), n \u2265 0.\nT \u2208 Treen\n\nThe following theorem was proved in [83, II.1.9].\nTheorem 32. There exists a natural non-unital operad structure on the \u03a3-module\n\u03a8(E) = {\u03a8(E)(n)}n\u22650 ,\nwith the \u25e6i -operations given by the grafting of trees and the symmetric group re-labeling the leaves,\nsuch that \u03a8(E) is the free non-unital operad generated by the \u03a3-module E.\nOne could simplify (25) by introducing Tree(n) as the set of isomorphism classes of n-trees\nfrom Treen and defining \u03a8(E) by the formula\nM\n(26)\n\u03a8(E)(n) =\nE(T ), n \u2265 0,\n[T ]\u2208Tree(n)\n\nwhich does not involve the colimit. The drawback of (26) is that it assumes a choice of a\nrepresentative [T ] of each isomorphism class in Tree(n), while (25) is functorial and admits\nsimple generalizations to other types of operads and PROPs. See [83, Section II.1.9] for other\nrepresentations of the free non-unital operad functor.\nHaving constructed the free non-unital operad \u03a8(E), we may use (17) to define the free operad\n\u0393(E). This is obviously equivalent to enlarging, in (25) for n = 1, the category Treen by the\nexceptional roted tree\nwith one leg and no internal vertex. If we denote this enlarged category\nof trees and their isomorphisms (which however differs from Treen only at n = 1) by UTreen , we\nmay represent the free operad as\n(27)\n\n\u0393(E)(n) :=\n\ncolim E(T ), n \u2265 0.\nT \u2208 UTreen\n\nIf E is a \u03a3-module such that E(0) = E(1) = 0, then (26) reduces to a summation over reduced\ntrees, that is trees whose all vertices have at least two input edges. By simple combinatorics, the\n\n\fOPERADS AND PROPS\n\n23\n\nnumber of isomorphism classes of reduced trees in Treen is finite for each n \u2265 0. This implies\nthe following proposition that says that operads are relatively small objects.\nProposition 33. Let E = {E(n)}n\u22650 be a \u03a3-module such that\nE(0) = E(1) = 0\nand that E(n) are finite-dimensional for n \u2265 2. Then the spaces \u03a8(E)(n) and \u0393(E)(n) are\nfinite-dimensional for each n \u2265 0.\nWe close this section by showing how the free operad functor can be used to define operads.\nIt follows from general principles that any operad P is a quotient P = \u0393(E)/(R), where E and\nR are \u03a3-modules and (R) is the operadic ideal (see Definition 6) generated by R in \u0393(E).\nExample 34. The commutative associative operad Com recalled in Example 10 is generated by\nthe \u03a3-module\n\u001a\nk * \u03bc, if n = 2 and\nECom (n) :=\n0,\nif n 6= 2.\nwhere k * \u03bc is the trivial representation of \u03a32 . The ideal of relations is generated by\nRCom := Span k {\u03bc(\u03bc \u2297 id ) \u2212 \u03bc(id \u2297 \u03bc)} \u2282 \u0393(ECom )(3),\nwhere \u03bc(\u03bc \u2297 id ) \u2212 \u03bc(id \u2297 \u03bc) is the obvious shorthand for \u03b3(\u03bc, \u03bc, e) \u2212 \u03b3(\u03bc, e, \u03bc), with e the unit\nof \u0393(ECom ).\nSimilarly, the operad Ass for associative algebras reviewed in Example 3 is generated by the\n\u03a3-module EAss such that\n\u001a\nk[\u03a32 ], if n = 2 and\nEAss (n) :=\n0,\nif n 6= 2.\n\nThe ideal of relations is generated by the k[\u03a33 ]-closure RAss of the associativity\n(28)\n\n\u03b1(\u03b1 \u2297 id ) \u2212 \u03b1(id \u2297 \u03b1) \u2208 \u0393(EAss )(3),\n\nwhere \u03b1 is a generator of the regular representation EAss (2) = k[\u03a32 ].\nExample 35. The operad Lie governing Lie algebras is the quotient Lie := \u0393(ELie )/(RLie ),\nwhere ELie is the \u03a3-module\n\u001a\nk * \u03b2 if n = 2 and\nELie (n) :=\n0\nif n 6= 2,\n\nwith k * \u03b2 is the signum representation of \u03a32 . The ideal of relations (RLie ) is generated by the\nJacobi identity:\n(29)\n\n\u03b2(\u03b2 \u2297 id ) + \u03b2(\u03b2 \u2297 id )c + \u03b2(\u03b2 \u2297 id )c2 = 0,\n\nin which c \u2208 \u03a33 is the cyclic permutation (1, 2, 3) 7\u2192 (2, 3, 1).\nExample 36. We show how to describe the presentations of the operads Ass and Lie given in\nExamples 34 and 35 in a simple graphical language. The generator \u03b1 of EAss is an operation\nwith two inputs and one output, so we depict it as . The associativity (28) then reads as\n=\n\n,\n\n\f24\n\nM. MARKL\n\ntherefore Ass = \u0393( )/( = ). Also the operad for Lie algebras is generated by one bilinear\noperation , but this time the operation is anti-symmetric\n1 2\n\n=\u22122\n\n1\n\n.\n\nThe Jacobi identity (29) reads\n123\n\n+\n\n231\n\n+\n\n312\n\n= 0.\n\nThe kind of description used in the above examples is 'tautological' in the sense that it just\nsays that the operad P governing a certain type of algebras is generated by operations of these\nalgebras, with an appropriate symmetry, modulo the axioms satisfied by these operations. It does\nnot say directly anything about the properties of the individual spaces P(n), n \u2265 0. Describing\nthese individual components may be a very nontrivial task, see for example the formula for the\n\u03a3n -modules Lie(n) given in [83, page 50]. Operads in Examples 34 and 35 are quadratic in the\nsense of the following:\nDefinition 37. An operad P is quadratic if it has a presentation P = \u0393(E)/(R), where E = P(2)\nand R \u2282 \u0393(E)(3).\nQuadratic operads form a very important class of operads. Each quadratic operad P has\na quadratic dual P! [34], [83, Definition II.3.37] which is a quadratic operad defined, roughly\nspeaking, by dualizing the generators of P and replacing the relations of P by their annihilator\nin the dual space. For example, Ass ! = Ass, Com ! = Lie and Lie ! = Com. A quadratic operad\nP is Koszul if it has the homotopy type of the bar construction of its quadratic dual [34], [83,\nDefinition II.3.40]. For quadratic Koszul operads, there is a deep understanding of the derived\ncategory of the corresponding algebras. Operads Ass, Com and Lie above, as well as most\nquadratic operads one encounters in everyday life, are Koszul.\n5. Unbiased definitions\nIn this section, we review the definition of a triple (monad) and give, in Theorem 40, a description of unital and non-unital operads in terms of algebras over a triple. The relevant triples\ncome from the endofunctors \u03a8 and \u0393 recalled in Section 4. Let End (C) be the strict symmetric\nmonoidal category of endofunctors on a category C where multiplication is the composition of\nfunctors.\nDefinition 38. A triple (also called a monad) T on a category C is an associative and unital\nmonoid (T, \u03bc, \u03c5) in End (C). The multiplication \u03bc : T T \u2192 T and unit morphism \u03c5 : id \u2192 T\nsatisfy the axioms given by commutativity of the diagrams in Figure 4.\nTriples arise naturally from pairs of adjoint functors. Given an adjoint pair [38, II.7]\nG\n\nAY\nwith associated functorial isomorphism\n\nj\n\nB,\n\nF\n\nMor A (F (X), Y ) \u223c\n= Mor B (X, G(Y )), X \u2208 B, Y \u2208 A,\n\n\fOPERADS AND PROPS\n\nT\u03bc\n\n-\n\nTTT\n?\n\n\u03bc\n\nTT\n\n-\n\n?\n\nB\nNB\n\n\u03c5T -\n\nT\n\nTT\n\n\u0002\n\u0002\u03bc\n\u0002\n\u0002\n\nB\n\nid B\n\n\u03bc\n\n\u03bcT\n\nT \u03c5-\n\nT\n\nTT\n\n25\n\nB\n\nid B\n\nT\n\nT\n\n\u0002\n\u0002\n\nB\nNB\n\nTT\n\n\u0002\n\u0002\u03bc\n\nT\n\nFigure 4. Associativity and unit axioms for a triple.\nT (\u03b1)\n\n-\n\nT (T (A))\n\nT (A)\n\n\u03bc\n\n\u03b1\n?\n\nT (A)\n\n\u03b1\n\n-\n\n?\n\nA\n\n\u03c5A\n\n-\n\nA\nid\n\nB\nB\n\n\u0002\n\u0002\n\nB\nNB\n\nT (A)\n\u0002\n\n\u0002\n\n\u03b1\n\nA\n\nFigure 5. T -algebra structure.\nthere is a triple in B defined by T := GF . The unit of the adjunction id \u2192 GF defines the\nunit \u03c5 of the triple and the counit of the adjunction F G \u2192 id induces a natural transformation\nGF GF \u2192 GF which defines the multiplication \u03bc. In fact, it is a theorem of Eilenberg and\nMoore [20] that all triples arise in this way from adjoint pairs. This is exactly the situation with\nthe free operad and free non-unital operad functors that were described in Section 4. We will\nshow how operads and non-unital operads can actually be defined using the concept of an algebra\nover a triple:\nDefinition 39. A T -algebra or algebra over the triple T is an object A of C together with a\nstructure morphism \u03b1 : T (A) \u2192 A satisfying\n\u03b1(T (\u03b1)) = \u03b1(\u03bcA ) and \u03b1\u03c5A = id A ,\nsee Figure 5.\nThe category of T -algebras in C will be denoted AlgT (C). Since the free non-unital operad\nfunctor \u03a8 and the free operad functor \u0393 described in Section 4 are left adjoints to \u03c8 : \u03c8Oper \u2192\n: Oper \u2192 \u03a3-mod, respectively, the functors \u03c8 \u03a8 (denoted simply \u03a8) and \u0393\n\u03a3-mod and\n(denoted \u0393) define triples on \u03a3-mod.\nTheorem 40. A \u03a3-module S is a \u03a8-algebra if and only if it is a non-unital operad and it is a\n\u0393-algebra if and only if it is an operad. In shorthand:\nAlg\u03a8 (\u03a3-mod) \u223c\n= Oper.\n= \u03c8Oper and Alg\u0393 (\u03a3-mod) \u223c\nProof. We outline first the proof of the implication in the direction from algebra to non-unital\noperad. Let S be a \u03a8-algebra. The restriction of the structure morphism \u03b1 : \u03a8(S) \u2212\u2192 S to\nthe components of \u03a8(S) supported on trees with one internal edge defines the non-unital operad\ncomposition maps \u25e6i , as indicated by:\n\n\f26\n\nM. MARKL\n\n'$\n\n\u03bc\n\u2022\n7\u2212\u2192\n@\n'$\n\u2022\u2022\n\n\u2022\n\n@\n\n@ @\n&%\n@\u2022\n@\u2022\n@\n&%\n@\n\n\u2022\n\n\u2022 @\n\n@\n@\n\n@\u2022\n@\u2022\n@\n\nFigure 6. Bracketed trees. The left picture shows an element of \u03a8\u03a8(E)(5) while\nthe right picture shows the same element interpreted, after erasing the braces\nindicated by thin cycles, as an element of \u03a8(E)(5). For simplicity, we did not show\nthe decoration of vertices by elements of E.\nf\n\u2022\n\u001c\u0004T\n@\n\u001c \u0004 i T@\n\u001c* * * \u0004 * * *T @\nT @\n\u001c \u2022\u0004 g\n\n\u03b1\n\n7\u2212\u2192\n\nf \u25e6i g.\n\n@\nJ\n\n* * * JJ@\n@\nIn the opposite direction, for a non-unital operad S, the \u03a8-algebra structure \u03b1 : \u03a8(S) \u2192 S\nis the contraction along the edges of underlying trees, using the \u25e6i -operations. The proof that\n\u0393-algebras are operads is similar.\n\u0003\nLet us change our perspective and consider formula (25) as defining an endofunctor \u03a8 :\n\u03a3-mod \u2192 \u03a3-mod, ignoring that we already know that it represents free non-unital operads. We\nare going to construct maps\n\u03bc : \u03a8\u03a8 \u2192 \u03a8 and \u03c5 : id \u2192 \u03a8\nmaking \u03a8 a triple on the category \u03a3-mod. Let us start with the triple multiplication \u03bc. It follows\nfrom (25) that, for each \u03a3-module E,\n\u03a8\u03a8(E)(n) := colim \u03a8(E)(T ), n \u2265 0.\nT \u2208 Treen\n\nThe elements in the right hand side are represented by rooted trees T with vertices decorated by\nelements of \u03a8(E), while elements of \u03a8(E) are represented by rooted trees with vertices decorated\nby E. We may therefore imagine elements of \u03a8\u03a8(E) as 'bracketed' rooted trees, in the sense\nindicated in Figure 6. The triple multiplication \u03bcE : \u03a8\u03a8(E) \u2192 \u03a8(E) then simply erases the\nbraces. The triple unit \u03c5E : E \u2192 \u03a8(E) identifies elements of E with decorated corollas:\n\nE(n) \u220b e\n\n\u2190\u2192\n\n\u2022\n\ne\n\n\u2208 \u03a8(E)(n), n \u2265 0.\n\n.. }\n| .{z\nn inputs\n\nIt is not difficult to verify that the above constructions indeed make \u03a8 a triple, compare [83,\n\u00a7 II.1.12]. Now we can define non-unital operads as algebras over the triple (\u03a8, \u03bc, \u03c5). The\n\n\fOPERADS AND PROPS\n\n27\n\n\u2022\n\u2022\n\u2022\n\n\u0001A\n\u0001 A\n\nA\nA\u2022\n\u0001A\n\u0001 A\n\n@\n@\n@\n@\u2022\n\u2022\n@\n\u2022 \u2022 @\u2022\n\u0001A\n\u0001@\n\u0001 A\n\u0001 @\n\nFigure 7. A May's tree.\nadvantage of this approach is that, by replacing Treen in (25) by another category of trees or\ngraphs, one may obtain triples defining other types of operads and their generalizations.\nWe have already seen in (27) that enlarging Treen into UTreen by adding the exceptional tree,\none gets the triple \u0393 describing (unital) operads. It is not difficult to see that non-unital May's\noperads are related to the category MTreen of May's trees which are, by definition, rooted trees\nwhose vertices can be arranged into levels as in Figure 7. Non-unital May's operads are then\nalgebras over the triple M : \u03a3-mod \u2192 \u03a3-mod defined by\nM(E)(n) :=\n\ncolim E(T ), n \u2265 0.\nT \u2208 MTreen\n\nThese observations are summarized in the first three lines of the table in Figure 14 on page 45.\n6. Cyclic operads\nIn the following two sections we use the approach developed in Section 5 to introduce cyclic\nc 0 = {M\nc 0 (n)}n\u22650 of Riemann\nand modular operads. We recalled, in Example 14, the operad M\nc 0 (n) was a right \u03a3n -space, with the operadic\nspheres with parametrized labeled holes. Each M\nc0 (n) obviously\nright \u03a3n -action permuting the labels 1, . . . , n of the holes u1 , . . . , un . But each M\nadmits a higher type of symmetry which interchanges labels 0, . . . , n of all holes, including the\nlabel of the 'output' hole u0 . Another example admitting a similar higher symmetry is the\nconfiguration (non-unital) operad M0 = {M0 (n)}n\u22652 .\nThese examples indicate that, for some operads, there is no clear distinction between 'inputs'\nand the 'output.' Cyclic operads, introduced by E. Getzler and M.M. Kapranov in [32], formalize\nthis phenomenon. They are, roughly speaking, operads with an extra symmetry that interchanges\nthe output with one of the inputs. Let us recall some notions necessary to give a precise definition.\nWe remind the reader that in this section, as well as everywhere in this article, main definitions\nare formulated over the underlying category of k-modules, where k is a commutative associative\nunital ring. However, for some constructions, we will require k to be a field ; we will indicate this\nas usual by speaking about vector spaces instead of k-modules.\n+\nLet \u03a3+\nn be the permutation group of the set {0, . . . , n}. The group \u03a3n is, of course, noncanonically isomorphic to the symmetric group \u03a3n+1 . We identify \u03a3n with the subgroup of \u03a3+\nn\n+\nconsisting of permutations \u03c3 \u2208 \u03a3+\nsuch\nthat\n\u03c3(0)\n=\n0.\nIf\n\u03c4\n\u2208\n\u03a3\ndenotes\nthe\ncycle\n(0,\n.\n.\n.\n,\nn),\nn\nn\nn\nthat is, the permutation with \u03c4n (0) = 1, \u03c4n (1) = 2, . . . , \u03c4n (n) = 0, then \u03c4n and \u03a3n generate \u03a3+\nn.\n\n\f28\n\nM. MARKL\n\n1\n\n9\n\nA\n\n\u2022\n\nA\u2022\n\u2022\n2\n@\n\u0018\u2022\n\u0018@\nH\n\u0011\n@\nH\u2022\u0018\u0018\n\u0011\n@\u2022\u0011\n\u2022\n\u0002@\n@\n\u0002\n5\n\u0002\n7\n\n8\n\n4\n\n0\n\n6\n\n3\n\nFigure 8. A cyclic labeled tree from Tree+\n9.\nRecall that a cyclic \u03a3-module or a \u03a3+ -module is a sequence W = {W (n)}n\u22650 such that\n+\neach W (n) is a (right) k[\u03a3+\nn ]-module. Let \u03a3 -mod denote the category of cyclic \u03a3-modules. As\n(ordinary) operads were \u03a3-modules with an additional structure, cyclic operads are \u03a3+ -modules\nwith an additional structure.\nWe will also need the following 'cyclic' analog of (23): if X is a set with n + 1 elements and\nW \u2208 \u03a3+ -mod, then\n(30)\n\nW ((X)) := W (n) \u00d7\u03a3+n Bij ([n]+ , X),\n\nwhere [n]+ := {0, . . . , n}, n \u2265 0. Double brackets in W ((X)) remind us that the nth piece of the\ncyclic \u03a3-module W = {W (n)}n\u22650 is applied on a set with n + 1 elements, using the extended\n\u03a3+\nn -symmetry. Therefore\nW (({0, . . . , n})) \u223c\n= W (n) while W ({0, . . . , n}) \u223c\n= W (n + 1), n \u2265 0.\nPasting schemes for cyclic operads are cyclic (leg-) labeled n-trees, by which we mean unrooted trees as on page 19, with legs labeled by the set {0, . . . , n}. An example of such a tree\nis given in Figure 8. Since we do not assume a choice of the root, the edges of a cyclic tree C\nare not directed and it does not make sense to speak about inputs and the output of a vertex\nv \u2208 vert(C). Let Tree+\nn be the category of cyclic labeled n-trees and their bijections.\nFor a cyclic \u03a3-module W and a cyclic labeled tree T we have the following cyclic version of\nthe product (24)\nO\nW ((edge(v))).\nW ((T )) :=\nv\u2208vert (T )\n\nThe conceptual difference between (24) and the above formula is that instead of the set in(v) of\nincoming edges of a vertex v of a rooted tree, here we use the set edge(v) of all edges incident\nwith v. Let, finally, \u03a8+ : \u03a3+ -mod \u2192 \u03a3+ -mod be the functor\n(31)\n\n\u03a8+ (W )(n) := colim W ((T )), n \u2265 0,\nT \u2208 Tree+\nn\n\nequipped with the triple structure of 'forgetting the braces' similar to that reviewed on page 26.\nWe will use also the 'extended' triple \u0393+ : \u03a3+ -mod \u2192 \u03a3+ -mod,\n\u0393+ (W )(n) :=\n\ncolim\nT \u2208 UTree+\nn\n\nW ((T )), n \u2265 0,\n\n\fOPERADS AND PROPS\n+\nwhere UTree+\nn is the obvious extension of the category Treen by the exceptional tree\n\n29\n\n.\n\nDefinition 41. A cyclic (resp. non-unital cyclic) operad is an algebra over the triple \u0393+ (resp. the\ntriple \u03a8+ ) introduced above.\nIn the following proposition, which slightly improves [32, Theorem 2.2], \u03c4n \u2208 \u03a3+\nn denotes the\ncycle (0, . . . , n).\nProposition 42. A non-unital cyclic operad is the same as a non-unital operad C = {C(n)}n\u22650\n(Definition 11) such that the right \u03a3n -action on C(n) extends, for each n \u2265 0, to an action of \u03a3+\nn\nwith the property that for p \u2208 C(m) and q \u2208 C(n), 1 \u2264 i \u2264 m, n \u2265 0, the composition maps\nsatisfy\n\u001a\n(q\u03c4n ) \u25e6n (p\u03c4m ), if i = 1, and\n(p \u25e6i q)\u03c4m+n\u22121 =\n(p\u03c4m ) \u25e6i\u22121 q,\nfor 2 \u2264 i \u2264 m.\n\nThe above structure is a (unital) cyclic operad if moreover there exists a \u03a3+\n1 -invariant operadic\nunit e \u2208 C(1).\nProposition 42 gives a biased definition of cyclic operads whose obvious modification (see [83,\nDefinition II.5.2]) makes sense in an arbitrary symmetric monoidal category. We can therefore\nspeak about topological cyclic operads, differential graded cyclic operads, simplicial cyclic operads &c. Observe that there are no non-unital cyclic May's operads because it does not make\nsense to speak about levels in trees without a choice of the root.\nExample 43. Let V be a finite dimensional vector space and B : V \u2297 V \u2192 k a nondegenerate\nsymmetric bilinear form. The form B induces the identification\nb ) := B(\u2212, f (\u2212)) \u2208 Lin(V \u2297(n+1) , k)\nLin(V \u2297n , V ) \u220b f 7\u2212\u2192 B(f\n\nof the spaces of linear maps. The standard right \u03a3+\nn -action\n\nb )\u03c3(v0 , . . . , vn ) = B(f\nb )(v\u03c3\u22121 (0) , . . . , v\u03c3\u22121 (n) ), \u03c3 \u2208 \u03a3+ , v0 , . . . , vn \u2208 V,\nB(f\nn\n\n\u2297n\ndefines, via this identification, a right \u03a3+\n, V ), that is, on the nth piece of the\nn -action on Lin(V\nendomorphism operad End V = {End V (n)}n\u22650 recalled in Example 2. It is easy to show that,\nwith the above action, End V is a cyclic operad in the monoidal category of vector spaces, called\nthe cyclic endomorphism operad of the pair V = (V, B). The biased definition of cyclic operads\ngiven in Proposition 42 can be read off from this example.\n\nExample 44. We saw in Example 7 that a unital operad A = {A(n)}n\u22650 such that A(n) = 0 for\nn 6= 1 is the same as a unital associative algebra. Similarly, it can be easily shown that a cyclic\noperad C = {C(n)}n\u22650 satisfying C(n) = 0 for n 6= 1 is the same as a unital associative algebra\nA with a linear involutive antiautomorphism, by which we mean a k-linear map \u2217 : A \u2192 A\nsuch that\n(ab)\u2217 = b\u2217 a\u2217 , (a\u2217 )\u2217 = a and 1\u2217 = 1,\nfor arbitrary a, b \u2208 A.\n\n\f30\n\nM. MARKL\n\nLet P = \u0393(E)/(R) be a quadratic operad as in Definition 37. The action of \u03a32 on E extends\n+\nto an action of \u03a3+\n2 , via the sign representation sgn : \u03a32 \u2192 {\u00b11} = \u03a32 . It can be easily verified\nthat this action induces a cyclic operad structure on the free operad \u0393(E). In particular, \u0393(E)(3)\nis a right \u03a3+\n3 -module.\nDefinition 45. We say that the operad P is a cyclic quadratic operad if, in the above presentation, R is a \u03a3+\n3 -invariant subspace of \u0393(E)(3).\nIf the condition of the above definition is satisfied, P has a natural induced cyclic operad\nstructure.\nExample 46. By [32, Proposition 3.6], all quadratic operads generated by a one-dimensional\nspace are cyclic quadratic, therefore the operads Lie and Com are cyclic quadratic. Also the operads Ass and the operad Poiss for Poisson algebras are cyclic quadratic [32, Proposition 3.11].\nA surprisingly simple operad which is cyclic and quadratic, but not cyclic quadratic, is constructed in [82, Remark 15].\nc 0 of Riemann spheres with labeled punctures reviewed in Example 14 is a\nThe operad M\n\ntopological cyclic operad. The configuration operad M0 recalled on page 12 is a non-unital\ntopological cyclic operad. Important examples of non-cyclic operads are the operad pre-Lie for\npre-Lie algebras [82, Section 3] and the operad Leib for Leibniz algebras [32, \u00a7 3.15].\nLet C be an operad, \u03b1 : C(n) \u2297 V \u2297n \u2192 V , n \u2265 0, a C-algebra with the underlying vector\nspace V as in Proposition 24 and B : V \u2297 V \u2192 U a bilinear form on V with values in a vector\nspace U. We can form a map\n(32)\nby the formula\n\ne\nB(\u03b1)\n: C(n) \u2297 V \u2297(n+1) \u2192 U, n \u2265 0,\n\ne\nB(\u03b1)(c\n\u2297 v0 \u2297 * * * vn ) := B(v0 , \u03b1(c \u2297 v1 \u2297 * * * vn )), c \u2208 C(n), v0 , . . . , vn \u2208 V.\n\nSuppose now that the operad C is cyclic, in particular, that each C(n) is a right \u03a3+\nn -module. We\ne\nsay that the bilinear form B : V \u2297 V \u2192 U is invariant [32, Definition 4.1], if the maps B(\u03b1)\n\u2297(n+1)\nin (32) are, for each n \u2265 0, invariant under the diagonal action of \u03a3+\n. We\nn on C(n) \u2297 V\ne\nleave as an exercise to verify that the invariance of B(\u03b1) for n = 1 together with the existence\nof the operadic unit implies that B is symmetric,\nB(v0 , v1 ) = B(v1 , v0 ), v0 , v1 \u2208 V.\n\nDefinition 47. A cyclic algebra over a cyclic operad C is a C-algebra structure on a vector\nspace V together with a nondegenerate invariant bilinear form B : V \u2297 V \u2192 k.\nBy [83, Proposition II.5.14], a cyclic algebra is the same as a cyclic operad homomorphism C \u2192\nEnd V , where End V is the cyclic endomorphism operad of the pair (V, B) recalled in Example 43.\nExample 48. A cyclic algebra over the cyclic operad Com is a Frobenius algebra, that is, a\nstructure consisting of a commutative associative multiplication * : V \u2297 V \u2192 V as in Example 25\n\n\fOPERADS AND PROPS\n\n31\n\ntogether with a non-degenerate symmetric bilinear form B : V \u2297 V \u2192 k, invariant in the sense\nthat\nB(a * b, c) = B(a, b * c), for all a, b, c \u2208 V.\nSimilarly, a cyclic Lie algebra is given by a Lie bracket [\u2212, \u2212] : V \u2297 V \u2192 V and a non-degenerate\nsymmetric bilinear form B : V \u2297 V \u2192 k satisfying\nB([a, b], c) = B(a, [b, c]), for a, b, c \u2208 V.\nFor algebras over cyclic operads, one may introduce cyclic cohomology that generalizes the\nclassical cyclic cohomology of associative algebras [12, 66, 109] as the non-abelian derived functor\nof the universal bilinear form [32], [83, Proposition II.5.26]. Let us close this section by mentioning\ntwo examples of operads with other types of higher symmetries. The symmetry required for\nanticylic operads differs from the symmetry of cyclic operads by the sign [83, Definition II.5.20].\nDihedral operads exhibit a symmetry governed by the dihedral groups [82, Definition 16].\n7. Modular operads\nc 0 = {M\nc 0(n)}n\u22650 of Riemann spheres with punctures.\nLet us consider again the \u03a3+ -module M\nWe saw that the operation M, N 7\u2192 M \u25e6i N of sewing the 0th hole of the surface N to the\nc0 a cyclic operad structure. One may generalize this\nith hole of the surface M defined on M\nc0 (m), N \u2208 M\nc 0 (n), 0 \u2264 i \u2264 m, 0 \u2264 j \u2264 n, the element\noperation by defining, for M \u2208 M\nc0 (m + n \u2212 1) by sewing the jth hole of M to the ith hole of N. Under this notation,\nM i \u25e6j N \u2208 M\nc 0 (n), choose labels i, j,\n\u25e6i = i \u25e60 . In the same manner, one may consider a single surface M \u2208 M\n0 \u2264 i 6= j \u2264 n, and sew the ith hole of M along the jth hole of the same surface. The result is\na new surface \u03be{i,j}(M), with n \u2212 2 holes and genus 1.\nc = {M(g,\nc n)}g\u22650,n\u2265\u22121, where M(g,\nc n) denotes now the moduli\nThis leads us to the system M\nc n) also for\nspace of genus g Riemann surfaces with n + 1 holes. Observe that we include M(g,\nc \u22121) is the moduli space of Riemann surfaces of genus g. The operations i \u25e6j and\nn = \u22121; M(g,\nc Clearly, for M \u2208 M(g,\nc m) and N \u2208 M(h,\nc n), 0 \u2264 i \u2264 m, 0 \u2264 j \u2264 n and g, h \u2265 0,\n\u03be{i,j} act on M.\n(33)\n\nand, for m \u2265 1 and g \u2265 0,\n\nc + h, m + n \u2212 1)\nM i \u25e6j N \u2208 M(g\nc + 1, m \u2212 2).\n\u03be{i,j}(M) \u2208 M(g\n\n(34)\n\nA particular case of (33) is the non-operadic composition\n(35)\n\n0 \u25e60\n\nc 0) \u00d7 M(h,\nc 0) \u2192 M(g\nc + h, \u22121), g, h \u2265 0.\n: M(g,\n\nModular operads are abstractions of the above structure satisfying a certain additional stability\ncondition. The following definitions, taken from [33], are made for the category of k-modules, but\nthey can be easily generalized to an arbitrary symmetric monoidal category with finite colimits,\nwhose monoidal product \u2299 is distributive over colimits. Let us introduce the underlying category\nfor modular operads.\n\n\f32\n\nM. MARKL\n\nf\n#\nd\na\nHH\nh\b\b\n\b\nb H\b\nH\u2022\n\b\n\u2022H\n\b\nH\n\b\nH\n\b c\ne\"g !\ni H\nFigure 9. The sputnik.\nA modular \u03a3-module is a sequence E = {E(g, n)}g\u22650,n\u2265\u22121 of k-modules such that each E(g, n)\nhas a right k[\u03a3+\nn ]-action. We say that E is stable if\n(36)\n\nE(g, n) = 0 for 2g + n \u2212 1 \u2264 0\n\nand denote MMod the category of stable modular \u03a3-modules.\nStability (36) says that E(g, n) is trivial for (g, n) = (0, \u22121), (1, \u22121), (0, 0) and (0, 1). We\nwill sometimes express the stability of E by writing E = {E(g, n)}(g,n)\u2208S, where\nS := {(g, n) | g \u2265 0, n \u2265 \u22121 and 2g + n \u2212 1 > 0}.\nRecall that a genus g Riemann surface with k marked points is stable if it does not admit\ninfinitesimal automorphisms. This happens if and only if 2(g \u2212 1) + k > 0, that is, excluded is\nthe torus with no marked points and the sphere with less than three marked points. Thus the\nstability property of modular \u03a3-modules is analogous to the stability of Riemann surfaces.\nNow we introduce graphs that serve as pasting schemes for modular operads. The naive notion\nof a graph as we have used it up to this point is not subtle enough; we need to replace it by a\nmore sophisticated:\nDefinition 49. A graph \u0393 is a finite set Flag(\u0393) (whose elements are called flags or half-edges)\ntogether with an involution \u03c3 and a partition \u03bb. The vertices vert(\u0393) of a graph \u0393 are the blocks\nof the partition \u03bb, we assume also that the number of these blocks is finite. The edges Edg(\u0393)\nare pairs of flags forming a two-cycle of \u03c3. The legs Leg(\u0393) are the fixed points of \u03c3.\nWe also denote by edge(v) the flags belonging to the block v or, in common speech, halfedges adjacent to the vertex v. We say that graphs \u03931 and \u03932 are isomorphic if there exists a\nset isomorphism \u03c6 : Flag(\u03931 ) \u2192 Flag(\u03932 ) that preserves the partitions and commutes with the\ninvolutions. We may associate to a graph \u0393 a finite one-dimensional cell complex |\u0393|, obtained\nby taking one copy of [0, 12 ] for each flag, a point for each block of the partition, and imposing\nthe following equivalence relation: The points 0 \u2208 [0, 21 ] are identified for all flags in a block of\nthe partition \u03bb with the point corresponding to the block, and the points 12 \u2208 [0, 12 ] are identified\nfor pairs of flags exchanged by the involution \u03c3.\nWe call |\u0393| the geometric realization of \u0393. Observe that empty blocks of the partition generate\nisolated vertices in the geometric realization. We will usually make no distinction between the\ngraph and its geometric realization. As an example (taken from [33]), consider the graph with\n{a, b, . . . , i} as the set of flags, the involution \u03c3 = (df )(eg) and the partition {a, b, c, d, e} \u222a\n{f, g, h, i}. The geometric realization of this graph is the 'sputnik' in Figure 9.\nLet us introduce labeled versions of the above notions. A (vertex-) labeled graph is a connected\ngraph \u0393 together with a map g (the genus map) from vert(\u0393) to the set {0, 1, 2, . . .}. Labeled\n\n\fOPERADS AND PROPS\n\n33\n\ngraphs \u03931 and \u03932 are isomorphic if there exists an isomorphism preserving the labels of the\nvertices. The genus g(\u0393) of a labeled graph \u0393 is defined by\nX\n(37)\ng(\u0393) := b1 (\u0393) +\ng(v),\nv\u2208vert (\u0393)\n\nwhere b1 (\u0393) := dim H1 (|\u0393|) is the first Betti number of the graph |\u0393|, i.e. the number of independent circuits of \u0393. A graph \u0393 is stable if\n2(g(v) \u2212 1) + |edge(v)| > 0,\nat each vertex v \u2208 vert(\u0393).\nFor g \u2265 0 and n \u2265 \u22121, let MGr(g, n) be the groupoid whose objects are pairs (\u0393, l) consisting of\na stable (vertex-) labeled graph \u0393 of genus g and an isomorphism l : Leg(\u0393) \u2192 {0, . . . , n} labeling\nthe legs of \u0393 by elements of {0, . . . , n}. Morphisms of MGr(g, S) are isomorphisms of vertex-labeled\ngraphs preserving the labeling of the legs. The stability implies, via an elementary combinatorial\ntopology that, for each fixed g \u2265 0 and n \u2265 \u22121, there is only a finite number of isomorphism\nclasses of stable graphs \u0393 \u2208 MGr(g, n), see [33, Lemma 2.16].\nWe will also need the following obvious generalization of (30): if E = {E(g, n)}g\u22650,n\u2265\u22121 is a\nmodular \u03a3-module and X a set with n + 1 elements, then\n(38)\n\nE((g, X)) := E(g, n) \u00d7\u03a3+n Bij ([n]+ , X), g \u2265 0, n \u2265 \u22121.\n\nFor a modular \u03a3-module E = {E(g, n)}g\u22650,n\u2265\u22121 and a labeled graph \u0393, let E((\u0393)) be the product\nO\n(39)\nE((\u0393)) :=\nE((g(v), edge(v))).\nv\u2208vert (\u0393)\n\nEvidently, the correspondence \u0393 7\u2192 E((\u0393)) defines a functor from the category MGr(g, n) to the\ncategory of k-modules and their isomorphisms. We may thus define an endofunctor M on the\ncategory MMod of stable modular \u03a3-modules by the formula\nME(g, n) :=\n\ncolim\n\nE((\u0393)), g \u2265 0, n \u2265 \u22121.\n\n\u0393 \u2208 MGr(g, n)\n\nChoosing a representative for each isomorphism class in MGr(g, n), one obtains the identification\nM\nE((\u0393))Aut(\u0393) , g \u2265 0, n \u2265 \u22121,\n(40)\nME(g, n) \u223c\n=\n[\u0393]\u2208{MGr(g, n)}\n\nwhere {MGr(g, n)} is the set of isomorphism classes of objects of the groupoid MGr(g, n) and the\nsubscript Aut(\u0393) denotes the space of coinvariants. Stability (36) implies that the summation\nin the right-hand side of (40) is finite. Formula (40) generalizes (26) which does not contain\ncoinvariants because there are no nontrivial automorphisms of leaf-labeled trees. On the other\nhand, stable labeled graphs with nontrivial automorphisms are abundant, an example can be\neasily constructed from the graph in Figure 9. The functor M carries a triple structure of\n'erasing the braces' similar to the one used on pages 26 and 28.\nDefinition 50. A modular operad is an algebra over the triple M : MMod \u2192 MMod.\n\n\f34\n\nM. MARKL\n\nA1\n\u2022\n\nA2\n\nx1\n\u2022\n\n\u2022\n\nCurve C: \u2022 x0\n\u2022\n\u2022\nA4\n\n\u2022\nx2\n\nA5\na1 a2 a3 a4\n\u2022\n\u2022\n\u2022\na\n\u2022 5 x\nx1\nx0\n2\n\nDual graph \u0393(C): \u2022\n\u2022\n\n\u2022\nA3\n\nFigure 10. A stable curve and its dual graph. The curve C on the left has five\ncomponents Ai , 1 \u2264 i \u2264 5, and three marked points x0 , x1 and x2 . The dual graph\n\u0393(C) on the right has five vertices ai , 1 \u2264 i \u2264 5, corresponding to the components\nof the curve and three legs labeled by the marked points.\nTherefore a modular operad is a stable modular \u03a3-module A = {A(g, n)}(g,n)\u2208S equipped with\noperations that determine coherent contractions along stable modular graphs. Observe that the\nstability condition is built firmly into the very definition. Very crucially, modular operads do\nnot have units, because such a unit ought to be an element of the space A(0, 1) which is empty,\nby (36).\nOne can easily introduce un-stable modular operads and their unital versions, but the main\nmotivating example reviewed below is stable. We will consider an extension of the GrothendieckKnudsen configuration operad M0 = {M0 (n)}n\u22652 consisting of moduli spaces of stable curves of\narbitrary genera in the sense of the following generalization of Definition 15:\nDefinition 51. A stable (n + 1)-pointed curve, n \u2265 0, is a connected complex projective curve\nC with at most nodal singularities, together with a 'marking' given by a choice x0 , . . . , xn \u2208 C of\nsmooth points. The stability means, as usual, that there are no infinitesimal automorphisms of\nC fixing the marked points and double points.\nThe stability in Definition 51 is equivalent to saying that each smooth component of C isomorphic to the complex projective space CP1 has at least three special points and that each smooth\ncomponent isomorphic to the torus has at least one special point, where by a special point we\nmean either a double point or a node.\nThe dual graph \u0393 = \u0393(C) of a stable (n + 1)-pointed curve C = (C, x0 , . . . , xn ) is a labeled\ngraph whose vertices are the components of C, edges are the nodes and its legs are the points\n{xi }0\u2264i\u2264n . An edge ey corresponding to a nodal point y joins the vertices corresponding to the\ncomponents intersecting at y. The vertex vK corresponding to a branch K is labeled by the\ngenus of the normalization of K. See [37, page 23] for the normalization and recall that a curve\nis normal if and only if it is nonsingular. The construction of \u0393(C) from a curve C is visualized\nin Figure 10.\nLet us denote by Mg,n+1 the coarse moduli space [37, page 347] of stable (n + 1)-pointed\ncurves C such that the dual graph \u0393(C) has genus g, in the sense of (37). The genus of \u0393(C) in\nfact equals the arithmetic genus of the curve C, thus Mg,n+1 is the coarse moduli space of stable\ncurves of arithmetic genus g with n + 1 marked points. By a result of P. Deligne, F.F. Knudsen\nand D. Mumford [18, 51, 50], Mg,n+1 is a projective variety.\n\n\fOPERADS AND PROPS\n\n35\n\nObserve that, for a curve C \u2208 M0,n+1 , the graph \u0393(C) must necessarily be a tree and all\ncomponents of C must be smooth of genus 0, therefore M0,n+1 coincides with the moduli space\nM0 (n) of genus 0 stable curves with n + 1 marked points that we discussed in Section 2. Dual\ngraphs of curves C \u2208 Mg,n+1 are stable labeled graphs belonging to MGr(g, n + 1).\nThe symmetric group \u03a3+\nn acts on Mg,n+1 by renumbering the marked points, therefore\nM := {M(g, n)}g\u22650,n\u2265\u22121,\nwith M(g, n) := Mg,n+1 , is a modular \u03a3-module in the category of projective varieties. Since\nthere are no stable curves of genus g with n + 1 punctures if 2g + n \u2212 1 \u2264 0, M is a stable modular\n\u03a3-module. Let us define the contraction along a stable graph \u0393 \u2208 MGr(g, n)\nY\nM((g(v), edge(v))) \u2192 M(g, n)\n(41)\n\u03b1\u0393 : M((\u0393)) =\nv\u2208vert (\u0393)\n\nby gluing the marked points of curves from M((g(v), edge(v))), v \u2208 vert(\u0393), according to the\ngraph \u0393. To be more precise, let\nY\nCv , where Cv \u2208 M((g(v), edge(v))),\nv\u2208vert(\u0393)\n\nbe an element of M((\u0393)). Let e be an edge of the graph \u0393 connecting vertices v1 and v2 , e =\n{yve1 , yve2 }, where yvei is a marked point of the component Cvi , i = 1, 2, which is also the name of\nthe corresponding flag of the graph \u0393. The curve \u03b1\u0393 (C) is then obtained by the identifications\nyve1 = yve2 , introducing a nodal singularity, for all e \u2208 Edg(\u0393). The procedure is the same as\nthat described for the tree level in Section 2. As proved in [33, \u00a7 6.2], the contraction maps (41)\ndefine on the stable modular \u03a3-module of coarse moduli spaces M = {M(g, n)}(g,n)\u2208S a modular\noperad structure in the category of complex projective varieties.\nLet us look more closely at the structure of the modular triple M. Given a (stable or unstable)\nmodular \u03a3-module E, there is, for each g \u2265 0 and n \u2265 \u22121, a natural decomposition\nM(E)(g, n) = M 0 (E)(g, n) \u2295 M 1 (E)(g, n) \u2295 M 2 (E)(g, n) \u2295 * * * ,\nwith M k (E)(g, n) the subspace obtained by summing over graphs \u0393 with dim H1 (|\u0393|) = k, k \u2265 0.\nIn particular, M 0 (E)(g, n) is a summation over simply connected graphs. It is not difficult to\nsee that M 0 (E) is a subtriple of M(E). This shows that modular operads are M 0 -algebras with\nsome additional operations (the 'contractions') that raise the genus and generate the higher\ncomponents M k , k \u2265 1, of the modular triple M.\nThere seems to be a belief expressed in the proof of [33, Lemma 3.4] and also in [33, Theorem 3.7] that, in the stable case, the triple M 0 is equivalent to the non-unital cyclic operad triple\n\u03a8+ , but it is not so. The triple M 0 is much bigger , for example, if a \u2208 E(1, 0), then M 0 (E)(2, \u22121)\ncontains a non-operadic element\na\na\n\u2022\n\u2022\nwhich can be also written, using (35), as a0 \u25e60 a. The corresponding part \u03a8+ (E)(\u22121) of the cyclic\ntriple is empty. In the Grothendieck-Knudsen modular operad M, an element of the above type\nis realized by two tori meeting at a nodal point.\n\n\f36\n\nM. MARKL\n\nOn the other hand, the triple M 0 restricted to the subcategory of stable modular \u03a3-modules\nE such that E(g, n) = 0 for g > 0 indeed coincides with the non-unital cyclic operad triple \u03a8+ ,\nas was in fact proved in [33, page 81]. Therefore, given a modular operad A = {A(g, n)}(g,n)\u2208S,\nthere is an induced non-unital cyclic operad structure on the cyclic collection A\u266d := {A(0, n)}n\u22652.\nWe will call A\u266d the associated cyclic operad . For example, the cyclic operad associated to the\nGrothendieck-Knudsen modular operad M equals its genus zero part M0 .\nA biased definition of modular operads can be found in [83, Definition II.5.35]. It is formulated\nin terms of operations\n{i \u25e6j : A(g, m) \u2297 A(h, n) \u2192 A(g + h, m + n); 0 \u2264 i \u2264 m, 0 \u2264 j \u2264 n, g, h \u2265 0}\ntogether with contractions\n\b\n\u03be{i,j} : A(g, m) \u2192 A(g + 1, m \u2212 2); m \u2265 1, g \u2265 0\n\nthat generalize (33) and (34).\n\nExample 52. Let V = (V, B) be a vector space with a symmetric inner product B : V \u2297V \u2192 k.\nDenote, for each g \u2265 0 and n \u2265 \u22121,\nEnd V (g, n) := V \u2297(n+1) .\nIt is clear from definition (39) that, for any labeled graph \u0393 \u2208 MGr(g, n), End V ((\u0393)) = V \u2297Flag (\u0393) .\nLet B \u2297Edg(\u0393) : V \u2297Flag (\u0393) \u2192 V \u2297Leg(\u0393) be the multilinear form which contracts the factors\nof V \u2297Flag(\u0393) corresponding to the flags which are paired up as edges of \u0393. Then we define\n\u03b1\u0393 : End V ((\u0393)) \u2192 End V (g, n) to be the map\nB \u2297Edg(\u0393)\n\nV \u2297l\n\n\u03b1\u0393 : End V ((\u0393)) = V \u2297Flag (\u0393) \u2212\u2212\u2212\u2192 V \u2297Leg(\u0393) \u2212\u2192 V \u2297(n+1) = End V (g, n),\nwhere l : Leg(\u0393) \u2192 {0, . . . , n} is the labeling of the legs of \u0393. It is easy to show that the\ncompositions {\u03b1\u0393 ; \u0393 \u2208 MGr(g, n)} define on End V the structure of an un-stable unital modular\noperad, see [33, \u00a7 2.25].\nAn algebra over a modular operad A is a vector space V with an inner product B, together\nwith a morphism \u03c1 : A \u2192 End V of modular operads. Several important structures are algebras\nover modular operads. For example, an algebra over the homology H\u2217 (M) of the GrothendieckKnudsen modular operad is the same as a cohomological field theory in the sense of [55]. Other\nphysically relevant algebras over modular operads can be found in [33, 78, 83]. Relations between\nmodular operads, chord diagrams and Vassiliev invariants are studied in [42].\n8. PROPs\nOperads are devices invented to describe structures consisting of operations with several inputs\nand one output. There are, however, important structures with operations having several inputs\nand several outputs. Let us recall the most prominent one:\nExample 53. A (associative) bialgebra is a k-module V with a multiplication \u03bc : V \u2297 V \u2192 V\nand a comultiplication (also called a diagonal ) \u2206 : V \u2192 V \u2297 V . The multiplication is associative:\n\u03bc(\u03bc \u2297 id V ) = \u03bc(id V \u2297 \u03bc),\n\n\fOPERADS AND PROPS\n\n37\n\nthe comultiplication is coassociative:\n(\u2206 \u2297 id V )\u2206 = (id V \u2297 \u2206)\u2206\nand the usual compatibility between \u03bc and \u2206 is assumed:\n(42)\n\n\u2206(u * v) = \u2206(u) * \u2206(v) for u, v \u2208 V,\n\nwhere u * v := \u03bc(u, v) and the dot * in the right hand side denotes the multiplication induced on\nV \u2297 V by \u03bc. Loosely speaking, bialgebras are Hopf algebras without unit, counit and antipode.\nPROPs (an abbreviation of product and permutation category) describe structures as in\nExample 53. Although PROPs are more general than operads, they appeared much sooner, in\na 1965 Mac Lane's paper [68]. This might be explained by the fact that the definition of PROPs is\n\nmore compact than that of operads \u2013 compare Definition 54 below with Definition 1 in Section 1.\nPROPs then entered the 'renaissance of operads' in 1996 via [73].\nDefinition 54 uses the notion of a symmetric strict monoidal category which we consider so\nbasic and commonly known that we will not recall it, standard citations are [68, 67], see also [83,\n\u00a7 II.1.1]. An example is the category Modk of k-modules, with the monoidal product \u2299 given by\nthe tensor product \u2297 = \u2297k , the symmetry SU,V : U \u2297 V \u2192 V \u2297 U defined as SU,V (u, v) := v \u2297 u\nfor u \u2208 U and v \u2208 V , and the unit 1 the ground ring k.\nDefinition 54. A ( k-linear) PROP (called a theory in [73]) is a symmetric strict monoidal\ncategory P = (P, \u2299, S, 1) enriched over Modk such that\n(i) the objects are indexed by (or identified with) the set N = {0, 1, 2, . . .} of natural numbers,\nand\n(ii) the product satisfies m\u2299n = m+n, for any m, n \u2208 N = Ob(P) (hence the unit 1 equals 0).\nRecall that the Modk -enrichment in the above definition means that each hom-set Mor P (m, n)\nis a k-module and the operations of the monoidal category P (the composition \u25e6, the product \u2299\nand the symmetry S) are compatible with this k-linear structure.\nFor a PROP P denote P(m, n) := Mor P (m, n). The symmetry S induces, via the canonical\nidentifications m \u223c\n= 1\u2299n , on each P(m, n) a structure of (\u03a3m , \u03a3n )-bimodule (left \u03a3m = 1\u2299m and n \u223c\nright \u03a3n -module such that the left action commutes with the right one). Therefore a PROP is a\ncollection P = {P(m, n)}m,n\u22650 of (\u03a3m , \u03a3n )-bimodules, together with two types of compositions,\nhorizontal\n\u2297 : P(m1 , n1 ) \u2297 * * * \u2297 P(ms , ns ) \u2192 P(m1 + * * * + ms , n1 + * * * + ns ),\ninduced, for all m1 , . . . , ms , n1 , . . . , ns \u2265 0, by the monoidal product \u2299 of P, and vertical\n\u25e6 : P(m, n) \u2297 P(n, k) \u2192 P(m, k),\ngiven, for all m, n, k \u2265 0, by the categorial composition. The monoidal unit is an element\ne := 1 \u2208 P(1, 1). In Definition 54, Modk can be replaced by an arbitrary symmetric strict\nmonoidal category.\nLet P = {P(m, n)}m,n\u22650 and Q = {Q(m, n)}m,n\u22650 be two PROPs. A homomorphism f :\nP \u2192 Q is a sequence f = {f (m, n) : P(m, n) \u2192 Q(m, n)}m,n\u22650 of bi-equivariant maps which\ncommute with both the vertical and horizontal compositions. An ideal in a PROP P is a system\n\n\f38\n\nM. MARKL\n\nI = {I(m, n)}m,n\u22650 of left \u03a3m - right \u03a3n -invariant subspaces I(m, n) \u2282 P(m, n) which is closed, in\nthe obvious sense, under both the vertical and horizontal compositions. Kernels, images, &c., of\nhomomorphisms between PROPs, as well as quotients of PROPs by PROPic ideals, are defined\ncomponentwise, see [73, 111, 112, 113] for details.\nExample 55. The endomorphism PROP of a k-module V is the system\nEnd V = {End V (m, n)}m,n\u22650\nwith End V (m, n) the space of linear maps Lin(V \u2297n , V \u2297m ) with n 'inputs' and m 'outputs,'\ne \u2208 End V (1, 1) the identity map, horizontal composition given by the tensor product of linear\nmaps, and vertical composition by the ordinary composition of linear maps.\nAlso algebras over PROPs can be introduced in a very concise way:\nDefinition 56. A P-algebra is a strict symmetric monoidal functor \u03bb : P \u2192 Modk of enriched\nmonoidal categories. The value \u03bb(1) is the underlying space of the algebra \u03c1.\nIt is easy to see that a P-algebra is the same as a PROP homomorphism \u03c1 : P \u2192 End V . As in\nProposition 24, a P-algebra is determined by a system\n\u03b1 : P(m, n) \u2297 V \u2297n \u2192 V \u2297m , m, n, \u2265 0,\nof linear maps satisfying appropriate axioms.\nAs before, the first step in formulating an unbiased definition of PROPs is to specify their\nunderlying category. A \u03a3-bimodule is a system E = {E(m, n)}m,n\u22650 such that each E(m, n)\nis a left k[\u03a3m ]- right k[\u03a3n ]-bimodule. Let \u03a3-bimod denote the category of \u03a3-bimodules. For\nE \u2208 \u03a3-bimod and finite sets Y, X with m resp. n elements put\nE(Y, X) := Bij (Y, [m]) \u00d7\u03a3m E(m, n) \u00d7\u03a3n Bij ([n], X), m, n \u2265 0,\nwhere Bij (\u2212, \u2212) is the same as in (22). Pasting schemes for PROPs are directed (m, n)-graphs,\nby which we mean finite, not necessary connected, graphs in the sense of Definition 49 such that\n(i) each edge is equipped with a direction\n(ii) there are no directed cycles and\n(iii) the set of legs is divided into the set of inputs labeled by {1, . . . , n} and the set of outputs\nlabeled by {1, . . . , m}.\nAn example of a directed graph is given in Figure 11. We denote by Gr(m, n) the category of\ndirected (m, n)-graphs and their isomorphisms. The direction of edges determines at each vertex\nv \u2208 vert(G) of a directed graph G a disjoint decomposition\nedge(v) = in(v) \u2294 out(v)\nof the set of edges adjacent to v into the set in(v) of incoming edges and the set out(v) of outgoing\nedges. The pair (#(out(v)), #(in(v))) \u2208 N \u00d7 N is called the biarity of v. To incorporate the unit,\nwe need to extend the category Gr(m, n), for m = n, into the category UGr(m, n) by allowing the\nexceptional graph\n\u2191 \u2191 \u2191 * * * \u2191 \u2208 UGr(n, n), n \u2265 1,\n\n\fOPERADS AND PROPS\n\n4\n\n1\n\n3\n\n39\n\n2\n\n@ 6\u0012\nI\n6\n@\u2022 \u2022\nI\n6 6\n\u0012@\n\u2022 \u2022 @\n*\u2022\n\b\nI\n@\n6\b\b 6\n@\u2022\n\u2022\b\n\u0012AK\nA\n\n3\n\n2\n\n1\n\nFigure 11. A directed graph from Gr(4, 3).\nwith n inputs, n outputs and no vertices. For a graph G \u2208 UGr(m, n) and a \u03a3-bimodule E, let\nO\nE(G) :=\nE(out(v), in(v)).\nv\u2208vert (G)\n\nand\n(43)\n\n\u0393P (E)(m, n) :=\n\nE(G), m, n \u2265 0.\n\ncolim\nG \u2208 UGr(m, n)\n\nThe \u03a3-bimodule \u0393P (E) is a PROP, with the vertical composition given by the disjoint union\nof graphs, the horizontal composition by grafting the legs, and the unit the exceptional graph\n\u2191 \u2208 \u0393P (E)(1, 1). The following proposition follows from [84] and [111, 112, 113]:\nProposition 57. The PROP \u0393P (E) is the free PROP generated by the \u03a3-bimodule E.\nAs in the previous sections, (43) defines a triple \u0393P : \u03a3-bimod \u2192 \u03a3-bimod with the triple\nmultiplication of erasing the braces. According to general principles [20], Proposition 57 is\nalmost equivalent to\nProposition 58. PROPs are algebras over the triple \u0393P .\nOne may obviously consider non-unital PROPs defined as algebras over the triple\n\u03a8P (E)(m, n) :=\n\nE(G), m, n \u2265 0,\n\ncolim\nG \u2208 Gr(m, n)\n\nand develop a theory parallel to the theory of non-unital operads reviewed in Section 2.\nExample 59. We will use the graphical language explained in Example 36. Let \u0393( , ) be the\nof biarity (2, 1).\nfree PROP generated by one operation of biarity (1, 2) and one operation\nAs we noticed already in [72, 73], the PROP B describing bialgebras equals\nB = \u0393( , )/IB,\nwhere IB is the PROPic ideal generated by\n(44)\n\n\u2212\n\n,\n\n\u2212\n\nand\n\n\u2212 @\n@ .\n\n\f40\n\nM. MARKL\n\nIn the above display we denoted\n:=\n\n\u25e6(\n\n\u2297 e),\n\n\u25e6 (e \u2297\n\n:=\n\u25e6\n\n:=\n\nand\n\n),\n\n@\n@\n\n:= (\n\n\u2297 e) \u25e6\n\n\u2297\n\n)\u25e6\u03ba\u25e6(\n\n:= (\n\n,\n\n:= (e \u2297\n\n\u2297\n\n),\n\n)\u25e6\n\n,\n\nwhere \u03ba \u2208 \u03a34 is the permutation\n(45)\n\n\u03ba :=\n\n\u0012\n\n1 2 3 4\n1 3 2 4\n\n\u0013\n\n\u2022 \u2022 \u2022 \u2022\n\n=\n\n@\n\n.\n\n\u2022 \u2022 \u2022 \u2022\n\nThe above description of B is 'tautological,' but B. Enriquez and P. Etingof found in [24,\nProposition 6.2] the following basis of the k-linear space B(m, n) for arbitrary m, n \u2265 1. Let\n\u2208 B(1, 2) be the equivalence class, in B = \u0393( , )/IB, of the generator \u2208 \u0393( , )(1, 2) (we\nuse the same symbol both for a generator and its equivalence class). Define [1] := e \u2208 B(1, 1)\nand, for a \u2265 2, let\n[a]\n\nLet\n(46)\n\n[b]\n\n\u25e6(\n\n:=\n\n\u2297 e) \u25e6 (\n\n\u2297 e\u22972 ) \u25e6 * * * \u25e6 (\n\n\u2297 e\u2297(a\u22122) ) \u2208 B(1, a).\n\n\u2208 B(b, 1) has the obvious similar meaning. The elements\n(\n\n[a1 ]\n\n\u2297***\u2297\n\n[am ]\n\n)\u25e6\u03c3\u25e6(\n\n[b1 ]\n\n\u2297***\u2297\n\n[bn ] ),\n\nwhere \u03c3 \u2208 \u03a3N for some N \u2265 1, and a1 + * * * + am = b1 + * * * + bm = N, form a k-linear basis\nof B(m, n). This result can also be found in [57]. See also [59, 94] for the bialgebra PROP viewed\nfrom a different perspective.\nExample 60. Each operad P generates a unique PROP P such that P(1, n) = P(n) for each\nn \u2265 0. The components of such a PROP are given by\nM\nP(m, n) =\n[P(1, r1 ) \u2297 * * * \u2297 P(1, rk )] \u00d7\u03a3r1 \u00d7***\u00d7\u03a3rk \u03a3n ,\nr1 +***+rk =n\n\nfor each m, n \u2265 0. The (topological) PROPs considered in [10] are all of this type. On the other\nhand, Example 59 shows that not each PROP is of this form. A PROP P is generated by an\noperad if and only if it has a presentation P = \u0393P (E)/(R), where E is a \u03a3-bimodule such that\nE(m, n) = 0 for m 6= 1 and R is generated by elements in \u0393P (E)(1, n), n \u2265 0.\n9. Properads, dioperads and 12 PROPs\nAs we saw in Proposition 33, under some mild assumptions, the components of free operads are finite-dimensional. In contrast, PROPs are huge objects. For example, the component\n\u0393P ( , )(m, n) of the free PROP \u0393P ( , ) used in the definition of the bialgebra PROP B in\nExample 59 is infinite-dimensional for each m, n \u2265 1, and also the components of the bialgebra PROP B itself are infinite-dimensional, as follows from the fact that the Enriquez-Etingof\nbasis (46) of B(m, n) has, for m, n \u2265 1, infinitely many elements.\nTo handle this combinatorial explosion of PROPs combined with lack of suitable filtrations,\nsmaller versions of PROPs were invented. Let us begin with the simplest modification which we\nuse as an example which explains the general scheme of modifying PROPs. Denote UGrc (m, n)\n\n\fOPERADS AND PROPS\n\n41\n\nthe full subcategory of UGr(m, n) consisting of connected graphs and consider the triple defined\nby\n(47)\n\n\u0393c (E)(m, n) :=\n\ncolim\n\nE(G), m, n \u2265 0,\n\nG \u2208 UGrc (m, n)\n\nfor E \u2208 \u03a3-bimod. The following notion was introduced by B. Vallette [111, 112, 113].\nDefinition 61. Properads are algebras over the triple \u0393c : \u03a3-bimod \u2192 \u03a3-bimod.\nA properad is therefore a \u03a3-bimodule with operations that determine coherent contractions\nalong connected graphs. A biased definition of properads is given in [111, 112, 113]. Since \u0393c\nis a subtriple of \u0393P , each PROP is automatically also a properad. Therefore one may speak\nabout the endomorphism properad End V and define algebras over a properad P as properad\nhomomorphisms \u03c1 : P \u2192 End V . Algebras over other versions of PROPs recalled below can be\ndefined in a similar way.\nExample 62. Associative bialgebras reviewed in Example 59 are algebras over the properad B\ndefined (tautologically) as the quotient of the free properad \u0393c ( , ) by the properadic ideal\ngenerated by the elements listed in (44). We leave as an exercise to describe the sub-basis of (46)\nthat span B(m, n), m, n \u2265 1.\nThe following slightly artifical structure exists over PROPs but not over properads. It consists\nof a 'multiplication' \u03bc = : V \u2297 V \u2192 V , a 'comultiplication' \u2206 = : V \u2192 V \u2297 V and a linear\nmap f = \u2022 : V \u2192 V satisfying \u2206 \u25e6 \u03bc = f \u2297 f or, diagrammatically\n= \u2022 \u2022.\nThis structure cannot be a properad algebra because the graph on the right hand side of the\nabove display is not connected.\nProperads are still huge objects. The first really small version of PROPs were dioperads\nintroduced in 2003 by W.L. Gan [28]. As a motivation for his definition, consider the following:\nExample 63. A Lie bialgebra is a vector space V with a Lie algebra structure [\u2212, \u2212] =\n:\nV \u2297 V \u2192 V and a Lie diagonal \u03b4 = : V \u2192 V \u2297 V . We assume that [\u2212, \u2212] and \u03b4 are related\nby\nX\n\u0001\n[a(1) , b] \u2297 a(2) + [a, b(1) ] \u2297 b(2) + a(1) \u2297 [a(2) , b] + b(1) \u2297 [a, b(2) ]\n(48)\n\u03b4[a, b] =\nP\nP\nfor any a, b \u2208 V , with the Sweedler notation \u03b4a = a(1) \u2297 a(2) and \u03b4b =\nb(1) \u2297 b(2) .\nLie bialgebras are governed by the PROP LieB = \u0393( , )/ILieB , where\nantisymmetric and ILieB denotes the ideal generated by\n123\n\n(49)\n\n123\n\n+\n\n231\n\n+\n\n312\n\n,\n\n231\n\n+\n\n1 2\n\n312\n\n+\n\nand\n\n1 2\n\n1 2\n\n\u2212\n\n1 2\n\n\u2212\n1 2\n\n2 1\n\n+\n1 2\n\nand\n\n2 1\n\n+\n1 2\n\n,\n1 2\n\nwith labels indicating the corresponding permutations of the inputs and outputs.\n\nare now\n\n\f42\n\nM. MARKL\n\nWe observe that all graphs in (49) are not only connected as demanded for properads, but\nalso simply-connected. This suggests considering the full subcategory UGrD (m, n) of UGr(m, n)\nconsisting of connected simply-connected graphs and the related triple\n(50)\n\n\u0393D (E)(m, n) :=\n\ncolim\n\nE(G), m, n \u2265 0.\n\nG \u2208 UGrD (m, n)\n\nDefinition 64. Dioperads are algebras over the triple \u0393D : \u03a3-bimod \u2192 \u03a3-bimod.\nA biased definition of dioperads can be found in [28]. As observed by T. Leinster, dioperads are\nmore or less equivalent to polycategories, in the sense of [108], with one object. Lie bialgebras\nreviewed in Example 63 are algebras over a dioperad. Another important class of dioperad\nalgebras is recalled in:\nExample 65. An infinitesimal bialgebra [48] (called in [26, Example 11.7] a mock bialgebra)\nis a vector space V with an associative multiplication * : V \u2297 V \u2192 V and a coassociative\ncomultiplication \u2206 : V \u2192 V \u2297 V such that\nX\n\u0001\na(1) \u2297 a(2) * b + a * b(1) \u2297 b(2)\n\u2206(a * b) =\n\nfor any a, b \u2208 V . It is easy to see that the axioms of infinitesimal bialgebras are encoded by the\nfollowing simply connected graphs:\n\u2212\n\n,\n\n\u2212\n\nand\n\n\u2212\n\n\u2212\n\n.\n\nObserve that associative bialgebras recalled in Example 53 cannot be defined over dioperads,\nbecause the rightmost graph in (44) is not simply connected. The following proposition, which\nshould be compared to Proposition 33, shows that dioperads are of the same size as operads.\nProposition 66. Let E = {E(m, n)}m,n\u22650 be a \u03a3-bimodule such that\n(51)\n\nE(m, n) = 0 for m + n \u2264 2\n\nand that E(m, n) is finite-dimensional for all remaining m, n. Then the components \u0393D (E)(m, n)\nof the free dioperad \u0393D (E) are finite-dimensional, for all m, n \u2265 0.\nThe proof, similar to the proof of Proposition 33, is based on the observation that the assumption (51) reduces the colimit (50) to a summation over reduced trees (trees whose all vertices\nhave at least three adjacent edges).\nAn important problem arising in connection with deformation quantization is to find a reasonably small, explicit cofibrant resolution of the bialgebra PROP B. Here by a resolution we mean\na differential graded PROP R together with a homomorphism \u03b2 : R \u2192 B inducing a homology\nisomorphism. Cofibrant in this context means that R is of the form (\u0393P (E), \u2202), where the genL\nerating \u03a3-bimodule E decomposes as E = n\u22650 En and the differential decreases the filtration,\nthat is\n\u2202(En ) \u2282 \u0393P (E)<n , for each n \u2265 0,\nL\nwhere \u0393P (E)<n denotes the sub-PROP of \u0393(E) generated by j<n Ej . This notion is an PROPic\nanalog of the Koszul-Sullivan algebra in rational homotopy theory [36]. Several papers devoted\nto finding R appeared recently [57, 99, 97, 98, 101, 103, 102]. The approach of [79] is based on\n\n\fOPERADS AND PROPS\n\n43\n\nthe observation that B is a deformation, in the sense explained below, of the PROP describing\nstructures recalled in the following:\nDefinition 67. A half-bialgebra or simply a 12 bialgebra is a vector space V with an associative\nmultiplication \u03bc : V \u2297 V \u2192 V and a coassociative comultiplication \u2206 : V \u2192 V \u2297 V that satisfy\n\u2206(u * v) = 0, for each u, v \u2208 V.\n\n(52)\n\nWe chose this strange name because (52) is indeed one half of the compatibility relation (42)\nof associative bialgebras. 21 bialgebras are algebras over the PROP\n1\nB\n2\n\n:= \u0393( )/(\n\n=\n\n,\n\n=\n\n,\n\n= 0).\n\nNow define, for a formal variable t, Bt to be the quotient of the free PROP \u0393( , ) by the ideal\ngenerated by\n=\n\n,\n\n=\n\n,\n\n=t* @\n@.\n\nThus Bt is a one-parametric family of PROPs with the property that B0 = 12 B. At a generic t,\nBt is isomorphic to the bialgebra PROP B. In other words, the PROP for bialgebras is a deformation of the PROP for 21 bialgebras. According to general principles of homological perturbation\ntheory [35], one may try to construct the resolution R as a perturbation of a cofibrant resolution\n1\nR of the PROP 21 B. Since 12 B is simpler that B, one may expect that resolving 21 B would be a\n2\nsimpler task than resolving B.\nFor instance, one may realize that 12 bialgebras are algebras over a dioperad 12 B, use [28] to\nconstruct a resolution 12 R of the dioperad 21 B, and then take 12 R to be the PROP generated by 21 R.\nMore precisely, one denotes\nF1 : diOp \u2192 PROP\n\n(53)\n\n\u0003\n\n1\nthe left adjoint to the forgetful functor PROP \u2212\u2192\ndiOp and defines 12 R := F1 ( 12 R).\n\nThe problem is that we do not know whether the functor F1 is exact, so it is not clear if 21 R\nconstructed in this way is really a resolution of 21 B. To get around this subtlety, M. Kontsevich\nobserved that 21 bialgebras live over a version of PROPs which is smaller than dioperads. It can\nbe defined as follows.\nLet an (m, n)- 21 graph be a connected simply-connected directed (m, n)-graph whose each edge\ne has the following property: either e is the unique outgoing edge of its initial vertex or e is the\nunique incoming edge of its terminal vertex, see Figure 12. An example of an (m, n)- 21 graph is\ngiven in Figure 13. Let Gr 1 (m, n) be the category of (m, n)- 21 graphs and their isomorphisms.\n2\nDefine a triple \u0393 1 : \u03a3-bimod \u2192 \u03a3-bimod by\n2\n\n(54)\n\n\u0393 1 (E)(m, n) :=\n2\n\ncolim\n\nE(G), m, n \u2265 0.\n\nG \u2208 Gr 1 (m, n)\n2\n\nDefinition 68. A 21 PROP (called a meager PROP in [53]) is an algebra over the triple \u0393 1 :\n2\n\u03a3-bimod \u2192 \u03a3-bimod.\n\n\f44\n\nM. MARKL\n\nK 6\u0001\u0001\u0015\nA\n\u0012\n@A\nI\n@A \u0001\n@\nA\u2022\u0001\nk\n3\n6\nKQ\nA\n\u0015Q\n\u0001\n\u0011\u0011\n\u0011 \u0001 A Q\n\u0001 eA\n\u0001 \u2022 A\n\u0012\nI\nKA\nA\n\u0015@\n6\n\u0001\u0001\n@\n\u0001 A@\nA\n\u0001\n\nAK 6\u0001\u0001\u0015\n\u0012\n@A\nI\n@A \u0001\n@A\u2022\u0001\nAKA 6\ne\u0001\u0001\u0015\nI\n@\n\u0012\n@A \u0001\n@A\u2022\u0001\n\u0012\nI\n6\nA@\n\u0001\u0001\u0015AK@\n\u0001 A@\nA\n\u0001\n\nFigure 12. Edges allowed in a 12 graph.\n2\n\n\u2022\n\n3\n\n1\n\n4\n\n@ 6\u0012 \u2022\nI\nAK \u0001\u0015\n6 A\u2022\u0001\n@\u2022\nAK\n7\n\u0013\nA \u2022\n\u0013\nA 6 \u0013\nA\u2022 \u2022\u0013\n\u2022\nMB 6 \u0012\nB\nB\u2022\n\u00126\nI\n@\n@\n\u2022\n\u2022 @\u2022\n6 \u0001\u0015AK\n\u0001\u0015AK\n\u0001 A\n\u2022\u0001 A\n\n2\n\n3\n\n1\n\n4\n\nFigure 13. A graph from Gr 1 (4, 4).\n2\n\nA biased definition of 12 PROPs can be found in [53, 79, 84]. We followed the original convention\nof [53] that 12 PROPs do not have units; the unital version of 12 PROPs can be defined in an obvious\nway, compare also the remarks in [79].\nExample 69. 12 bialgebras are algebras over a 12 PROP which we denote 21 b. Another example\nof structures that can be defined over 12 PROPs are Lie 12 bialgebras consisting of a Lie algebra\nbracket [\u2212, \u2212] : V \u2297 V \u2192 V and a Lie diagonal \u03b4 : V \u2192 V \u2297 V satisfying one-half of (48):\n\u03b4[a, b] = 0.\nLet us denote by\nF : 12 PROP \u2192 PROP\n\u0003\n\nthe left adjoint to the forgetful functor PROP \u2212\u2192 12 PROP from the category of PROPs to the\ncategory of 21 PROPs. M. Kontsevich observed that, in contrast to F1 : diOp \u2192 PROP in (53),\nF is a polynomial functor, which immediately implies the following important theorem [53, 84].\nTheorem 70. The functor F : 21 PROP \u2192 PROP is exact.\nNow one may take a resolution 12 r of the 12 PROP 12 b and put 12 R := F ( 21 r). Theorem 70\nguarantees that 21 R defined in this way is indeed a resolution of the PROP 12 B. Let us mention\n\n\fOPERADS AND PROPS\n\nPasting schemes\n\ncorresponding structures\n\nrooted trees\nMay's trees\nextended rooted trees\ncyclic trees\nextended cyclic trees\nstable labeled graphs\nextended directed graphs\nextended connected directed graphs\nextended connected 1-connected dir. graphs\n1\ngraphs\n2\n\nnon-unital operads\nnon-unital May's operads\noperads\nnon-unital cyclic operads\ncyclic operads\nmodular operads\nPROPs\nproperads\ndioperads\n1\nPROPs\n2\n\n45\n\nFigure 14. Pasting schemes and the structures they define.\nthat there are also other structures invented to study resolutions of the PROP B, as 23 PROPs of\nShoikhet [101], matrons of Saneblidze and Umble [99], or special PROPs considered in [79].\n\u2013\u2013\u2013\u2013\u2013\nThe constructions reviewed in this section can be organized into the following chain of inclusions of full subcategories:\nOper \u2282 12 PROP \u2282 diOp \u2282 Proper \u2282 PROP.\nThe general scheme behind all these constructions is the following. We start by choosing a\nF\nF\nsub-groupoid SGr = m,n\u22650 SGr(m, n) of Gr := m,n\u22650 Gr(m, n) (or a subgroupoid of UGr :=\nF\nm,n\u22650 UGr(m, n) if we want units). Then we define a functor \u0393S : \u03a3-bimod \u2192 \u03a3-bimod by\n\u0393S (E)(m, n) :=\n\ncolim\n\nE(G), m, n \u2265 0.\n\nG \u2208 SGr(m, n)\n\nIt is easy to see that \u0393S is a subtriple of the PROP triple \u0393P if and only if the following two\nconditions are satisfied:\n(i) the groupoid SGr is hereditary in the sense that, given a graph from SGr with vertices\ndecorated by graphs from SGr, then the graph obtained by 'forgetting the braces' again\nbelongs to SGr, and\n(ii) SGr contains all directed corollas.\nHereditarity (i) is necessary for \u0393S to be closed under the triple multiplication of \u0393P while (ii)\nguarantees that \u0393S has an unit. Plainly, all the three choices used above \u2013 UGrc , UGrD and Gr 1\n2\n\u2013 satisfy the above assumptions. Let us mention that one may modify the definition of PROPs\nalso by enlarging the category Gr(m, n), as was done for wheeled PROPs in [93]. Pasting schemes\nand the corresponding structures reviewed in this article are listed in Figure 14.\n\n\f46\n\nM. MARKL\n\nReferences\n[1] D. Balavoine. Homology and cohomology with coefficients, of an algebra over a quadratic operad. J. Pure\nAppl. Algebra, 132:221\u2013258, 1998.\n[2] M. A. Batanin. Monoidal globular categories as a natural environment for the theory of weak n-categories.\nAdv. in Math., 136(1):39\u2013103, 1998.\n[3] M.A. Batanin. Homotopy coherent category theory and A\u221e -structures in monoidal categories. J. Pure Appl.\nAlgebra, 123(1-3):67\u2013103, 1998.\n[4] M.A. Batanin. The Eckmann-Hilton argument, higher operads and En -spaces. Preprint math.CT/0207281,\nJuly 2002.\n[5] M.A. Batanin. The combinatorics of iterated loop spaces. Preprint math.CT/0301221, January 2003.\n[6] A. Beilinson and V. Drinfel'd. Chiral Algebras, volume 51 of Colloquium Publications. American Mathematical Society, 2004.\n[7] C. Berger and I. Moerdijk. Axiomatic homotopy theory for operads. Comment. Math. Helv., 78(4):805\u2013831,\n2003.\n[8] C. Berger and I. Moerdijk. Resolution of coloured operads and rectification of homotopy algebras. Preprint\nmath.AT/0512576, December 2005.\n[9] J.M. Boardman and R.M. Vogt. Homotopy-everything H-spaces. Bull. Amer. Math. Soc., 74(6):1117\u20131122,\n1968.\n[10] J.M. Boardman and R.M. Vogt. Homotopy Invariant Algebraic Structures on Topological Spaces. SpringerVerlag, 1973.\n[11] A. Burroni. T -cat\u00e9gories (cat\u00e9gories dans un triple). Cahiers Topologie G\u00e9om. Diff\u00e9rentielle, 12:215\u2013321,\n1971.\n[12] P. Cartier. Homologie cycliques: rapport sur des travaux r\u00e9cents de Connes, Karoubi, Loday, Quillen...\nS\u00e9minaire Bourbaki 621, 1983\u201384.\n[13] M. Chas and D. Sullivan. String topology. Preprint math.GT/9911159, November 1999.\n[14] F.R. Cohen and A.A. Voronov. Notes on string topology. Preprint math.GT/0503625, March 2005.\n[15] A. Connes and D. Kreimer. Renormalization in quantum field theory and the Riemann-Hilbert problem I:\nThe Hopf algebra structure of graphs and the main theorem. Comm. Math. Phys., 210(1):249\u2013273, 2000.\n[16] P. Deligne. Resum\u00e9 des premi\u00e9rs expos\u00e9s de A. Grothendieck. In Groupes de Monodromie en G\u00e9ometrie\nAlg\u00e9brique, volume 288, pages 1\u201324. Springer-Verlag, Berlin, 1972.\n[17] P. Deligne. A letter to Stasheff, Gerstenhaber, May, Schechtman and Drinfel'd. Unpublished, 1993.\n[18] P. Deligne and D. Mumford. The Irreducibility of the Space of Curves of Given Genus, volume 36 of Inst.\nHautes \u00c9tudes Sci. Publ. Math. I.H.E.S., 1969.\n[19] S. L. Devadoss. Tessellations of moduli spaces and the mosaic operad. In J.P. Meyer, J. Morava, and W.S.\nWilson, editors, Homotopy Invariant Algebraic Structures, volume 239 of Contemporary Math., pages 91\u2013\n114, 1999.\n[20] S. Eilenberg and J.C. Moore. Adjoint functors and triples. Illinois J. Math., 9:381\u2013389, 1965.\n[21] A.D. Elmendorf. The development of structured ring spectra. In A. Baker and B. Richter, editors, Structured\nring spectra, volume 315 of London Math. Soc. Lecture Note Series. London Math. Soc., 2004.\n[22] A.D. Elmendorf, I. K\u0159\u0131\u0301\u017e, M.A. Mandell, and J.P. May. Modern foundations of stable homotopy theory. In\nI.M. James, editor, Handbook of Algebraic Topology, pages 217\u2013257. North Holland, 1995.\n[23] A.D. Elmendorf, I. K\u0159\u0131\u0301\u017e, M.A. Mandell, and J.P. May. Rings, Modules, and Algebras in Stable Homotopy\nTheory, volume 47 of Mathematical Surveys and Monographs. Amer. Math. Soc., 1997.\n[24] B. Enriquez and P. Etingof. On the invertibility of quantization functors. Preprint math.QA/0306212, June\n2003.\n[25] P. Etingof, A. Henriques, J. Kamnitzer, and E. Rains. The cohomology ring of the real locus of the moduli\nspace of stable curves of genus 0 with marked points. Preprint math.AT/0507514, August 2005.\n[26] T.F. Fox and M. Markl. Distributive laws, bialgebras, and cohomology. In J.-L. Loday, J.D. Stasheff, and\nA.A. Voronov, editors, Operads: Proceedings of Renaissance Conferences, volume 202 of Contemporary\nMath., pages 167\u2013205. Amer. Math. Soc., 1997.\n[27] B. Fresse. Koszul duality of operads and homology of partition posets. Preprint math.AT/0301365, January\n2003.\n[28] W.L. Gan. Koszul duality for dioperads. Math. Res. Lett., 10(1):109\u2013124, 2003.\n\n\fOPERADS AND PROPS\n\n47\n\n[29] M. Gerstenhaber. The cohomology structure of an associative ring. Ann. of Math., 78(2):267\u2013288, 1963.\n[30] E Getzler. Operads and moduli spaces of genus 0 Riemann surfaces. In R. Dijkgraaf, C. Faber, and\nG. van der Geer, editors, The Moduli Space of Curves, volume 129 of Progress in Mathematics, pages\n99\u2013230. Birkh\u00e4user, 1995.\n[31] E. Getzler and J.D.S. Jones. Operads, homotopy algebra, and iterated integrals for double loop spaces.\nPreprint hep-th/9403055, March 1994.\n[32] E. Getzler and M.M. Kapranov. Cyclic operads and cyclic homology. In S.-T. Yau, editor, Geometry,\nTopology and Physics for Raoul Bott, volume 4 of Conf. Proc. Lect. Notes. Geom. Topol., pages 167\u2013201.\nInternational Press, 1995.\n[33] E. Getzler and M.M. Kapranov. Modular operads. Compositio Math., 110(1):65\u2013126, 1998.\n[34] V. Ginzburg and M.M. Kapranov. Koszul duality for operads. Duke Math. J., 76(1):203\u2013272, 1994.\n[35] V.K.A.M. Gugenheim and J.D. Stasheff. On perturbations and A\u221e -structures. Bull. Soc. Math. Belgique,\n38:237\u2013246, 1986.\n[36] S. Halperin. Lectures on Minimal Models, volume 261 of Memoirs Soc. Math. France, Nouv. Ser. 9-10. Soc.\nMat. France, 1983.\n[37] R. Hartshorne. Algebraic Geometry, volume 52 of Graduate Texts in Mathematics. Springer-Verlag, 1977.\n[38] P.J. Hilton and U. Stammbach. A Course in Homological Algebra, volume 4 of Graduate texts in Mathematics. Springer-Verlag, 1971.\n[39] V. Hinich. Homological algebra of homotopy algebras. Comm. Algebra, 10(25):3291\u20133323, 1997.\n[40] V. Hinich. Tamarkin's proof of Kontsevich formality theorem. Forum Mathematicum, 15:591\u2013614, 2003.\n[41] V. Hinich and V.V. Schechtman. Homotopy Lie algebras. Advances in Soviet Mathem., 16(2):1\u201328, 1993.\n[42] V. Hinich and A. Vaintrob. Cyclic operads and algebra of chord diagrams. Selecta Math. (N.S.), 8(2):237\u2013\n282, 2002.\n[43] P. Hu. Higher string topology on general spaces. Preprint math.AT/0401081, January 2004.\n[44] P. Hu, I. K\u0159\u0131\u0301\u017e, and A.A. Voronov. On Kontsevich's Hochschild cohomology conjecture. Preprint\nmath.AT/0309369, September 2003.\n[45] Y.-Z. Huang. Operadic formulation of topological vertex algebras and Gerstenhaber or Batalin-Vilkovisky\nalgebras. Comm. Math. Phys., 164:145\u2013161, 1994.\n[46] Y.-Z. Huang. Two-dimensional conformal geometry and vertex operator algebras. Birkh\u00e4user Boston Inc.,\nBoston, MA, 1997.\n[47] Y.-Z. Huang and J. Lepowsky. Vertex operator algebras and operads. In The Gel'fand Mathematics Seminars, 1990\u20131992, pages 145\u2013161. Birkh\u00e4user, Boston, 1993.\n[48] S. A. Joni and G.-C. Rota. Coalgebras and bialgebras in combinatorics. Stud. Appl. Math., 61(2):93\u2013139,\n1979.\n[49] T. Kimura, J.D. Stasheff, and A.A. Voronov. On operad structures of moduli spaces and string theory.\nComm. Math. Phys., 171:1\u201325, 1995.\n[50] F.F. Knudsen. The projectivity of the moduli space of stable curves, II: The stacks Mg,n . Math. Scand.,\n52:161\u2013199, 1983.\n[51] F.F. Knudsen and D. Mumford. The projectivity of the moduli space of stable curves I: Preliminaries on\n\"det\" and \"Div\". Math. Scand., 39:19\u201355, 1976.\n[52] M. Kontsevich. Formal (non)commutative symplectic geometry. In The Gel'fand mathematics seminars\n1990\u20131992. Birkh\u00e4user, 1993.\n[53] M. Kontsevich. An e-mail message to M. Markl, November 2002.\n[54] M. Kontsevich. Deformation quantization of Poisson manifolds. Lett. Math. Phys., 66(3):157\u2013216, December\n2003.\n[55] M. Kontsevich and Y. Manin. Gromov-Witten classes, quantum cohomology, and enumerative geometry.\nComm. Math. Phys., 164:525\u2013562, 1994.\n[56] M. Kontsevich and Y. Soibelman. Deformations of algebras over operads and Deligne's conjecture. Preprint\nmath.QA/0001151, January 2000.\n[57] M. Kontsevich and Y. Soibelman. Deformation theory of bialgebras, Hopf algebras and tensor categories.\nPreprint, March 2002.\n[58] I. K\u0159\u0131\u0301\u017e and J.P. May. Operads, Algebras, Modules and Motives, volume 233 of Ast\u00e9risque. Soci\u00e9t\u00e9\nMath\u00e9matique de France, 1995.\n[59] S. Lack. Composing PROPS. Theory Appl. Categ., 13:No. 9, 147\u2013163 (electronic), 2004.\n\n\f48\n\nM. MARKL\n\n[60] J. Lambek. Deductive systems and categories II. In P. Hilton, editor, Category Theory, Homology Theory\nand their Applications I, volume 86 of Springer Lecture Notes in Mathematics, pages 76\u2013122, 1969.\n[61] T. Leinster. Higher operads, higher categories, volume 298 of London Mathematical Society Lecture Note\nSeries. Cambridge University Press, Cambridge, 2004.\n[62] T. Leinster. Operads in higher-dimensional category theory. Theory Appl. Categ., 12:73\u2013194, 2004.\n[63] J.-L. Loday. La renaissance des op\u00e9rades. S\u00e9minarie Bourbaki, 792:47\u201374. 47\u00e8me ann\u00e9e 1994-95.\n[64] J.-L. Loday. Alg\u00e8bres ayant deux op\u00e9rations associatives (dig\u00e8bres). C. R. Acad. Sci. Paris S\u00e9r. I Math.,\n321(2):141\u2013146, 1995.\n[65] J.-L. Loday, A. Frabetti, F. Chapoton, and F. Goichot. Dialgebras and Related Operads, volume 1763 of\nLecture Notes in Mathematics. Springer-Verlag, 2001.\n[66] J.-L. Loday and D. Quillen. Cyclic homology and the Lie algebra homology of matrices. Comment. Math.\nHelv., 59:565\u2013591, 1984.\n[67] S. Mac Lane. Natural associativity and commutativity. Rice Univ. Stud., 49(1):28\u201346, 1963.\n[68] S. Mac Lane. Categorical algebra. Bull. Amer. Math. Soc., 71:40\u2013106, 1965.\n[69] M.A. Mandell. E\u221e algebras and p-adic homotopy theory. Topology, 40(1):43\u201394, 2001.\n[70] M.A. Mandell. Cochains and homotopy type. Preprint math.AT/0311016, November 2003.\n[71] Y. I. Manin. Frobenius Manifolds, Quantum Cohomology, and Moduli Spaces, volume 47 of American Mathematical Society Colloquium Publications. American Mathematical Society, Providence, RI, 1999.\n[72] M. Markl. Deformations and the coherence. Proc. of the Winter School 'Geometry and Physics,' Zd\u0131\u0301kov,\nBohemia, January 1993, Supplemento ai Rend. Circ. Matem. Palermo, Serie II, 37:121\u2013151, 1994.\n[73] M. Markl. Cotangent cohomology of a category and deformations. J. Pure Appl. Algebra, 113:195\u2013218, 1996.\n[74] M. Markl. Distributive laws and Koszulness. Ann. Inst. Fourier (Grenoble), 46(4):307\u2013323, 1996.\n[75] M. Markl. Models for operads. Comm. Algebra, 24(4):1471\u20131500, 1996.\n[76] M. Markl. A compactification of the real configuration space as an operadic completion. J. Algebra, 215:185\u2013\n204, 1999.\n[77] M. Markl. Cyclic operads and homology of graph complexes. In Proceedings of the 18th Winter School\n\"Geometry and physics\", Srn\u0131\u0301, Czech Republic, January 10-17, 1998, volume 59 of Supplem. ai Rend. Circ.\nMatem. Palermo, Ser. II, pages 161\u2013170, 1999.\n[78] M. Markl. Loop homotopy algebras in closed string field theory. Comm. Math. Phys., 221:367\u2013384, 2001.\n[79] M. Markl. A resolution (minimal model) of the PROP for bialgebras. Preprint math.AT/0209007, September\n2002.\n[80] M. Markl. Homotopy algebras are homotopy algebras. Forum Mathematicum, 16(1):129\u2013160, January 2004.\nPreprint available as math.AT/9907138.\n[81] M. Markl. Intrinsic brackets and the L\u221e -deformation theory of bialgebras. Preprint math.AT/0411456,\nNovember 2004.\n[82] M. Markl and E. Remm. Algebras with one operation including Poisson and other Lie-admissible algebras.\nPreprint math.AT/0412206, to appear in J. of Algebra.\n[83] M. Markl, S. Shnider, and J. D. Stasheff. Operads in Algebra, Topology and Physics, volume 96 of Mathematical Surveys and Monographs. American Mathematical Society, Providence, Rhode Island, 2002.\n[84] M. Markl and A.A. Voronov. PROPped up graph cohomology. Preprint math.QA/0307081, July 2003.\n[85] L. Mauri. Algebraic theories in monoidal categories. Preprint, available from the author's web-site\nhttp://math.rutgers.edu/~mauri/, 2005.\n[86] J.P. May. The Geometry of Iterated Loop Spaces, volume 271 of Lecture Notes in Mathematics. SpringerVerlag, New York, 1972.\n[87] J.P. May. Definitions: Operads, algebras and modules. In J.L. Loday, J.D Stasheff, and A.A. Voronov,\neditors, Operads: Proceedings of Renaissance Conferences, volume 202 of Contemporary Math., pages 1\u20137.\nAm. Math. Soc., 1997.\n[88] J.P. May. Operadic tensor products and smash products. In J.L. Loday, J.D Stasheff, and A.A. Voronov,\neditors, Operads: Proceedings of Renaissance Conferences, volume 202 of Contemporary Math., pages 287\u2013\n303. Am. Math. Soc., 1997.\n[89] J.P. May. Operads, algebras, and modules. In J.L. Loday, J.D Stasheff, and A.A. Voronov, editors, Operads:\nProceedings of Renaissance Conferences, volume 202 of Contemporary Math., pages 15\u201331. Am. Math. Soc.,\n1997.\n\n\fOPERADS AND PROPS\n\n49\n\n[90] J.P. May. Brave new worlds in stable homotopy theory. In M. Mahowald, editor, Proceedings of a Conference\non Homotopy Theory, Evanston, IL, USA, volume 220 of Contemporary Math., pages 193\u2013212. American\nMathematical Society, 1998.\n[91] J.P. May. Caterads and algebras over caterads. Preprint, available from the author's home page, December\n2004.\n[92] S.A. Merkulov. PROP profile of Poisson geometry. Preprint math.DG/0401034, January 2003.\n[93] S.A. Merkulov. PROP profile of deformation quantization. Preprint math.QA/0412257, December 2004.\n[94] T. Pirashvili. On the PROP corresponding to bialgebras. Cah. Topol. G\u00e9om. Diff\u00e9r. Cat\u00e9g., 43(3):221\u2013239,\n2002.\n[95] D. Quillen. Rational homotopy theory. Ann. of Math., 90:205\u2013295, 1969.\n[96] P. Salvatore. Configuration spaces with summable labels. In J. Aguad\u00e9, editor, Cohomological methods in\nhomotopy theory. Proceedings of the Barcelona conference on algebraic topology (BCAT), Bellaterra, Spain,\nJune 4-10, 1998, volume 196 of Prog. Math., pages 375\u2013395, Basel, 2001. Birkh\u00e4user Publ.\n[97] S. Saneblidze and R. Umble. The biderivative and A\u221e -bialgebras. Preprint math.AT/0406270, April 2004.\n[98] S. Saneblidze and R. Umble. The biderivative, matrons and A\u221e -bialgebras. Preprint, July 2004.\n[99] S. Saneblidze and R. Umble. Matrons, A\u221e -bialgebras and the polytopes KK. Preprint math.AT/0508017,\nAugust 2005.\n[100] R. Schw\u00e4nzl and R. M. Vogt. The categories of A\u221e - and E\u221e -monoids and ring spaces as closed simplicial\nand topological model categories. Arch. Math. (Basel), 56(4):405\u2013411, 1991.\n[101] B. Shoikhet. A concept of 32 PROP and deformation theory of (co)associative coalgebras. Preprint\nmath.QA/0311337, November 2003.\n[102] B. Shoikhet. The CROCs, non-commutative deformations, and (co)associative bialgebras. Preprint\nmath.QA/0306143, June 2003.\n[103] B. Shoikhet. An explicit deformation theory of (co)associative bialgebras. Preprint math.QA/0310320, October 2003.\n[104] M. Spitzweck. Operads, algebras and modules in general model categories. Preprint math.AT/0101102,\nJanuary 2001.\n[105] J.D. Stasheff. Math. Reviews reports MR0420609 (54#8623a) and MR0420610 (54#8623b) on [10] and [86].\nAvailable from MathSciNet.\n[106] J.D. Stasheff. Homotopy associativity of H-spaces I,II. Trans. Amer. Math. Soc., 108:275\u2013312, 1963.\n[107] D. Sullivan. Infinitesimal computations in topology. Inst. Hautes \u00c9tudes Sci. Publ. Math., 47:269\u2013331, 1977.\n[108] M.E. Szabo. Polycategories. Comm. Algebra, 3(8):663\u2013689, 1975.\n[109] D. Tamarkin and B. Tsygan. Cyclic formality and index theorems. Lett. Math. Phys., 56:85\u201397, 2001.\n[110] D.E. Tamarkin. Another proof of M. Kontsevich formality theorem. Preprint math.QA/9803025, March\n1998.\n[111] B. Vallette. Dualit\u00e9 de Koszul des PROPs. PhD thesis, Universit\u00e9 Louis Pasteur, 2003.\n[112] B. Vallette. A Koszul duality for props. Preprint math.AT/0411542, November 2004.\n[113] B. Vallette. Koszul duality for PROPs. Comptes Rendus Math., 338(12):909\u2013914, June 2004.\n[114] R.M. Vogt. My time as Mike Boardman's student and our work on infinite loop spaces. Preprint, 1998.\n[115] R.M. Vogt. Introduction to algebra over \"brave new rings\". Rend. Circ. Mat. Palermo (2) Suppl., (59):49\u201382,\n1999. The 18th Winter School \"Geometry and Physics\" (Srn\u0131\u0301, 1998).\n[116] R.M. Vogt. Cofibrant operads and universal E-infinity operads. Topology Appl., 133(1):69\u201387, September\n2003.\n[117] A.A. Voronov. Notes on universal algebra. preprint math.QA/0111009, November 2001.\n[118] R.O. Wells. Differential Analysis on Complex Manifolds, volume 65 of Graduate Texts in Mathematics.\nSpringer-Verlag, 1980.\nE-mail address: markl@math.cas.cz\nMathematical Institute of the Academy, \u017ditn\u00e1 25, 115 67 Prague 1, The Czech Republic\n\n\f"}