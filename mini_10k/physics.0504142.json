{"id": "http://arxiv.org/abs/physics/0504142v2", "guidislink": true, "updated": "2005-08-03T21:31:08Z", "updated_parsed": [2005, 8, 3, 21, 31, 8, 2, 215, 0], "published": "2005-04-20T20:00:57Z", "published_parsed": [2005, 4, 20, 20, 0, 57, 2, 110, 0], "title": "ATLAS Pixel Opto-Electronics", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=physics%2F0504154%2Cphysics%2F0504174%2Cphysics%2F0504109%2Cphysics%2F0504089%2Cphysics%2F0504073%2Cphysics%2F0504210%2Cphysics%2F0504068%2Cphysics%2F0504186%2Cphysics%2F0504026%2Cphysics%2F0504088%2Cphysics%2F0504134%2Cphysics%2F0504119%2Cphysics%2F0504121%2Cphysics%2F0504021%2Cphysics%2F0504070%2Cphysics%2F0504104%2Cphysics%2F0504187%2Cphysics%2F0504091%2Cphysics%2F0504182%2Cphysics%2F0504189%2Cphysics%2F0504170%2Cphysics%2F0504207%2Cphysics%2F0504077%2Cphysics%2F0504024%2Cphysics%2F0504160%2Cphysics%2F0504074%2Cphysics%2F0504095%2Cphysics%2F0504022%2Cphysics%2F0504019%2Cphysics%2F0504106%2Cphysics%2F0504072%2Cphysics%2F0504161%2Cphysics%2F0504196%2Cphysics%2F0504184%2Cphysics%2F0504127%2Cphysics%2F0504156%2Cphysics%2F0504056%2Cphysics%2F0504063%2Cphysics%2F0504123%2Cphysics%2F0504141%2Cphysics%2F0504098%2Cphysics%2F0504049%2Cphysics%2F0504076%2Cphysics%2F0504014%2Cphysics%2F0504007%2Cphysics%2F0504136%2Cphysics%2F0504178%2Cphysics%2F0504039%2Cphysics%2F0504209%2Cphysics%2F0504203%2Cphysics%2F0504217%2Cphysics%2F0504090%2Cphysics%2F0504061%2Cphysics%2F0504116%2Cphysics%2F0504191%2Cphysics%2F0504083%2Cphysics%2F0504096%2Cphysics%2F0504126%2Cphysics%2F0504032%2Cphysics%2F0504150%2Cphysics%2F0504193%2Cphysics%2F0504120%2Cphysics%2F0504087%2Cphysics%2F0504220%2Cphysics%2F0504028%2Cphysics%2F0504155%2Cphysics%2F0504018%2Cphysics%2F0504216%2Cphysics%2F0504124%2Cphysics%2F0504218%2Cphysics%2F0504105%2Cphysics%2F0504013%2Cphysics%2F0504177%2Cphysics%2F0504107%2Cphysics%2F0504099%2Cphysics%2F0504103%2Cphysics%2F0504179%2Cphysics%2F0504058%2Cphysics%2F0504122%2Cphysics%2F0504065%2Cphysics%2F0504195%2Cphysics%2F0504002%2Cphysics%2F0504142%2Cphysics%2F0504215%2Cphysics%2F0504211%2Cphysics%2F0504172%2Cphysics%2F0504147%2Cphysics%2F0504167%2Cphysics%2F0504214%2Cphysics%2F0504125%2Cphysics%2F0504102%2Cphysics%2F0504108%2Cphysics%2F0504137%2Cphysics%2F0504093%2Cphysics%2F0504200%2Cphysics%2F0504062%2Cphysics%2F0504146%2Cphysics%2F0504208%2Cphysics%2F0504081%2Cphysics%2F0504114%2Cphysics%2F0504152&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "ATLAS Pixel Opto-Electronics"}, "summary": "We have developed two radiation-hard ASICs for optical data transmission in\nthe ATLAS pixel detector at the LHC at CERN: a driver chip for a Vertical\nCavity Surface Emitting Laser (VCSEL) diode for 80 Mbit/s data transmission\nfrom the detector, and a Bi-Phase Mark decoder chip to recover the control data\nand 40 MHz clock received optically by a PIN diode. We have successfully\nimplemented both ASICs in 0.25 micron CMOS technology using enclosed layout\ntransistors and guard rings for increased radiation hardness. We present\nresults of the performance of these chips, including irradiation with 24 GeV\nprotons up to 61 Mrad (2.3 x 10e15 p/cm^2).", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=physics%2F0504154%2Cphysics%2F0504174%2Cphysics%2F0504109%2Cphysics%2F0504089%2Cphysics%2F0504073%2Cphysics%2F0504210%2Cphysics%2F0504068%2Cphysics%2F0504186%2Cphysics%2F0504026%2Cphysics%2F0504088%2Cphysics%2F0504134%2Cphysics%2F0504119%2Cphysics%2F0504121%2Cphysics%2F0504021%2Cphysics%2F0504070%2Cphysics%2F0504104%2Cphysics%2F0504187%2Cphysics%2F0504091%2Cphysics%2F0504182%2Cphysics%2F0504189%2Cphysics%2F0504170%2Cphysics%2F0504207%2Cphysics%2F0504077%2Cphysics%2F0504024%2Cphysics%2F0504160%2Cphysics%2F0504074%2Cphysics%2F0504095%2Cphysics%2F0504022%2Cphysics%2F0504019%2Cphysics%2F0504106%2Cphysics%2F0504072%2Cphysics%2F0504161%2Cphysics%2F0504196%2Cphysics%2F0504184%2Cphysics%2F0504127%2Cphysics%2F0504156%2Cphysics%2F0504056%2Cphysics%2F0504063%2Cphysics%2F0504123%2Cphysics%2F0504141%2Cphysics%2F0504098%2Cphysics%2F0504049%2Cphysics%2F0504076%2Cphysics%2F0504014%2Cphysics%2F0504007%2Cphysics%2F0504136%2Cphysics%2F0504178%2Cphysics%2F0504039%2Cphysics%2F0504209%2Cphysics%2F0504203%2Cphysics%2F0504217%2Cphysics%2F0504090%2Cphysics%2F0504061%2Cphysics%2F0504116%2Cphysics%2F0504191%2Cphysics%2F0504083%2Cphysics%2F0504096%2Cphysics%2F0504126%2Cphysics%2F0504032%2Cphysics%2F0504150%2Cphysics%2F0504193%2Cphysics%2F0504120%2Cphysics%2F0504087%2Cphysics%2F0504220%2Cphysics%2F0504028%2Cphysics%2F0504155%2Cphysics%2F0504018%2Cphysics%2F0504216%2Cphysics%2F0504124%2Cphysics%2F0504218%2Cphysics%2F0504105%2Cphysics%2F0504013%2Cphysics%2F0504177%2Cphysics%2F0504107%2Cphysics%2F0504099%2Cphysics%2F0504103%2Cphysics%2F0504179%2Cphysics%2F0504058%2Cphysics%2F0504122%2Cphysics%2F0504065%2Cphysics%2F0504195%2Cphysics%2F0504002%2Cphysics%2F0504142%2Cphysics%2F0504215%2Cphysics%2F0504211%2Cphysics%2F0504172%2Cphysics%2F0504147%2Cphysics%2F0504167%2Cphysics%2F0504214%2Cphysics%2F0504125%2Cphysics%2F0504102%2Cphysics%2F0504108%2Cphysics%2F0504137%2Cphysics%2F0504093%2Cphysics%2F0504200%2Cphysics%2F0504062%2Cphysics%2F0504146%2Cphysics%2F0504208%2Cphysics%2F0504081%2Cphysics%2F0504114%2Cphysics%2F0504152&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We have developed two radiation-hard ASICs for optical data transmission in\nthe ATLAS pixel detector at the LHC at CERN: a driver chip for a Vertical\nCavity Surface Emitting Laser (VCSEL) diode for 80 Mbit/s data transmission\nfrom the detector, and a Bi-Phase Mark decoder chip to recover the control data\nand 40 MHz clock received optically by a PIN diode. We have successfully\nimplemented both ASICs in 0.25 micron CMOS technology using enclosed layout\ntransistors and guard rings for increased radiation hardness. We present\nresults of the performance of these chips, including irradiation with 24 GeV\nprotons up to 61 Mrad (2.3 x 10e15 p/cm^2)."}, "authors": ["K. E. Arms", "P. Buchholz", "K. K. Gan", "M. Holder", "P. Jackson", "M. Johnson", "H. Kagan", "R. Kass", "A. M. Rahimi", "A. Roggenbuck", "C. Rush", "P. Schade", "S. Smith", "R. Ter-Antonian", "M. Ziolkowski", "M. M. Zoeller"], "author_detail": {"name": "M. M. Zoeller"}, "author": "M. M. Zoeller", "links": [{"title": "doi", "href": "http://dx.doi.org/10.1016/j.nima.2005.07.070", "rel": "related", "type": "text/html"}, {"href": "http://arxiv.org/abs/physics/0504142v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/physics/0504142v2", "rel": "related", "type": "application/pdf"}], "arxiv_comment": "17 pages, 23 figures, submitted to NIM Added references. Added figure\n  15. Moved sec. IV to sec. II", "arxiv_primary_category": {"term": "physics.ins-det", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "physics.ins-det", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "hep-ex", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "physics.acc-ph", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/physics/0504142v2", "affiliation": "Department of Physics, The Ohio State University, Columbus, OH;", "arxiv_url": "http://arxiv.org/abs/physics/0504142v2", "journal_reference": "Nucl.Instrum.Meth.A554:458-468,2005", "doi": "10.1016/j.nima.2005.07.070", "fulltext": "ATLAS Pixel Opto-Electronics\nK.E. Arms, K.K. Gan, P. Jackson, M. Johnson, H. Kagan, R. Kass, A.M. Rahimi,\nC. Rush, S. Smith, R. Ter-Antonian, M.M. Zoeller\nDepartment of Physics, The Ohio State University, Columbus, OH 43210, USA\n\nP. Buchholz, M. Holder, A. Roggenbuck, P. Schade, M. Ziolkowski\nFachbereich Physik, Universitaet Siegen, 57068 Siegen, Germany\n\nABSTRACT\nWe have developed two radiation-hard ASICs for optical data transmission in the ATLAS pixel detector at\nthe LHC at CERN: a driver chip for a Vertical Cavity Surface Emitting Laser (VCSEL) diode for 80 Mbit/s\ndata transmission from the detector, and a Bi-Phase Mark decoder chip to recover the control data and 40\nMHz clock received optically by a PIN diode. We have successfully implemented both ASICs in 0.25 \u03bcm\nCMOS technology using enclosed layout transistors and guard rings for increased radiation hardness. We\npresent results of the performance of these chips, including irradiation with 24 GeV protons up to 61 Mrad\n(2.3 x 1015 p/cm2 ).\nKeywords: LHC, ALTAS, PIXEL, optical-link, ASIC, Irradiation\nPACS: 07.60.Vg; 07.50.Qx; 42.82.Bq; 42.88.+h\n\n1\n\n\fI. INTRODUCTION\nThe ATLAS pixel detector [1] consists of two barrel layers, two forward, and two backward disks\nwhich provide at least two space point measurements. The pixel sensors are read out by front-end\nelectronics controlled by the Module Control Chip (MCC). The low voltage differential signal (LVDS)\nfrom the MCC is converted by the VCSEL Driver Chip (VDC) into a single-ended signal appropriate to\ndrive a Vertical Cavity Surface Emitting Laser (VCSEL). The optical signal from the VCSEL is\ntransmitted to the Readout Driver (ROD) via a fiber.\nThe 40 MHz beam-crossing clock from the ROD, bi-phase mark (BPM) encoded with the command\nsignal to control the pixel detector, is transmitted via a fiber to a PIN diode. This BPM encoded signal is\ndecoded using a Digital Opto-Receiver Integrated Circuit (DORIC). The clock and data signals recovered\nby the DORIC are in LVDS form for interfacing with the MCC.\nThe ATLA S pixel optical link system contains 448 VDCs and 360 DORICs with each chip containing\nfour channels. The chips couple to 224 VCSEL and 180 PIN array optical packages (opto-packs). These\noptical packages are the 8-channel version of the 12-channel optical packages used in the off-detector optoelectronics of the Semi Conductor Tracker (SCT), a silicon strip detector located at the outer radius [2]. The\nchips and opto-packs are mounted on 180 chip carrier boards (opto-boards).\nThe optical readout system will be exposed to a large dosage of radiation. We assume that the main\nradiation effect is surface damage in the CMOS devices due to ionizing radiation and bulk damage in the\nVCSEL and PIN with the displacement of atoms. We use the Non Ionizing Energy Loss (NIEL) scaling\nhypothesis to estimate the fluences [3,4,5]. The silicon components (DORIC/VDC and PIN) of the pixel\noptical link system are expected to be exposed to a maximum total fluence of 3.7 x 1014 1-MeV neq/cm2\nduring ten years of operation at the LHC. The corresponding fluence for the GaAs component (VCSEL) is\n2 x 1015 1-MeV neq/cm2 . We study the response of the optical link to a high dose of 24 GeV protons. The\nexpected equivalent fluences at LHC are 6.3 and 3.8 x 1014 p/cm2 , respectively. For simplicity, we present\nthe results from the irradiations with dosage expressed in Mrad using the conversion factor, 1 Mrad = 3.75\nx 1013 p/cm2 .\nIn this paper we describe the development and testing of the radiation-hard VDC and DORIC circuits\nfor use in the ATLAS pixel detector's optical link.\n\nII. VDC AND DORIC DESIGN HISTORY\nThe pixel detector design of the VDC and DORIC takes advantage of the development work for similar\ncircuits [6] used by SCT. Both SCT chips attain radiation-tolerance by using bipolar integrated circuits\n(AMS 0.8 \u03bcm BICMOS) and running with large currents in the transistors at 4 V nominal supply voltage.\nThese chips are therefore not applicable for the higher radiation dosage and lower power budget\nrequirements of the pixel detector.\nWe originally implemented the VDC and DORIC circuits in radiation-hard DMILL 0.8 \u03bcm technology\nwith a nominal supply voltage of 3.2 V. Using three submissions from summer 1999 to May 2001, we\ndeveloped circuits in this technology which met the electrical specifications. However, an irradiation study\nof the DMILL circuits in April 2001 with 24 GeV protons at CERN showed severe degradation of circuit\nperformance. We concluded that the DMILL technology did not meet the radiation hardness requirement\nof the ATLAS pixel detector.\nWe have therefore migrated the VDC and DORIC designs to the standard deep submicron (0.25 \u03bcm)\nCMOS technology, which has a nominal supply voltage of 2.5 V. By employing enclosed layout transistors\nand guard rings [7], this technology has been proven to be very radiation hard.\n\nIII. VDC CIRCUIT\nThe VDC is used to convert an LVDS input signal into a single-ended signal appropriate to drive a\nVCSEL in a common cathode array. The output current of the VDC should be variable between 0 and 20\n\n2\n\n\fmA through an external control current1 , with a standing (dim) current of ~1 mA to improve the switching\nspeed of the VCSEL. The nominal operating current for a VCSEL is 10 mA. The electrical output should\nhave rise and fall times (20\u201380%) between 0.5 and 2.0 ns; nominally 1.0 ns. In order to minimize the power\nsupply noise on the opto-board, the VDC should also have constant current consumption independent of\nwhether the VCSEL output is in the bright (on) or dim (off) state.\nFigure 1 shows a block diagram of the VDC circuit. An LVDS receiver converts the differential input\ninto a single-ended signal. The driver controls the current flow from the positive power supply into the\nanode of the VCSEL. The VDC circuit is therefore compatible with a common cathode VCSEL array. An\nexternally controlled voltage (VIset) determines the current Iset that sets the amplitude of the VCSEL current\n(bright minus dim current), while another externally controlled voltage (Tunepad) determines the dim\ncurrent. The driver contains a dummy driver circuit which, in the VCSEL dim state, draws an identical\namount of current from the positive power supply as is flowing through the VCSEL in the bright state.\nThis enables the VDC to have constant current consumption.\n\nIV. DORIC CIRCUIT\nThe function of the DORIC is to decode BPM encoded clock and data signals received by a PIN diode.\nFigure 2 shows an example of a BPM encoded signal. The 40 MHz beam-crossing clock is encoded by\nsending transitions corresponding to clock leading edges only. In the absence of data bits (logic level 0),\nthe resulting signal is a 20 MHz square wave. Data bits are encoded as extra transitions at beam crossing\nclock trailing edges. The resulting signal for a string of logic level 1 is a 40 MHz square wave. The delay\nbetween the decoded data and clock is fixed, simplifying the timing in the MCC chip. In addition, the BPM\nsignal has 50% duty cycle, hence there is no baseline shift due to a different number of data bits being\ntransmitted. The amplitude of the current from the PIN diode is expected to be in the range of 40 to 1000\n\u03bcA. The 40 MHz clock recovered by the DORIC is required to have a duty cycle of (50 \u00b1 ?4)% with a total\ntiming error (jitter) of less than 1 ns. The MCC can accept the recovered clock and decoded data LVDS\nover a wide range of signal average (1.0\u20131.5 V) and amplitude (0.2\u2013 0.5 V). The delay of the data with\nrespect to the clock must be less than 3 ns.\nFigure 3 shows a block diagram of the DORIC circuit. In order to keep the PIN bias voltage (up to 15\nV) off the DORIC, we employ a single-ended preamp circuit to amplify the current produced by the PIN\ndiode. Since single-ended preamp circuits are sensitive to power supply noise, we utilize two identical\npreamp channels: a signal channel and a noise cancellation channel. The signal channel receives and\namplifies the input signal from the anode of the PIN diode, plus any noise picked up by the circuit. The\nnoise cancellation channel amplifies noise similar to that picked up by the signal channel. This noise is then\nsubtracted from the signal channel in the differential gain stage. To optimise the noise subtraction, the input\nload of the noise cancellation channel is matched to the input load of the signal channel (PIN capacitance)\nvia a dummy capacitance.\nIt is important that the preamp and gain stage do not distort the duty cycle of the input signal. Any\ndistortion results in an odd-even jitter in the recovered clock. The gain stage is essentially a comparator,\nconverting the linear output of the preamp s to logic signals. It incorporates internal feedback to adjust its\nthreshold so that the 50% duty cycle is maintained over the entire input signal range, 40 to 1000 \u03bcA.\nIn Figure 4 we show a block diagram of the DORIC logic circuitry. A selection of simulated internal\nlogic signals is shown in Figure 5. An edgedet circuit produces a short pulse from each input transition of\nthe gain stage output. Some of these pulses correspond to the leading edge of the 40 MHz system clock\nwhile other pulses correspond to data logic level 1 signals. The clock recovery circuitry must be taught how\nto distinguish between these. This is accomplis hed after power-up during an initialization period in which\nonly logic level 0 is transmitted. The resulting signal for this case is a 20 MHz square wave. The output of\nthe edgedet is a 40 MHz train of short pulses, one for each edge of the input signal. These are applied to\ndflip #1, which is connected as a toggle with feedback delayed by delay #1, #2 and #3. The nominal delay\nof each delay stage is 6.25 ns giving a total delay of 18.75 ns, which is less than the 25 ns period of the 40\n1\n\nThe specification for the maximum output current is inherited from the SCT requirement for efficient\nannealing of the VCSEL.\n\n3\n\n\fMHz pulse train. Thus dflip #1 toggles and its output is a 20 MHz square wave. The two inputs to the\nexclusive \"OR\" are approximately 90 degrees out of phase. This results in a recovered clock at the\nexclusive \"OR\" output with duty cycle correlated to the exact delay of delay #2 and delay #3. The\nrecovered clock is the input to dcontrol, a circuit that converts duty cycle to a DC voltage. This voltage is\nused to control the delay of delay #2 and #3. Together these blocks, exclusive \"OR\", delay #2, delay #3 and\ndcontrol form a delay-lock-loop keeping the recovered duty cycle very close to 50%. This initialisation\nperiod must last long enough, about 1ms, for the delay locked loop to settle.\nOnce the loop is locked, data pulses can be sent. These will be ignored by dflip #1, as can be seen by\nexamining delay #3 and edgedet in Figure 5. For data recovery the edgedet pulses are sent through a short\ndelay to dflip #2 whose \"D\" input is the recovered clock. The timing guarantees that sending a logic level 1\nsets dflip #2. Dflip #3 synchronizes the recovered data to the recovered clock and increases it's width to the\nfull recovered clock period creating a standard NRZ data signal.\nA reset line, RstCTRL, allows for slow and controlled recovery of the delay control circuit without the\nneed to cycle the DORIC power.\n\nV. RESULTS FROM DEEP SUBMICRON SUBMISSIONS\nWe had five prototype submissions between summer of 2001 and summer of 2003 using three metal\nlayers. Results from the submissions can be found in [9]. Below we summarize the results from the\nproduction run. For cost saving purpose, the chips were produced with the MCCs that required five metal\nlayers.\nWe show the results of various electrical and optical measurements from a sample of eight 4-channel\nVDCs and DORICs. The chips were mounted in 44-pin packages for measurements on a test board, hence\nthe performance of the chips is somewhat degraded due to parasitic capacitance from the packages. Figure\n6 shows the VCSEL current generated by the VDCs as a function of the external control current Iset. The\ncurrent was measured with a 1-\u03a9 resistor in series with the VCSEL. The dim current is ~1 mA as designed.\nThe bright current saturates above the Iset value of ~0.8 mA. The saturation current is determined by the\neffective resistance of the VCSEL and maximum voltage provided by the VDC for a 2.5 V supply voltage.\nThe saturation current is ~13 mA in this setup, significantly below the target 20 mA due to the large\neffective resistance of the VCSEL. Our irradiation studies with protons show that this is adequate to anneal\nthe VCSEL. Furthermore, we have verified that the saturation current is larger with the VCSELs that are\nused in the production opto-boards. The VDCs have a fairly balanced current consumption. Figures 7 and 8\nshow the optical rise and fall times of the VCSEL as driven by the VDCs. The fall time is under 1.0 ns. The\nrise time is typically ~1 ns. A few channels have rise times as large as 1.5 ns. The rise time as measured on\nthe opto-board is under 1.0 ns for all channels over the operating range of the circuit due to the more\noptimized board layout.\nAll the measurements described below for the DORICs were performed at the PIN current of 100 \u03bcA.\nMeasurements at 40 and 800 \u03bcA yield similar results. The current consumption of the DORIC is ~75 mA\nfor 4 channels at the supply voltage of 2.5 V. The amplitude and average of both clock and command\nLVDS are within the specification. The duty cycle of the decoded 40 MHz clock is within the specification\nof (50 \u00b1 ?4)%. The clock jitter is also within the specification, < 1.0 ns, as shown in Figure 9. The rise and\nfall times of both clock and command are under 1 ns and the delay of the command with respect to the\nclock is within the specification. DORIC thresholds for no bit errors as measured on the test board are\ntypically under ~65 \u03bcA. The thresholds as measured on the opto-board are lower, < 20 \u03bcA, due to the more\noptimized board layout as noted above. Since the thresholds are low, no capacitors are attached to the\ndummy input channels for noise cancellation.\n\n4\n\n\fVI. OPTO-BOARD\nThe VDCs, DORICs, and opto-packs are mounted on opto-boards. We produce opto-boards of two\nflavours with each opto-board serving six or seven modules. To maximize the number of spare opto-boards,\nall opto-boards are fabricated to serve seven modules. For the outer barrel layer and the disk system each\nmodule requires one link for transmitting data, therefore each opto-board contains two VDCs plus one\nVCSEL array opto-pack on the top side and two DORICs plus one PIN array opto-pack on the bottom side.\nThe inner barrel (B) layer is expected to have a higher hit occupancy, therefore each module requires two\nlinks for transmitting data to the ROD. The top side hence contains four VDCs plus two VCSEL array\nopto-packs with each pair of links serving a module connected to adjacent fibers in an 8-fiber ribbon.\nThe layout of the opto-boards is shown in Figure 10. The bottom layout is the same for both opto-board\nflavours. The supply voltages are connected via the 80-pin connector on the bottom side. The input and\noutput LVDS are also fed through the connector. The opto-board is fabricated with beryllium oxide (BeO)\nas the substrate for heat management. On the bottom side, no component is placed between the connector\nand the mounting hole near the edge of the board to allow for thermal contact with the cooling pipe.\nWe initially prototyped the opto-boards using FR-4 as the substrate for fast turnaround and cost saving.\nFour prototype runs were submitted to accommodate changes in the chips and opto-pack design. We had\ntwo prototype submissions with BeO. The first vendor produced opto-boards with many open vias and\nshorts between traces. However, the second vendor [10] was able to produce opto-boards of high quality.\nWe observe low PIN current thresholds for no bit errors when all links are active, indicating that there is no\nsignificant cross talk on the opto-board.\n\nVII. IRRADIATION STUDIES\nWe have irradiated VDCs and DORICs from three deep submicron submissions with 24 GeV protons at\nCERN. We use two setups during each irradiation. In the first setup (\"cold box\"), we perform electrical\ntesting of VDCs and DORICs at a controlled temperature of -10 o C. No optical components (VCSEL or\nPIN) are used, allowing direct study of the possible degradation of the chips without additional\ncomplications from the optical components. For the VDCs, we monitor the rise and fall times and the bright\nand dim currents. For the DORICs, we monitor the minimum input current for no bit errors, clock jitter and\nduty cycle, rise and fall times and the amplitude and average of the recovered clock and command LVDS.\nIn the second setup (\"shuttle\"), we test the performance of the opto-link using opto-boards. The optoboards mounted in this setup may be remotely moved in and out of the beam target area. In the control\nroom, we generate bi-phase mark encoded pseudo-random signals for transmission via 25 m of optical\nfibers to the opto-boards. The PIN diodes on the opto-boards convert the optical signals into electrical\nsignals. The DORICs then decode the electrical signals to extract the clock and command LVDS. The\nLVDS are fed into the VDCs and converted into signals that are appropriate to drive the VCSELs. The\noptical signals are then sent back to the control room for comparison with the generated signals. We\nremotely move the opto-boards on the shuttle out of the beam to anneal the VCSELs. We typically irradiate\nthe opto-boards for 10 hours (~5 Mrad), then anneal the VCSELs for the rest of the day with large current\n(~14 mA or higher in the last irradiation depending on the effective resistance of the VCSEL).\nWe report the result from the last irradiation using VDCs and DORICs from the production run.\nIn the cold box, we irradiated four DORICs and four VDCs in summer of 2003. We observe no\nsignificant degradation in the chip performance up to a total dose of ~61 Mrad, except the average of the\nclock LVDS of one DORIC, which increases by 10%, an acceptable change. Some examples of\ncomparisons of the performance before and after irradiation are shown below. Figure 11 shows a\ncomparison of the bright and dim currents of the VDCs. Figures 12 and 13 show a comparison of the rise\nand fall times of the decoded clock of the DORICs.\nIn the shuttle setup, we irradiated four opto-boards with the dosage of (8-12) x 1014 p/cm2 (22-32 Mrad)\nin summer of 2004. The PIN current thresholds for no bit errors, as observed for over 10 seconds (4 x 108\nbits), are all below 40 \u03bcA and remain constant or decrease slightly up to the total dosage of 25 Mrad, as\nshown for one opto-board in Figure 14. We also measured bit errors as a function of PIN current during\n\n5\n\n\fspills to calculate the single event upset (SEU) cross section as shown in Figure 15. Comparing our results\nwith the results from a similar study for the SCT [11], we find that the SEU for both systems are similar,\nsuggesting that the dominant source of SEU effects is energy deposition in PIN diode. Using the estimated\nparticle flux at the location of the opto-board on the pixel detector (2 x 106 s -1 cm-2 ) and SEU cross section,\nwe calculate the bit error rate (BER) as a function of PIN current. The BER decreases with PIN current as\nexpected, as shown in Figure 16 for one of the opto-boards. The BER at 100 \u03bcA is ~3 x 10-10 . Since the\nBER for the DORIC is < 10-11 , the opto-link BER is limited by SEU.\nThe optical power from the opto-boards were monitored in the control room during the irradiation.\nFigure 17 shows the optical power as a function of time (dosage) for one opto-board. We observe a general\ntrend in the data: during the irradiation the optical power decreases; the optical power increases during the\nannealing, as expected. The power loss is due to radiation damage to the VCSELs as the VDCs and\nDORICs show no radiation damage with up to ~61 Mrad of irradiation. The power in all channels are\nsignificantly above 350 \u03bcW, the specification for absolute minimum power after irradiation. We received\nthe opto-boards from CERN two months after irradiation and have measured their electrical and optical\nproperties. After ~160 hours of annealing at the VCSEL current of ~14 mA, the optical power of all\nchannels were above 1000 \u03bcW, hence well above the minimum requirement.\nThe optical rise and fall times satisfy the specification, < 1.0 ns, as shown in Figure 18. For the clock\nand command LVDS, the amplitude and average are within the acceptable range and the rise and fall times\nare below 1.0 ns as shown in Figures 19, 20 and 21. There is no significant degradation in clock duty cycle.\nA few channels are slightly above the desired range of (50 \u00b1 ?4)% as shown in Figure 22. The clock jitter is\nunder 1.0 ns as shown in Figure 23.\nIn summary, the irradiation results show that the VDC and DORIC have no significant degradation up\nto a dose of 61 Mrad, hence are adequate for the pixel detector opto-link.\n\nVIII. SUMMARY\nWe have developed VDC and DORIC circuits in the deep submicron (0.25 \u03bcm) technology using\nenclosed layout transistors and guard rings for improved radiation hardness. The circuits meet all the\nrequirements for operation in the ATLAS pixel optical link and appear to be sufficiently radiation hard for\nten years of operation at the LHC.\n\nACKNOWLEDGEMENTS\nThe authors would like to thank D.J. White for discussions on the DORIC and VDC architectures, K.\nEinsweiler for his advice and Academia Sinica for providing the opto-packs used in the tests. The authors\nare indebted to Maurice Glaser and Petr Sicho for their help with the irradiation studies at CERN. This\nwork was supported in part by the U.S. Department of Energy under contract No. DE-FG-02-91ER-40690\nand by the German Federal Minister for Research and Technology (BMBF) under contract 056Si74.\n\nREFERENCES\n[1] ATLAS Pixel Detector Technical Design Report, CERN/LHCC/98-13.\n[2] M.L. Chu et al., \"The Off-Detector Opto-electronics for the Optical Links of the ATLAS\nSemiConductor Tracker and Pixel Detector\", Nucl. Inst. Meth. A 530 (2004) 293.\n[3] I. Gregor, \"Optical Links for the ATLAS Pixel Detector\", Ph.D. Thesis , University of Wuppertal,\n(2001).\n\n6\n\n\f[4] A. Van Ginneken, \"Nonionzing Energy Deposition in Silicon for Radiation Damage Studies,\".\nFERMILAB-FN-0522, Oct 1989. 8pp.\n\n[5] A. Chilingarov, J.S. Meyer, T. Sloan, \"Radiation Damage due to NIEL in GaAs Particle Detectors.\"\nNucl. Instrum. Meth.A 395 (1997) 35.\n\n[6] D.J. White et al., \"Radiation Hardness Studies of the Front-end ASICs for the Optical Links of the\nATLAS SemiConductor Tracker\", Nucl. Instr. Meth. A 457, 369 (2001).\n[7] G. Anelli et al., \"Radiation Tolerant VLSI Circuits in Standard Deep Submicron CMOS Technologies\nfor the LHC Experiments: Practical Design Aspects\", IEEE Trans. on Nucl. Sci. 46, 1690 (1999).\n[8] Synopsis Inc., www.synopsys.com.\n[9] K.K. Gan et al., \"Radiation-hard ASICs for the Optical Data Transmission on the ATLAS Pixel\nDetector\", Nucl. Phys. B (Proc. Suppl.) 125, 282 (2003).\n[10] Circuits Processing Technologies Inc., www.cptcircuitry.com.\n[11] J.D. Dowell et al., \"Single Event Upset Studies with the Optical Links of the ATLAS Semiconductor\nTracker\", Nucl. Instr. Meth. A 481 (2002) 575.\n\n7\n\n\fFigure 1: Block diagram of the VDC circuit.\n\nFigure 2: Example of a BPM encoded signal.\n\n8\n\n\fFigure 3: Diagram of the DORIC circuit.\n\nFigure 4: Diagram of DORIC logic circuitry.\n\n9\n\n\fFigure 5: Logic signals of DORIC from HSPICE [8] simulation.\n15\nbright\n\nIout (mA)\n\n10\n\n5\ndim\n0\n0\n\n0.5\n\n1\n\n1.5\n\n2\n\nI set (mA)\n\nFigure 6: VCSEL drive current vs. Iset of eight 4-channel VDCs.\n\n10\n\n\f2.0\n\ntrise (ns)\n\n1.5\n1.0\n0.5\n0.0\n1\n\n2\n\n3\n\n4\n\nChannel\n\nFigure 7: Optical rise times of the VCSEL as driven by eight 4-channel VDCs .\n1.0\n\ntfall (ns)\n\n0.8\n0.6\n0.4\n0.2\n0.0\n1\n\n2\n\nChannel\n\n3\n\n4\n\nFigure 8: Optical fall times of the VCSEL as driven by eight 4-channel VDCs .\n\nJitter (ns)\n\n0.3\n\n0.2\n\n0.1\n\n0.0\n1\n\n2\n\nChannel\n\n3\n\n4\n\nFigure 9: Jitter of the decoded clock of eight 4-channel DORICs.\n\n11\n\n\fFigure 10: The layout of the opto-boards. For outer barrel layer and disk, the top side will be instrumented\nwith only one VCSEL opto-pack and two VDCs to provide the seven links in order to satisfy the\nmechanical constraints of the opto-board patch panel.\n12\n\nIVDC (mA)\n\n10\n\nbright\n\n8\n6\n4\n2\n\ndim\n\n0\n1\n\n2\n\nChannel\n\n3\n\n4\n\nFigure 11: VCSEL drive currents of two 4-channel VDCs before (open) and after (filled) irradiation.\n\n12\n\n\f1000\n\ntrise (ps)\n\n800\n600\n400\n200\n0\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\nChannel\n\nFigure 12: Rise times of the decoded clock of two 4-channel DORICs before (open) and after (filled)\nirradiation.\n1000\n800\n\ntfall (ps)\n\n600\n400\n200\n0\n1\n\n2\n\n3\n\n4\n5\nChannel\n\n6\n\n7\n\n8\n\nFigure 13: Fall times of the decoded clock of two 4-channel DORICs before (open) and after (filled)\nirradiation.\nDosage (Mrad)\n\nThreshold (\u03bcA)\n\n30.6\n\n32.3\nanneal\n\n23.8\nanneal\n\n40\n\n16.8\nanneal\n\nanneal\n\n50\n\n10.5\nanneal\n\n4.4\n\n30\n\n20\n10\n\n0\n0\n\n20\n\n40\n\n60\n\n80\n\n100\n\n120\n\nTime (h)\n\nFigure 14: PIN current thresholds for no bit errors as a function of time (dosage) for one of the opto-boards\nwith seven active links in the shuttle setup.\n\n13\n\n\f0\n\n100\n\n200\n\n300\n\n400\n\n500\n\n600\n\n1.00E-07\n\n2\n\u03c3SEU (cm )\n\n1.00E-08\n\n1.00E-09\n\n1.00E-10\n\n1.00E-11\n\nIPIN (\u03bcA)\nFigure 15: Single event upset (SEU) cross section as a function of PIN current for one of the opto-boards\nin the shuttle setup.\n\n0\n\n100\n\n200\n\n300\n\n400\n\n500\n\n600\n\n1.E-08\n\nBER\n\n1.E-09\n\n1.E-10\n\n1.E-11\n\n1.E-12\nIPIN (\u03bcA)\nFigure 16: Bit Error Rate due to SEU as function of PIN current for one of the opto-boards in the shuttle\nsetup\n\n14\n\n\fanneal\n\nanneal\n\nanneal\n\n30.6 32.3\nanneal\n\nDosage (Mrad)\n16.8 23.8\nanneal\n\n10.5\nanneal\n\n4.4\n\n2000\n\nPower (\u03bcW)\n\n1500\n\n1000\n\n500\n\n0\n0\n\n20\n\n40\n\n60\n\n80\n\n100\n\n120\n\n140\n\nTime (h)\n\nFigure 17: Optical power as a function of time (dosage) in the data channels for one of the opto-boards\nwith seven active links in the shuttle setup.\n\n1000\n\nTime (ps)\n\n800\n\n600\n400\n\n200\n\n0\n1\n\n3\n\n5\n\n7\n\n9\n\n11\n\n13\n\nLink\n\nFigure 18: Optical rise (diamond) and fall (circle) times of the VCSELs as driven by the VDCs on one of\nthe opto-boards in the shuttle setup before (open) and after (filled) irradiation.\n\n15\n\n\fAmplitude (V)\n\n0.6\n\n0.4\n\n0.2\n\n0.0\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\nLink\n\nFigure 19: Amplitude of clock and data LVDS for two opto-boards in the shuttle setup before (open) and\nafter (filled) irradiation. Both positive and negative polarity of the signals are shown.\n1.6\n\nAverage (V)\n\n1.2\n\n0.8\n\n0.4\n\n0.0\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\nLink\n\nFigure 20: Average of clock and data LVDS for two opto-boards in the shuttle setup before (open) and\nafter (filled) irradiation. Both positive and negative polarity of the signals are shown.\n\n1000\n\nTime (ps)\n\n800\n\n600\n\n400\n\n200\n\n0\n1\n\n3\n\n5\n\n7\n\n9\n\n11\n\n13\n\nLink\n\nFigure 21: Rise and fall times of the LVDS in the shuttle setup before (open) and after (filled) irradiation.\n\n16\n\n\f70\n\nDuty Cycle (%)\n\n60\n\n50\n\n40\n\n30\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\nLink\n\nFigure 22: Duty cycle of the decoded clock in the shuttle setup before (open) and after (filled) irradiation.\n\n1.0\n\nJitter (ns)\n\n0.8\n\n0.6\n0.4\n\n0.2\n0.0\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\nLink\n\nFigure 23: Jitter of the decoded clock in the shuttle setup before (open) and after (filled) irradiation.\n\n17\n\n\f"}