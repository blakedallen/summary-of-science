{"id": "http://arxiv.org/abs/1205.0870v2", "guidislink": true, "updated": "2012-07-09T15:49:18Z", "updated_parsed": [2012, 7, 9, 15, 49, 18, 0, 191, 0], "published": "2012-05-04T07:07:58Z", "published_parsed": [2012, 5, 4, 7, 7, 58, 4, 125, 0], "title": "Representations of affine Kac-Moody groups over local and global fields:\n  a survey of some recent results", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1205.1100%2C1205.4429%2C1205.0855%2C1205.0734%2C1205.2672%2C1205.3944%2C1205.4065%2C1205.4434%2C1205.2413%2C1205.4077%2C1205.0927%2C1205.0866%2C1205.0722%2C1205.0301%2C1205.0414%2C1205.3478%2C1205.0444%2C1205.2091%2C1205.4161%2C1205.2693%2C1205.2922%2C1205.2430%2C1205.3613%2C1205.0622%2C1205.3696%2C1205.2984%2C1205.3382%2C1205.1370%2C1205.0476%2C1205.4494%2C1205.1821%2C1205.0126%2C1205.1845%2C1205.3310%2C1205.1363%2C1205.3824%2C1205.0949%2C1205.2119%2C1205.2315%2C1205.0432%2C1205.2697%2C1205.0861%2C1205.4171%2C1205.3406%2C1205.1443%2C1205.3800%2C1205.1648%2C1205.0928%2C1205.1649%2C1205.2348%2C1205.3074%2C1205.1369%2C1205.2967%2C1205.0870%2C1205.1915%2C1205.4096%2C1205.1876%2C1205.3263%2C1205.2387%2C1205.0956%2C1205.3836%2C1205.4321%2C1205.3152%2C1205.3653%2C1205.3199%2C1205.0913%2C1205.0372%2C1205.3709%2C1205.3975%2C1205.3573%2C1205.0395%2C1205.0151%2C1205.2834%2C1205.4008%2C1205.2386%2C1205.0819%2C1205.3845%2C1205.0672%2C1205.0024%2C1205.2143%2C1205.2763%2C1205.1870%2C1205.4248%2C1205.0979%2C1205.1997%2C1205.3284%2C1205.1070%2C1205.2878%2C1205.2641%2C1205.1973%2C1205.4436%2C1205.0509%2C1205.0794%2C1205.1880%2C1205.4223%2C1205.0226%2C1205.3367%2C1205.2981%2C1205.0213%2C1205.3705%2C1205.1556&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Representations of affine Kac-Moody groups over local and global fields:\n  a survey of some recent results"}, "summary": "Let G be a reductive algebraic group over a local field K or a global field\nF. It is well know that there exists a non-trivial and interesting\nrepresentation theory of the group G(K) as well as the theory of automorphic\nforms on the corresponding adelic group. The purpose of this paper is to give a\nsurvey of some recent constructions and results, which show that there should\nexist an analog of the above theories in the case when G is replaced by the\ncorresponding affine Kac-Moody group (which is essentially built from the\nformal loop group G((t)) of G). Specifically we discuss the following topics :\naffine (classical and geometric) Satake isomorphism, affine Iwahori-Hecke\nalgebra, affine Eisenstein series and Tamagawa measure.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1205.1100%2C1205.4429%2C1205.0855%2C1205.0734%2C1205.2672%2C1205.3944%2C1205.4065%2C1205.4434%2C1205.2413%2C1205.4077%2C1205.0927%2C1205.0866%2C1205.0722%2C1205.0301%2C1205.0414%2C1205.3478%2C1205.0444%2C1205.2091%2C1205.4161%2C1205.2693%2C1205.2922%2C1205.2430%2C1205.3613%2C1205.0622%2C1205.3696%2C1205.2984%2C1205.3382%2C1205.1370%2C1205.0476%2C1205.4494%2C1205.1821%2C1205.0126%2C1205.1845%2C1205.3310%2C1205.1363%2C1205.3824%2C1205.0949%2C1205.2119%2C1205.2315%2C1205.0432%2C1205.2697%2C1205.0861%2C1205.4171%2C1205.3406%2C1205.1443%2C1205.3800%2C1205.1648%2C1205.0928%2C1205.1649%2C1205.2348%2C1205.3074%2C1205.1369%2C1205.2967%2C1205.0870%2C1205.1915%2C1205.4096%2C1205.1876%2C1205.3263%2C1205.2387%2C1205.0956%2C1205.3836%2C1205.4321%2C1205.3152%2C1205.3653%2C1205.3199%2C1205.0913%2C1205.0372%2C1205.3709%2C1205.3975%2C1205.3573%2C1205.0395%2C1205.0151%2C1205.2834%2C1205.4008%2C1205.2386%2C1205.0819%2C1205.3845%2C1205.0672%2C1205.0024%2C1205.2143%2C1205.2763%2C1205.1870%2C1205.4248%2C1205.0979%2C1205.1997%2C1205.3284%2C1205.1070%2C1205.2878%2C1205.2641%2C1205.1973%2C1205.4436%2C1205.0509%2C1205.0794%2C1205.1880%2C1205.4223%2C1205.0226%2C1205.3367%2C1205.2981%2C1205.0213%2C1205.3705%2C1205.1556&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Let G be a reductive algebraic group over a local field K or a global field\nF. It is well know that there exists a non-trivial and interesting\nrepresentation theory of the group G(K) as well as the theory of automorphic\nforms on the corresponding adelic group. The purpose of this paper is to give a\nsurvey of some recent constructions and results, which show that there should\nexist an analog of the above theories in the case when G is replaced by the\ncorresponding affine Kac-Moody group (which is essentially built from the\nformal loop group G((t)) of G). Specifically we discuss the following topics :\naffine (classical and geometric) Satake isomorphism, affine Iwahori-Hecke\nalgebra, affine Eisenstein series and Tamagawa measure."}, "authors": ["Alexander Braverman", "David Kazhdan"], "author_detail": {"name": "David Kazhdan"}, "author": "David Kazhdan", "arxiv_comment": "To appear in the Proceedings of 6th European Congress of\n  Mathematicians", "links": [{"href": "http://arxiv.org/abs/1205.0870v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1205.0870v2", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.RT", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.RT", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.NT", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1205.0870v2", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1205.0870v2", "journal_reference": null, "doi": null, "fulltext": "Representations of affine Kac-Moody groups over\nlocal and global fields: a survey of some recent results\n\narXiv:1205.0870v2 [math.RT] 9 Jul 2012\n\nAlexander Braverman and David Kazhdan\n\nAbstract. Let G be a reductive algebraic group over a local field K or a global field F .\nIt is well known that there exists a non-trivial and interesting representation theory of\nthe group G(K) as well as the theory of automorphic forms on the adelic group G(AF ).\nThe purpose of this talk is to give a survey of some recent constructions and results,\nwhich show that there should exist an analog of the above theories in the case when G\nbaff (which is essentially built\nis replaced by the corresponding affine Kac-Moody group G\nfrom the formal loop group G((t)) of G). Specifically we discuss the following topics :\nb aff , affine\naffine (classical and geometric) Satake isomorphism, Iwahori-Hecke algebra of G\nEisenstein series and Tamagawa measure.\n\n1. Introduction\n1.1. Reductive groups: notations. Let G be a split connected reductive algebraic group defined over integers. We fix a maximal split torus T in G and denote\nby \u039b its lattice of cocharacters (the coweight lattice of G). We let W denote the\nWeyl group of G; it acts on T and \u039b.\nLet T \u2228 denote the dual torus of T ; considered as a group over C. The lattice\nof characters of T \u2228 is canonically isomorphic to \u039b. Let G\u2228 denote the Langlands\ndual group of G which by the definition contains T \u2228 as a maximal torus.\n1.2. The group Gaff . To a split connected reductive group G as above one can\nassociate the corresponding affine Kac-Moody group Gaff in the following way.\nLet \u039b denote the coweight lattice of G let Q be an integral, even, negativedefinite symmetric bilinear form on \u039b which is invariant under the Weyl group of\nG.\nOne can consider the polynomial loop group G[t, t\u22121 ] (this is an infinite-dimensional\ngroup ind-scheme). It is well-known that a form Q as above gives rise to a central\ne of G[t, t\u22121 ]:\nextension G\ne \u2192 G[t, t\u22121 ] \u2192 1\n1 \u2192 Gm \u2192 G\n\ne has again a natural structure of a group ind-scheme.\nMoreover, G\nThe multiplicative group Gm acts naturally on G[t, t\u22121 ] and this action lifts\ne We denote the corresponding semi-direct product by Gaff ; we also let gaff\nto G.\ndenote its Lie algebra. Thus if G is semi-simple then gaff is an untwisted affine\n\n\f2\n\nAlexander Braverman and David Kazhdan\n\nKac-Moody Lie algebra in the sense of [24]; in particular, it can be described by\nthe corresponding affine root system.\nSimilarly, one can consider the corresponding completed affine Kac-Moody\nb aff by replacing the polynomial loop group G[t, t\u22121 ] with the formal loop\ngroup G\ngroup G((t)) in the above definitions.\nb\u2032 ) the quotient of Gaff (resp. of G\nb aff ) by\nWe shall also denote by G\u2032aff (resp. G\naff\nthe central Gm .\n1.3. The dream. Let K be a non-archimedian local field with ring of integers\nO and residue field k. A smooth representation of G(K) is a vector space V over\nC together with a homomorphism \u03c0 : G(K) \u2192 Aut(V ) such that the stabilizer\nof every v \u2208 V contains an open compact subgroup K of G(K). We denote the\ncategory of smooth representations by M(G(K)). The category M(G(K)) has\nbeen extensively studied in the past 50 years. Similarly, given a global field F we\ncan consider automorphic representations of G(AF ) where AF is the ring of adeles\nof F . In both (local and global) cases the most interesting statement about the\nabove representations is Langlands correspondence which relates representations of\nG(K) (resp. automorphic representations of G(AF )) to homomorphisms from the\nabsolute Galois group of K (resp. of F ) to the Langlads dual group G\u2228 of G.\nOur dream would be to develop an analog of the above representation theories\nbaff (or, more generally,\nand the Langlands correspondence for the group Gaff or G\nfor any symmetrizable Kac-Moody group). This is a fascinating task by itself but\nb aff will\nwe also believe that a fully developed theory of automorphic forms for G\nhave powerful applications to automorphic forms on G.\nOf course, at the moment the above dream remains only a dream; however,\nin the recent years some interesting results about representation theory of Gaff\nover either local or global field have appeared. The purpose of this paper is to\nsurvey some of those results; more precisely, we are going to concentrate on two\naspects: study of some particular Hecke algebras in the local case and the study\nof Eisenstein series in the global case. All the results that we are going to discuss\ngeneralize well-known results for the group G itself; however, the generalizations\nare not always straightforward and some new features appear in the affine case.\n1.4. Hecke algebras and Satake isomorphism. First let us mention that\nbaff (K) was developed in [25]\nsome version of the above representation theory for G\nand [14]-[16]. This theory looks promising, but we are not going to discuss it in\nthis paper; on the other hand, in [9] we generalized the Satake isomorphism to\nthe case of Gaff . Let us first recall the usual Satake isomorphism (which can be\nthought of as the starting point for Langlands duality mentioned above).\nGiven an open compact subgroup K in G(K) one can consider the Hecke algebra\nH(G, K) of compactly supported K-bi-invariant distributions on G(K) (this is an\nalgebra with respect to convolution). We say that H(G, K) is a Hecke algebra of\nG with respect to K. H(G, K) is a unital associative algebra and it is well-known\nthat the study of the representation theory of G(K) is essentially equivalent to\nstudying representation theory of H(G, K) for different choices of K.\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n3\n\nThe group G(O) is a maximal compact subgroup of G(K). We denote the corresponding Hecke algebra H(G, G(O)) by Hsph (G, K) and call it the spherical Hecke\nalgebra. The Satake isomorphism is an isomorphism between Hsph (G, K) and the\ncomplexified Grothendieck ring K0 (Rep(G\u2228 )) of finite-dimensional representations\nof G\u2228 . For future purposes it will be convenient to note that K0 (Rep(G\u2228 )) is also\nnaturally isomorphic to the algebra C(T \u2228 )W of polynomial functions on the maximal torus T \u2228 \u2282 G\u2228 invariant under W .\nThe Satake isomorphism was generalized to Gaff in [9] and it was studied in\nmore detail in [11]. The formulation is similar to the case of G but the details are\nsomewhat more involved. We shall give the precise formulation in Section 4, where\nwe also discuss the analog of the so called Iwahori-Hecke algebra for Gaff and the\naffine version of the Gindikin-Karpelevich formula and the Macdonald formula for\nthe spherical function (following the papers [7], [8], [11]).\nA (partial) analog of the geometric Satake isomorphism (cf. [33]) in the affine\ncase (following the papers [3]-[5]) is also discussed in Section 4.\n\nb aff . The most basic example of automorphic forms,\n1.5. Eisenstein series for G\nbaff coming from the Borel subgroup of G\nb aff , were studied\nthe Eisenstein series for G\nextensively in the works of Garland (cf. e.g. [17]-[19] and references therein) and\nKapranov [26]. In the forthcoming publication [10] we are going to continue the\nabove study of Eisenstein series and give some applications (for example, we are\ngoing to describe an affine version of the Tamagawa number formula for Gaff ). We\nhope that the above results should have interesting applications to automorphic Lfunctions for the group G itself, using the affine version of the so called LanglandsShahidi method (cf. [19]). We discuss it in more detail in Section 5.\n\n1.6. Contents of the paper. In Section 2 we are going to review some facts\nabout spherical and Iwahori Hecke algebras of reductive groups over a local nonarchimedian field that we are going to generalize later to the affine case. In addition\nwe also review the corresponding geometric Satake isomorphism. In Section 3 we\nreview some well-known facts about automorphic forms and, in particular, about\nEisenstein series over a global field F . To simplify the discussion we concentrate\non the case when F is a functional field and the automorphic forms in question are\neverywhere unramified.\nIn Section 4 we generalize the constructions of Section 2 to the case of Gaff .\nSimilarly, in Section 5 we generalize the construtions of Section 3 to the affine case.\nbaff\nIn particular, we discuss the foundations of the theory of Eisenstein series for G\nb\ncoming from various parabolic subgroups of Gaff and relate this theory to some\ninfinite products of automorphic L-functions for the finite-dimensional group G.\nWe also discuss an affine version of the Tamagawa number formula.\nFinally in Section 6 we discuss some other works related to the above constructions as well as future directions of research.\n\n\f4\n\nAlexander Braverman and David Kazhdan\n\n2. Spherical and Iwahori Hecke algebras in the finite-dimensional\ncase\nIn this section we recall some well-known facts about representation theory and\nHecke algebras (and their geometric version) of reductive groups over a local nonarchimedian field K, which we are going to generalize to the affine case.\n2.1. Groups over local non-archimedian fields and their representations.\nFor any open compact subgroup K of G(K), we denote by H(G, K) the Hecke\nalgebra of G with respect to K. A choice of a Haar measure on G(K) provides an\nidentification of H(G, K) with the space of K-bi-invariant functions on G(K).\nFor every K as above, there is a natural functor from M(G(K)) to the category\nof left H(G, K)-modules, sending every representation V to the corresponding\nspace V K of K-invariants; thus one can try do understand the category M(G, K)\nby studying the categories of H(G, K)-modules for different K.\nThere are two choices of K that will be of special interest to us. The first\ncase is K = G(O) (which is a maximal compact subgroup of G(K)). Recall that\nthe corresponding Hecke algebra in this case is called the spherical Hecke algebra\nand it is denoted it by Hsph (G, K). The second case is the case when K is the\nIwahori subgroup I (by definition, this is a subgroup of G(O) which is equal to the\npreimage of a Borel subgroup in G(k) under the natural map G(O) \u2192 G(k)). Let\nus remind the description of the corresponding algebras in this case.\n2.2. Satake isomorphism. The spherical Hecke algebra Hsph (G, K) is commutative. The Satake isomorphism is a canonical isomorphism between Hsph (G, K)\nand the algebra C[\u039b]W . The latter algebra has several other standard interpretations: it is also isomorphic to the complexified Grothendieck ring K0 (Rep(G\u2228 ))\nof finite-dimensional representations of G\u2228 as well as to the algebra C(T \u2228 )W of\npolynomial functions on the maximal torus T \u2228 \u2282 G\u2228 invariant under W of G.\nThe Satake isomorphism is one of the starting points for the celebrated Langlands conjectures. We are going to present a generalization of the Satake isomorphism to the case of affine Kac-Moody groups in Section 4.\n2.3. The Iwahori-Hecke algebra. The algebra H(G, I) is known to have the\nfollowing presentation (usually called \"Bernstein presentation\"). It is generated\nby elements X\u03bb for \u03bb \u2208 \u039b and Tw for w \u2208 W , subject to the following relations:\n1) Tw Tw\u2032 = Tww\u2032 if l(ww\u2032 ) = l(w) + l(w\u2032 );\n2) X\u03bb X\u03bc = X\u03bb+\u03bc ; in other words, X\u03bb 's generate the algebra C(T \u2228 ) inside\nH(G, I);\n3) For any f \u2208 C(T \u2228 ) and any simple reflection s \u2208 W we have\nf Ts \u2212 Ts s(f ) = (q \u2212 1)\n\nf \u2212 s(f )\n1 \u2212 X\u2212\u03b1s\n\n(it is easy to see that the right hand side is again an element of C(T \u2228 ).\nThe spherical Hecke algebra is a subalgebra of H(G,\nP I); in terms of the above\npresentation it is equal to P * H(G, I) * P where P = w\u2208W Tw .\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n5\n\n2.4. Explicit description of the Satake isomorphism. Recall, that the Satake isomorphism is an isomorphism S between the algebra Hsph (G, K) and C(T \u2228 )W .\nBoth algebras possess a natural basis, parameterized by the set \u039b+ of dominant\ncoweights of G.\nNamely, let \u031f \u2208 O be a uniformizer; for \u03bb \u2208 \u039b let us denote by \u031f\u03bb the image\nof \u031f \u2208 K\u2217 under the map \u03bb : K\u2217 \u2192 T (K) \u2282 G(K). Then it is known that G(K)\nis the disjoint union of the cosets G(O) * \u031f\u03bb * G(O) when \u03bb runs over \u039b+ . For\nevery \u03bb \u2208 \u039b+ we denote by h\u03bb \u2208 Hsph (G, K) the characteristic function of the\ncorresponding double coset. This is a basis of Hsph (G, K).\nOn the other hand, for \u03bb \u2208 \u039b+ let L(\u03bb) denote the irreducible representation of\nG\u2228 with highest weight \u03bb. Then the characters \u03c7(L(\u03bb)) form a basis of C(T \u2228 )W .\nWe would like to recall what happens to these bases under the Satake isomorphism\n(and its inverse).\nLet W\u03bb is the stabilizer of \u03bb in W and set\nX\nW\u03bb (q) =\nq l(w) .\nw\u2208W\u03bb\n\nTheorem 2.1 (Macdonald, [31]). For any \u03bb \u2208 \u039b+ we have\nQ\n1 \u2212 q \u22121 e\u2212\u03b1 !\nh\u03bb,\u03c1\u2228 i\nX\n\u03b1\u2208R\nq\n+\nQ\n.\nw e\u03bb\nS(h\u03bb ) =\n1 \u2212 e\u2212\u03b1\nW\u03bb (q \u22121 )\nw\u2208W\n\n(1)\n\n\u03b1\u2208R+\n\nHere \u03c1\u2228 is the half-sum of the positive roots of G.\n\nLet us stress the following: there are many proofs of the above theorem, but\nessentially all of them use the Iwahori Hecke algebra H(G, I).\nOn the other hand, we can consider the Satake isomorphism S as is an isomorphism between the algebras Hsph (G, K) and K0 (Rep(G\u2228 )). For any \u03bb \u2208 \u039b+\nlet L(\u03bb) denote the irreducible representation of G\u2228 with highest weight \u03bb. Then\ntheir classes [L(\u03bb)] form a basis of K0 (Rep(G\u2228 )). The functions S \u22121 ([L(\u03bb)]) were\ndescribed by Lusztig [30] (cf. also [12] and [27]). Namely, we have:\nTheorem 2.2 (Lusztig, [30]). Let \u03bb, \u03bc \u2208 \u039b+ . Then S \u22121 ([L(\u03bb)])(\u031f\u03bc ) is non-zero\nif and only if \u03bc is a weight of L(\u03bb) and in that case S \u22121 ([L(\u03bb)])(\u03c0 \u03bc ) is a certain\nq-analog of the weight multiplicity dim L(\u03bb)\u03bc (i.e. it is a polynomial in q with\nintegral coefficients whose value at q = 1 is equal to the weight multiplicity).\n2.5. Gindikin-Karpelevich formula. The classical Gindikin-Karpelevich formula describes explicitly how a certain intertwining operator acts on the spherical\nvector in a principal series representation of G(K). 1 In more explicit terms it can\nbe formulated as follows.\nLet us choose a Borel subgroup B of G and an opposite Borel subgroup B\u2212 ;\nlet U, U\u2212 be their unipotent radicals. In addition, let L denote the coroot lattice\n1 More precisely, the Gindikin-Karpelevich formula answers the analogous question for real\ngroups\n\n\f6\n\nAlexander Braverman and David Kazhdan\n\nof G, R+ \u2282 L \u2013 the set of positive coroots, LP\n+ \u2013 the subsemigroup of L generated\nby R+ . Thus any \u03b3 \u2208 \u039b+ can be written as\nai \u03b1i where \u03b1i are the simple roots.\nWe shall denote by |\u03b3| the sum of all the ai .\nSet now GrG = G(K)/G(O). Then it is known that U(K)-orbits on Gr are\nin one-to-one correspondence with elements of \u039b; for any \u03bc \u2208 \u039b we shall denote\nby S \u03bc the corresponding orbit. The same thing is true for U\u2212 (K)-orbits. For\neach \u03b3 \u2208 \u039b we shall denote by T \u03b3 the corresponding orbit. It is well-known that\nT \u03b3 \u2229 S \u03bc is non-empty iff \u03bc \u2212 \u03b3 \u2208 L+ and in that case the above intersection is\nfinite. The Gindikin-Karpelevich formula allows one to compute the number of\npoints in T \u2212\u03b3 \u2229 S 0 for \u03b3 \u2208 L+ (it is easy to see that the above intersection is\nnaturally isomorphic to T \u2212\u03b3+\u03bc \u2229 S \u03bc for any \u03bc \u2208 \u039b). The answer is most easily\nstated in terms of the corresponding generating function:\nTheorem 2.3 (Gindikin-Karpelevich formula).\nX\n\n\u03b3\u2208L+\n\n#(T \u2212\u03b3 \u2229 S 0 )q \u2212|\u03b3| e\u2212\u03b3 =\n\nY 1 \u2212 q \u22121 e\u2212\u03b1\n.\n1 \u2212 e\u2212\u03b1\n\n\u03b1\u2208R+\n\nThe proof of the above formula is not difficult \u2013 it can be reduced to G = SL(2).\nHowever, it can also be obtained from the Macdonald formula (1) by a certain\nlimiting procedure. The second proof is important for our purposes since we are\ngoing to use similar argument in the affine case.\n2.6. Geometric Satake isomorphism. The Satake isomorphism recalled above\nhas a geometric version, called the geometric Satake isomorphism. 2 Let us recall\nsome facts about the geometric Satake isomorphism; later, we are going to discuss\na (partial) generalization of it to the affine case. It is probably worthwhile to\nnote that there exists a geometric approach to the Iwahori-Hecke algebra (it was\ndeveloped in the works of Ginzburg, Kazhdan-Lusztig and Bezrukavnikov), but we\nare not going to discuss it in this paper.\nLet now K = C((s)) and let O = C[[s]]; here s is a formal variable. Let\nGrG = G(K)/G(O). Then the geometric (or categorical) analog of the algebra H(G) considered above is the category PervG(O) (GrG ) of G(O)-equivariant\nperverse sheaves on GrG (cf. e.g. [27]). According to loc. cit. the category\nPervG(O) (GrG ) possesses canonical tensor structure and the geometric Satake isomoprhism asserts that this category is equivalent to Rep(G\u2228 ) as a tensor category.\nThe corresponding fiber functor from PervG(O) (GrG ) to vector spaces sends every\nperverse sheaf S \u2208 PervG(O) (GrG ) to its cohomology. Another way to construct\nthis (\"fiber\") functor is discussed in [32].\nMore precisely, one can show that G(O)-orbits on GrG are finite-dimensional\nand they are indexed by the set \u039b+ of dominant weights of G\u2228 . For every \u03bb \u2208 \u039b+ we\n\u03bb\ndenote by Gr\u03bbG the corresponding orbit and by GrG its closure in GrG . Then Gr\u03bbG\n2 As was mentioned above the usual Satake isomorphism is the starting point for Langlands\nduality; the classical Langlands duality has its geometric counterpart, usually referred to as the\ngeometric Langlands duality which is based on the geometric version of the Satake isomorphism.\n\n\f7\n\nRepresentations of affine Kac-Moody groups over local and global fields\n\u03bb\n\nis a non-singular quasi-projective algebraic variety over C and GrG is a (usually\nsingular) projective variety. One has\n\u03bb\n\nGrG =\n\n[\n\nGr\u03bbG .\n\n\u03bc\u2264\u03bb\n\nOne of the main properties of the geometric Satake isomorphism is that it sends\n\u03bb\nthe irreducible G\u2228 -module L(\u03bb) to the intersection cohomology complex IC(GrG ).\nIn particular, the module L(\u03bb) itself gets realized as the intersection cohomology\n\u03bb\nof the variety GrG .\n\u03bb\n\nAs a byproduct of the geometric Satake isomorphism one can compute IC(GrG )\n\u03bb\nin terms of the module L(\u03bb). Namely, it is well-known that the stalk of IC(GrG ) at\na point of Gr\u03bcG as a graded vector space is essentially equal to the associated graded\ngrF L(\u03bb)\u03bc of the \u03bc-weight space L(\u03bb)\u03bc in L(\u03bb) with respect to certain filtration,\ncalled the Brylinski-Kostant filtration. This is a geometric analog of Theorem 2.2.\n\u03bb\n\u03bb\nOne can construct certain canonical transversal slice W G,\u03bc to Gr\u03bcG inside GrG .\nThis is a conical affine algebraic variety (i.e. it is endowed with an action of the\nmultiplicative group Gm which contracts it to one point). The above result about\n\u03bb\nthe stalks of IC(GrG ) then gets translated into saying that the stalk of the IC-sheaf\n\u03bb\nof W G,\u03bc at the unique Gm -fixed point is essentially isomorphic to grF L(\u03bb)\u03bc . Note\n\u03bb\n\nthat since W G,\u03bc is contracted to the above point by the Gm -action, it follows that\n\u03bb\n\n\u03bb\n\nthe stalk of of IC(W G,\u03bc ) is equal to the global intersection cohomology IH\u2217 (W G,\u03bc ).\n\u03bb\n\nThe varieties W G,\u03bc are important for us because we are going to describe their\n\u03bb\n\nanalogs when G is replaced by Gaff ; on the other hand, the affine analogs of GrG\nshould be wildly infinite-dimensional and we don't know how to think about them.\n\n3. Unramified automorphic forms in the finite-dimensional\ncase\nIn this Section we recall some classical facts about automorphic forms on reductive\ngroups of reductive groups over a global field, which we are going to generalize to\nthe affine case later. To simplify the discussion, we restrict ourselves to unramified\nautomorphic forms over a functional field F (i.e. the field of rational functions\non a smooth projective curve X over a finite field k). In this case, there is a way\nto think about automorphic forms in terms of functions on the moduli space of\nG-bundles over the curve X; this point of view will be convenient for us in the\naffine case. 3\n3 We would like to note that the pioneering work on the subject in the affine case was done\nby H. Garland [17]-[19], who dealt with the case when F = Q. Most of the results that we are\ngoing to describe in the affine case can be generalized to any global field, but technically the case\nof number fields is more difficult due to the existence of archimedian places and we prefer not to\ndiscuss it in this survey paper\n\n\f8\n\nAlexander Braverman and David Kazhdan\n\n3.1. Automorphic forms over functional fields and G-bundles. Let X be\na smooth projective geometrically irreducible curve over a finite filed k = Fq . Let\nalso G be a split semi-simple simply connected group over k. We set F = k(X);\nthis is a global field and we let AF denote its ring of adeles. We also denote by\nO(AF ) ring of integral adeles.\nIt is well-know that the double quotient\nG(O(AF ))\\G(AF )/G(F ) \u2243 BunG (X).\n\n(2)\n\nSo far, this is just an isomorphism between two sets, but later we are going to upgrade it to an an equivalence between two groupoids. (Complex valued) functions\non the above space will usually be referred to as unramified automorphic forms.\nWe denote the space of such functions by C(BunG (X)).\n3.2. The Hecke algebra action. Recall, that for a local field K with ring of\nintegers OK we denote by HK (G) the spherical Hecke algebra of G over K; this\n\u2228\nalgebra is isomorphic to the algebra C[G\u2228 ]G of ad-invariant regular functions on\nG\u2228 .\nLet v be a place of F and let Kv be the corresponding local completion of F\nwith ring of integers Ov . Let qv be the number of elements in the residue field\nof Ov . Let Hv (G) denote the corresponding Hecke algebra. It is well-known that\nHv (G) acts on C(BunG (X)) by correspondences.\nAssume that f \u2208 C(BunG (X)) is an eigen-function of all the Hv (G). We say\nthat f is a Hecke eigen-form. The corresponding eigen-value is an element gv (f ) \u2208\nG\u2228 for all places v. Given a finite-dimensional representation \u03c1 : G\u2228 \u2192 Aut(V ),\nwe define the L-function L(f, \u03c1, s) of f by\nLG (f, \u03c1, s) =\n\nY\nv\n\n1\n.\ndet(1 \u2212 qv\u2212s \u03c1(gv ))\n\n3.3. Groupoids. In what follows it will be convenient to treat various double\ncoset spaces as groupoids rather than as sets. By a groupoid we shall mean a\nsmall category X where all morphisms are isomorphisms. Any such groupoid is\nequivalent to a quotient groupoid groupoid X/H where X is a set and H is a group\nacting on X. Given a group G and two subgroups H1 and H2 , the double quotient\nH1 \\G/H2 has a natural structure of a groupoid; in particular, this applies to the\ndouble coset space (2).\nWe shall sometimes denote by |X | the set of isomorphism classes of objects of\nX . Given x \u2208 X we denote by AutX (x) the automorphism group of x in X . Given\ntwo groupoids X and Y it makes sense to consider functors f : X \u2192 Y. For every\ny \u2208 Y , the fiber f \u22121 (y) is also a groupoid: by definition Autf \u22121 (y) (x) is the group\nof automorphisms of x whose image in the group of automorphisms of y is trivial.\nWe say that f is representable if Autf \u22121 (y) (x) is trivial for every x and y.\nFor a map p : X \u2192 Y between two sets we are going to denote by p\u2217 the pullback of functions (this is a linear map from functions on Y to functions on X) and\nby p! the operation of summation over the fiber (this is a linear map from functions\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n9\n\non X to functions on Y ; a priori it is well-defined when p has finite fibers). More\ngenerally, we can talk about p\u2217 and p! when X and Y are groupoids. In this case\nwe should define p! in the following way\np! (f )(y) =\n\nX\n\nx\u2208|p\u22121 (y)|\n\nf (x)\n.\n# Autp\u22121 (y) (x)\n\n(3)\n\nIn particular, we can apply this to the\nR case when p is the map from X to the point.\nIn this case, we shall denote p! by X . In other words, for a function f : |X | \u2192 C\nwe set\nZ\nX\nf (x)\n.\n(4)\nf=\n# Aut(x)\nx\u2208|X |\n\nX\n\nThe above sum makes sense if both |X | and Aut(x) are finite. When |X | is infinite,\nthe sum sometimes still makes sense (if it converges).\n3.4. Eisenstein series and constant term. Let P \u2282 G be parabolic subgroup\nand let M be the corresponding Levi group. We have canonical maps G \u2190 P \u2192 M\nwhich give rise to the diagram\n\u03b7\n\nBunP (X) \u2212\u2212\u2212\u2212\u2192 BunM (X)\n\uf8e6\n\uf8e6\n\u03c0y\n\nBunG (X)\n\nThe map \u03c0 is representable but has infinite fibers. The map \u03b7 has finite fibers\nbut it is not representable.\nThe connected components of BunM are numbered by elements of the lattice\n\u039bM = Hom(Gm , M/[M, M ]); we denote by 2\u03c1P the element of the dual lattice\nHom(M, Gm ), equal to the determinant of M -action on nP . Abusing the notation,\nwe shall denote by the same symbol the corresponding function BunM (X) \u2192 Z; it\nalso makes sense to talk about the function \u03c1P : BunM (X) \u2192 Z. 4\nGiven a function f \u2208 C(BunM (X)) we define the Eisenstein series EisGP (f ) \u2208\nC(BunG (X)) by setting\nEisGP (f ) = \u03c0! \u03b7 \u2217 (f q \u03c1P ).\nThis makes sense when f has finite support. When f has infinite support, wellknown convergence issues arise.\nSimilarly, for a function g \u2208 C(BunG (X)) we define the constant term cGP (g) \u2208\nC(BunM (X)) by\ncGP (g) = q \u03c1P \u03b7! \u03c0 \u2217 (g).\nThe constant term is well-defined for any g. We say that g is cuspidal if cGP (g) = 0\nfor all P .\n4\u03c1\nP\n\ntakes values in Z and not\n\n1\nZ\n2\n\nsince G was assumed to be simply connected\n\n\f10\n\nAlexander Braverman and David Kazhdan\n\n3.5. Constant term of Eisenstein series. Let us recall how to compute the\ncomposition of Eisenstein series and constant term operators. For simplicity we are\ngoing to restrict ourselves to the following situation. Let P and M be as above and\nlet P\u2212 be a parabolic subgroup opposite to P (i.e. P \u2229P\u2212 = M ). Let f be a cuspidal\nfunction on BunM . Let M \u2228 be the corresponding Langlands dual group and let P \u2228 ,\n\u2228\nP\u2212\u2228 be the corresponding parabolics in G\u2228 ; let also n\u2228\nP , nP\u2212 be the nilpotent radicals\nof their Lie algebras. The group M \u2228 acts on both of these space. For each w \u2208\nN (M )/M = N (M \u2228 )/M \u2228 we denote by by P w , (P \u2228 )w , nw\nP etc. the corresponding\ngroups or Lie algebras obtained. Similarly, for f \u2208 BunM (X) we denote by f w the\ncorresponding function on BunM obtained by applying conjugation by w to f .\nThen we have the following well known:\nTheorem 3.1. Assume that f \u2208 C(BunM (X)) is a cuspidal Hecke eigen-function.\n(1)\nX\n\ncGP \u25e6 EisGP (f ) =\n\n\u2228\n\n\u2228 w\n\nq (g\u22121) dim nP \u2229(nP ) f w\n\nw\u2208N (M)/M\n\n\u2228 w\nL(f, n\u2228\nP \u2229 (nP\u2212 ) , 0)\n\u2228 w\nL(f, n\u2228\nP \u2229 (nP\u2212 ) , 1)\n\n.\n\n(2)\nX\n\ncGP\u2212 \u25e6 EisGP (f ) =\n\nq\n\n\u2228\nw\n(g\u22121) dim n\u2228\nP \u2229(nP\u2212 )\n\nfw\n\nw\u2208N (M)/M\n\n\u2228 w\nL(f, n\u2228\nP \u2229 (nP ) , 0)\n.\n\u2228 w\nL(f, n\u2228\nP \u2229 (nP ) , 1)\n\nRemark. Similar formula holds for the composition cGQ \u25e6 EisGP where Q is any\nparabolic having M as its Levi subgroup. However, only the above cases will be\nrelevant for us in the sequel.\n3.6. Tamagawa number. In this section we recall the calculation of the Tamagawa number in the finite-dimensional case. For simplicity we stick again to the\nfunctional field case; we also assume that G is simply connected.\nLet X, G, BunG (X) be as above. Let \u03b6(s) denote the \u03b6-function of the curve\nX. In other words,\n\u03b6(s) =\n\ndet(1 \u2212 q \u2212s Fr : H 1 (X, Ql ) \u2192 H 1 (X, Ql ))\n(1 \u2212 q \u2212s )(1 \u2212 q \u2212s+1 )\n\nLet also d1 , * * * , dr be the degrees of the generators of the ring of invariant polynomials on g = Lie(G) (also called the exponents of G).\nTheorem 3.2. We have\nZ\n\nBunG (X)\n\n1 = q (g\u22121) dim G\n\nl\nY\n\ni=1\n\n\u03b6(di ).\n\n(5)\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n11\n\nThe above formula was proved by Langlands in [29]5 . It can also be derived\nfrom a computation of H \u2217 (BunG , Ql ) (due to a result of Behrend [2]), which was\ndone in [23] (following a computation of Atiyah-Bott [1] over C). Let us formulate\nthis result, since this interpretation of Theorem 3.2 is instructive from the point\nof view of generalization to the affine case.\nIt is well-known that H \u2217 (pt/G, Ql ) = Sym\u2217 (V ) for a certain graded vector\nspace endowed with an action of Frobenius. Explicitly, V has a basis c1 , ..., cr\nwhere each ci has cohomological degree 2di and Frobenius eigenvalue q di .\nTheorem 3.3. H \u2217 (BunG , Ql ) = Sym\u2217 (V \u2297 H\u2217 (X, Ql )); here Sym\u2217 is understood\nin the \"super\"-sense and H\u2217 (X, Ql ) stands for the homology of X defined by setting\nHi (X, Ql ) to be the dual space to H \u2212i (X, Ql ) (thus H\u2217 \"sits\" in degrees 0, \u22121, \u22122).\n3.7. Sketch of the proof of Theorem 3.2. Let us recall the basic steps of\nLanglands' proof of Theorem 3.2, since this proof will actually be important for\nsome definitions in the affine case.\nFor any \u03b3 \u2208 \u039b let us denote by p\u03b3 the restriction of the natural map p : BunB \u2192\nBunG to Bun\u03b3B . Let us denote by t\u2217 the dual space to the Lie algebra of T (over\nC). Then for any s \u2208 t\u2217 let us set\nX\nX\nE\u03b3 = (p\u03b3 )! (1Bun\u03b3B ); E(s) = EisGB (\n1Bun\u03b3T q h\u03b3,si ) =\nq h\u03b3,s+\u03c1i E\u03b3 .\n\u03b3\n\n\u03b3\u2208\u039b\n\nThe following result is well-known:\nLemma 3.4. (1) The above series is absolutely convergent for Re(s) > \u03c1\u2228 and\nit extends to a meromorphic function on the whole of t\u2217 .\n(2) The function E(s) has simple pole along every hyperplane of the form hs \u2212\n\u03c1, \u03b1\u2228 i = 0 where \u03b1 is a simple coroot and no other poles near s = \u03c1.\nQ\n(3) The residue of E(s) at s = \u03c1 defined as the limit lim E(s) hs \u2212 \u03c1, \u03b1\u2228\ni i is a\ns\u2192\u03c1\n\ni\u2208I\n\nconstant function on BunG .\n\nLet us call the above residue r(G). The Ridea of the proof of Theorem 3.2 is\nthis: on the one hand it is easy to compute\nr(G) * 1BunG . On the other hand,\nBunG\n\none can compute r(G) itself by computing the constant term of r(G) * 1BunG . More\nprecisely, one can deduce Theorem 3.2 from the following\nR\n0\n(X))r\n.\nTheorem 3.5. (1)\nr(G) * 1BunG = q (g\u22121) dim N (ln q)\u2212r (# Pic\n(q\u22121)r\nBunG\n\n(2) cGB (r(G) * 1BunG )|Bun\u03b3T = q \u2212h\u03b3,\u03c1i\n\n(Ress=1 \u03b6(s))r\n.\nr\nQ\n\u03b6(di )\ni=1\n\nTheorem 3.5 implies Theorem 3.2 since Ress=1 \u03b6(s) =\n\n# Pic0 (X)\nqg\u22121 (q\u22121) ln q .\n\n5 Langlands considered the case of global field Q but the argument in [29] applies to any global\nfield\n\n\f12\n\nAlexander Braverman and David Kazhdan\n\n4. Spherical and Iwahori Hecke algebras of affine Kac-Moody\ngroups over a local non-archimedian field\nIn this Section we discuss analogs of spherical and Iwahori Hecke algebra for the\ngroup Gaff over a local non-archimedian field. The results are taken from [9], [7],\n[8] and [11].\n4.1. The semi-group G+\naff (K) and the affine spherical Hecke algebra.\nOne may consider the group Gaff (K) and its subgroup Gaff (O). The group Gaff by\ndefinition maps to Gm ; thus Gaff (K) maps to K\u2217 . We denote by \u033a the composition\nof this map with the valuation maps\u2217 \u2192 Z.\nWe now define the semigroup G+\naff (K) to be the subsemigroup of Gaff (K) denerated by:\n\u2022 the central K\u2217 \u2282 Gaff (K);\n\u2022 the subgroup Gaff (O);\n\u2022 All elements g \u2208 Gaff (K) such that \u033a(g) > 0.\nWe show in [9] that there exists an associative algebra structure on a completion\nHsph (Gaff , K) of the space of finite linear combinations of double cosets of Gaff (K)+\nwith respect to Gaff (O). We would like to emphasize that this statement is by\nno means trivial \u2013 in [9] it is proved using some cumbersome algebro-geometric\nmachinery. A more elementary proof of this fact is going to appear in [11] but that\nproof is still rather long.\nWe call the above algebra the spherical Hecke algebra of Gaff . The algebra\nHsph (Gaff , K) is graded by non-negative integers (the grading comes from the map\n\u033a which is well-defined on double cosets with respect to Gaff (O)); it is also an\nalgebra over the field C((v)) of Laurent power series in a variable v, which comes\nfrom the central K\u2217 in Gaff (K).\n4.2. The affine Satake isomorphism. The statement of the Satake isomorphism for Gaff is very similar to that for G. First of all, in [9] we define an analog of\n\u2228 Waff\nthe algebra C(T \u2228 )W which we shall denote by C(Tbaff\n)\n(here Taff = C\u2217 \u00d7T \u2228 \u00d7C\u2217\nis the dual of the maximal torus of Gaff , Waff is the corresponding affine Weyl group\n\u2228\n).\nand C(Tb\u2228 ) denotes certain completion of the algebra of regular functions on Taff\nThis is a finitely generated Z\u22650 -graded commutative algebra over the field C((v))\nof Laurent formal power series in the variable v which should be thought of as a\n\u2228\ncoordinate on the third factor in Taff\n= C\u2217 \u00d7 T \u2228 \u00d7 C\u2217 (the grading has to do with\nthe first factor); moreover, each component of the grading is finite-dimensional\nover C((v)).\nTo simplify notations we will always assume that G is simple and simply connected (although the case when G is a torus is also very instructive and it is much\nless trivial than in the usual case - cf. Section 3 of [9]).\nIn this case we define (in [9]) the Langlands dual group G\u2228\naff , which is a group\nind-scheme over C. Then G\u2228\nis\nanother\nKac-Moody\ngroup\nwhose\nLie algebra g\u2228\naff\naff\nis an affine Kac-Moody algebra with root system dual to that of gaff (thus, in particular, it might be a twisted affine Lie algebra when g is not simply laced). The\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n13\n\n\u2228\n\u2217\n\u2228\ngroup G\u2228\naff contains the torus Taff ; moreover the first C -factor in Taff is central in\n\u2228\n\u2217\nG\u2228\n;\nalso\nthe\nprojection\nT\n\u2192\nC\nto\nthe\nlast\nfactor\nextends\nto\na\nhomomorphism\naff\naff\n\u2217\n\u2228\n\u2228\nG\u2228\naff \u2192 C . One defines a category Rep(Gaff ) of Gaff -modules which properly contains all highest weight integrable representations of finite length and also certain\ninfinite direct sums of irreducible highest weight integrable representations which\nwhich is stable under tensor product. The character map provides an isomorphism\nb\u2228 Waff . The\nof the complexified Grothendieck ring K0 (G\u2228\naff ) with the algebra C(Taff )\ncorresponding grading on K0 (Gaff ) comes from the central charge of G\u2228\naff -modules\nand the action of the variable v comes from tensoring G\u2228\n-modules\nby\nthe oneaff\n\u2217\ndimensional representation coming from the homomorphism G\u2228\n\u2192\nC\n,\nmentioned\naff\nabove.\nThe affine Satake isomorphism (proved in [9] and reproved in a different way\nin [11]) claims the following:\n\u2228 Waff\nTheorem 4.1. The algebra Hsph (Gaff , K) is canonically isomorphic to C(Tbaff\n)\n\u2228\n(and thus also to K0 (Gaff )).\n\nAs was mentioned, in the case when G is semi-simple and simply connected, the\ngroup Gaff is an affine Kac-Moody group. We expect that with slight modifications\nour Satake isomorphism should make sense for any symmetrizable Kac-Moody\ngroup. However, our proofs are really designed for the affine case and do not\nseem to generalize to more general Kac-Moody groups. The corresponding Hecke\nalgebra has recently been defined in [22].\n4.3. The Iwahori-Hecke algebra of Gaff . Let now Iaff \u2282 Gaff (O) be the\nIwahori subgroup and let H(G+\naff , Iaff ) denote the space of Iaff -bi-invariant functions\non G+\n(K)\nsupported\non\na\nunion\nof finitely many double cosets. It is shown [11]\naff\nthat the usual convolution is well-defined on H(G+\naff , Iaff ). Note that this is different\nfrom the spherical case, the convolution was only defined on a completion of the\nspace of functions on double cosets with finite support.\nThe structure of the algebra H(G+\naff , Iaff ) is similar to the finite-dimensional\ncase. For simplicity let us assume that G is semi-simple and simply connected.\nLet \u039baff = Z \u2295 \u039b \u2295 Z be the lattice of cocharacters of Taff . Let \u039b+\naff \u2282 \u039b be the\nTits cone, consisting of all elements (a, \u03bb, k) \u2208 \u039baff such that either k > 0 or k = 0\nand \u03bb = 0. Let Haff denote the algebra generated by elements X\u03bb , \u03bb \u2208 \u039baff and\nTw , w \u2208 Waff with relations 1), 2), 3) as in Subsection 2.3 with q replaced by a\nformal variable v. The algebra Haff is Z-graded; this grading is defined by setting\ndeg Tw = 0;\n\ndeg X(a,\u03bb,k) = k.\n\nWe denote by Haff,k the space of all elements of degree k in Haff . Note that Haff,0\nis a subalgebra of Haff , which is isomorphic to Cherednik's double affine Hecke\nalgebra.\nOn the other hand, let\n!\nM\n+\nHaff = ChTw iw\u2208Waff \u2295\nHaff,k .\nk>0\n\n\f14\n\nAlexander Braverman and David Kazhdan\n\n+\n(it is easy to see that H+\naff is just generated by elements X\u03bb , \u03bb \u2208 \u039baff and Tw ,\nw \u2208 W.\nThe following result is proved in [11]:\n+\nTheorem 4.2. The algebra H(G+\naff , Iaff ) is isomorphic to the specialization of Haff\nto v = q.\n\nIn particular, the algebra H(G+\naff , Iaff ) is closely related to Cherednik's double\naffine Hecke algebra. We would like to note that another relation between the\ndouble affine Hecke algebra and the group Gaff (K) was studied by Kapranov (cf.\n[25]).\nBy definition the algebra H(G+\naff , Iaff ) by definition is endowed with a natural\nbasis corresponding to characteristic functions of double cosets of Iaff on G+\naff (K).\nIt is natural to conjecture that this basis comes in fact from a C[v, v \u22121 ]-basis in\nH+\naff but we don't know how to prove this. It would be interesting to give an\nalgebraic description of this basis.\n4.4. Explicit description of the affine Satake isomorphism. We would like\nnow to describe the affine analog of Theorem 2.1 (the proof is going to appear in\n[11] and it uses the algebra H(G+\naff , Iaff ) in an essential way). For simplicity we are\ngoing to assume again that G is semi-simple and simply connected.\nThe (topological) basis {h\u03bb } of the algebra Hsph (Gaff , K) is defined exactly as\nin the case of G and one might expect that\nQ\n1 \u2212 q \u22121 e\u2212\u03b1 !m\u03b1\nh\u03bb,\u03c1\u2228\ni\nX\n\u03b1\u2208R\nq aff\n+,aff\nQ\nw e\u03bb\n.\nSaff (h\u03bb ) =\nWaff,\u03bb (q \u22121 )\n1 \u2212 e\u2212\u03b1\nw\u2208Waff\n\n\u03b1\u2208R+,aff\n\nHere R+,aff denote the set of positive coroots of Gaff , m\u03b1 is the multiplicity of the\n\u2228\ncoroot \u03b1 and \u03c1\u2228\naff is the corresponding affine analog of \u03c1 . However, it turns out\nthat the above formula is wrong! Let us explain how to see this (and then we are\ngoing to present the correct statement).\n\u2228 Waff\nLet Saff : Hsph (Gaff , K) \u2192 C(Tbaff\n)\ndenote the affine Satake isomorphism.\nWe would like to compute Saff (h\u03bb ) for every \u03bb \u2208 \u039b+ . Let us consider the case\n\u03bb = 0. In this case the element h0 is the unit element of the algebra Hsph (Gaff , K)\nand thus we must have Saff (h0 ) = 1. On the other hand, the right hand side of (1)\nin Theorem 2.1 in this case equal to\nQ\n1 \u2212 q \u22121 e\u2212\u03b1 !m\u03b1\nX\n\u03b1\u2208Raff,+\n1\nQ\nw\n.\nWaff (q \u22121 )\n1 \u2212 e\u2212\u03b1\nw\u2208Waff\n\n\u03b1\u2208Raff,+\n\nLet us denote this infinite sum by \u2206. This function was studied by Macdonald\nin [32]. It is easy to see that in the finite case this sum is equal 1 but in the\naffine case it is different from 1 and Macdonald gave the following explicit product\nformula for \u2206 which is going to be important when we discuss affine Eisenstein\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n15\n\nseries. For simplicity let us assume that G is simply laced and that its Lie algebra\nis simple. Let also \u03b4 denote the minimal positive imaginary coroot of G and recall\nthat we denote by d1 , ..., dr the degrees of the generators of the ring Sym(t)W .\nThen Macdonald proved that\n\u2206=\n\nr Y\n\u221e\nY\n1 \u2212 q \u2212di e\u2212j\u03b4\n.\n1 \u2212 q \u2212di +1 e\u2212j\u03b4\ni=1 j=1\n\n(6)\n\nLet us now go back to the description of Saff (h\u03bb ). The following theorem is proved\nin [11]:\nTheorem 4.3. For every \u03bb \u2208 \u039b+ we have\nh\u03bb,\u03c1\u2228\naff i\n\n1\nq\nSaff (h\u03bb ) =\n*\n\u2206 Waff,\u03bb (q \u22121 )\n\nX\n\nw e\n\nw\u2208Waff\n\nQ\n\n\u03bb \u03b1\u2208R+,aff\n\nQ\n\n1 \u2212 q \u22121 e\u2212\u03b1 !m\u03b1\n1 \u2212 e\u2212\u03b1\n\n(7)\n\n\u03b1\u2208R+,aff\n\nThe appearance of \u2206 in the above formula is very curious. Some geometric\nexplanation for it was given in [7] (it is mentioned in a little more detail in the\nnext Subsection).\n4.5. Affine Gindikin-Karpelevich formula. Let us recall the notations of\nSubsection 2.5; it is clear that at least set theoretically it makes sense to conb The notations\nsider GrGb for any completed symmetrizable Kac-Moody group G.\n\u039b, \u039b+ , R+ , GrG , S \u03bc , T \u03b3 make sense for Gb without any changes (at least if we think\nabout S \u03bc and T \u03b3 as sets and not as geometric objects).\nConjecture 4.4. For any \u03b3 \u2208 \u039b+ the intersection T \u2212\u03b3 \u2229 S 0 is finite.\n\nThis conjecture is proved in [7] when K = Fq ((t)) and in [8] for any nonbaff . 6 In the cases when Conjecture 4.4 is\narchimedian local field K when Gb = G\nknown, it makes sense to ask whether one can compute the generating function\nX\nIGb(q) =\n#(T \u2212\u03b3 \u2229 S 0 ) q \u2212|\u03b3| e\u2212\u03b3 .\n\u03b3\u2208\u039b+\n\nWe do not know the answer in general; however, it [7] and [8] it is proved that\nb aff we have\nwhen Gb = G\nQ\n1 \u2212 q \u22121 e\u2212\u03b1 !m\u03b1\n1 \u03b1\u2208R+,aff\nQ\n(8)\nIGb(q) =\n\u2206\n1 \u2212 e\u2212\u03b1\n\u03b1\u2208R+,aff\n\nThe formula (8) is obtained in [8] as a limit of (7). Earlier, a different proof\nwas given in [7] in the case when K is a functional field, using the geometry of\n6 The\n\ngeneral case is probably provable by using the techniques of [22].\n\n\f16\n\nAlexander Braverman and David Kazhdan\n\nUhlenbeck spaces studied in [6]. We remark that the latter proof also gave a\n1\nin this formula.\ngeometric explanation for the appearance of the correction term \u2206\nWe don't have enough room for details, but let us just note that very roughly\nspeaking it is related to the fact that affine Kac- Moody groups over a functional\nlocal field can be studied using various moduli spaces of bundles on algebraic\nsurfaces. In particular, by combining the results of [7], [8] and [11] one gets a new\nproof of the identity (6) (which is independent of Cherednik's results).\n4.6. Towards geometric Satake isomorphism for Gaff . Some parts of the\ngeometric Satake isomorphism have been generalized to Gaff in the papers [3][5]. The idea the approach of loc. cit. belongs in fact to I. Frenkel who suggested\nthat integrable representations of G\u2228\naff of level k should be realized geometrically in\nterms of some moduli spaces related to G-bundles on A2 /\u0393k , where \u0393k is the group\nof roots of unity of order k acting on A2 by \u03b6(x, y) = (\u03b6x, \u03b6 \u22121 y). [3] constitutes an\nattempt to make this idea more precise.\nLet BunG (A2 ) denote the moduli space of principal G-bundles on P2 trivialized\nat the \"infinite\" line P1\u221e \u2282 P2 . This is an algebraic variety which has connected\ncomponents parametrized by non-negative integers, corresponding to different values of the second Chern class of the corresponding bundles. Similarly, one can\ndefine BunG (A2 /\u0393k ). Very vaguely, the main idea of [3] can be formulated in the\nfollowing way:\nThe basic principle:\n1) The integrable representations of G\u2228\naff of level k have to do with the geometry\n(e.g. intersection cohomology) of some varieties closely related to BunG (A2 /\u0393k ).\n2) This relation should be thought of as similar to the relation between finitedimensional representations of G\u2228 and the geometry of the affine Grassmannian\nGrG .\nWe believe that 1) above has many different aspects. [3] is concentrated on just\none such aspect; namely, it is explained in [3] how one can construct an analog of\n\u03bb\nthe varieties W \u03bc in the affine case (using the variety BunG (A2 /\u0393k ) as well as the\ncorresponding Uhlenbeck compactification of the moduli space of G-bundles - cf.\n[6]). It is conjectured that the stalks of IC-sheaves of these varieties are governed\nby the affine version of grF L(\u03bb)\u03bc . 7 This conjecture is still open, but in [3] it is\nproved in several special cases. More precisely, it is proved in loc. cit. that\n1) all of the above conjectures hold in the limit k \u2192 \u221e (cf. [3] for the exact\nformulation).\n2) In [3] a slightly weaker version of the above conjecture is proved in the case\nk = 1; the proof is based on the results of [6]. A recent paper [37] proves it in full\ngenerality.\n3) Again, a slightly weaker version of the above conjecture is proved in [3] for\nG = SL(N ). Let us mention the main ingredient of that proof. Let g be a simply\nlaced simple finite-dimensional Lie algebra. Then by McKay correspondence one\n7 In fact, the definition of the filtration F given in [3] is slightly wrong; the correct definition\nis given in [37].\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n17\n\ncan associate with g a finite subgroup \u0393 of SL(2, C). Recall that H. Nakajima (cf.\ne.g. [34]) gave a geometric construction of integrable gaff -modules of level N using\ncertain moduli spaces which, roughly speaking, have to do with vector bundles of\nrank N on A2 /\u0393. In particular, if g = sl(k) it follows that\n1) By H. Nakajima the geometry of vector bundles of rank n on A2 /\u0393k is related\nto integrable modules over sl(k)aff of level N .\n2) By I. Frenkel's suggestion the geometry of vector bundles of rank N on\nA2 /\u0393k is related to integrable modules over sl(N )aff of level k.\nOn the other hand, in the representation theory of affine Lie algebras there is a\nwell-known relation, due to I. Frenkel, between integrable modules over sl(k)aff of\nlevel N and integrable modules over sl(N )aff of level k. This connection is called\nlevel-rank duality; one of its aspects is discussed in [13]. It turns out that combining\nthe results of [13] with the results of [34] one can get a proof of a slightly weaker\nversion of our main conjecture.\nIt is of course reasonable to ask why G-bundles on A2 /\u0393k have anything to do with\nthe sought-for affine Grassmannian of Gaff . We don't have a satisfactory answer\nto this question, though some sort of explanation (which would be too long to\nreproduce in the Introduction) is provided in [9]. Also, E. Witten produced an\nexplanation of this phenomenon in terms of 6-dimensional conformal field theory\n(cf. [40]).\nIn [4] and [5] other aspects of 1) are explored; in particular, an affine analog of\nconvolution of G(O)-equivariant perverse sheaves on GrG and the analog of the so\ncalled Beilinson-Drinfeld Grassmannian are discussed in [4] and the analog of the\nMirkovic-Vilonen fiber functor is discussed in [5]. Most of the statements of loc.\ncit. are still conjectural, but for the case of G = SL(N ) almost all of them follow\neasily from the work of Nakajima [35].\n\n5. Eisenstein series for affine Kac-Moody groups\nIn this Section we discuss unramified Eisenstein series for Gaff over a functional\nfield; we are going treat the subject in geometric way. Most of the results described\nbelow are adaptions of the corresponding results of H. Garland who considered the\ncase of the global field Q); other results are going to appear in [10].\n5.1. The double quotient. As was explained in Section 3.1 unramified automorphic forms in the case of finite-dimensional G are functions on the double\nquotient G(OAF )\\G(AF )/G(F ). We would like to introduce an analogous quob aff and then give some interesting examples of functions on\ntient for the group G\nthis quotient (given by an affine analog of Eisenstein series) 8 .\n8 Most of the discussion will go through for the group G\nb\naff instead of Gaff , but for certain\npurposes which go beyond the scope of this survey paper it seems more appropriate to work here\nbaff here\nwith G\n\n\f18\n\nAlexander Braverman and David Kazhdan\n\nb aff is a group ind-scheme over Z, it makes sense to consider G\nb aff (AF ).\nSince G\nHowever, it turns out that this is not the right thing to consider. Instead, let us\nset\nb aff (Kv ))| gv \u2208 G\nb aff (Ov ) for almost all v}.\nbaff,AF = {(gv \u2208 G\nG\n\nThen the double quotient on which we are going to produce some interesting functions is the quotient Gaff (OAF )\\Gaff,AF /Gaff (F ). To motivate the consideration of\nthis double quotient let us provide its geometric interpretation.\nb Let S be a smooth algebraic surface over a field\n5.2. The groupoid BunG (S).\nk and let X \u2282 S be a smooth projective curve in S correspondiong to a sheaf of\nideals JX . We let Sn \u2282 S denote the closed sub-scheme of S corresponding to\nsheaf of ideals JXn+1 . For each n \u2265 m we have the embedding imn : Sm \u2192 Sn .\nLet us denote by Sb the formal completion of S along X (it can be considered as\neither a formal scheme or an ind-scheme). For an algebraic group G, we would like\nb of G-bundles on S.\nb By the definition an object\nto consider the groupoid BunG (S)\nb\nF of BunG (S) consists of G-bundles Fn on each Sn together with a compatible\nsystem of isomorphisms Fn |Sm \u2243 Fm (and the notion of isomorphism of such\nobjects is clear).\nb\n5.3. BunG (Sb0 ). We start our definition of G-bundles on Sb0 = S\\X\nwith the\ncase G = GL(n). In other words, we are going to define the category Vect(Sb0 ) of\nvector bundles on Sb0 .\nb the category of locally free coherent sheaves on S;\nb \u2022\nLet us denote by Vect(S)\n0\nb\nObjects of Vect(Sb ) are objects of Vect(S).\nb\n\u2022 Given two objects E1 , E2 of Vect(S) we define\nHomVect(Sb0 ) (E1 , E2 ) =\n\n[\n\nn\u22650\n\nHomVect(S)\nb (E1 , E2 (nX)).\n\nLet us now assume that G is simply connected. Since Vect(Sb0 ) is a tensor\ncategory we can define a groupoid Bun\u2032G (Sb0 ) of exact tensor functors from Rep(G)\nto Vect(Sb0 ). It is clear that we have a functor r : BunG (S) \u2192 Bun\u2032G (Sb0 ) and\nwe define BunG (Sb0 ) to be the full subcategory of Bun\u2032G (Sb0 ) consisting of objects\nwhich lie in the image of r.\nWe conjecture that BunG (Sb0 ) = Bun\u2032G (Sb0 ).\nSince we assume that G is simply connected by Theorem 11.5 of [38] this\nconjecture is true if we replace Sb by S.\n\n5.4. Bundles with respect to G\u2032aff . We would like to define the groupoid\nbaff -bundles on X; let us first do it for the group G\nb\u2032 . Since we are given a\nG\naff\n\u2032\nb \u2192 Gm , if such a notion makes sense, then we should have a\nhomomorphism G\naff\nfunctor\n\u03b9 : BunG\u2032aff \u2192 Pic(X).\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n19\n\nSo, in order to describe BunG\u2032aff , it is enough to describe the groupoid \u03b7 \u22121 (L) for\neach L \u2208 Pic(X) in a way that the assignment L 7\u2192 \u03b7 \u22121 (L) is functorial with\nrespect to isomorphisms in Pic(X). We set\n\u03b9\u22121 (L) = BunG (SbL0 )\n\nwhere S is the total space of L.\n\nProposition 5.1. We have an equivalence of groupoids\nb\u2032\nb\u2032 (O(AF ))\\G\nb\u2032\nBunGb\u2032 \u2243 G\naff\naff,AF /Gaff (F ).\naff\n\nLet us now turn on the central extension. Let X \u2282 S be as in the beginning of\nthis Section (in particular, we do not assume anything about the self-intersection\nof X).\nThe central extension\nbaff \u2192 G\nb\u2032 \u2192 1\n1 \u2192 Gm \u2192 G\naff\n\ng G (Sb0 ) over BunG (Sb0 ) for any X \u2282 S as above.\ngives rise to a Pic(X)-torsor Bun\ng G (Sb0 ) where L runs over all\nDenote as as before by BunGbaff the union of Bun\nL\nelements of Pic(X). Then the analog of Proposition 5.1 reads as follows:\nb aff (F ).\nbaff (O(AF ))\\G\nbaff,AF /G\nBunGbaff \u2243 G\n\n(9)\n\n5.5. Eisenstein series. We now fix L \u2208 Pic(X) and assume that deg(L) < 0.\nFor a parabolic subgroup P \u2282 G, let BunG,P (SbL ) be the groupoid of G-bundles\non SbL endowed with a P -structure on X \u2282 SbL . Note that BunG,G (SbL ) is just\nBunG (SbL ) (in the future we shall use the following convention: for any symbol of\nthe form ?G,P , defined for all parabolic subgroups of G, we shall write ?G instead\nof ?G,G ). Consider diagram\n\u03b7G,P,L\nBunG,P (SbL ) \u00d7 Pic(X) \u2212\u2212\u2212\u2212\u2192 BunM (X) \u00d7 Pic(X)\n\uf8e6\n\u03c0G,P,L \uf8e6\ny\n\n(10)\n\n\u2217\nEisG,P,L (f ) = (\u03c0G,P,L )! \u03b7G,P,L\n(q \u03c1P,aff f ).\n\n(11)\n\ng G (Sb0 )\nBun\nL\n\nWe shall mostly be interested in the cases P = G and P = B (a Borel subgroup\nof G); for P = G we shall just write EisG,L instead of EisG,G,L .\nSimilarly to Subsection 3.4 we let \u03c1aff\nP : Z \u00d7 \u039bM \u2192 Z be the homomorphism\nwhich such that \u03c1P,aff (\u03b1) = 0 for every coroot \u03b1 of M and \u03c1P,aff (\u03b1i ) = 1 for every\nbaff not lying in M . We also denote by \u03c1P,aff the corresponding\nsimple coroot of G\nfunction Pic(X)\u00d7BunM (X) \u2192 Z. For a complex-valued function f on BunM (X)\u00d7\nPic(X) we would like to set\n\nA priori, it is not clear what sense it makes, since the RHS of (11) might be an\ninfinite sum. We say that EisG,P,L (f ) is well-defined if it value at every point is\ngiven by a finite sum Then we have\n\n\f20\n\nAlexander Braverman and David Kazhdan\n\nTheorem 5.2. (1) Assume that f has finite support. Then EisG,P,L (f ) is welldefined (i.e. its value at every point is given by a finite sum). If P = G then\nthe same is true for any f such that the image of supp(f ) in Pic(X) is finite.\n(2) Assume that P = B; then BunM (X) \u00d7 Pic(X) = BunT (X) \u00d7 Pic(X). Let\ndeg : BunT (X) \u00d7 Pic(X) \u2192 \u039b \u2295 Z denote the natural degree map and let\nfs = \u03c7 * q hdeg,si , where \u03c7 is a unitary character of BunT \u00d7 Pic(X) and s \u2208\nt\u2217 \u2295C. Then the series EisG,B,L (fs ) is absolutely convergent when Re s > \u03c1\u2228\naff .\nMoreover, it has a meromorphic continuation to the domain Re s > 0.\n(3) Assume that P = G. Then EisG,P,L (f ) is well-defined if f has finite support\nmodulo Pic(X). In particular, this is true for any cuspidal f .\nThe first statement is due to Kapranov [26]. The second statement is due to\nGarland [17] and the third statement will appear in [10].\nb aff defined\nGiven P as above one can consider the parahoric subgroup PP \u2282 G\nas Gm \u00d7 G[[t]]P \u22ca Gm , where G[[t]]P is the preimage of P under the natural map\nG[[t]] \u2192 G. It should be thought of as a parabolic subgroup of the affine Kacb aff and the corresponding Levi factor is Gm \u00d7 M \u00d7 Gm where M\nMoody group G\nis the Levi factor of P . The operators EisG,P,L should be thought of as Eisenstein\nseries EisGbaff ,PP (restricted to \u03b9\u22121 (L)). If B \u2282 G is a Borel subgroup, then PB\nb aff (later, we are going to consider a\nshould be thought of as a Borel subgroup of G\nb\ndifferent type of Borel subgroups of Gaff . In fact, it is well-known that the group\nbaff has more general parabolic subgroups containing PB than those of the form\nG\nbaff of\nPP for some P \u2282 G; we shall call such subgroups parabolic subgroups of G\npositive type (since later we are going to consider other parabolic subgroups). The\nbaff of\nabove Eisenstein series can be defined for any parabolic subgroup P \u2282 G\npositive type and the analog of Theorem 5.2 holds for any such P.\n5.6. Constant term. We now want to define the operator of constant term, actg G (Sb0 ) to functions on Pic(X) \u00d7 BunM (X). In principle,\ning from functions on Bun\nL\n\u2217\nwe would like to set cG,P,L (f ) = q \u03c1P,aff (\u03b7G,P,L )! \u03c0G,P,L\n(f ). However, formally there\nis a problem with this definition. Namely, the morphism \u03b7G,P,L is not representable\nand the corresponding automorphism groups (whose sizes enter the definition of\n(\u03b7G,P,L )! as in (3)) are infinite. So, we need to apply certain \"renormalization\" procedure in order to define (\u03b7G,P,L )! . Let us explain this procedure for P = G(the\ngeneral case is simila). Let F \u2208 BunG (SbL ). The, for any M \u2208 Pic(X), the\n\u22121\n(M, F |X ) is Aut0 (F ) which\nautomorphism group of (M, F ) as a point in \u03b7G,L\nconsists of those automorphisms of F which are equal to identity when restricted\nto X. This is an infinite group which is equal to the set of Fq -points of some\npro-unipotent algebraic group and thus formally its \"number of points\" should be\nthe same as the number of points in the corresponding Lie algebra, which is equal\nto H 0 (X, p\u2217 (gF )(\u2212X)), where p : SbL \u2192 X denotes the natural morphism and\ngF is the vector bundle associated to F by means of the adjoint representation of\nG. The space H 0 (X, p\u2217 (gF )(\u2212X)) is infinite-dimensional, but the corresponding\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n21\n\nspace H 1 (X, p\u2217 (gF )(\u2212X)) is actually finite-dimensional (here we use the fact that\ndeg(L) < 0) and we formally set\n# Aut0 (F ) = q dim H\n\n1\n\n(X,p\u2217 (gF )(\u2212X))\n\n.\n\nInformally, this definition is reasonable because by the Riemann-Roch theorem if\nthe Euler characteristic dim H 0 (X, p\u2217 (gF )(\u2212X)) \u2212 dim H 1 (X, p\u2217 (gF )(\u2212X)) made\nsense, it would have been independent of F . Given this convention, we can now\ng G (Sb0 ) we set\ndefine (\u03b7G,P,L )! and for a function f on Bun\nL\n\ncG,P,L (f ) = q\n\n\u2212\u03c1P,aff\n\n\u2217\n(\u03b7G,P,L )! \u03c0G,P,L\n(f ).\n\nIn fact, a slight variation gives a definition of cGbaff ,P for any parabolic subgroup P\n\nbaff of positive type. 9 . For P = B it is easy to see that this definition coincides\nof G\nwith that of [17]. It is easy to see that cG,P,L (f ) makes sense for any function f on\ng G (Sb0 ), since any fiber of the map BunG (SbL ) \u2192 BunG (X) has finitely many\nBun\nL\nisomorphism classes of objects.\n5.7. More on Eisenstein series and constant term. Given a parabolic subbaff defined Gm \u00d7 G[t\u22121 ]P \u22ca Gm\ngroup P of G one consider the subgroup QP of G\n\u22121\nwhere G[t ]P is the preimage of P under the map G[t\u22121 ] \u2192 G obtained by setting t\u22121 = 0. We shall call such subgroups parabolic subgroups of negative type (as\nbefore there exist more general parabolic subgroups of negative type, but we shall\nnot consider them in this paper). One can talk about constant term and Eisenstein\nseries for parabolic subgroups of negative type. Geometrically, these are defined\nby means of the following analog of (10).\n\u2212\n\u03b7G,P,L\n\nPic(X) \u00d7 BunG,P (SL\u22121 ) \u2212\u2212\u2212\u2212\u2192 Pic(X) \u00d7 BunM (X)\n\uf8e6\n\uf8e6\n\u2212\n\u03c0G,P,L\ny\n\n(12)\n\ng G (Sb0 )\nBun\nL\n\nHere SL\u22121 denotes the total space of L\u22121 and BunG,P (SL\u22121 ) denotes the groupoid\nof G-bundles on SL\u22121 endowed with a P -structure on X \u2282 SL\u22121 . The existence of the map BunG,P (SL\u22121 ) \u2192 BunG (SbL0 ) is clear; its lift to a map Pic(X) \u00d7\ng G (Sb0 ) is not difficult to define, but we shall not do it in this\nBunG,P (SL\u22121 ) \u2192 Bun\nL\npaper. Thus one can define operator c\u2212\nG,P,L . In this case no \"renormalization\" as\n\u2212\nare infinite and thus\nin Subsection 5.6 is needed, but the fibers of the map \u03b7G,P,L\n\u2212\na priori cG,P,L can only be applied to functions with finite support \u2013 otherwise one\nneeds to check convergence (this is very different from the finite-dimensional case).\nOne can also define the corresponding Eisenstein series operator Eis\u2212\nG,P,L ; this\nis an operator from functions with finite support on Pic(X)\u00d7BunG (X) to functions\ng G (Sb0 ). However, its definition is not straightforward, since the composition\non Bun\nL\n9 Note that the factor q \u03c1P,aff is changed to q \u2212\u03c1P,aff ; this is due to the fact a factor of q 2\u03c1P,aff\nis hidden in the renormalization procedure described above\n\n\f22\n\nAlexander Braverman and David Kazhdan\n\n\u2212\n\u2212\n(\u03c0G,P,L\n)! (\u03b7G,P,L\n)\u2217 (f ) is given by an infinite sum even when f has finite support\nand we must use a renormalization procedure similar to that from Subsection 5.6.\nThe formal definition will appear in [10].\nWe now want to present the analog Theorem 3.1. Let nP,aff be the nilpotent\nradical of LiePP and let nP,aff,\u2212 be the nilpotent radical of LieQP . We can also\nconsider the corresponding Langlands dual subalgebras in g\u2228\naff .\n\nTheorem 5.3. Assume that f \u2208 C(Pic(X)\u00d7BunM (X)) is a cuspidal Hecke eigenfunction. Then\n(1)\ncG,P,L \u25e6 EisG,P,L (f ) =\nX\n\nq\n\n\u2228\nw\n\u2212(g\u22121) dim n\u2228\nP,aff \u2229(nP\u2212 ,aff ,\u2212 )\n\nfw\n\nw\u2208Waff /W (M)\n\n\u2228\nw\nL(f, n\u2228\nP,aff \u2229 (nP\u2212 ,aff,\u2212 ) , 0)\n\u2228\nw\nL(f, n\u2228\nP,aff \u2229 (nP\u2212 ,aff,\u2212 ) , 1)\n\n.\n\nNote that the factor in front of f w is slightly different from that in Theorem\n3.1(1); this has to do with the renormalization procedure of Subsection 5.6.\n(2) Assume that G is simply laced and let f = (\u03c7, \u03c6) where \u03c7 is a character of\nPic(X) and \u03c6 is a cuspidal Hecke eigen-function on BunM (X). Then\nc\u2212\nG,P,L \u25e6 EisG,P,L (f ) =\n\nr Y\n\u221e\nY\n\ni=1 j=1\n\nX\n\nw\u2208Waff /W (M)\n\nq\n\n\u2228\n(g\u22121) dim n\u2228\nP,aff \u2229(nP\n\n\u2212 ,aff,\u2212\n\n)w\n\nfw\n\nL(\u03c7j , di )\n\u00d7\nL(\u03c7j , di \u2212 1)\n\n\u2228\nw\nL(f, n\u2228\nP,aff \u2229 (nP,aff ) , 0)\n.\n\u2228\nw\nL(f, n\u2228\nP,aff \u2229 (nP,aff ) , 1)\n\nA similar statement holds for the composition cG,P,L \u25e6 Eis\u2212\nG,P,L .\nA few remarks are in order about the formulation of Theorem 5.3. The first\nstatement is proved in a similar manner to the finite-dimensional case; in the case\nP = B it appears in [17] (we also refer the reader to [17] for the discussion of\nconvergence of the right hand side of Theorem 5.3(1)). In the second statement\nthe product of abelian L-functions in front of the sum comes from the formula (6)\nfor the \"correction term\" in the affine Gindikin-Karpelevich formula; a variant of\nthis statement holds for non-simply laced groups as well (using the formula for the\ncorrection term described in [7]). Let us now look at the case P = G. Then in\nthe right hand side of Theorem 5.3(2) only one term (corresponding to w = 1)\nis left and it is equal to f multiplied by certain infinite product of ratios of Lfunctions. Moreover, let us consider the case when \u03c7 above is equal to q s deg . Then\nthe product\nr Y\n\u221e\nr Y\n\u221e\nY\nY\n\u03b6(js + di )\nL(\u03c7j , di )\n=\n,\nj , d \u2212 1)\nL(\u03c7\n\u03b6(js\n+ di \u2212 1)\ni\ni=1 j=1\ni=1 j=1\nwhich is a meromorphic function of s when Re(s) > 0. Also,\n\u221e\nY\nL(f, n\u2228\nL(\u03c6, \u03c1, js)\nP,aff , 0)\n=\n,\nL(f, n\u2228\n,\n1)\nL(\u03c6,\n\u03c1, js + 1)\nP,aff\nj=1\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n23\n\nwhere \u03c1 is the adjoint representation of G\u2228 . The above product is absolutely\nconvergent for Re(s) > 1 and the standard conjectures about automorphic Lfunctions imply that it should have a meromorphic continuation to the domain\nRe(s) > 0. We do not know how to prove this at the moment, but we expect\nthis observation to be a useful tool in proving that L(\u03c6, \u03c1, s) has a meromorphic\ncontinuation.\nIt is also important to note that we are not claiming anything about the com\u2212\nposition c\u2212\nG,P,L \u25e6 EisG,P,L since we don't know how to make sense of it.\n5.8. Affine Tamagawa number formula. To conclude this Section, we would\nlike to present an analog of Theorem 3.2 in the affine case. First, one needs to\ng G (Sb0 ) analogous to the one defined by (4). Naively, one\ndefine a measure on Bun\nL\ncan try to define in it by the same formula as (4) on BunG (SbL0 ) rather than on\ng G (Sb0 ); however, one quickly discovers that the automorphism groups which\nBun\nL\nappear in (4) are infinite, and to define the measure one needs to perform again\na renormalization procedure similar to the one in Subsection 5.6. We are not\ngoing to give the details of that procedure here, but let is just mention that it\nis a little more involved than in Subsection 5.6 and, in particular, the resulting\ng G (Sb0 ); moreover, with respect to the natural\nmeasure makes sense only on Bun\nL\n\u2228\nPic(X)-action on it changes according to the character M 7\u2192 q \u22122h deg(M) . This\nphenomenon has been discovered by H. Garland in [17], who gave a group-theoretic\ndefinition of this measure.\nSince the above measure changes according to a non-trivial character of Pic(X),\nwe can't integrate the function 1 with respect to this measure. Instead, we are going\ng G (Sb0 ) by recalling the interpretation of the volume of\nto define the volume of Bun\nL\nBunG (X) given by Theorem 3.5. Namely, for s \u2208 C\u2295t\u2217 we set E(s) = EisG,B,L (fs )\nwhere fs is equal to h(n, \u03b3), si on Picn (X) \u00d7 Bun\u03b3T (X). Thus we can define rGbaff as\nh?,\u03c1aff i\nthe residue of c\u2212\n(this\nG,B,L (E(s)) at s = \u03c1aff multiplied by by the function q\nis a constant function on Pic(X) \u00d7 BunT (X) which priori, rGbaff might depend on\nL but it is easy to deduce from Theorem 5.3 that it does not). Then we define the\ng G (Sb0 ) as\nvolume of Bun\nL\n(Ress=1 \u03b6(s))r+1\n.\nrGbaff\nWith this definition we now have the following\nTheorem 5.4. Assume that G is simply laced and simple. Let us assume that the\nexponents d1 , * * * , dr are numbered in such a way that d1 = 2. Then the volume of\ng G (Sb0 ) is equal to\nBun\nL\nr\nQ\n\u03b6(di )\ni=1\n.\n(13)\nr\nQ\n\u03b6(di \u2212 1)\ni=2\n\nLet us make two remarks about (13). First, the absence of the factor corresponding to d1 in the denominator has to do with the fact that we are working\n\n\f24\n\nAlexander Braverman and David Kazhdan\n\nb \u2032 but with its central extension G\nb aff . Second, usually most\nnot with the group G\naff\nterms in (13) cancel out (e.g. for G = SL(n) only \u03b6(n) survives). However, writing\nthe answer as in (13) is still instructive, since one can give an explanation why the\nabove answer is natural in the spirit of Theorem 3.3 (however, we don't know how\nto formulate precisely a \"cohomological\" statement that would imply Theorem\n5.4).\n\n6. Further questions and constructions\nIn this Section we mention some related works and formulate several possible\ndirections of future research.\n6.1. Existence of cuspidal representations and automorphic forms. It\nis interesting whether there exists a reasonable notion of cuspidal automorphic\nb aff . We can try to say that a function f on Bun\ng G (Sb0 ) is cuspidal if\nforms for G\nL\nbaff . Here the words \"for every\ncGbaff ,P (f ) = 0 for every parahoric subgroup P of G\nparahoric\" can in principle be interpreted in several different ways. Namely, we\ncan require that this holds for all parahoric subgroups of positive type, or for all\nparahoric of negative type, or both. We conjecture that these conditions are in fact\nequivalent. More precisely, we conjecture that if P and Q are opposite parahoric\nsubgroups then cGbaff ,P (f ) = 0 implies that cGbaff ,Q = 0.\nIf the above conjecture is true, then we get an unambiguous definition of cuspidal functions. However, it is not at all clear whether non-zero cuspidal functions\nexist. It would be very interesting to understand if they do exist and how to\ndescribe the space of cuspidal functions.\nThe above questions make sense locally. As was mentioned in the introduction,\nbaff (K) (for K\nin the paper [14]-[15] the theory of representations of the group G\nbeing a local non-archmedian field) was developed. One can define the notion of\na cuspidal representation in this framework and it would be very interesting to\nbaff has any irreducible cuspidal representations.\nunderstand whether G\n\n6.2. Weil representation and theta-correspondence. In [41] Y. Zhu genf\neralized the notion of Weil representation of the double cover Sp(2n,\nK) of the\nsymplectic group Sp(2n, K) over a local field K (archimedian or not) to its affine\nanalog; moreover, the affine analog of the corresponding automorphic representation is also constructed in loc. cit.\nOne of the main applications of the usual Weil representation to the representation theory of p-adic groups and to automorphic forms is the construction of the\nso called theta-correspondence (cf. [36] for a survey on theta-correspondence). One\nof the most interesting features of the theta-correspondence is that it provides a\nfairly explicit tool for producing examples of cuspidal automorphic forms.\nIt would be very interesting to develop an affine analog of theta-correspondence;\nin particular, it might give rise to a construction of cuspidal automorphic forms\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n25\n\nb aff (for some particular choices of G). The full theory of thetafor the group G\ncorrespondence has not yet been developed in the affine case. However, it was\nshown in [20] and [21] that one of the main tools used in the theory of (global)\ntheta-correspondence \u2013 the so called Siegel-Weil formula \u2013 does have an analogue\nin the affine case.\n6.3. Meromorphic continuation and functional equation of Eisenstein\nseries. As was claimed above, the Eisenstein series EisG,L (f ) is convergent for\nany cuspidal function f on Pic(X) \u00d7 BunG (X). This fact is not true for Eis\u2212\nG,L .\nLet f be of the form \u03c7 \u00d7 \u03c6 where \u03c6 is a cuspidal function on BunG (X) and \u03c7 is a\nunitary character of Pic(X). For every s \u2208 C set\nfs (M, F ) = \u03c7(M)\u03c6(F )q s deg(M) .\n\u2228\nThen one can show that Eis\u2212\nG,L (fs ) is absolutely convergent for Re(s) > h where\n\u2212\n\u2228\nh is the dual Coxeter number of G. We conjecture that in fact EisG,L (fs ) has a\nmeromorphic continuation to the domain Re(s) > 0.\nMoreover, we conjecture that Eis\u2212\nG,L (fs ) is proportional to EisG,L (fs ) (the coefficient of proportionality can then be expressed as a ratio of an infinite product\nof L-functions as follows from\n\n6.4. Towards Kazhdan-Lusztig theory for DAHA. Let us recall the algebra\nH+\naff defined in Subsection 4.3. Moreover, as was remarked after Theorem 4.2, when\nwe choose a local non-archimedian field K the specialization of q to the number\nof elements in its residue field acquires a natural basis. We conjecture that this\nbasis comes from a C[q, q \u22121 ]-basis of H+\naff ; it should be thought of as an analog of\nthe \"standard basis\" of a finite of affine Hecke algebra. It would be interesting to\ndefine an analogue of Kazhdan-Lusztig basis of H+\naff . We don't know how to attack\nthis problem algebraically; however, it should be possible to attack it geometrically\nusing appropriate generalization of the constructions discussed in Subsection 4.6.\n\nReferences\n[1] M. F. Atiyah, R. Bott, The Yang-Mills equations over Riemann surfaces. Phil.\nTrans. R. Soc. Lond. A 308 (1983), 523-615.\n[2] K. A. Behrend, The Lefschetz trace formula for algebraic stacks. Invent. Math.\n112 (1993), 127-149.\n[3] A. Braverman and M. Finkelberg, Pursuing the double affine Grassmannian I:\ntransversal slices via instantons on Ak -singularities, Duke Math. J. 152 (2010),\nno. 2, 175-206\n[4] A. Braverman and M. Finkelberg, Pursuing the double affine Grassmannian II:\nConvolution. Adv. in Math. 230 (2012) 414-432\n[5] A. Braverman and M. Finkelberg, Pursuing the double affine Grassmannian III:\nConvolution with affine Zastava. arXiv:1010.3499\n\n\f26\n\nAlexander Braverman and David Kazhdan\n\n[6] A. Braverman, M. Finkelberg and D. Gaitsgory, Uhlenbeck spaces via affine\nLie algebras. The unity of mathematics, 17-135, Progr. Math., 244, Birkh\u00e4user\nBoston, Boston, MA, 2006.\n[7] A. Braverman, M. Finkelberg and D. Kazhdan, Affine Gindikin-Karpelevich\nformula via Uhlenbeck spaces.\n[8] A. Braverman, H. Garland, D. Kazhdan and M. Patnaik, A GindikinKarpelevich formula for p-adic loop groups, in preparation.\n[9] A. Braverman and D. Kazhdan, The spherical Hecke algebra for affine KacMoody groups I. Ann. of Math. (2) 174 (2011), no. 3, 1603-1642.\n[10] A. Braverman and D. Kazhdan, Affine Eisenstein series I: unramified series over\nfunctional fields and affine Tamagawa number formula, in preparation.\n[11] A. Braverman, D. Kazhdan and M. Patnaik, Hecke algebras for p-adic loop\ngroups, in preparation.\n[12] R. Brylinski, Limits of weight spaces, Lusztig's q-analogs, and fiberings of adjoint orbits. J. Amer. Math. Soc. 2 (1989), no. 3, 517-533.\n[13] I. B. Frenkel, Representations of affine Lie algebras, Hecke modular forms and\nKorteweg-de Vries type equations. in: Lie algebras and related topics (New\nBrunswick, N.J., 1981), pp. 71-110, Lecture Notes in Math. 933 Springer,\nBerlin-New York, 1982.\n[14] D. Gaitsgory and D. Kazhdan, Representations of algebraic groups over a 2dimensional local field. Geom. Funct. Anal. 14 (2004), no. 3, 535-574.\n[15] D. Gaitsgory and D. Kazhdan, Algebraic groups over a 2-dimensional local\nfield: irreducibility of certain induced representations. J. Differential Geom. 70\n(2005), no. 1, 113-127\n[16] D. Gaitsgory and D. Kazhdan, Algebraic groups over a 2-dimensional local field:\nsome further constructions. In: Studies in Lie theory, 97-130, Progr. Math., 243,\nBirkh\u00e4user Boston, Boston, MA, 2006.\n[17] H. Garland, Eisenstein series on arithmetic quotients of loop groups. Math. Res.\nLett. 6 (1999), no. 5-6, 723-733.\n[18] H. Garland, Absolute convergence of Eisenstein series on loop groups. Duke\nMath. J. 135 (2006), no. 2, 203-260.\n[19] H. Garland, On extending the Langlands-Shahidi method to arithmetic quotients of loop groups. In: Representation theory and mathematical physics,\n151-167, Contemp. Math., 557, Amer. Math. Soc., Providence, RI, 2011.\n[20] H. Garland and Y. Zhu, On the Siegel-Weil theorem for loop groups, I. Duke\nMath. J. 157 (2011), no. 2, 283-336\n[21] H. Garland and Y. Zhu, On the Siegel-Weil theorem for loop groups, II.\narXiv:0906.4749.\n[22] S. Gaussent and G. Rousseau, Spherical Hecke algebras for Kac-Moody groups\nover local fields. arXiv:1201.6050\n[23] J. Heinloth and A. Schmitt, The cohomology rings of moduli stacks of principal\nbundles over curves. Doc. Math. 15 (2010), 423-488.\n[24] V. Kac, Infinite-dimensional Lie algebras. Second edition, Cambridge University\nPress, Cambridge, 1985.\n\n\fRepresentations of affine Kac-Moody groups over local and global fields\n\n27\n\n[25] M. Kapranov, Double affine Hecke algebras and 2-dimensional local fields. J.\nAmer. Math. Soc. 14 (2001), no. 1, 239\u2013262\n[26] M. Kapranov, The elliptic curve in the S-duality theory and Eisenstein series\nfor Kac-Moody groups, math.AG/0001005.\n[27] S. Kato, Spherical functions and a q-analogue of Kostant's weight multiplicity\nformula. Invent. Math. 66 (1982), no. 3, 461-468.\n[28] R. P. Langlands, On the functional equations satisfied by Eisenstein series. Lecture Notes in Mathematics, 544. Springer-Verlag, Berlin-New York, 1976.\n[29] R. P. Langlands, The volume of the fundamental domain for some arithmetical\nsubgroups of Chevalley groups. In: 1966 Algebraic Groups and Discontinuous\nSubgroups (Proc. Sympos. Pure Math., Boulder, Colo., 1965) pp. 143-148 Amer.\nMath. Soc., Providence, R.I.\n[30] G. Lusztig, Singularities, character formulas, and a q-analog of weight multiplicities, Analysis and topology on singular spaces. Ast\u00e9risque, 101-102 (1983),\npp. 208-229.\n[31] I. G. Macdonald, Spherical functions on a p-adic Chevalley group. Bull. Amer.\nMath. Soc. 74 1968, 520\u2013525.\n[32] I. G. Macdonald, A formal identity for affine root systems. Lie groups and\nsymmetric spaces. Amer. Math. Soc. Transl. Ser. 2, 210, 195-211, Amer. Math.\nSoc., Providence, RI, 2003.\n[33] I. Mirkovi\u0107 and K. Vilonen, Perverse sheaves on affine Grassmannians and Langlands duality. Math. Res. Lett. 7 (2000), no. 1, 13\u201324.\n[34] H. Nakajima, Geometric construction of representations of affine algebras. Proceedings of the International Congress of Mathematicians, Vol. I (Beijing,\n2002), 423-438.\n[35] H. Nakajima, Quiver varieties and branching. SIGMA 5 (2009), 003, 37 pages.\n[36] D. Prasad, A brief survey on the theta correspondence. Number theory (Tiruchirapalli, 1996), 171193, Contemp. Math., 210, Amer. Math. Soc., Providence,\nRI, 1998.\n[37] W. Slofstra, A Brylinski filtration for affine Kac-Moody algebras. (English summary) Adv. Math. 229 (2012), no. 2, 968-983.\n[38] J. Starr, Rational points of rationally connected and rationally simply connected\nvarieties, available at http://www.math.sunysb.edu/\u223cjstarr/papers.\n[39] S. Viswanath, Kostka-Foulkes polynomials for symmetrizable Kac-Moody algebras. S\u00e9m. Lothar. Combin. 58 (2007/08) Art. B58f, 20 pp.\n[40] E. Witten, Geometric Langlands from Six Dimensions, A celebration of the\nmathematical legacy of Raoul Bott, CRM Proc. Lecture Notes 50, Amer. Math.\nSoc., Providence, RI (2010), 281\u2013310.\n[41] Y. Zhu, Theta functions and Weil representations of loop symplectic groups.\nDuke Math. J. 143 (2008), no. 1, 17-39.\nAlexander Braverman, Department of Mathematics, Brown University\nE-mail: braval@math.brown.edu\nDavid Kazhdan, Einstein Institute of Mathematics, Hebrew University of Jerusalem\nE-mail: kazhdan@math.huji.ac.il\n\n\f"}