{"id": "http://arxiv.org/abs/1110.1564v1", "guidislink": true, "updated": "2011-10-07T15:16:41Z", "updated_parsed": [2011, 10, 7, 15, 16, 41, 4, 280, 0], "published": "2011-10-07T15:16:41Z", "published_parsed": [2011, 10, 7, 15, 16, 41, 4, 280, 0], "title": "A Linear-Quadratic Optimal Control Problem for Mean-Field Stochastic\n  Differential Equations", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1110.0915%2C1110.3512%2C1110.2070%2C1110.5464%2C1110.3096%2C1110.4986%2C1110.2308%2C1110.3805%2C1110.2558%2C1110.2114%2C1110.4175%2C1110.2728%2C1110.0664%2C1110.0325%2C1110.0663%2C1110.1335%2C1110.6721%2C1110.6440%2C1110.1717%2C1110.5977%2C1110.5095%2C1110.0262%2C1110.5143%2C1110.5995%2C1110.4463%2C1110.1279%2C1110.3123%2C1110.2509%2C1110.6929%2C1110.0424%2C1110.0036%2C1110.0733%2C1110.1163%2C1110.4156%2C1110.6496%2C1110.3862%2C1110.0953%2C1110.6842%2C1110.4444%2C1110.1749%2C1110.5079%2C1110.5121%2C1110.0779%2C1110.1483%2C1110.6521%2C1110.2130%2C1110.2838%2C1110.0154%2C1110.4299%2C1110.3022%2C1110.6750%2C1110.1021%2C1110.5578%2C1110.0297%2C1110.1983%2C1110.2568%2C1110.2502%2C1110.5664%2C1110.5023%2C1110.2140%2C1110.4991%2C1110.5784%2C1110.3375%2C1110.1594%2C1110.5603%2C1110.0928%2C1110.0238%2C1110.1209%2C1110.0540%2C1110.5959%2C1110.4897%2C1110.5204%2C1110.0233%2C1110.3586%2C1110.5151%2C1110.4997%2C1110.1911%2C1110.4046%2C1110.1592%2C1110.1402%2C1110.4145%2C1110.0787%2C1110.1564%2C1110.1266%2C1110.6794%2C1110.3416%2C1110.6635%2C1110.2682%2C1110.0152%2C1110.4233%2C1110.6713%2C1110.5250%2C1110.0274%2C1110.2439%2C1110.3105%2C1110.4866%2C1110.3788%2C1110.1886%2C1110.4400%2C1110.5315%2C1110.5596&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "A Linear-Quadratic Optimal Control Problem for Mean-Field Stochastic\n  Differential Equations"}, "summary": "A Linear-quadratic optimal control problem is considered for mean-field\nstochastic differential equations with deterministic coefficients. By a\nvariational method, the optimality system is derived, which turns out to be a\nlinear mean-field forward-backward stochastic differential equation. Using a\ndecoupling technique, two Riccati differential equations are obtained, which\nare uniquely solvable under certain conditions. Then a feedback representation\nis obtained for the optimal control.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1110.0915%2C1110.3512%2C1110.2070%2C1110.5464%2C1110.3096%2C1110.4986%2C1110.2308%2C1110.3805%2C1110.2558%2C1110.2114%2C1110.4175%2C1110.2728%2C1110.0664%2C1110.0325%2C1110.0663%2C1110.1335%2C1110.6721%2C1110.6440%2C1110.1717%2C1110.5977%2C1110.5095%2C1110.0262%2C1110.5143%2C1110.5995%2C1110.4463%2C1110.1279%2C1110.3123%2C1110.2509%2C1110.6929%2C1110.0424%2C1110.0036%2C1110.0733%2C1110.1163%2C1110.4156%2C1110.6496%2C1110.3862%2C1110.0953%2C1110.6842%2C1110.4444%2C1110.1749%2C1110.5079%2C1110.5121%2C1110.0779%2C1110.1483%2C1110.6521%2C1110.2130%2C1110.2838%2C1110.0154%2C1110.4299%2C1110.3022%2C1110.6750%2C1110.1021%2C1110.5578%2C1110.0297%2C1110.1983%2C1110.2568%2C1110.2502%2C1110.5664%2C1110.5023%2C1110.2140%2C1110.4991%2C1110.5784%2C1110.3375%2C1110.1594%2C1110.5603%2C1110.0928%2C1110.0238%2C1110.1209%2C1110.0540%2C1110.5959%2C1110.4897%2C1110.5204%2C1110.0233%2C1110.3586%2C1110.5151%2C1110.4997%2C1110.1911%2C1110.4046%2C1110.1592%2C1110.1402%2C1110.4145%2C1110.0787%2C1110.1564%2C1110.1266%2C1110.6794%2C1110.3416%2C1110.6635%2C1110.2682%2C1110.0152%2C1110.4233%2C1110.6713%2C1110.5250%2C1110.0274%2C1110.2439%2C1110.3105%2C1110.4866%2C1110.3788%2C1110.1886%2C1110.4400%2C1110.5315%2C1110.5596&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "A Linear-quadratic optimal control problem is considered for mean-field\nstochastic differential equations with deterministic coefficients. By a\nvariational method, the optimality system is derived, which turns out to be a\nlinear mean-field forward-backward stochastic differential equation. Using a\ndecoupling technique, two Riccati differential equations are obtained, which\nare uniquely solvable under certain conditions. Then a feedback representation\nis obtained for the optimal control."}, "authors": ["Jiongmin Yong"], "author_detail": {"name": "Jiongmin Yong"}, "author": "Jiongmin Yong", "arxiv_comment": "27 pages", "links": [{"href": "http://arxiv.org/abs/1110.1564v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1110.1564v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.OC", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.OC", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.PR", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "49N10, 49N35, 93E20", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1110.1564v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1110.1564v1", "journal_reference": null, "doi": null, "fulltext": "A Linear-Quadratic Optimal Control Problem\n\narXiv:1110.1564v1 [math.OC] 7 Oct 2011\n\nfor Mean-Field Stochastic Differential Equations\u2217\nJiongmin Yong\nDepartment of Mathematics, University of Central Florida, Orlando, FL 32816, USA.\nSeptember 19, 2018\n\nAbstract\nA Linear-quadratic optimal control problem is considered for mean-field stochastic differential equations with deterministic coefficients. By a variational method, the optimality system is derived, which\nturns out to be a linear mean-field forward-backward stochastic differential equation. Using a decoupling\ntechnique, two Riccati differential equations are obtained, which are uniquely solvable under certain\nconditions. Then a feedback representation is obtained for the optimal control.\n\nKeywords. Mean-field stochastic differential equation, linear-quadratic optimal control, Riccati differential equation, feedback representation.\nAMS Mathematics subject classification. 49N10, 49N35, 93E20.\n\n1\n\nIntroduction.\n\nLet (\u03a9, F , lP, lF) be a complete filtered probability space, on which a one-dimensional standard Brownian\nmotion W (*) is defined with lF \u2261 {Ft }t\u22650 being its natural filtration augmented by all the lP-null sets.\nConsider the following controlled linear stochastic differential equation (SDE, for short):\n\uf8f1\nn\no\n\uf8f4\n\uf8f4\nb\nb\ndX(s)\n=\nA(s)X(s)\n+\nB(s)u(s)\n+\nA(s)lE[X(s)]\n+\nB(s)lE[u(s)]\nds\n\uf8f4\n\uf8f4\n\uf8f2\nn\no\n(1.1)\nb1 (s)lE[X(s)]+ B\nb1 (s)lE[u(s)] dW (s), s \u2208 [0, T ],\n+ A1 (s)X(s)+B1 (s)u(s)+ A\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3X(0) = x,\n\nb B(*),\nb\nb1 (*), B\nb1 (*) are given deterministic matrix valued functions. In the\nwhere A(*), B(*), A(*),\nA1 (*), B1 (*), A\nn\nabove, X(*), valued in lR , is the state process, and u(*), valued in lRm , is the control process.\n\nWe note that lE[X(*)] and lE[u(*)] appear in the state equation. Such an equation is referred to as a\nlinear controlled mean-field (forward) SDE (MF-FSDE, for short). MF-FSDEs can be used to describe\nparticle systems at mesoscopic level, which is of great importance in applications. Historically, the latercalled McKean\u2013Vlasov SDE, a kind of MF-FSDE, was suggested by Kac [18] in 1956 as a stochastic toy\nmodel for the Vlasov kinetic equation of plasma and the study of which was initiated by McKean [24]\nin 1966. Since then, many authors made contributions on McKean\u2013Vlasov type SDEs and applications,\nsee, for examples, Dawson [13], Dawson\u2013G\u00e4rtner [14], G\u00e1rtner [15], Scheutzow [29], Graham [16], Chan\n\u2217 This\n\nwork is supported in part by NSF Grant DMS-1007514.\n\n1\n\n\f[10], Chiang [11], Ahmed\u2013Ding [1], to mention a few. In recent years, related topics and problems have\nattracted more and more researchers' attentions, see, for examples, Veretennikov [32], Huang\u2013Malham\u00e9\u2013\nCaines [17], Mahmudov\u2013McKibben [23], Buckdahn-Djehiche-Li-Peng [8], Buckdahn-Li-Peng [9], Borkar\u2013\nKumar [6], Crisan\u2013Xiong [12], Kotelenez\u2013Kurtz [20], Kloeden\u2013Lorenz [19], and so on. More interestingly,\ncontrol problems of McKean\u2013Vlasov equation or MF-FSDEs were investigated by Ahmed\u2013Ding [2], Ahmed\n[3], Buckdahn\u2013Djehiche\u2013Li [7], Park\u2013Balasubramaniam\u2013Kang [28], Andersson\u2013Djehiche [4], Meyer-Brandis\u2013\nOksendal\u2013Zhou [25], and so on. This paper can be regarded as an addition to the study of optimal control\nfor MF-FSDEs.\nFor the state equation (1.1), we introduce the following:\nU[0, T ] =\n\n\u2206\nL2lF (0, T ; lRm ) =\n\nZ\nn\nm\nu : [0, T ] \u00d7 \u03a9 \u2192 lR\nlE\n\n0\n\nT\n\no\n|u(s)|2 ds < \u221e .\n\nAny u(*) \u2208 U[0, T ] is called an admissible control. Under mild conditions, one can show that (see below) for\nany (x, u(*)) \u2208 lRn \u00d7 U[0, T ], (1.1) admits a unique solution X(*) = X(* ; x, u(*)). We introduce the following\ncost functional:\nnZ T h\nb\nJ(x; u(*)) = lE\nh Q(s)X(s), X(s) i + h Q(s)lE[X(s)],\nlE[X(s)] i + h R(s)u(s), u(s) i\n(1.2)\n0\ni\no\nb\nb\n+ h R(s)lE[u(s)],\nlE[u(s)] i ds + h GX(T ), X(T ) i + h GlE[X(T\n)], lE[X(T )] i ,\nb\nb being suitable deterministic symmetric matrix-valued functions, and G, G\nb being\nwith Q(*), R(*), Q(*),\nR(*)\nsymmetric matrices. Our optimal control problem can be stated as follows:\nProblem (MF). For given x \u2208 lRn , find a \u016b(*) \u2208 U[0, T ] such that\nJ(x; \u016b(*)) =\n\ninf\n\nu(*)\u2208U [0,T ]\n\nJ(x; u(*)).\n\n(1.3)\n\nAny \u016b(*) \u2208 U[0, T ] satisfying the above is called an optimal control and the corresponding state process\nX\u0304(*) \u2261 X(* ; x, \u016b(*)) is called an optimal state process; the pair (X\u0304(*), \u016b(*)) is called an optimal pair.\nFrom the above-listed literature, one has some motivations for the inclusion of lE[X(*)] and lE[u(*)] in the\nstate equation. We now briefly explain a motivation of including lE[X(*)] and lE[u(*)] in the cost functional.\nWe recall that for a classical LQ problem with the state equation\n\uf8f1\nh\ni\nh\ni\n\uf8f2dX(s) = A(s)X(s) + B(s)u(s) ds + A (s)X(s) + B (s)u(s) dW (s), s \u2208 [0, T ],\n1\n1\n(1.4)\n\uf8f3\nX(0) = x,\none has the following cost functional\nnZ T h\ni\no\nJ0 (x; u(*)) = lE\nh Q0 (s)X(s), X(s) i + h R0 (s)u(s), u(s) i ds + h G0 X(T ), X(T ) i .\n\n(1.5)\n\n0\n\nFor such a corresponding optimal control problem, it is natural to hope that the optimal state process and/or\ncontrol process are not too sensitive with respect to the possible variation of the random events. One way\nto achieve this is try to make the variations var [X(*)] and var [u(*)] small. Therefore, one could include\nthe var [X(*)] and var [u(*)] in the cost functional. Consequently, one might want to replace (1.6) by the\nfollowing:\nnZ T h\ni\nJb0 (x; u(*)) = lE\nh Q0 (s)X(s), X(s) i +q(s)var [X(s)] + h R0 (s)u(s), u(s) i +\u03c1(s)var [u(s)] ds\n(1.6)\n0\no\n+ h G0 X(T ), X(T ) i +gvar [X(T )] ,\n2\n\n\ffor some (positive) weighting factors q(*), \u03c1(*), and g. Since\n\u0010\n\u00112\nvar [X(s)] = lE|X(s)|2 \u2212 lE[X(s)] ,\nand similar things hold for var [X(T )] and var [u(s)], we see that\nJb0 (x; u(*)) = lE\n\nnZ\n\nT\n0\n\nh\n\n\u0010\n\u00112\nh[Q0 (s) + q(s)I]X(s), X(s) i \u2212q(s) lE[X(s)] + h[R0 (s) + \u03c1(s)I]u(s), u(s) i\n\u0010\n\u00112 i\n\u0010\n\u00112 o\n\u2212\u03c1(s) lE[u(s)]\nds + h[G0 + gI]X(T ), X(T ) i \u2212g lE[X(T )]\n.\n\nClearly, the above is a special case of (1.2) with\nQ(*) = Q0 (*) + q(*)I, R(*) = R0 (*) + \u03c1(*)I,\nb = \u2212q(*)I, R(*)\nb = \u2212\u03c1(*)I, G\nb = \u2212gI.\nQ(*)\n\nG = G0 + gI,\n\nb\nb\nb are not positive semi-definite. Because of this, we do not\nNote that in the above case, Q(*),\nR(*),\nand G\nb\nb\nb\nassume the positive semi-definiteness for Q(*),\nR(*),\nand G.\n\nThe purpose of this paper is to study Problem (MF). We will begin with the well-posedness of the state\nequation and the solvability of Problem (MF) in Section 2. Then, in Section 3, we will establish necessary\nand sufficient conditions for optimal pairs. Naturally, a linear backward stochastic differential equation of\nmean-filed type (MF-BSDE, for short) will be derived. Consequently, the optimality system turns out to be a\ncoupled mean-field type forward-backward stochastic differential equation (MF-FBSDE, for short). Inspired\nby the invariant imbedding [5], and the Four-Step Scheme [22], we derive two Riccati differential equations\nin Section 4, so that the optimal control is represented as a state feedback form. Well-posedness of these\nRiccati equations will be established. We also present a direct verification of optimality for the state feedback\ncontrol by means of completing squares. In Section 5, we will look at a modified LQ problem which is one\nmotivation of the current paper.\n\n2\n\nPreliminaries.\n\nIn this section, we make some preliminaries. First of all, for any Euclidean space H = lRn , lRn\u00d7m , S n (with\nS n being the set of all (n \u00d7 n) symmetric matrices), we let Lp (0, t; H) be the set of all H-valued functions\nthat are Lp -integrable, p \u2208 [1, \u221e]. Next, we introduce the following spaces:\nn\no\nXt \u2261 L2Ft (\u03a9; lRn ) = \u03be : \u03a9 \u2192 lRn \u03be is Ft -measurable, lE|\u03be|2 < \u221e ,\nn\no\nUt \u2261 L2Ft (\u03a9; lRm ) = \u03b7 : \u03a9 \u2192 lRm \u03b7 is Ft -measurable, lE|\u03b7|2 < \u221e ,\nZ t\no\nn\n|X(s)|2 ds < \u221e ,\nL2lF (0, t; lRn ) = X : [0, t] \u00d7 \u03a9 \u2192 lRn X(*) is lF-adapted, lE\n0\nn\nX [0, t] \u2261 ClF ([0, t]; lRn ) = X : [0, t] \u2192 Xt X(*) is lF-adapted,\no\ns 7\u2192 X(s) is continuous, sup lE|X(s)|2 < \u221e ,\ns\u2208[0,t]\nn\nn\nn\n2\nb\nX [0, t] \u2261 LlF (\u03a9; C([0, t]; lR )) = X : [0, t] \u00d7 \u03a9 \u2192 lR X(*) is lF-adapted,\ni\no\nh\nX(*) has continuous paths, lE sup |X(s)|2 < \u221e .\ns\u2208[0,t]\n\n3\n\n\fNote that in the definition of X [0, t], the continuity of s 7\u2192 X(s) means that as a map from [0, t] to Xt , it\nis continuous. Whereas, in the definition of Xb[0, t], X(*) has continuous paths means that for almost sure\n\u03c9 \u2208 \u03a9, s 7\u2192 X(s, \u03c9) is continuous. It is known that\nXb[0, t] \u2286 X [0, t] \u2286 L2lF (0, t; lRn ),\n\nXb[0, t] 6= X [0, t] 6= L2lF (0, t; lRn ).\n\nWe now introduce the following assumptions for the coefficients of the state equation.\n(H1) The following hold:\n\n\uf8f1\n\uf8f2 A(*), A(*),\nb A1 (*), A\nb1 (*) \u2208 L\u221e (0, T ; lRn\u00d7n ),\n\uf8f3 B(*), B(*),\nb\nb (*) \u2208 L\u221e (0, T ; lRn\u00d7m ).\nB (*), B\n1\n\n(2.1)\n\n1\n\n(H1)\u2032 The following hold:\n\uf8f1\n\uf8f2 A(*), A(*)\nb \u2208 L2 (0, T ; lRn\u00d7n ),\n\uf8f3 B(*), B(*)\nb \u2208 L2 (0, T ; lRn\u00d7m ),\n\nb1 (*) \u2208 L\u221e (0, T ; lRn\u00d7n ),\nA1 (*), A\nb1 (*) \u2208 L\u221e (0, T ; lRn\u00d7m ).\nB1 (*), B\n\n(H1)\u2032\u2032 The following hold:\n\uf8f1\n\uf8f2 A(*), A(*)\nb \u2208 L1 (0, T ; lRn\u00d7n ),\n\uf8f3 B(*), B(*)\nb \u2208 L2 (0, T ; lRn\u00d7m ),\n\nb1 (*) \u2208 L2 (0, T ; lRn\u00d7n ),\nA1 (*), A\nb1 (*) \u2208 L\u221e (0, T ; lRn\u00d7m ).\nB1 (*), B\n\n(2.2)\n\n(2.3)\n\nClearly, (H1) implies (H1)\u2032 which further implies (H1)\u2032\u2032 . Namely, (H1)\u2032\u2032 is the weakest assumption among\nthe above three. Whereas, (H1) is the most common assumption. For the weighting matrices in the cost\nfunctional, we introduce the following assumption.\n(H2) The following hold:\nb \u2208 L\u221e (0, T ; S n ),\nQ(*), Q(*)\n\nb \u2208 L\u221e (0, T ; S m ),\nR(*), R(*)\n\n(H2)\u2032 In addition to (H2), the following holds:\n\uf8f1\n\uf8f2 Q(s), Q(s) + Q(s)\nb\nb\n\u2265 0,\nR(s), R(s) + R(s)\n\u2265 0,\n\uf8f3 G, G + G\nb \u2265 0.\n\nb \u2208 Sn.\nG, G\n\n(H2)\u2032\u2032 In addition to (H2), the following holds: For some \u03b4 > 0,\n\uf8f1\n\uf8f2 Q(s), Q(s) + Q(s)\nb\nb\n\u2265 0,\nR(s), R(s) + R(s)\n\u2265 \u03b4I,\n\uf8f3 G, G + G\nb \u2265 0.\n\ns \u2208 [0, T ],\n\ns \u2208 [0, T ],\n\n(2.4)\n\n(2.5)\n\n(2.6)\n\nb\nb\nb are not necessarily positive semi-definite. Therefore, in (H2),\nFrom (1.4), we see that Q(*),\nR(*),\nand G\nwe do not mention positive-definiteness of the involved matrices and matrix-valued functions.\nNow, for any X(*) \u2208 L2lF (0, T ; lRn ) and any u(*) \u2208 U[0, T ], we define\n\uf8f1\nZ t\u0010\n\u0011\n\uf8f4\n\uf8f4\nb\n\uf8f4\n[AX(*)](t)\n=\nA(s)X(s)\n+\nA(s)lE[X(s)]\nds\n\uf8f4\n\uf8f4\n\uf8f4\n0\n\uf8f4\n\uf8f4\nZ\n\uf8f4\nt\u0010\n\u0011\n\uf8f4\n\uf8f4\n\uf8f4\nb1 (s)lE[X(s)] dW (s),\nA1 (s)X(s) + A\n+\n\uf8f2\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3\n\n0\nZ t\u0010\n\u0011\nb\nB(s)u(s) + B(s)lE[u(s)]\nds\n[Bu(*)](t) =\n0\nZ t\u0010\n\u0011\nb1 (s)lE[u(s)] dW (s),\nB1 (s)u(s) + B\n+\n0\n\n4\n\nt \u2208 [0, T ],\n(2.7)\n\nt \u2208 [0, T ].\n\n\fThe following result is concerned with operators A and B.\nLemma 2.1. The following estimates hold as long as the involved norms on the right hand sides are\nmeaningful: For any t \u2208 [0, T ],\nkAX(*)k2b\n\nX [0,t]\n\nh\n2\nb\n\u2264 C kA(*)k2L2 (0,t;lRn\u00d7n ) + kA(*)k\nL2 (0,t;lRn\u00d7n )\n\ni\n2\nb1 (*)k2 \u221e\n+kA1 (*)k2L\u221e (0,t;lRn\u00d7n ) + kA\nn\u00d7n\nL (0,t;lR\n) kX(*)kL2 (0,t;lRn ) ,\n\n(2.8)\n\nlF\n\nh\n\n2\nb\n\u2264 C kA(*)k2L1 (0,t;lRn\u00d7n ) + kA(*)k\nL1 (0,t;lRn\u00d7n )\n\nkAX(*)k2b\n\nX [0,t]\n\nand\nkBu(*)k2b\n\nX [0,t]\n\ni\n2\nb1 (*)k2 2\n+kA1 (*)k2L2 (0,t;lRn\u00d7n ) + kA\nL (0,t;lRn\u00d7n ) kX(*)kX [0,t],\n\n(2.9)\n\ni\n2\nb1 (*)k2 \u221e\n+kB1 (*)k2L\u221e (0,t;lRn\u00d7n ) + kB\nL (0,t;lRn\u00d7n ) ku(*)kU [0,t] .\n\n(2.10)\n\nh\n2\nb\n\u2264 C kB(*)k2L2 (0,t;lRn\u00d7n ) + kB(*)k\nL2 (0,t;lRn\u00d7n )\n\nHereafter, C > 0 represents a generic constant which can be different from line to line.\nProof. For any t \u2208 (0, T ], and any X(*) \u2208 L2lF (0, t; lRn ),\nlE\n\n\u0010\n\nn \u0010Z t\n\u00112 \u0010 Z t\n\u00112\nb\nsup |[AX(*)](s)| \u2264 C lE\n|A(s)||X(s)|ds +\n|A(s)||lE[X(s)]|ds\n\u0011\n\ns\u2208[0,t]\n\nZ\n\nZ\n\nt\n\n0\n\n0\n\no\n\nt\n\nb1 (s)|2 |lE[X(s)]|2 ds\n|A1 (s)|2 |X(s)|2 ds +\n|A\n0\nn h\u0010 Z t\n\u0011\u0010 Z t\n\u0011i \u0010 Z t\n\u0011\u0010 Z t\n\u0011\nb 2 ds\n\u2264 C lE\n|A(s)|2 ds\n|X(s)|2 ds +\n|A(s)|\n|lE[X(s)]|2 ds\n0\n0\n0\n0\n\u0010\n\u00112 Z t\n\u0011Z t\n\u0010\no\nb1 (s)|2\n+ sup |A1 (s)|\nlE|X(s)|2 ds + sup |A\nlE|X(s)|2 ds\n+lE\n\n0\n\ns\u2208[0,t]\nt\n\n\u2264C\n\nn\u0010 Z\n\n0\n\n\u0011\n\n|A(s)|2 ds +\n\n0\n\n\u0010Z\n\n0\n\ns\u2208[0,t]\n\nt\n\n0\n\n\u0011\n\nb 2 ds + sup |A1 (s)|2 + sup |A\nb1 (s)|2\n|A(s)|\ns\u2208[0,t]\n\ns\u2208[0,t]\n\noZ\n\nt\n\nlE|X(s)|2 ds.\n0\n\nThus, estimate (2.8) holds. Next, for any X(*) \u2208 X [0, t], making use of Burkholder\u2013Davis\u2013Gundy's inequality\n([34]), we have\nn \u0010Z t\n\u0011\n\u0010\n\u00112 \u0010 Z t\n\u00112\nb\nlE sup |[AX(*)](s)|2 \u2264 C lE\n|A(s)||X(s)|ds +\n|A(s)||lE[X(s)]|ds\ns\u2208[0,t]\n\nZ\n\n0\n\nZ\n\n0\n\no\nb1 (s)|2 |lE[X(s)]|2 ds\n+lE\n|A1 (s)|2 |X(s)|2 ds +\n|A\n0\n0\nn\u0010 Z t\n\u0011\u0010 Z t\n\u0011 \u0010Z t\n\u0011\n\u00112 \u0010\nb\n\u2264C\n|A(s)|ds\n|A(s)|lE|X(s)|2 ds +\n|A(s)|ds\nsup |lE[X(s)]|2\n0\n\n0\n\nZ\n\nt\n\nt\n\n0\n\nZ\n\ns\u2208[0,t]\n\no\nb1 (s)|2 lE|X(s)|2 ds\n|A1 (s)|2 lE|X(s)|2 ds +\n|A\n0\n0\nZ t\nh\u0010 Z t\n\u00112 \u0010 Z t\n\u00112 Z t\n\u0011\ni\u0010\nb\nb1 (s)|2 ds\n\u2264C\n|A(s)|ds +\n|A(s)|ds\n+\n|A1 (s)|2 ds +\n|A\nsup lE|X(s)|2 .\n+\n\n0\n\nt\n\n0\n\n0\n\nt\n\n0\n\nHence, (2.9) follows.\nSimilar to the proof of (2.8), we can prove (2.10).\nThe above lemma leads to the following corollary.\n5\n\ns\u2208[0,t]\n\n\fCorollary 2.2. If (H1)\u2032\u2032 holds, then A : X [0, T ] \u2192 Xb[0, T ] and B : U[0, T ] \u2192 Xb[0, T ] are bounded.\nFurther, if (H1)\u2032 holds, then A : L2lF (0, T ; lRn ) \u2192 Xb[0, T ] is also bounded. In particular, all the above hold if\n(H1) holds.\nNext, we define\n\uf8f1\n\uf8f4\n\uf8f4\nIT X(*) = X(T ),\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4 AT X(*) = IT AX(*) \u2261 [AX(*)](T )\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\nZ T\u0010\nZ T\u0010\n\uf8f4\n\u0011\n\u0011\n\uf8f2\nb1 (s)lE[X(s)] dW (s),\nb\nA1 (s)X(s) + A\nA(s)X(s) + A(s)lE[X(s)]\nds +\n=\n0\n0\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\nBT u(*) = IT Bu(*) \u2261 [Bu(*)](T )\n\uf8f4\n\uf8f4\n\uf8f4\nZ T\u0010\nZ T\u0010\n\uf8f4\n\u0011\n\u0011\n\uf8f4\n\uf8f4\n\uf8f4\nb1 (s)lE[u(s)] dW (s).\nb\nB1 (s)u(s) + B\nB(s)u(s) + B(s)lE[u(s)] ds +\n=\n\uf8f3\n\n(2.11)\n\n0\n\n0\n\nIt is easy to see that\n\nIT : X [0, T ] \u2192 XT\nis bounded. According to Lemma 2.1, we have the following result.\nCorollary 2.3. If (H1)\u2032\u2032 holds, then AT : X [0, T ] \u2192 XT and BT : U[0, T ] \u2192 XT are bounded. Further,\nif (H1)\u2032 holds, then AT : L2lF (0, T ; lRn ) \u2192 XT is also bounded. In particular, all the above hold if (H1) holds.\nRecall that if \u03be \u2208 XT , then there exists a unique \u03b6(*) \u2208 L2lF (0, T ; lRn ) such that\nZ T\n\u03be = lE\u03be +\n\u03b6(s)dW (s).\n0\n\nWe denote\n\u03b6(s) = Ds \u03be,\n\ns \u2208 [0, T ],\n\nand call it the Malliavin derivative of \u03be ([27]). Next, we have the following results which give representation\nof the adjoint operators of A, B, AT , and BT .\nProposition 2.4. The following hold:\n\uf8f1\nZ T\u0010\n\u0011\n\uf8f4\n\uf8f4\nT\n\u2217\n\uf8f4\nb T lE[Y (t)] + A1 (s)T Ds Y (t) + A\nb1 (s)T lE[Ds Y (t)] dt,\n\uf8f4\nA(s)\nY\n(t)\n+\nA(s)\n(A\nY\n)(s)\n=\n\uf8f4\n\uf8f4\n\uf8f4\ns\n\uf8f4\nZ T\u0010\n\uf8f4\n\u0011\n\uf8f2\nb T lE[Y (t)] + B1 (s)T Ds Y (t) + B\nb1 (s)T lE[Ds Y (t)] dt,\nB(s)T Y (t) + B(s)\n(B \u2217 Y )(s) =\n\uf8f4\ns\n\uf8f4\n\uf8f4\n\uf8f4\n\u2217\n\uf8f4\nb T lE\u03be + A1 (s)T Ds \u03be + A\nb1 (s)T lE[Ds \u03be],\n(AT \u03be)(s) = A(s)T \u03be + A(s)\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3\nb T lE\u03be + B1 (s)T Ds \u03be + B\nb1 (s)T lE[Ds \u03be].\n(BT\u2217 \u03be)(s) = B(s)T \u03be + B(s)\n\n(2.12)\n\nProof. For any Y (*) \u2208 L2lF (0, T ; lRn ),\nZ\n\n\u2217\n\nT\n\nh X, A Y i = h AX, Y i = lE\nh[AX](t), Y (t) i dt\n0\nZ t\u0010\nZ T Z t\u0010\n\u0011\n\u0011\nb1 (s)lE[X(s)] dW (s), Y (t) i dt\nb\nA1 (s)X(s)+ A\nds+\n= lE h A(s)X(s)+ A(s)lE[X(s)]\n0\n0\n0\nZ TZ T\nZ TZ T\nb\nb1 (s)lE[X(s)], Ds Y (t) i dtds\n= lE\nh A(s)X(s)+ A(s)lE[X(s)],\nY (t) i dtds+lE\nh A1 (s)X(s)+ A\n0 s\n0 s\nZ T\u0010\nZ T\n\u0011\nb T lE[Y (t)]+A1 (s)T Ds Y (t)+ A\nb1 (s)T lE[Ds Y (t)] dt i ds.\nA(s)T Y (t)+A(s)\n= lE h X(s),\n0\n\ns\n\n6\n\n\fThus, the representation of A\u2217 follows. Similarly, we can obtain the representation of B \u2217 .\nNext, for any \u03be \u2208 XT ,\nh X, A\u2217T \u03be i = h AT X, \u03be i\nZ T\u0010\nZ T\u0010\n\u0011\n\u0011\nb\nb1 (s)lE[X(s)] dW (s), \u03be i\n= lE h\nA(s)X(s) + A(s)lE[X(s)]\nds, \u03be i +lE h\nA1 (s)X(s) + A\n0\n0\nZ T\nT\nT\nT\nb\nb1 (s)T lE[Ds \u03be] i ds.\nh X(s), A(s) \u03be + A(s)\nlE\u03be + A1 (s) Ds \u03be + A\n= lE\n0\n\nTherefore, the representation of A\u2217T follows. Similarly, we can obtain the representation of BT\u2217 .\nFor completeness, let us also prove the following result.\nProposition 2.5. It holds\nIT\u2217 \u03be = \u03be\u03b4{T } ,\n\n\u2200\u03be \u2208 XT ,\n\n(2.13)\n\n\u2200x \u2208 lRn .\n\n(2.14)\n\nwhere \u03b4{T } is the Dirac measure at T , and\nlE\u2217 x = xT lE,\n\nProof. First of all, since IT : X [0, T ] \u2192 XT is bounded, we have IT\u2217 : XT\u2217 \u2261 XT \u2192 X [0, T ]\u2217 . For any\n\u03be \u2208 XT , and any Y (*) \u2208 X [0, T ], we have\nh IT\u2217 \u03be, Y (*) i = h \u03be, IT Y (*) i = lE h \u03be, Y (T ) i = lE\n\nZ\n\nT\n\nh Y (s), \u03be i \u03b4T (ds).\n\n0\n\nNext, since lE : XT \u2192 lR is bounded, we have lE\u2217 : lR \u2192 XT . For any \u03be \u2208 XT and x \u2208 lR,\nh lE\u2217 x, \u03be i = h x, lE\u03be i = lE h x, \u03be i = xT lE\u03be.\nThis completes the proof.\nWith operators A and B, we can write the state equation (1.1) as follows:\nX = x + AX + Bu.\n\n(2.15)\n\nWe now have the following result for the well-posedness of the state equaton.\nProposition 2.6. Let (H1) hold. Then for any (x, u(*)) \u2208 lRn \u00d7 U[0, T ], state equation (1.1) admits a\nunique solution X(*) \u2261 X(* ; x, u(*)) \u2208 Xb[0, T ].\nProof. For any X(*) \u2208 X [0, T ] and u(*) \u2208 U[0, T ], by (2.9), we have\ni\ni\nh\nh\nlE sup |(AX)(s)|2 \u2264 \u03b1(t)lE sup |X(s)|2 ,\ns\u2208[0,t]\n\ns\u2208[0,t]\n\nwith \u03b1(t) \u2208 (0, 1) when t > 0 is small. Hence, by contraction mapping theorem, we obtain well-posedness\nof the state equation on [0, t]. Then by a usual continuation argument, we obtain the well-posedness of the\nstate equation on [0, T ].\nFrom (2.9), we see that if for some \u03b5 > 0,\n\uf8f1\n\uf8f2 A(*), A(*)\nb \u2208 L1+\u03b5 (0, T ; lRn\u00d7n ),\n\uf8f3 B(*), B(*)\nb \u2208 L2 (0, T ; lRn\u00d7m ),\n\n7\n\nb1 (*) \u2208 L2+\u03b5 (0, T ; lRn\u00d7n ),\nA1 (*), A\nb1 (*) \u2208 L\u221e (0, T ; lRn\u00d7m ),\nB1 (*), B\n\n(2.16)\n\n\fthen the result of Proposition 2.6 holds. It is ready to see that (2.16) is stronger than (H1)\u2032\u2032 and weaker\nthan (H1)\u2032 . In what follows, for convenient, we will assume (H1). However, we keep in mind that (H1) can\nactually be relaxed.\nProposition 2.6 tells us that under, say, (H1), the operator I \u2212 A : Xb[0, T ] \u2192 Xb[0, T ] is invertible and\nthe solution X to the state equation corresponding to (x, u(*)) \u2208 lRn \u00d7 U[0, T ] is given by\nX = (I \u2212 A)\u22121 x + (I \u2212 A)\u22121 Bu.\nNote that\n\nh\ni\nIT (I \u2212 A)\u22121 x + (I \u2212 A)\u22121 Bu = IT X = X(T ) = x + AT X + BT u\nh\ni\nh\ni\n= I + AT (I \u2212 A)\u22121 x + AT (I \u2212 A)\u22121 B + BT u.\n\nTherefore,\nIT (I \u2212 A)\u22121 = I + AT (I \u2212 A)\u22121 ,\nNow, let\n\nIT (I \u2212 A)\u22121 B = AT (I \u2212 A)\u22121 B + BT .\n\n\uf8f1\n\uf8f4\n[QX(*)](s) = Q(s)X(s), s \u2208 [0, T ],\n\u2200X(*) \u2208 L2lF (0, T ; lRn ),\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\nb\nb\n\uf8f4\n\u2200\u03c6(*) \u2208 L2 (0, T ; lRn ),\n\uf8f4\n\uf8f2 [Q\u03c6(*)](s) = Q(s)\u03c6(s), s \u2208 [0, T ],\n[Ru(*)](s) = R(s)u(s), s \u2208 [0, T ],\n\u2200u(*) \u2208 U[0, T ],\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\nb\nb\n\uf8f4\n[R\u03c8(*)](s)\n= R(s)\u03c8(s),\ns \u2208 [0, T ],\n\u2200\u03c8(*) \u2208 L2 (0, T ; lRm ),\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3\nb = Gx,\nb\nG\u03be = G\u03be,\n\u2200\u03be \u2208 XT ,\nGx\n\u2200x \u2208 lRn .\n\nThen the cost functional can be written as\n\nb\nb\nb\nJ(x; u(*)) = hQX, Xi+hQlEX,\nlEXi+hRu, ui+hRlEu,\nlEui+hGX(T ), X(T )i+hGlEX(T\n), lEX(T )i\n\n= h Q[(I \u2212 A)\u22121 x + (I \u2212 A)\u22121 Bu], (I \u2212 A)\u22121 x + (I \u2212 A)\u22121 Bu i\nb\nb\n+ h QlE[(I\n\u2212 A)\u22121 x + (I \u2212 A)\u22121 Bu], lE[(I \u2212 A)\u22121 x + (I \u2212 A)\u22121 Bu] i + h Ru, u i + h RlEu,\nlEu i\n\n+h G{[I +AT (I \u2212A)\u22121 ]x+[AT (I \u2212A)\u22121 B+BT ]u}, [I +AT (I \u2212A)\u22121 ]x+[AT (I \u2212A)\u22121 B+BT ]u i\nb\n+hGlE{[I\n+AT (I \u2212A)\u22121 ]x+[AT (I \u2212A)\u22121 B+BT ]u}, lE{[I +AT (I \u2212A)\u22121 ]x+[AT (I \u2212A)\u22121 B+BT ]u}i\n\n(2.17)\n\n\u2261 h \u03982 u, u i +2 h \u03981 x, u i + h \u03980 x, x i,\nwhere\n\nb + B \u2217 (I \u2212 A\u2217 )\u22121 Q(I \u2212 A)\u22121 B + B \u2217 (I \u2212 A\u2217 )\u22121 lE\u2217 QlE(I\nb\n\u03982 = R + lE\u2217 RlE\n\u2212 A)\u22121 B\n\u22121\nb\n+[B \u2217 (I \u2212A\u2217 )\u22121 A\u2217 +B \u2217 ]G[AT (I \u2212A)\u22121 B+BT ]+[B \u2217(I \u2212A\u2217 )\u22121 A\u2217 +B \u2217 ]lE\u2217 GlE[A\nB+BT ]\nT (I \u2212A)\nT\n\nT\n\nT\n\nT\n\nb + B \u2217 (I \u2212 A\u2217 )\u22121 (Q + lE\u2217 QlE)(I\nb\n= R + lE RlE\n\u2212 A)\u22121 B\n\u22121\nb\n+[B \u2217 (I \u2212 A\u2217 )\u22121 A\u2217 + B \u2217 ](G + lE\u2217 GlE)[A\nB + BT ],\nT (I \u2212 A)\n\u2217\n\nT\n\n\u2217\n\n\u2217 \u22121\n\n\u03981 = B (I \u2212 A )\n\nT\n\n\u22121\n\nQ(I \u2212 A)\n\nb\n\u2212 A)\u22121\n+ B \u2217 (I \u2212 A\u2217 )\u22121 lE\u2217 QlE(I\n\n+[B \u2217 (I \u2212 A\u2217 )\u22121 A\u2217T + BT\u2217 ]G[I + AT (I \u2212 A)\u22121 ]\nb\n+[B \u2217 (I \u2212 A\u2217 )\u22121 A\u2217 + B \u2217 ]lE\u2217 GlE[I\n+ AT (I \u2212 A)\u22121 ]\nT\n\u2217\n\nT\n\nb\nb\n= B (I \u2212 A ) (Q + lE QlE)(I\n\u2212 A)\u22121 + [B \u2217 (I \u2212 A\u2217 )\u22121 A\u2217T + BT\u2217 ](G + lE\u2217 GlE)[I\n+ AT (I \u2212 A)\u22121 ],\nb\n\u03980 = (I \u2212 A\u2217 )\u22121 Q(I \u2212 A)\u22121 + (I \u2212 A\u2217 )\u22121 lE\u2217 QlE(I\n\u2212 A)\u22121\n\u2217\n\n\u2217 \u22121\n\nb\n+ AT (I \u2212 A)\u22121 ]\n+[I + (I \u2212 A\u2217 )\u22121 A\u2217T ]G[I + AT (I \u2212 A)\u22121 ] + [I + (I \u2212 A\u2217 )\u22121 A\u2217T ]lE\u2217 GlE[I\nb\nb\n= (I \u2212 A\u2217 )\u22121 (Q + lE\u2217 QlE)(I\n\u2212 A)\u22121 + [I + (I \u2212 A\u2217 )\u22121 A\u2217T ](G + lE\u2217 GlE)[I\n+ AT (I \u2212 A)\u22121 ].\n8\n\n\fConsequently, for any u(*), v(*) \u2208 U[0, T ], and x \u2208 lRn ,\nJ(x; v(*)) = J(x; u(*) + [v(*) \u2212 u(*)])\n= h \u03982 [u + (v \u2212 u)], u + (v \u2212 u) i +2 h \u03981 x, u + (v \u2212 u) i + h \u03980 x, x i\n\n(2.18)\n\n= h \u03982 u, u i +2 h \u03981 x, u i + h \u03980 x, x i +2 h \u03982 u + \u03981 x, v \u2212 u i + h \u03982 (v \u2212 u), v \u2212 u i\n= J(x; u(*)) + 2 h \u03982 u + \u03981 x, v \u2212 u i + h \u03982 (v \u2212 u), v \u2212 u i .\nWe now present the following result whose proof is standard, making use of the above (see [26] for details).\nProposition 2.7. If u(*) 7\u2192 J(x; u(*)) admits a minimum, then\n\u03982 \u2265 0.\n\n(2.19)\n\n\u0010\n\u0011\n\u03981 x \u2208 \u03982 U[0, T ] ,\n\n(2.20)\n\nConversely, if in addition to (2.19), one has\n\nthen u(*) 7\u2192 J(x; u(*)) admits a minimum \u016b(*) \u2208 U[0, T ]. Further, if\n\u03982 \u2265 \u03b4I,\n\n(2.21)\n\nfor some \u03b4 > 0, then for any given x \u2208 lRn , u(*) 7\u2192 J(x; u(*)) admits a unique minimum.\nBy the definition of \u03982 , we see that (2.19) is implied by the following:\n\nand (2.21) is implied by\n\nb \u2265 0,\nR + lE\u2217 RlE\n\nb \u2265 0,\nQ + lE\u2217 QlE\n\nb \u2265 0,\nG + lE\u2217 GlE\n\n(2.22)\n\nb \u2265 \u03b4I,\nR + lE\u2217 RlE\n\nb \u2265 0,\nQ + lE\u2217 QlE\n\nb \u2265 0,\nG + lE\u2217 GlE\n\n(2.23)\n\nfor some \u03b4 > 0. Now, we would like to present more direct conditions under which (2.19) and (2.21) hold,\nrespectively.\nProposition 2.8. Let (H1) and (H2)\u2032 hold. Then (2.19) holds. Further, if (H2)\u2032\u2032 holds for some \u03b4 > 0,\nthen (2.21) holds and Problem (MF) admits a unique solution.\nProof. For any \u03be \u2208 XT ,\nh\ni\nh\ni\nb\nb\nlE h G\u03be, \u03be i + h GlE[\u03be],\nlE[\u03be] i = lE h G(\u03be \u2212 lE[\u03be]), \u03be \u2212 lE[\u03be] i + h(G + G)lE[\u03be],\nlE[\u03be] i \u2265 0,\nh\ni\nh\ni\nb\nb\nlE h Q(s)\u03be, \u03be i + h Q(s)lE[\u03be],\nlE[\u03be] i = lE h Q(s)(\u03be \u2212 lE[\u03be]), \u03be \u2212 lE[\u03be] i + h[Q(s) + Q(s)]lE[\u03be],\nlE[\u03be] i \u2265 0,\n\nand for any \u03b7 \u2208 UT ,\nh\ni\nh\ni\nb\nb\nlE h R(s)\u03b7, \u03b7 i + h R(s)lE[\u03b7],\nlE[\u03b7] i = lE h R(s)(\u03b7 \u2212 lE[\u03b7]), \u03b7 \u2212 lE[\u03b7] i + h[R(s) + R(s)]lE[\u03b7],\nlE[\u03b7] i \u2265 0.\nThus, (2.19) holds. Next, if (H2)\u2032\u2032 holds, then\n\nh\ni\nh\ni\nb\nb\nlE h R(s)\u03b7, \u03b7 i + h R(s)lE[\u03b7],\nlE[\u03b7] i = lE h R(s)(\u03b7 \u2212 lE[\u03b7]), \u03b7 \u2212 lE[\u03b7] i + h[R(s) + R(s)]lE[\u03b7],\nlE[\u03b7] i\ni\nh\n\u2265 \u03b4lE |\u03b7 \u2212 lE[\u03b7]|2 + |lE[\u03b7]|2 = \u03b4lE|\u03b7|2 .\nHence, (2.21) holds.\n9\n\n\f3\n\nOptimality Conditions.\n\nIn this section, we first derive a necessary condition for optimal pair of Problem (MF).\nTheorem 3.1. Let (H1) and (H2) hold. Let (X\u0304(*), \u016b(*)) be an optimal pair of Problem (MF). Then\nthe following mean-field backward stochastic differential equation (MF-BSDE, for short) admits a unique\nadapted solution (Y (*), Z(*)):\n\uf8f1\n\u0010\n\uf8f4\n\uf8f4\nb T lE[Y (s)] + A\nb1 (s)T lE[Z(s)]\ndY\n(s)\n=\n\u2212\nA(s)T Y (s) + A1 (s)T Z(s) + A(s)\n\uf8f4\n\uf8f4\n\uf8f2\n\u0011\n(3.1)\nb\n+Q(s)X\u0304(s) + Q(s)lE[\nX\u0304(s)] ds + Z(s)dW (s),\ns \u2208 [0, T ],\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3 Y (T ) = GX\u0304(T ) + GlE[\nb X\u0304(T )],\n\nsuch that\n\nb\nb T lE[Y (s)] + B\nb1 (s)T lE[Z(s)] = 0,\nR(s)\u016b(s) + B(s)T Y (s) + B1 (s)T Z(s) + R(s)lE[\u016b(s)]\n+ B(s)\ns \u2208 [0, T ],\n\n(3.2)\n\na.s.\n\nProof. Let (X\u0304(*), \u016b(*)) be an optimal pair of Problem (MF). For any u(*) \u2208 U[0, T ], let X(*) be the state\nprocess corresponding to the zero initial condition and the control u(*). Then we have\n0 = lE\n\nnZ\n\n0\n\n= lE\n\nnZ\n\n0\n\nT\n\nT\n\nh\n\nb\nh Q(s)X\u0304(s), X(s) i + h Q(s)lE[\nX\u0304(s)], lE[X(s)] i + h R(s)\u016b(s), u(s) i\ni\no\nb\nb X\u0304(T )], lE[X(T )] i\n+ h R(s)lE[\u016b(s)],\nlE[u(s)] i ds + h GX\u0304(T ), X(T ) i + h GlE[\ni\nh\nb\nb\nh Q(s)X\u0304(s) + Q(s)lE[\nX\u0304(s)], X(s) i + h R(s)\u016b(s) + R(s)lE[\u016b(s)],\nu(s) i ds\no\nb X\u0304(T )], X(T ) i ,\n+ h GX\u0304(T ) + GlE[\n\nOn the other hand, by [9], we know that (3.1) admits a unique adapted solution (Y (*), Z(*)). Then\nb X\u0304(T )] i = lE h X(T ), Y (T ) i\nlE h X(T ), GX\u0304(T ) + GlE[\nZ\nn T\u0010\nb\nb\n= lE\nh A(s)X(s) + B(s)u(s) + A(s)lE[X(s)]\n+ B(s)lE[u(s)],\nY (s) i\n0\n\nb T lE[Y (s)] + A\nb1 (s)T lE[Z(s)] + Q(s)X\u0304(s) + Q(s)lE[\nb\n\u2212 h X(s), A(s)T Y (s) + A1 (s)T Z(s) + A(s)\nX\u0304(s)] i\n\u0011 o\nb1 (s)lE[X(s)] + B\nb1 (s)lE[u(s)], Z(s) i ds\n+ h A1 (s)X(s) + B1 (s)u(s) + A\nZ\nn T\u0010\nb\n= lE\n\u2212 h X(s), Q(s)X\u0304(s) + Q(s)lE[\nX\u0304(s)] i\n0\n\u0011 o\nb T lE[Y (s)] + B\nb1 (s)T lE[Z(s)] i ds .\n+ h u(s), B(s)T Y (s) + B1 (s)T Z(s) + B(s)\n\nHence,\n\nZ \u0010\nT\n\u0011\nb T lE[Y (s)]+ B\nb1 (s)T lE[Z(s)]+R(s)\u016b(s)+ R(s)lE[\u016b(s)]\nb\ni ds = 0,\nlE h u(s), B(s)T Y (s)+B1 (s)T Z(s)+ B(s)\n0\n\nwhich leads to\n\nb\nb T lE[Y (s)] + B\nb1 (s)T lE[Z(s)] = 0.\nR(s)\u016b(s) + B(s)T Y (s) + B1 (s)T Z(s) + R(s)lE[\u016b(s)]\n+ B(s)\n\nThis completes the proof.\n\n10\n\n\fFrom the above, we end up with the following optimality system: (with s suppressed)\n\uf8f1\n\u0011\n\u0010\n\u0011\n\u0010\n\uf8f4\nb1 lE[X\u0304] + B\nb1 lE[\u016b] dW (s),\nb X\u0304] + BlE[\u016b]\nb\nX\u0304\n+\nB\n\u016b\n+\nA\nd\nX\u0304\n=\nA\nX\u0304\n+\nB\n\u016b\n+\nAlE[\nds\n+\nA\n\uf8f4\n1\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\u0010\n\u0011\n\uf8f4\n\uf8f2\nbT lE[Y ] + A\nbT1 lE[Z] + QlE[\nb X\u0304] ds + ZdW (s),\ndY = \u2212 AT Y + AT1 Z + QX\u0304 + A\n\uf8f4\n\uf8f4\nb X\u0304(T )],\n\uf8f4\nX(0) = x,\nY (T ) = GX\u0304(T ) + GlE[\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3\nb\nb T lE[Y ] + B\nb1T lE[Z] = 0.\nR\u016b + RlE[\u016b]\n+ B T Y + B1T Z + B\n\n(3.3)\n\nThis is called a (coupled) forward-backward stochastic differential equations of mean-field type (MF-FBSDE,\nfor short). Note that the coupling comes from the last relation (which is essentially the maximum condition\nin the usual Pontryagin type maximum principle). The 4-tuple (X\u0304(*), \u016b(*), Y (*), Z(*)) of lF-adapted processes\nsatisfying the above is called an adapted solution of (3.3). We now look at the sufficiency of the above result.\nTheorem 3.2. Let (H1), (H2), and (2.19) hold. Suppose (X\u0304(*), \u016b(*), Y (*), Z(*)) is an adapted solution\nto the MF-FBSDE (3.3). Then (X\u0304(*), \u016b(*)) is an optimal pair.\nProof. Let (X\u0304(*), \u016b(*), Y (*), Z(*)) be an adapted solution to the MF-FBSDE. For any u(*) \u2208 U[0, T ], let\nX1 (*) \u2261 X(* ; 0, u(*) \u2212 \u016b(*)).\nThen\nX(s; x, u(*)) = X\u0304(s) + X1 (s),\n\ns \u2208 [0, T ].\n\nHence, (suppressing s)\nJ(x; u(*)) \u2212 J(x; \u016b(*))\nnZ T h\ni\nb X\u0304], lE[X1 ] i + h R\u016b, u \u2212 \u016b i + h RlE[\u016b],\nb\n= 2lE\nh QX\u0304, X1 i + h QlE[\nlE[u \u2212 \u016b] i ds\n0\no\nb X\u0304(T )], lE[X1 (T )] i\n+ h GX\u0304(T ), X1 (T ) i + h GlE[\nnZ T h\ni\nb\nb\n+lE\nh QX1 , X1 i + h QlE[X\n1 ], lE[X1 ] i + h R(u \u2212 \u016b), u \u2212 \u016b i + h RlE[u \u2212 \u016b], lE[u \u2212 \u016b] i ds\n0\no\nb\n+ h GX1 (T ), X1 (T ) i + h GlE[X\n1 (T )], lE[X1 (T )] i\nnZ T h\ni\no\nb X\u0304] i + h u \u2212 \u016b, R\u016b + RlE[\u016b]\nb\nb X\u0304(T )] i\n= 2lE\nh X1 , QX\u0304 + QlE[\ni ds + h X1 (T ), GX\u0304(T ) + GlE[\n0\n\n+J(0; u(*) \u2212 \u016b(*)).\n\nNote that\nb X\u0304(T )] i = lE h X1 (T ), Y (T ) i\nlE h X1 (T ), GX\u0304(T ) + GlE[\nnZ T \u0010\nb\nb\nh AX1 + B(u \u2212 \u016b) + AlE[X\n= lE\n1 ] + BlE[u \u2212 \u016b], Y i\n0\n\nbT lE[Y ] + A\nbT lE[Z] + QX\u0304 + QlE[\nb X\u0304] i\n\u2212 h X1 , AT Y + AT1 Z + A\n1\n\u0011 o\nb1 lE[X1 ] + B\nb1 lE[u \u2212 \u016b], Z i ds\n+ h A1 X1 + B1 (u \u2212 \u016b) + A\nnZ T \u0010\n\u0011 o\nb X\u0304] i + h u \u2212 \u016b, B T Y + B T Z + B\nb T lE[Y ] + B\nb T lE[Z] i ds .\n= lE\n\u2212 h X1 , QX\u0304 + QlE[\n1\n1\n0\n\nThus,\n\nJ(x; u(*)) \u2212 J(x; \u016b(*))\nZ T\nb\nb T lE[Y ] + B\nb T lE[Z] i ds + J(0; u(*) \u2212 \u016b(*))\nh u \u2212 \u016b, R\u016b + RlE[\u016b]\n+ B T Y + B1T Z + B\n= 2lE\n1\n0\n\n= J(0; u(*) \u2212 \u016b(*)) = h \u03982 (u \u2212 \u016b), u \u2212 \u016b i \u2265 0.\n\n11\n\n\fHence, (X\u0304(*), \u016b(*)) is optimal.\nWe have the following corollary.\nCorollary 3.3. Let (H1) and (H2)\u2032\u2032 hold. Then MF-FBSDE (3.3) admits a unique adapted solution\n(X\u0304(*), \u016b(*), Y (*), Z(*)) of which (X\u0304(*), \u016b(*)) is the unique optimal pair of Problem (MF).\nProof. We know from Proposition 2.8 that under (H1) and (H2)\u2032\u2032 , Problem (MF) admits a unique optimal\npair (X\u0304(*), \u016b(*)). Then by Theorem 3.1, for some (Y (*), Z(*)), the 4-tuple (X\u0304(*), \u016b(*), Y (*), Z(*)) is an adapted\ne\ne\nsolution to MF-FBSDE (3.3). Next, if (3.3) has another adapted solution (X(*),\nu\ne(*), Ye (*), Z(*)).\nThen by\ne\nTheorem 3.2, (X(*), u\ne(*)) must be an optimal pair of Problem (MF). Hence, by the uniqueness of the optimal\npair of Problem (MF), we must have\ne = X\u0304(*),\nX(*)\n\nu\ne(*) = \u016b(*).\n\nYe (*) = Y (*),\n\ne = Z(*),\nZ(*)\n\nThen by the uniqueness of MF-BSDE (3.1), one must have\n\nproving the corollary.\n\n4\n\nDecoupling the MF-FBSDE and Riccati Equations\n\nFrom Corollary 3.3, we see that under (H1) and (H2)\u2032\u2032 , to solve Problem (MF), we need only to solve MFFBSDE (3.3). To solve (3.3), we use the idea of decoupling inspired by the Four-Step Scheme ([21, 22]).\nMore precisely, we have the following result. For simplicity, we have suppressed the time variable s below.\nTheorem 4.1. Let (H1) and (H2)\u2032\u2032 hold. Then the unique adapted solution (X\u0304(*), \u016b(*), Y (*), Z(*)) of\nMF-FBSDE (3.3) admits the following representation:\n\uf8f1\n\u0010\nh\ni\n\u0011\n\uf8f4\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304],\n\uf8f4 \u016b = \u2212K \u22121 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304] \u2212 K \u22121 (B + B)\n\uf8f4\n0\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\u0010\n\u0011\n\uf8f4\n\uf8f4\n\uf8f2 Y = P X\u0304 \u2212 lE[X\u0304] + \u03a0lE[X\u0304],\n(4.1)\nh\ni\u0010\n\u0011\n\uf8f4\n\u22121\nT\nT\n\uf8f4\nZ\n=\nP\nA\n\u2212\nP\nB\nK\nP\nA\n)\n(B\nP\n+\nB\nX\u0304\n\u2212\nlE[\nX\u0304]\n\uf8f4\n1\n1\n1\n1\n0\n\uf8f4\n\uf8f4\n\uf8f4\n\u0011i\n\u0010\nh\n\uf8f4\n\uf8f4\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304].\nb1 ) \u2212 P (B1 + B\nb1 )K \u22121 (B + B)\n\uf8f3\n+ P (A1 + A\n1\n\nwhere\n\nK0 = R + B1T P B1 ,\n\nb + (B1 + B\nb1 )T P (B1 + B\nb1 ).\nK1 = R + R\n\nand P (*) and \u03a0(*) are solutions to the following Riccati equations, respectively:\n\uf8f1\n\uf8f2 P \u2032 + P A + AT P + AT P A + Q \u2212 (P B +AT P B )K \u22121 (B T P + B T P A ) = 0,\n1\n1\n1\n1\n1\n1\n0\n\uf8f3 P (T ) = G,\n\n(4.2)\n\ns \u2208 [0, T ],\n\nand\n\uf8f1\nh\ni\n\uf8f4\nb \u2212 (B + B)K\nb \u22121 (B1 + B\nb1 )T P (A1 + A\nb1 )\n\u03a0\u2032 + \u03a0 (A + A)\n\uf8f4\n1\n\uf8f4\n\uf8f4\n\uf8f4\ni\nh\n\uf8f4\n\uf8f4\n\uf8f2\nb \u22121 (B + B)\nb T\u03a0\nb T \u2212 (A1 + A\nb1 )T P (B1 + B\nb1 )K \u22121 (B + B)\nb T \u03a0 \u2212 \u03a0(B + B)K\n+ (A + A)\n1\n1\nh\ni\n\uf8f4\n\uf8f4\nb1 )T P \u2212 P (B1 + B\nb1 )K \u22121 (B1 + B\nb1 )T P (A1 + A\nb1 ) + Q + Q\nb = 0,\n+(A\n+\nA\ns \u2208 [0, T ],\n\uf8f4\n1\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3\u03a0(T ) = G + G.\nb\n12\n\n(4.3)\n\n(4.4)\n\n\fFinally, X\u0304(*) solves the following closed-loop system\n\uf8f1\nnh\ni\u0010\n\u0011\n\uf8f4\n\uf8f4\ndX\u0304 = A \u2212 BK0\u22121 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304]\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\u0010\n\u0011i\no\nh\n\uf8f4\n\uf8f4\n\uf8f4\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304] dt\nb \u2212 (B + B)K\nb \u22121 (B + B)\n+\n(A\n+\nA)\n\uf8f4\n1\n\uf8f4\n\uf8f2\nnh\ni\u0010\n\u0011\n\u22121\nT\nT\n+\nA\n\u2212\nB\nK\nP\nA\n)\n(B\nP\n+\nB\nX\u0304\n\u2212\nlE[\nX\u0304]\n1\n1\n1\n1\n0\n\uf8f4\n\uf8f4\n\uf8f4\n\u0010\n\u0011i\no\nh\n\uf8f4\n\uf8f4\n\uf8f4\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304] dW (t),\nb1 ) \u2212 (B1 + B\nb1 )K \u22121 (B + B)\n+ (A1 + A\n\uf8f4\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3 X\u0304(0) = x.\n\n(4.5)\n\nProof. First of all, under (H1) and (H2)\u2032\u2032 , Riccati equation (4.3) admits a unique solution P (*) which\nis positive definite matrix valued ([34]). With such a function P (*), K1 defined in (4.2) is positive definite.\nNext, we note that\nb1 )K \u22121 (B1 + B\nb1 )T P\nP \u2212 P (B1 + B\n1\nh\ni\u22121\nb1 ) R+ R+(B\nb\nb T\nb\neT P\nb1 )T P \u2261 P \u2212P B(\ne R+\ne B\ne T P B)\ne \u22121 B\n= P \u2212P (B1 + B\n(B1 + B\n1 + B1 ) P (B1 + B1 )\ni\nh\n\u0010\n\u0011\u22121\ni\nh\n1\n1\ne\u2212 12 B\ne\u2212 21 B\neR\ne\u2212 21 I + R\ne T P 12 P 12 B\neR\ne\u2212 21\ne T P 12 P 12 \u2261 P 21 I \u2212\u0393(I +\u0393T \u0393)\u22121 \u0393T P 12\n= P 2 I \u2212P 2 B\nR\n\n1\n1\n1\n1\neR\ne\u22121 B\ne TP 12 )\u22121P 21 \u2261 P 12[I+P 21(B1+ B\nb1 )(R+ R)\nb \u22121(B1+ B\nb1 )TP 21 ]\u22121P 21 \u2265 0.\n= P 2(I +\u0393\u0393T)\u22121P 2 \u2261 P 2 (I +P 2 B\n\nIn the above, we have denoted\n\nand used the fact\n\ne = B1 + B\nb1 ,\nB\n\ne = R + R,\nb\nR\n\n1\neR\ne 21 ,\n\u0393 = P 2B\n\nI \u2212 \u0393(I + \u0393T \u0393)\u22121 \u0393T = (I + \u0393T \u0393)\u22121 .\nHence, Riccati equation (4.4) is equivalent to the following:\n\nSince\n\n\uf8f1\nh\ni\n\u2032\n\uf8f4\nb \u2212 (B + B)K\nb \u22121 (B1 + B\nb1 )T P (A1 + A\nb1 )\n\uf8f4\n\u03a0\n+\n\u03a0\n(A\n+\nA)\n1\n\uf8f4\n\uf8f4\n\uf8f4\ni\nh\n\uf8f4\n\uf8f4\nT\nT\n\uf8f2 + (A+ A)\nb \u22121 (B + B)\nb T\u03a0\nb \u2212(A1 + A\nb1 ) P (B1 + B\nb1 )K \u22121 (B + B)\nb T \u03a0\u2212\u03a0(B + B)K\n1\n1\nh\ni\u22121 1\n\uf8f4\n1\n\uf8f4\n\u22121\nT 12\nT 12\nb\nb\nb\nb1 )+Q + Q\nb = 0,\nb\n\uf8f4\n2 (B + B\nI\n+P\n)(R+\nR)\n(B\n+\nB\n)\nP\nP 2 (A1+ A\n+(A\n+\nA\n)\nP\n\uf8f4\n1\n1\n1\n1\n1\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3\nb\n\u03a0(T ) = G + G.\n\n(4.6)\n\nb \u2265 0,\nG+G\n\nh\ni\u22121 1\nb1 )T P 21 I +P 12 (B1 + B\nb1 )(R+ R)\nb \u22121 (B1 + B\nb1 )T P 21\nb1 )+Q + Q\nb \u2265 0,\n(A1 + A\nP 2 (A1 + A\n\naccording to [34], Riccati equation (4.4) admits a unique solution \u03a0(*) which is also positive definite matrix\nvalued.\nNow, suppose (X\u0304(*), \u016b(*), Y (*), Z(*)) is the adapted solution to (3.3). Assume that\nY (s) = P (s)X(s) + Pb (s)lE[X(s)],\n\ns \u2208 [0, T ],\n\nfor some deterministic and differentiable functions P (*) and Pb (*) such that\nP (T ) = G,\n\n13\n\nb\nPb (T ) = G.\n\n(4.7)\n\n(4.8)\n\n\fFor the time being, we do not assume that P (*) is the solution to (4.3). Then (suppressing s)\n\u0010\n\n\u0011\nbT lE[Y ] \u2212 A\nbT1 lE[Z] \u2212 QlE[\nb X\u0304] ds + ZdW (s)\n\u2212 AT Y \u2212 AT1 Z \u2212 QX\u0304 \u2212 A\n\u0010\n\u0011\n= dY = d P X\u0304 + PblE[X\u0304]\nh\n\u0010\n\u0011\n\u0010\n\u0011i\nb X\u0304] + BlE[\u016b]\nb\nb X\u0304] + (B + B)lE[\u016b]\nb\n= P \u2032 X\u0304 + P AX\u0304 + B \u016b + AlE[\n+ Pb \u2032 lE[X\u0304] + Pb (A + A)lE[\nds\n\u0011\n\u0010\nb1 lE[X\u0304] + B\nb1 lE[\u016b] dW (s)\n+P A1 X\u0304 + B1 \u016b + A\nh\n\u0010\n\u0011\n\u0010\n\u0011\ni\nb + PA\nb lE[X\u0304] + Pb (B + B)\nb + PB\nb lE[\u016b] ds\n= (P \u2032 + P A)X\u0304 + P B \u016b + Pb \u2032 + Pb(A + A)\n\u0011\n\u0010\nb1 lE[X\u0304] + B\nb1 lE[\u016b] dW (s)\n+P A1 X\u0304 + B1 \u016b + A\n\nComparing the diffusion terms, we should have\n\u0011\n\u0010\nb1 lE[X\u0304] + B\nb1 lE[\u016b] .\nZ = P A1 X\u0304 + B1 \u016b + A\nThis yields from (3.2) that\n\nb\nb T lE[Y ] + B T Z + B\nb T lE[Z]\n0 = R\u016b + RlE[\u016b]\n+ BT Y + B\n1\n1\nT\nT\nb\nb\nb\n= R\u016b + RlE[\u016b] + B (P X\u0304 + P lE[X\u0304]) + B (P + Pb )lE[X\u0304]\n\u0011\n\u0010\n\u0011\n\u0010\nb1 lE[X\u0304] + B\nb1 lE[\u016b] + B\nb1T P (A1 + A\nb1 )lE[X\u0304] + (B1 + B\nb1 )lE[\u016b]\n+B1T P A1 X\u0304 + B1 \u016b + A\nb + B1T P B\nb1 + B\nb1T P B1 + B\nb1T P B\nb1 )lE[\u016b] + (B T P + B1T P A1 )X\u0304\n= (R + B1T P B1 )\u016b + (R\n\u0010\n\u0011\nb T (P + Pb ) + B1T P A\nb1 + B\nb1T P (A1 + A\nb1 ) lE[X\u0304].\n+ B T Pb + B\n\nTaking lE, we obtain\n\nh\ni\nh\ni\nb\nb T\nb\nb T\nb\nb T\nb\n0 = R+ R+(B\n1 + B1 ) P (B1 + B1 ) lE[\u016b]+ (B + B) (P + P )+(B1 + B1 ) P (A1 + A1 ) lE[X\u0304]\nh\ni\nb T (P + Pb )+(B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304].\n\u2261 K1 lE[\u016b]+ (B + B)\n\nAssuming\n\nto be invertible, one gets\n\nThen we have\n\n\u2206\nb + (B1 + B\nb1 )T P (B1 + B\nb1 )\nK1 \u2261 K1 (P ) = R + R\n\nh\ni\nb T (P + Pb ) + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304].\nlE[\u016b] = \u2212K1\u22121 (B + B)\n\n\u0011\n\u0010\nb + B1T P B\nb1 + B\nb1T P B1 + B\nb1T P B\nb1 lE[\u016b] + (B T P + B1T P A1 )X\u0304\n0 = (R + B1T P B1 )\u016b + R\n\u0010\n\u0011\nb T (P + Pb) + B T P A\nb1 + B\nb T P (A1 + A\nb1 ) lE[X\u0304]\n+ B T Pb + B\n1\n1\n\u0010\n\u0011\nb T (P + Pb ) + B T P A\nb1 + B\nb T P (A1 + A\nb1 ) lE[X\u0304]\n\u2261 K0 \u016b + (B T P + B1T P A1 )X\u0304 + + B T Pb + B\n1\n1\nh\ni\n\u0011\n\u0010\n\u22121\nT\nT\nT\nT\nT\nb\nb\nb\nb\nb\nb\nb\nb\nb\n(B\n+\nB)\n(P\n+\nP\n)+(B\n+\nB\n)\nP\n(A\n+\nA\n)\nlE[X\u0304].\nK\n\u2212 R+B\nP\nB\n+\nB\nP\nB\n+\nB\nP\nB\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n\nConsequently, by assuming\n\n\u2206\n\nK0 \u2261 K0 (P ) = R + B1T P B1\n\n14\n\n(4.9)\n\n(4.10)\n\n\fto be invertible, we obtain\n\u0010\n\u0011\nb T (P + Pb ) + B1T P A\nb1 + B\nb1T P (A1 + A\nb1 ) lE[X\u0304]\n\u016b = \u2212K0\u22121 (B T P + B1T P A1 )X\u0304 \u2212 K0\u22121 B T Pb + B\nh\ni\n\u0011\n\u0010\nT b\nb T(P + Pb )+(B1 + B\nb1 )TP (A1 + A\nb1 ) lE[X\u0304]\nb\nb T P B1 + B\nb TP B\nb1 K \u22121 (B + B)\nP\nB\n+\nB\n+K0\u22121 R+B\n1\n1\n1\n1\n1\n\u0010\n\u0011\n\u22121\n\u22121\nT b\nT\nT\nb T (P + Pb) + B T P A\nb1 + B\nb T P (A1 + A\nb1 ) lE[X\u0304]\n= \u2212K0 (B P + B1 P A1 )X\u0304 \u2212 K0 B P + B\n1\n1\nh\ni\n\u0011\n\u0010\n\u22121\n\u22121\nT\nT\nb (P + Pb ) + (B1 + B\nb1 ) P (A1 + A\nb1 ) lE[X\u0304]\n+K0 K1 \u2212 K0 K1 (B + B)\n\u0010\n\u0011\nb T (P + Pb) + B T P A\nb1 + B\nb T P (A1 + A\nb1 ) lE[X\u0304]\n= \u2212K0\u22121 (B T P + B1T P A1 )X\u0304 \u2212 K0\u22121 B T Pb + B\n1\n1\nh\ni\nb T (P + Pb) + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304]\n+K0\u22121 (B + B)\nh\ni\nb T (P + Pb) + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304]\n\u2212K1\u22121 (B + B)\ni\nh\n= \u2212K0\u22121 (B T P + B1T P A1 )X\u0304 + K0\u22121 B T P + B1T P A1 lE[X\u0304]\nh\ni\nb T (P + Pb) + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304].\n\u2212K1\u22121 (B + B)\n\n(4.11)\n\nHere, we note that\n\nb + (B1 + B\nb1 )T P (B1 + B\nb1 ) \u2212 R \u2212 B T P B1\nK1 \u2212 K0 = R + R\n1\nT\nT\nT\nb\nb\nb\nb\nb\n= R + B P B1 + B P B1 + B P B1 .\n1\n\n1\n\n1\n\nHence, comparing the drift terms in (4.9), we have\n\n\u0010\n\u0011\n\u0010\n\u0011\nb + PA\nb lE[X\u0304] + Pb (B + B)\nb + PB\nb lE[\u016b]\n0 = (P \u2032 + P A)X\u0304 + P B \u016b + Pb\u2032 + Pb (A + A)\n\u0011\n\u0010\n\u0011\n\u0010\nb1 lE[X\u0304] + B\nb1 lE[\u016b]\n+AT P X\u0304 + Pb lE[X\u0304] + AT1 P A1 X\u0304 + B1 \u016b + A\nh\ni\nbT (P + Pb)lE[X\u0304] + A\nbT1 P (A1 + A\nb1 )lE[X\u0304] + (B1 + B\nb1 )lE[\u016b] + QX\u0304 + QlE[\nb X\u0304]\n+A\nh\ni\n= P \u2032 + P A + AT P + AT1 P A1 + Q X\u0304 + (P B + AT1 P B1 )\u016b\nh\ni\nb\nb T Pb +P A+\nb A\nbT P +(A1 + A\nb1 )T P (A1 + A\nb1 )\u2212AT P A1 + Q\nb lE[X\u0304]\n+ Pb \u2032 + Pb(A+ A)+(A+\nA)\n1\ni\nh\nT\nT\nb + PB\nb + A1 P B\nb1 + A\nb1 P (B1 + B\nb1 ) lE[\u016b]\n+ Pb(B + B)\nh\ni\n= P \u2032 + P A + AT P + AT1 P A1 + Q X\u0304\ni\nh\nn\n+(P B + AT1 P B1 ) \u2212 K0\u22121 (B T P + B1T P A1 )X\u0304 + K0\u22121 B T P + B1T P A1 lE[X\u0304]\nh\ni\no\nb T (P + Pb) + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304]\n\u2212K1\u22121 (B + B)\nh\ni\nb\nb T Pb +P A+\nb A\nbT P +(A1 + A\nb1 )T P (A1 + A\nb1 )\u2212AT P A1 + Q\nb lE[X\u0304]\n+ Pb \u2032 + Pb(A+ A)+(A+\nA)\n1\nh\ni\nT\nT\nb + PB\nb + A PB\nb1 + A\nb P (B1 + B\nb1 )\n+ Pb(B + B)\n1\n1\nh\ni\no\nn\nb T (P + Pb) + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304]\n* \u2212 K1\u22121 (B + B)\nh\ni\n= P \u2032 + P A + AT P + AT1 P A1 + Q \u2212 (P B + AT1 P B1 )K0\u22121 (B T P + B1T P A1 ) X\u0304\nn\nb+A\nbT P + (A1 + A\nb1 )T P (A1 + A\nb1 ) \u2212 AT P A1 + Q\nb\nb + (A + A)\nb T Pb + P A\n+ Pb \u2032 + Pb(A + A)\n1\n\n+(P B + AT1 P B1 )K0\u22121 (B T P + B1T P A1 )\nh\nio\nh\ni\n\u22121\nb T (P + Pb )+(B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304].\nb\nb T\nb\n(B + B)\n\u2212 (P + Pb)(B + B)+(A\n1 + A1 ) P (B1 + B1 ) K1\n\nTherefore, by choosing P (*) to be the solution to Riccati equation (4.3), we have that K0 and K1 are positive\n15\n\n\fdefinite, and the above leads to\nn\nb + (A + A)\nb T Pb + P A\nb+A\nbT P + (A1 + A\nb1 )T P (A1 + A\nb1 ) \u2212 AT1 P A1 + Q\nb\nPb \u2032 + Pb(A + A)\n\n+(P B + AT1 P B1 )K0\u22121 (B T P + B1T P A1 )\nh\nio\nh\ni\n\u22121\nb T (P + Pb )+(B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304] = 0.\nb\nb T\nb\n(B + B)\n\u2212 (P + Pb)(B + B)+(A\n1 + A1 ) P (B1 + B1 ) K1\n\nNow, if Pb(*) satisfies the following:\n\nb + (A + A)\nb T Pb + P A\nb+A\nbT P + (A1 + A\nb1 )T P (A1 + A\nb1 ) \u2212 AT P A1 + Q\nb\n0 = Pb \u2032 + Pb(A + A)\n1\n\n+(P B + AT1 P B1 )K0\u22121 (B T P + B1T P A1 )\nh\ni\nh\ni\nb T (P + Pb ) + (B1 + B\nb1 )T P (A1 + A\nb1 )\nb + (A1 + A\nb1 )T P (B1 + B\nb1 ) K \u22121 (B + B)\n\u2212 (P + Pb )(B + B)\n1\n\u0010\n\u0011i\nh\n\u22121\nT\n\u2032\nb P + (B1 + B\nb1 )T P (A1 + A\nb1 )\nb \u2212 (B + B)K\nb\n(B + B)\n= Pb + Pb A + A\n1\nh\n\u0010\n\u0011\ni\nb T \u2212 P (B + B)\nb + (A1 + A\nb1 )T P (B1 + B\nb1 ) K \u22121 (B + B)\nb \u22121 (B + B)\nb T Pb \u2212 Pb (B + B)K\nb T Pb\n+ (A + A)\n1\n1\nb+A\nbT P + (A1 + A\nb1 )T P (A1 + A\nb1 ) \u2212 AT P A1 + Q\nb + (P B + AT P B1 )K \u22121 (B T P + B T P A1 )\n+P A\n1\n1\n1\n0\nh\ni\nh\ni\n\u22121\nT\nT\nT\nb\nb\nb\nb\nb\nb\n\u2212 P (B + B) + (A1 + A1 ) P (B1 + B1 ) K1 (B + B) P + (B1 + B1 ) P (A1 + A1 ) ,\n\nthen (Y (*), Z(*)) defined by (4.7) and (4.10) with \u016b(*) given by (4.11) satisfies the MF-BSDE in (3.3). Hence,\nwe introduce the following Riccati equation for Pb(*):\n\uf8f1\n\u0010\n\u0011i\nh\n\uf8f4\nb T P + (B1 + B\nb1 )T P (A1 + A\nb1 )\nb \u2032 + Pb A + A\nb \u2212 (B + B)K\nb \u22121 (B + B)\n\uf8f4\nP\n\uf8f4\n1\n\uf8f4\n\uf8f4\ni\nh\n\u0010\n\u0011\n\uf8f4\n\uf8f4\n\uf8f4\nT\nb\nb\nb1 )T P (B1 + B\nb1 ) K \u22121 (B + B)\nb T Pb\n\uf8f4\n+\n(A\n+\nA)\n\u2212\nP\n(B\n+\nB)\n+\n(A\n+\nA\n\uf8f4\n1\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f2\n\u22121\nT b\nT\nT\nb\nb\nb\nb\nb\nb\nb1 ) \u2212 AT1 P A1 + Q\nb\n\u2212P (B + B)K1 (B + B) P + P A + A P + (A1 + A1 ) P (A1 + A\n(4.12)\n\uf8f4\n\u22121\nT\nT\nT\n\uf8f4\n+(P\nB\n+\nA\nP\nB\n)K\n(B\nP\n+\nB\nP\nA\n)\n\uf8f4\n1\n1\n1\n1\n0\n\uf8f4\n\uf8f4\nh\ni\nh\ni\n\uf8f4\n\uf8f4\n\u22121\nT\nT\nT\n\uf8f4\nb\nb\nb\nb\nb\nb\n\uf8f4\n\u2212\nP\n(B\n+\nB)\n+\n(A\n+\nA\n)\nP\n(B\n+\nB\n)\nK\n(B\n+\nB)\nP\n+\n(B\n+\nB\n)\nP\n(A\n+\nA\n)\n= 0,\n1\n1\n1\n1\n1\n1\n1\n1\n\uf8f4\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3 b\nb\nP (T ) = G.\n\nb is just assumed to be symmetric, and\nThe solvability of this Riccati equation is not obvious since G\n\ne \u2261 PA\nb+A\nbT P + (A1 + A\nb1 )T P (A1 + A\nb1 ) \u2212 AT P A1 + Q\nb + (P B + AT P B1 )K \u22121 (B T P + B T P A1 )\nQ\n1\n1\n1\n0\nh\ni\nh\ni\n\u22121\nT\nT\nT\nb + (A1 + A\nb1 ) P (B1 + B\nb1 ) K\nb P + (B1 + B\nb1 ) P (A1 + A\nb1 )\n\u2212 P (B + B)\n(B + B)\n1\n\nis also just symmetric. To look at the solvability of such a Riccati equation, we let\n\nThen\n\n\u03a0 = P + Pb .\nb \u2265 0,\n\u03a0(T ) = G + G\n\n16\n\n\fand consider the following\n0 = P \u2032 + P A + AT P + AT1 P A1 + Q \u2212 (P B + AT1 P B1 )K0\u22121 (B T P + B1T P A1 )\nb + (A + A)\nb T Pb + P A\nb+A\nbT P + (A1 + A\nb1 )T P (A1 + A\nb1 ) \u2212 AT P A1 + Q\nb\n+Pb \u2032 + Pb (A + A)\n1\n\n+(P B + AT1 P B1 )K0\u22121 (B T P + B1T P A1 )\nh\ni\nh\ni\n\u22121\nb T (P + Pb )+(B1 + B\nb1 )T P (A1 + A\nb1 )\nb\nb T\nb\n(B + B)\n\u2212 (P + Pb)(B + B)+(A\n1 + A1 ) P (B1 + B1 ) K1\n\nb\nb T P +Q+ Q+(\u03a0\u2212P\nb\nb\nb T (\u03a0\u2212P )+(A1 + A\nb1 )T P (A1 + A\nb1 )\n= \u03a0\u2032 +P (A+ A)+(A+\nA)\n)(A+ A)+(A+\nA)\nh\ni\nh\ni\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 )\nb + (A1 + A\nb1 )T P (B1 + B\nb1 ) K \u22121 (B + B)\n\u2212 \u03a0(B + B)\n1\nh\ni\nb \u2212 (B + B)K\nb \u22121 (B1 + B\nb1 )T P (A1 + A\nb1 )\n= \u03a0\u2032 + \u03a0 (A + A)\n1\ni\nh\nb \u22121 (B + B)\nb T\u03a0\nb T \u2212 (A1 + A\nb1 )T P (B1 + B\nb1 )K \u22121 (B + B)\nb T \u03a0 \u2212 \u03a0(B + B)K\n+ (A + A)\n1\n1\nh\ni\nb1 )K \u22121 (B1 + B\nb1 )T P (A1 + A\nb1 ) + Q + Q.\nb\nb1 )T P \u2212 P (B1 + B\n+(A1 + A\n1\n\nThus, \u03a0(*) is the solution to Riccati equation (4.4). Consequently, Riccati equation (4.12) admits a unique\nsolution Pb (*) = \u03a0(*) \u2212 P (*). Then we obtain (from (4.7) and (4.11))\n\u0010\n\u0011\nY = P X\u0304 \u2212 lE[X\u0304] + \u03a0lE[X\u0304],\nand\n\u0011\nh\ni\n\u0010\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304].\n\u016b = \u2212K0\u22121 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304] \u2212 K1\u22121 (B + B)\n\nAlso, from (4.10), it follows that\n\n\u0011\n\u0010\nb1 lE[X\u0304] + B\nb1 lE[\u016b]\nZ = P A1 X\u0304 + B1 \u016b + A\nh\ni\no\nn\n\u0010\n\u0011\nb T \u03a0+(B1 + B\nb1 )TP (A1+ A\nb1 ) lE[X\u0304]\n= P A1 X\u0304 \u2212P B1 K0\u22121 (B TP +B1TP A1 ) X\u0304 \u2212lE[X\u0304] +K1\u22121 (B+ B)\ni\nh\nb T \u03a0+(B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304]\nb1 lE[X\u0304]\u2212P B\nb1 K \u22121 (B + B)\n+P A\n1\n\u0011\nh\ni\u0010\n\u22121\n= P A1 \u2212 P B1 K0 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304]\n\u0010\n\u0011i\nh\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304].\nb1 ) \u2212 P (B1 + B\nb1 )K \u22121 (B + B)\n+ P (A1 + A\n1\n\nHence, (4.1) follows. Plugging the above representations into the state equation, we obtain\n\n\u0010\n\u0011\ni\nn\nh\n\u0010\n\u0011\nb T \u03a0+(B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304]\ndX\u0304 = AX\u0304 \u2212B K0\u22121 (B TP +B1T P A1 ) X\u0304 \u2212lE[X\u0304] \u2212K1\u22121 (B + B)\nh\ni\no\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304] dt\nb X\u0304] \u2212 BK\nb \u22121 (B + B)\n+AlE[\n1\n\u0010\n\u0011\ni\nh\n\u0010\n\u0011\nn\nb T \u03a0+(B1 + B\nb1 )TP (A1 + A\nb1 ) lE[X\u0304]\n+ A1 X\u0304 \u2212B1 K0\u22121 (B TP +B1TP A1 ) X\u0304 \u2212lE[X\u0304] \u2212K1\u22121 (B + B)\nh\ni\no\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304] dW (t)\nb1 lE[X\u0304] \u2212 B\nb1 K \u22121 (B + B)\n+A\n1\nnh\ni\u0010\n\u0011\n\u22121\nT\n= A \u2212 BK0 (B P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304]\n\u0010\n\u0011i\no\nh\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304] dt\nb \u2212 (B + B)K\nb \u22121 (B + B)\n+ (A + A)\n1\nnh\ni\u0010\n\u0011\n+ A1 \u2212 B1 K0\u22121 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304]\n\u0010\n\u0011i\no\nh\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304] dW (t).\nb1 ) \u2212 (B1 + B\nb1 )K \u22121 (B + B)\n+ (A1 + A\n1\n17\n\n\fThis gives the closed-loop system (5.15). From the above derivation, we see that if X\u0304(*) is a solution to\n(5.15), and (\u016b(*), Y (*), Z(*)) are given by (4.1), then (X\u0304(*), \u016b(*), Y (*), Z(*)) is an adapted solution to MFFBSDE (3.3). By Corollary 3.3, we know that such a constructed 4-tuple (X\u0304(*), \u016b(*), Y (*), Z(*)) is the unique\nsolution to (3.3).\nThe following is a direct verification of optimality of state feedback control.\nTheorem 4.2. Let (H1) and (H2)\u2032\u2032 hold. Let P (*) and \u03a0(*) be the solutions to the Riccati equations\n(4.3) and (4.4), respectively. Then the state feedback control \u016b(*) given in (4.1) is the optimal control of\nProblem (MF). Moreover, the optimal value of the cost is given by\ninf\n\nu(*)\u2208U [0,T ]\n\nJ(x; u(*)) = h \u03a0(0)x, x i,\n\n\u2200x \u2208 lRn .\n\n(4.13)\n\nProof. Let P (*) and \u03a0(*) be the solutions to the Riccati equations (4.3) and (4.4), respectively and denote\nK0 and K1 as in (4.2), which are positive definite. Let Pb (*) = \u03a0(*) \u2212 P (*). Then Pb (*) solves (4.12). Now,\nwe observe\nJ(x; u(*)) \u2212 h \u03a0(0)x, x i = J(x; u(*)) \u2212 h[P (0) + Pb(0)]x, x i\nZ Tn\nb\nb\n= lE\nh QX, X i + h QlE[X],\nlE[X] i + h Ru, u i + h RlE[u],\nlE[u] i\n0\n\nb\nb\n+ h P \u2032 X, X i +2 h P (AX + Bu + AlE[X]\n+ BlE[u]),\nXi\nb\nb\nb1 lE[X] + B\nb1 lE[u] i\n+ h P (A1 X + B1 u + A1 lE[X] + B1 lE[u]), A1 X + B1 u + A\no\nb\nb\n+ h Pb \u2032 lE[X], lE[X] i +2 h Pb lE[X], (A + A)lE[X]\n+ (B + B)lE[u]\ni ds\nZ Tn\n= lE\nh(P \u2032 +P A+ATP +AT1 P A1+Q)X, X i+2 h u, (B TP +B1TP A1 )X i+h(R+B1TP B1 )u, u i\n0\n\nb\nb\nb\nb\n+ h QlE[X],\nlE[X] i + h RlE[u],\nlE[u] i +2 h P (AlE[X]\n+ BlE[u]),\nlE[X] i\nb\nb\nb\nb\nb1 lE[X]+ B\nb1lE[u]i\n+2 hP (A1 lE[X]+B1lE[u]), A1 lE[X]+ B1 lE[u]i+hP (A1 lE[X]+ B1 lE[u]), A\no\nb\nb\n+ h Pb \u2032 lE[X], lE[X] i +2 h Pb lE[X], (A + A)lE[X]\n+ (B + B)lE[u]\ni ds\nZ Tn\nh(P \u2032 +P A+AT P +AT1 P A1 +Q)X, X i+2 h u, (B T P +B1T P A1 )X i+h K0 u, u i\n= lE\n0\n\nb A\nbTP + A\nbTP A1 +ATP A\nb1 + A\nbTP A\nb1 + Pb (A+ A)+(A+\nb\nb TPb + Q]lE[X],\nb\n+ h[Pb \u2032 +P A+\nA)\nlE[X] i\n1\n1\n1\nb+B\nb1T P B1 + B1T P B\nb1 + B\nb1T P B\nb1 )lE[u], lE[u] i\n+ h(R\no\nbT P + B\nb1T P A1 + (B1 + B\nb1 )T P A\nb1 + (B + B)\nb T Pb ]lE[X] i ds\n+2 h lE[u], [B\nZ Tn\n= lE\nh(P \u2032 +P A+AT P +AT1 P A1 +Q)X, X i+2 h u\u2212lE[u], (B T P +B1T P A1 )(X \u2212lE[X]) i\n0\n\n+ h K0 (u \u2212 lE[u]), u \u2212 lE[u] i\n\u0010\nb+A\nbT P + A\nbT P A1 + AT P A\nb1 + A\nbT P A\nb1\n+ h Pb\u2032 + P A\n1\n1\n1\n\u0011\nb + (A + A)\nb T Pb + Q\nb lE[X], lE[X] i + h K1 lE[u], lE[u] i\n+Pb (A + A)\n\u0011\no\nb T (P + Pb ) + (B1 + B\nb1 )T P A1 + (B1 + B\nb1 )T P A\nb1 lE[X] i ds\n+2 h lE[u], (B + B)\n\n18\n\n\f= lE\n\nZ Tn\nh[P \u2032 +P A+AT P +AT1 P A1 +Q\u2212(P B +A1P B1 )K0\u22121 (B T P +B1T P A1 )]X, X i\n0\nh\ni2\n1\n+ K02 u \u2212 lE[u] + K0\u22121 (B T P + B1T P A1 )(X \u2212 lE[X])\nh\nb+A\nbT P + A\nbT P A1 + AT P A\nb1 + A\nbT P A\nb1 + Pb (A + A)\nb + (A + A)\nb T Pb + Q\nb\n+ h Pb \u2032 + P A\n1\n1\n1\n\n+(P B + A1 P B1 )K0\u22121 (B T P + B1T P A1 )\n\u0010\n\u0011\nb + AT P (B1 + B\nb1 ) + A\nbT P (B1 + B\nb1 ) K \u22121\n\u2212 (P + Pb )(B + B)\n1\n1\n1\n\u0010\n\u0011i\nb T (P + Pb ) + (B1 + B\nb1 )T P A1 + (B1 + B\nb1 )T P A\nb1 lE[X], lE[X] i\n* (B + B)\n\u0011\ni 2o\n\u0010\nh\n1\nb T (P + Pb)+(B1 + B\nb1 )T P A1 +(B1 + B\nb1 )T P A\nb1 lE[X]\n+ K12 lE[u]+K1\u22121 (B + B)\nds\nZ Tn\nh\ni2\n1\nK02 u \u2212 lE[u] + K0\u22121 (B T P + B1T P A1 )(X \u2212 lE[X])\n= lE\n0\n\u0011\ni 2o\n\u0010\nh\n1\nb T \u03a0 + (B1 + B\nb1 )T P A1 + (B1 + B\nb1 )T P A\nb1 lE[X]\nds \u2265 0.\n+ K12 lE[u] + K1\u22121 (B + B)\n\nThen our claim follows.\n\nWe see that Riccati equation (4.4) can be written as follows:\n\uf8f1 \u2032\nb + (A + A)\nb T \u03a0 + (A1 + A\nb1 )T P (A1 + A\nb1 ) + Q + Q\nb\n\u03a0 + \u03a0(A + A)\n\uf8f4\n\uf8f4\n\uf8f4 h\ni\nh\ni\n\uf8f4\n\uf8f4\n\uf8f2\u2212 \u03a0(B + B)\nb + (A1 + A\nb1 )T P (B1 + B\nb1 ) K \u22121 (B + B)\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) = 0,\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3\n\nWhen\n\ns \u2208 [0, T ],\n\nb\n\u03a0(T ) = G + G.\n\nwe have\n\nb=A\nb1 = 0,\nA\n\nb=B\nb1 = 0,\nB\n\nb = 0,\nQ\n\nb = 0,\nR\n\nb = 0,\nG\n\nK0 = K1 = R + B1T P B1 ,\nand the Riccati equation for \u03a0(*) can be written as\n\uf8f1\n\uf8f2 \u03a0\u2032 + \u03a0A + AT \u03a0 \u2212 (\u03a0B + AT P B )K \u22121 (B T \u03a0 + B T P A ) + AT P A + Q = 0,\n1\n1\n1\n1\n1\n1\n0\n\uf8f3 \u03a0(T ) = G.\n\nThen\n\n0 = (\u03a0 \u2212 P )\u2032 + (\u03a0 \u2212 P )A + AT (\u03a0 \u2212 P ) \u2212 (\u03a0B + AT1 P B1 )K0\u22121 (B T \u03a0 + B1T P A1 )\n+(P B + AT1 P B1 )K0\u22121 (B T P + B1T P A1 )\n= (\u03a0 \u2212 P )\u2032 + (\u03a0 \u2212 P )A + AT (\u03a0 \u2212 P ) \u2212 (\u03a0 \u2212 P )BK0\u22121 (B T \u03a0 + B1T P A1 )\n\u2212(P B + AT1 P B1 )K0\u22121 B T (\u03a0 \u2212 P ).\nTherefore, by uniqueness, we have\n\u03a0 = P.\nConsequently, the feedback control can be written as\nh\ni\n\u0010\n\u0011\nb T \u03a0 + (B1 + B\nb1 )T P (A1 + A\nb1 ) lE[X\u0304],\n\u016b = \u2212K0\u22121 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304] \u2212 K1\u22121 (B + B)\n\u0011\n\u0010\n\u0010\n\u0011\n= \u2212K0\u22121 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304] \u2212 K0\u22121 B T P + B1T P A1 lE[X\u0304]\n= \u2212K0\u22121 (B T P + B1T P A1 )X\u0304.\n\nThis recovers the result for classical LQ problem ([34]).\n19\n\n(4.14)\n\n\f5\n\nA Modification of Standard LQ Problems.\n\nIn this section, we are going to look at a special case which was mentioned in the introduction. For convenience, let us rewrite the state equation here:\n\uf8f1\nh\ni\nh\ni\n\uf8f2 dX(s) = A(s)X(s) + B(s)u(s) ds + A (s)X(s) + B (s)u(s) dW (s),\n1\n1\n(5.1)\n\uf8f3\nX(0) = x,\nwith the cost functional:\n\nJ0 (x; u(*)) = lE\n\nhZ\n\nT\n\n0\n\n\u0010\n\n\u0011\ni\nh Q0 (s)X(s), X(s) i + h R0 (s)u(s), u(s) i ds + h G0 X(T ), X(T ) i .\n\n(5.2)\n\nClassical LQ problem can be stated as follows.\nProblem (LQ). For any given x \u2208 lRn , find a \u016b(*) \u2208 U[0, T ] such that\nJ0 (x; \u016b(*)) =\n\ninf\n\nu(*)\u2208U [0,T ]\n\nJ0 (x; u(*)).\n\n(5.3)\n\nThe following result is standard (see [34]).\nTheorem 5.1. Let (H1) hold and\nQ0 (s) \u2265 0,\n\nR0 (s) \u2265 \u03b4I,\n\ns \u2208 [0, T ];\n\nG0 \u2265 0.\n\n(5.4)\n\nThen Problem (LQ) admits a unique optimal pair (X\u03040 (*), \u016b0 (*)). Moreover, the following holds:\nh\ni\u22121 h\ni\n\u016b0 (s) = \u2212 R0 (s) + B1 (s)T P0 (s)B(s)\nB(s)T P0 (s) + B1 (s)T P0 (s)A1 (s) X\u03040 (s), s \u2208 [0, T ],\nwhere P0 (*) is the solution to the following Riccati equation:\n\uf8f1\n\u2032\nT\nT\n\uf8f4\n\uf8f4 P0 + P0 A + A P0 + A1 P0 A1 + Q0\n\uf8f2\n\uf8f4\n\uf8f4\n\uf8f3\n\n\u2212(P0 B + AT1 P0 B1 )(R0 + B1T P0 B1 )\u22121 (B T P0 + B1T P0 A1 ) = 0,\n\ns \u2208 [0, T ],\n\n(5.5)\n\n(5.6)\n\nP0 (T ) = G0 .\n\nand X\u0304(*) is the solution to the following closed-loop system:\n\uf8f1\nh\ni\n\uf8f4\n\uf8f4\ndX\u03040 (s) = A \u2212 B(R0 + B1T P0 B1 )\u22121 (B T P0 + B1T P0 A) X\u0304(s)ds\n\uf8f4\n\uf8f4\n\uf8f2\nh\ni\n+ A1 \u2212 B1 (R0 + B1T P0 B1 )(B T P0 + B1T P0 A1 ) X\u0304(s)dW (s),\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3\nX\u03040 (0) = x.\n\ns \u2208 [0, T ],\n\n(5.7)\n\nWe now introduce the following modified cost functional:\nhZ T \u0010\n\u0011\ni\nb\nJ0 (x; u(*)) = lE\nh Q0 (s)X(s), X(s) i + h R0 (s)u(s), u(s) i ds + h G0 X(T ), X(T ) i\n0\nhZ T \u0010\n\u0011\ni\n+lE\nq(s)var [X(s)] + \u03c1(s)var [u(s)] ds + gvar [X(T )\n0\nnZ T h \u0010\n\u0011\n\u0010\n\u0011\n2\n= lE\nh Q0 (s) + q(s)I X(s), X(s) i \u2212q(s) lE[X(s)] + h R0 (s) + \u03c1(s)I u(s), u(s) i\n0\n\u0010\n\u0011\n2i\n2o\n\u2212\u03c1(s) lE[u(s)] ds + h G0 + gI X(T ), X(T ) i \u2212g lE[X(T )] ,\n20\n\n(5.8)\n\n\fwith q(*), \u03c1(*) \u2208 L\u221e (0, T ), g \u2208 [0, \u221e) such that\nq(s), \u03c1(s) \u2265 0,\nAlso, of course, we assume that\n\nZ\n\ns \u2208 [0, T ].\n\n(5.9)\n\nT\n\n[q(s) + \u03c1(s)]ds + g > 0.\n\n(5.10)\n\n0\n\nWe want to compare the above Problem (LQ) with the following problem:\nProblem (LQ)\u2032 . For any given x \u2208 lRn , find a \u016b(*) \u2208 U[0, T ] such that\nJb0 (x; \u016b(*)) =\n\ninf\n\nu(*)\u2208U [0,T ]\n\nJb0 (x; u(*)).\n\n(5.11)\n\nWe refer to the above Problem (LQ)\u2032 as a modified LQ problem. This is a special case of Problem (MF) with\n\uf8f1\n\uf8f2 A\nb=A\nb1 = 0, B\nb=B\nb1 = 0,\n\uf8f3 Q = Q + qI, Q\nb = \u2212qI, R = R0 + \u03c1I, R\nb = \u2212\u03c1I, G = G0 + gI, G\nb = \u2212gI.\n0\nThen the Riccati equations are\n\nand\n\n\uf8f1\n\u2032\nT\nT\n\uf8f4\n\uf8f4\n\uf8f2 P + P A + A P + A1 P A1 + Q0 + qI\n\u2212(P B + AT1 P B1 )(R0 + \u03c1I + B1T P B1 )\u22121 (B T P + B1T P A1 ) = 0,\n\uf8f4\n\uf8f4\n\uf8f3\nP (T ) = G0 + gI,\n\ns \u2208 [0, T ],\n\n\uf8f1\n\uf8f2\u03a0\u2032 +\u03a0A+AT \u03a0+AT P A +Q \u2212(\u03a0B +AT P B )(R +B T P B )\u22121 (B T \u03a0+B T P A ) = 0,\n1\n0\n1\n0\n1\n1\n1\n1\n1\n1\n\uf8f3\u03a0(T ) = G .\n\n(5.12)\n\ns \u2208 [0, T ],\n\n0\n\n(5.13)\n\nThe optimal control is given by\n\u0010\n\u0011\n\u016b = \u2212(R0 + \u03c1I + B1T P B1 )\u22121 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304]\n\n(5.14)\n\n\u2212(R0 + B1T P B1 )\u22121 (B T \u03a0 + B1T P A1 )lE[X\u0304],\n\nand the closed-loop system reads\n\uf8f1\nnh\ni\u0010\n\u0011\n\uf8f4\n\uf8f4\ndX\u0304 = A \u2212 B(R0 + \u03c1I + B1T P B1 )\u22121 (B T P + B1T P A1 ) X\u0304 \u2212 lE[X\u0304]\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\u0011i\no\n\u0010\nh\n\uf8f4\n\uf8f4\n\uf8f4\n+ A \u2212 B(R0 + B1T P B1 )\u22121 B T \u03a0 + B1T P A1 lE[X\u0304] ds\n\uf8f4\n\uf8f4\n\uf8f2\nnh\ni\u0010\n\u0011\n\u22121\nT\nT\n+\nA\n\u2212\nB\nK\n(B\nP\n+\nB\nP\nA\n)\nX\u0304\n\u2212\nlE[\nX\u0304]\n1\n1\n1\n1\n0\n\uf8f4\n\uf8f4\n\uf8f4\n\u0011i\no\n\u0010\nh\n\uf8f4\n\uf8f4\n\u22121\nT\nT\n\uf8f4\nlE[\nX\u0304]\ndW (s),\nB\n\u03a0\n+\nB\nP\nA\n+\nA\n\u2212\nB\nK\n\uf8f4\n1\n1\n1\n1\n1\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f4\n\uf8f3 X\u0304(0) = x.\n\n(5.15)\n\nBy the optimality of \u016b0 (*) and \u016b(*), we have that\n\nh P0 (0)x, x i = J0 (x; \u016b0 (*)) \u2264 J0 (x; \u016b(*)),\n\n21\n\n(5.16)\n\n\fand\nh \u03a0(0)x, x i = J0 (x; \u016b(*)) + lE\n\nhZ\n\n0\n\nT\n\n\u0010\n\n\u0011\ni\nq(s)var [X\u0304(s)] + \u03c1(s)var [\u016b(s)] ds + gvar [X\u0304(T )]\n\n= Jb0 (x; \u016b(*)) \u2264 Jb0 (x; \u016b0 (*))\nhZ T \u0010\n\u0011\ni\n= J0 (x; \u016b0 (*)) + lE\nq(s)var [X\u03040 (s)] + \u03c1(s)var [\u016b0 (s)] ds + gvar [X\u03040 (T )]\n0\nhZ T \u0010\n\u0011\ni\n\u2264 J0 (x; \u016b(*)) + lE\nq(s)var [X\u03040 (s)] + \u03c1(s)var [\u016b0 (s)] ds + gvar [X\u03040 (T )] .\n\n(5.17)\n\n0\n\nThis implies\n\nhZ\nlE\n\u2264 lE\n\nT\n0\n\nhZ\n\n\u0010\n\u0011\ni\nq(s)var [X\u0304(s)] + \u03c1(s)var [\u016b(s)] ds + gvar [X\u0304(T )]\nT\n\n0\n\n\u0010\n\n\u0011\n\ni\nq(s)var [X\u03040 (s)] + \u03c1(s)var [\u016b0 (s)] ds + gvar [X\u03040 (T )] .\n\n(5.18)\n\nHence,\nJ0 (x; \u016b(*)) \u2212 J0 (x; \u016b0 (*))\nis the price for the decrease\nlE\n\nhZ\n\n\u0010\n\nT\n\n0\n\nhZ\n\u2212lE\n\nT\n0\n\n\u0011\ni\nq(s)var [X\u03040 (s)] + \u03c1(s)var [\u016b0 (s)] ds + gvar [X\u03040 (T )]\n\u0010\n\u0011\nq(s)var [X\u0304(s)] + \u03c1(s)var [\u016b(s)] ds + gvar [X\u0304(T )]\n\nof the (weighted) variances of the optimal state-control pair (X\u03040 (*), \u016b0 (*)). Moreover, (5.17) further implies\nthat\nJ0 (x; \u016b(*)) \u2212 J0 (x; \u016b0 (*))\nhZ T \u0010\n\u0011\ni\n\u2264 lE\nq(s)var [X\u03040 (s)] + \u03c1(s)var [\u016b0 (s)] ds + gvar [X\u03040 (T )]\n0\n\u0011\nhZ T \u0010\nq(s)var [X\u0304(s)] + \u03c1(s)var [\u016b(s)] ds + gvar [X\u0304(T )].\n\u2212lE\n0\n\nThe above roughly means that the amount increased in the cost is \"covered\" by the amount decreased in\nthe weighted variance of the optimal state-control pair.\nWe now look at a simple case to illustrate the above. Let us look at a one-dimensional controlled linear\nSDE:\n\uf8f1\n\uf8f2 dX(s) = bu(s)ds + X(s)dW (s),\n(5.19)\n\uf8f3 X(0) = x,\n\nwith cost functionals:\n\nJ0 (x; u(*)) = lE\n\nhZ\n\n0\n\nand\nJb0 (x; u(*)) = lE\n\nnZ\n\nnZ\n= lE\n\nT\n\n0\nT\n\nT\n\ni\n|u(s)|2 ds + g0 |X(T )|2 ,\n\no\n|u(s)|2 ds + g0 |X(T )|2 + gvar [X(T )]\n\n\u0010\n\u00112 o\n|u(s)| ds + (g0 + g)|X(T )| \u2212 g lE[X(T )]\n,\n2\n\n0\n\n2\n\n22\n\n(5.20)\n\n(5.21)\n\n\fwhere g0 \u2265 0 and g > 0. As above, we refer to the optimal control problem associated with (5.19) and (5.20)\nas the standard LQ problem, and to that associated with (5.19) and (5.17) as the modified LQ problem. The\nRiccati equation for the standard LQ problem is\n\uf8f1\n\uf8f2 p\u2032 (s) + p (s) \u2212 b2 p (s)2 = 0,\ns \u2208 [0, T ],\n0\n0\n0\n(5.22)\n\uf8f3 p (T ) = g .\n0\n\n0\n\nA straightforward calculation shows that\np0 (s) =\n\n(eT \u2212s\n\neT \u2212s g0\n> 0,\n\u2212 1)b2 g0 + 1\n\ns \u2208 [0, T ].\n\n(5.23)\n\nThe optimal control is\n\u016b0 (s) = \u2212bp0 (s)X\u03040 (s),\n\ns \u2208 [0, T ],\n\n(5.24)\n\nand the closed-loop system is\n\uf8f1\n\uf8f2 dX\u0304 (s) = \u2212b2 p (s)X\u0304 (s)ds + X\u0304 (s)dW (s),\n0\n0\n0\n0\n\uf8f3 X\u0304 (0) = x.\n\ns \u2208 [0, T ],\n\n(5.25)\n\n0\n\nThus,\n\n\u2212b2\n\nRs\n\n\u2212b2\n\nRT\n\np0 (\u03c4 )d\u03c4 \u2212 21 T + 12 T\n\n\u22122b2\n\nRT\n\np0 (\u03c4 )d\u03c4 \u2212T +2T\n\nX\u03040 (s) = xe\nConsequently,\n\nlE[X\u03040 (T )] = xe\nand\nlE[X\u03040 (T )2 ] = x2 e\nHence,\n\n0\n\np0 (\u03c4 )d\u03c4 \u2212 12 s+W (s)\n\n0\n\n0\n\ns \u2208 [0, T ].\n\n,\n\n\u2212b2\n\nRT\n\np0 (\u03c4 )d\u03c4\n\n\u22122b2\n\nRT\n\np0 (\u03c4 )d\u03c4 +T\n\n= xe\n\n= x2 e\n\n(5.26)\n\n0\n\n0\n\n(5.27)\n\n,\n\n(5.28)\n\n.\n\nRT\n\u0010\n\u00112\n\u22122b2\np0 (\u03c4 )d\u03c4 T\n0\nvar [X\u03040 (T )] = lE[X\u03040 (T )2 ] \u2212 lE[X\u03040 (T )] = x2 e\n(e \u2212 1).\n\n(5.29)\n\nAlso, the optimal expected cost is\nJ0 (x; \u016b0 (*)) = p0 (0)x2 =\n\n(eT\n\neT g0\nx2 .\n\u2212 1)b2 g0 + 1\n\nNext, for the modified LQ peoblem, the Riccati equations are:\n\uf8f1\n\uf8f2 p\u2032 (s) + p(s) \u2212 b2 p(s)2 = 0,\n\uf8f3 p(T ) = g + g,\n\n(5.30)\n\ns \u2208 [0, T ],\n\n(5.31)\n\n0\n\nand\n\n\uf8f1\n\uf8f2 \u03c0 \u2032 (s) \u2212 b2 \u03c0 2 (s) + p(s) = 0,\n\uf8f3 \u03c0(T ) = g .\n\ns \u2208 [0, T ],\n\n(5.32)\n\n0\n\nClearly,\np(s) =\n\neT \u2212s g0\neT \u2212s (g0 + g)\n>\n= p0 (s) > 0,\n(eT \u2212s \u2212 1)b2 (g0 + g) + 1\n(eT \u2212s \u2212 1)b2 g0 + 1\n\ns \u2208 [0, T ].\n\n(5.33)\n\nWe now show that\np0 (s) < \u03c0(s) < p(s),\n23\n\ns \u2208 [0, T ].\n\n(5.34)\n\n\fIn fact,\n\nThus,\n\n\uf8f1\n\uf8f4\n\uf8f2 d\n[\u03c0(s) \u2212 p0 (s)] \u2212 b2 [\u03c0(s) + p0 (s)][\u03c0(s) \u2212 p0 (s)] + p(s) \u2212 p0 (s) = 0,\nds\n\uf8f4\n\uf8f3 \u03c0(T ) \u2212 p (T ) = 0.\n0\n\u03c0(s) \u2212 p0 (s) =\n\nZ\n\ns\n\nNext,\n\nT\n\ne\n\n\u2212\n\nRt\ns\n\nb2 [\u03c0(\u03c4 )+p0 (\u03c4 )]d\u03c4\n\n[p(t) \u2212 p0 (t)]dt > 0,\n\n\uf8f1\n\uf8f4\n\uf8f2 d\n[p(s) \u2212 \u03c0(s)] \u2212 b2 [p(s) + \u03c0(s)][p(s) \u2212 \u03c0(s)] = 0,\nds\n\uf8f4\n\uf8f3 p(T ) \u2212 \u03c0(T ) = g.\n\nHence,\n\np(s) \u2212 \u03c0(s) = e\n\n\u2212\n\nRT\ns\n\nb2 [p(\u03c4 )+\u03c0(\u03c4 )]d\u03c4\n\ng > 0,\n\ns \u2208 [0, T ],\n\ns \u2208 [0, T ).\n\ns \u2208 [0, T ],\n\ns \u2208 [0, T ].\n\nThis proves (5.34). Note that the optimal control of modified LQ problem is given by\n\u0010\n\u0011\n\u016b(s) = \u2212bp(s) X\u0304(s) \u2212 lE[X\u0304(s)] \u2212 b\u03c0(s)lE[X\u0304(s)],\ns \u2208 [0, T ],\nand the closed-loop system is\n\uf8f1\nh\n\u0010\n\u0011\ni\n\uf8f2 dX\u0304(s) = \u2212 b2 p(s) X\u0304(s) \u2212 lE[X\u0304(s)] + b2 \u03c0(s)lE[X\u0304(s)] ds + X\u0304(s)dW (s),\n\uf8f3\nX\u0304(0) = x.\nThus,\n\ns \u2208 [0, T ],\n\n(5.35)\n\n\u0011\nd\u0010\nlE[X\u0304(s)] = \u2212b2 \u03c0(s)lE[X\u0304(s)],\nds\n\nwhich leads to\nlE[X\u0304(s)] = e\n\n\u2212b2\n\nRs\n0\n\n\u03c0(\u03c4 )d\u03c4\n\nx,\n\ns \u2208 [0, T ].\n\nOn the other hand, by It\u00f4's formula,\no\nn\nh\n\u0010\n\u0011\ni\nd[X\u0304 2 ] = \u2212 2 b2 pX\u0304 X\u0304 \u2212 lE[X\u0304] + b2 \u03c0 X\u0304lE[X\u0304] + X\u0304 2 ds + [* * *]dW.\nThen\n\n\u0010\n\u0011 n\nh\n\u0010\n\u00112 i\n\u0010\n\u00112\no\nd lE[X\u0304 2 ] = \u2212 2b2 p lE[X\u0304 2 ] \u2212 lE[X\u0304]\n\u2212 2b2 \u03c0 lE[X\u0304] + lE[X\u0304 2 ] ds\nn\n\u0010\n\u00112 o\n= (1 \u2212 2b2 p)lE[X\u0304 2 ] + 2b2 (p \u2212 \u03c0) lE[X\u0304]\nds\nRs\no\nn\n2\n\u22122b\n\u03c0(\u03c4 )d\u03c4 2\n0\n= (1 \u2212 2b2 p)lE[X\u0304 2 ] + 2b2 (p \u2212 \u03c0)e\nx ds.\n\nHence,\nZ\nh\nx 1+\n\nRt\nRt\ns\ni\n\u2212t+2\np(\u03c4 )d\u03c4\n\u22122b2\n\u03c0(\u03c4 )d\u03c4\n0\n0\n0\ne\n2b2 [p(t) \u2212 \u03c0(t)]e\ndt\nlE[X\u0304 (s)] = e\n0\nZ s\nRt\nRs\nh\ni\n\u2212t+2b2\n[p(\u03c4 )\u2212\u03c0(\u03c4 )]d\u03c4 2\ns\u22122b2\np(\u03c4 )d\u03c4 2\n0\n0\ne\n2b [p(t) \u2212 \u03c0(t)]dt\n=e\nx 1+\n0\nZ s\nRs\nRt\nRs\ni\nh\n\u2212t+2b2\n[p(\u03c4 )\u2212\u03c0(\u03c4 )]d\u03c4\n[p(\u03c4 )\u2212\u03c0(\u03c4 )]d\u03c4\ns\u22122b2\np(\u03c4 )d\u03c4 2 \u2212s+2b2\n0\n0\n0\n+\ne\ndt\n=e\nx e\nZ s\nRs\nR 0t\nRs\ni\nh\n\u03c0(\u03c4 )d\u03c4\ns\u2212t\u22122b2\np(\u03c4 )d\u03c4 \u22122b2\n\u03c0(\u03c4 )d\u03c4\n\u22122b2\nt\n0\n0\ndt x2 .\ne\n= e\n+\n2\n\ns\u22122b2\n\nRs\n\np(\u03c4 )d\u03c4 2\n\n0\n\n24\n\n(5.36)\n\n\fIt follows that\nZ s\nRs\nRs\nRs\nRt\n\u0011\nh\ni\n\u0010\n\u22122b2\n\u03c0(\u03c4 )d\u03c4\ns\u2212t\u22122b2\np(\u03c4 )d\u03c4 \u22122b2\n\u03c0(\u03c4 )d\u03c4\n\u22122b2\n\u03c0(\u03c4 )d\u03c4\n0\nt\n0\n0\nx2\nvar [X\u0304(s)] = e\n+\ne\ndt x2 \u2212 e\n0\nRs\nRt\nhZ s\ni\ns\u2212t\u22122b2\np(\u03c4 )d\u03c4 \u22122b2\n\u03c0(\u03c4 )d\u03c4\nt\n0\n=\ne\ndt x2 .\n0\n\nConsequently, noting p0 (s) < p(s), we have\nvar [X\u0304(T )] =\n\nhZ\n\nT\n\ne\n\nT \u2212t\u22122b2\n\n0\n\n=\n\nhZ\n\nT\n\ne\n\nRT\n\nT \u2212t\u22122b2\n\n0\n\np(\u03c4 )d\u03c4 \u22122b2\n\nt\n\nRT\n0\n\np0 (\u03c4 )d\u03c4\n\nRt\n0\n\np0 (\u03c4 )d\u03c4\n\ni\n\n2\n\ndt x <\n\nhZ\n\nT\n\ne\n\nT \u2212t\u22122b2\n\n0\n\nZ\nRT\ni\nh\n\u22122b2\np0 (\u03c4 )d\u03c4\n2\n0\ndt x = e\n\nRT\nt\n\nT\n\ne\n\nT \u2212t\n\n0\n\np0 (\u03c4 )d\u03c4 \u22122b2\n\nRt\n0\n\np0 (\u03c4 )d\u03c4\n\ni\ndt x2 = var [X\u03040 (T )].\n\ni\ndt x2\n\n(5.37)\n\nOn the other hand, we claim that\np0 (s) >\nIn fact, by letting pe =\n\nThen\n\ng0\ng0 +g p,\n\ng0\np(s),\ng0 + g\n\ns \u2208 [0, T ).\n\n(5.38)\n\nwe have\n\uf8f1\n\uf8f4\n\uf8f2 pe\u2032 (s) + pe(s) \u2212 b2 pe(s)2 \u2212\n\uf8f4\n\uf8f3 pe(T ) = g .\n0\n\ng0 g\np(s)2 = 0,\n(g0 + g)2\n\n\uf8f1\n\uf8f4\n\uf8f2 [p\u2032 (s) \u2212 pe\u2032 (s)] + [p0 (s) \u2212 pe(s)] \u2212 b2 [p0 (s) + pe(s)][p0 (s) \u2212 pe(s)] +\n0\n\uf8f4\n\uf8f3 p (T ) \u2212 pe(T ) = 0.\n0\n\ng0 g\np(s)2 = 0,\n(g0 + g)2\n\nThis leads to (5.38). Consequently,\ng0 + g\ng0 + g\nJ0 (x; \u016b(*)) + var [X\u0304(T )] = Jb0 (x; \u016b(*)) = \u03c0(0)x2 \u2264 p(0)x2 \u2264\np0 (0)x2 =\nJ(x; \u016b0 (*)).\ng0\ng0\n\nTherefore,\n\n0 \u2264 J0 (x; \u016b(*)) \u2212 J0 (x; \u016b0 (*)) + gvar [X\u0304(T )] \u2264\n\ng\nJ(x; \u016b0 (*)).\ng0\n\nThe above gives an upper bound for the cost increase in order to have a smaller var [X(T )]. Taking into\naccount of (5.37), we see that it is a very good trade-off to consider the modified LQ problem if one wishes\nto have a smaller var [X(T )]. It is possible to more carefully calculate the price difference J0 (x; u(*)) \u2212\nJ0 (x; \u016b0 (*)). We omit the details here.\nAlso, it is possible to calculate the situation of including var [u(s)] and/or var [X(s)] in the integrand of\nthe modified cost functional. The details are omitted here as well.\nTo conclude this paper, let us make some remarks. First of all, we have presented some results on the\nLQ problem for MF-SDEs with deterministic coefficients. Optimal control is represented by a state feedback\nform involving both X(*) and lE[X(*)], via the solutions of two Riccati equations. Apparently, there are\nmany problems left unsolved (and some of them might be challenging). To mention a few, one may consider\nthe case of infinite-horizon problem, following the idea of [31], and more interestingly, the case of random\ncoefficients (for which one might have to introduce some other techniques since the approach used in this\npaper will not work). We will continue our study and report new results in our future publications.\n25\n\n\fReferences\n[1] N. U. Ahmed and X. Ding, A semilinear McKean-Vlasov stochastic evolution equation in Hilbert space,\nStoch. Proc. Appl., 60 (1995), 65\u201385.\n[2] N. U. Ahmed and X. Ding, Controlled McKean-Vlasov equations, Comm. Appl. Anal., 5 (2001), 183\u2013206.\n[3] N. U. Ahmed, Nonlinear diffusion governed by McKean-Vlasov equation on Hilbert space and optimal\ncontrol, SIAM J. Control Optim., 46 (2007), 356\u2013378.\n[4] D. Andersson and B. Djehiche, A maximum principle for SDEs of mean-field type, Appl. Math. Optim.,\n63 (2011), 341\u2013356.\n[5] R. Bellman, R. Kalaba, and G. M. Wing, Invariant imbedding and the reduction of two-point boundary\nvalue problems to initial value problems, Proc Natl Acad Sci USA, 46 (1960), 1646-1649.\n[6] V. S. Borkar and K. S. Kumar, McKean-Vlasov limit in portfolio optimization, Stoch. Anal. Appl., 28\n(2010), 884\u2013906.\n[7] R. Buckdahn, B. Djehiche, and J. Li, A general maximum principle for SDEs of mean-field type, preprint.\n[8] R. Buckdahn, B. Djehiche, J. Li, and S. Peng, Mean-field backward stochastic differential equations: a\nlimit approach, Ann. Probab., 37 (2009), 1524-1565.\n[9] R. Buckdahn, J. Li, and S. Peng, Mean-field backward stochastic differential equations and related partial\ndifferential equations, Stoch. Process. Appl., 119 (2009), 3133-3154,\n[10] T. Chan, Dynamics of the McKean-Vlasov equation, Ann. Probab. 22 (1994), 431\u2013441.\n[11] T. Chiang, McKean-Vlasov equations with discontinuous coefficients, Soochow J. Math., 20 (1994),\n507\u2013526.\n[12] D. Crisan and J. Xiong, Approximate McKean-Vlasov representations for a class of SPDEs, Stochastics,\n82 (2010), 53\u201368.\n[13] D. A. Dawson, Critical dynamics and fluctuations for a mean-field model of cooperative behavior, J.\nStatist. Phys., 31 (1983), 29\u201385.\n[14] D. A. Dawson and J. G\u00e4rtner, Large deviations from the McKean-Vlasov limit for weakly interacting\ndiffusions, Stochastics, 20 (1987), 247\u2013308.\n[15] J. G\u00e4rtner, On the Mckean-Vlasov limit for interacting diffusions, Math. Nachr., 137 (1988), 197\u2013248.\n[16] C. Graham, McKean-Vlasov Ito-Skorohod equations, and nonlinear diffusions with discrete jump sets,\nStoch. Proc. Appl., 40 (1992), 69\u201382.\n[17] M. Huang, R. P. Malham\u00e9, and P. E. Caines, Large population stochastic dynamic games: closed-loop\nMcKean-Vlasov systems and the Nash certainty equivalence principle, Comm. Inform. Systems, 6 (2006),\n221\u2013252.\n[18] M. Kac, Foundations of kinetic theory, Proc. 3rd Berkeley Sympos. Math. Statist. Prob. 3 (1956),\n171\u2013197.\n\n26\n\n\f[19] P. E. Kloeden and T. Lorenz, Stochastic differential equations with nonlocal sample dependence, Stoch.\nAnal. Appl., 28 (2010), 937\u2013945.\n[20] P. M. Kotelenez and T. G. Kurtz, Macroscopic limit for stochastic partial differential equations of\nMcKean-Vlasov type, Prob. Theory Rel. Fields, 146 (2010), 189\u2013222.\n[21] J. Ma, P. Protter, and J. Yong, Solving forward-backward stochastic differential equations explicitly -\na four-step scheme, Probab. Theory & Related Fields, 98 (1994), 339\u2013359.\n[22] J. Ma and J. Yong, Forward-Backward Stochastic Differential Equations and Their Applications, Lecture\nNotes in Math., Vol. 1702, Springer-Verlag, 1999.\n[23] N. I. Mahmudov and M. A. McKibben, On a class of backward McKean-Vlasov stochastic equations in\nHilbert space: existence and convergence properties, Dynamic Systems Appl., 16 (2007), 643\u2013664.\n[24] H. P. McKean, A class of Markov processes associated with nonlinear parabolic equations, Proc. Natl.\nAcad. Sci. USA, 56 (1966), 1907\u20131911.\n[25] T. Meyer-Brandis, B. Oksendal, and X. Zhou, A mean-field stochastic maximum principle via Malliavin\ncalculus, A special issue for Mark Davis' Festschrift, to appear in Stochastics.\n[26] L. Mou and J. Yong, Two-person zero-sum linear quadratic stochastic differential games by a Hilbert\nspace method, J. Industrial Management Optim., 2 (2006), 95\u2013117.\n[27] D. Nualart, The Malliavin Calculus and Related Topics, 2nd Ed., Springer-Verlag, Berlin, 2006.\n[28] J. Y. Park, P. Balasubramaniam, and Y. H. Kang, Controllability of McKean-Vlasov stochastic integrodifferential evolution equation in Hilbert spaces, Numer. Funct. Anal. Optim., 29 (2008), 1328\u20131346.\n[29] M. Scheutzow, Uniqueness and non-uniqueness of solutions of Vlasov-McKean equations, J. Austral.\nMath. Soc., Ser. A, 43 (1987), 246\u2013256.\n[30] S. Tang, General linear quadratic optimal stochastic control problems with random coefficients: linear\nstochastic Hamilton systems and backward stochastic Riccati equations, SIAM J. Control Optim., 42\n(2003), 53-75.\n[31] H. Wu and X. Y. Zhou, Stochastic frenquency characteristics, SIAM J. Control Optim., 40 (2001),\n557\u2013576.\n[32] A. Yu. Veretennikov, On ergodic measures for McKean\u2013Vlasov stochastic equations, From Stochastic\nCalculus to Mathematical Finance, 623\u2013633, Springer, Berline, 2006.\n[33] J. Yong, Stochastic optimal control and forward-backward stochastic differential equations, Computational & Appl. Math., 21 (2002), 369\u2013403.\n[34] J. Yong and X. Y. Zhou, Stochastic Controls: Hamiltonian Systems and HJB Equations, SpringerVerlag, 1999.\n\n27\n\n\f"}