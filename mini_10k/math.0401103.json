{"id": "http://arxiv.org/abs/math/0401103v3", "guidislink": true, "updated": "2005-05-14T13:39:13Z", "updated_parsed": [2005, 5, 14, 13, 39, 13, 5, 134, 0], "published": "2004-01-10T14:08:16Z", "published_parsed": [2004, 1, 10, 14, 8, 16, 5, 10, 0], "title": "Maximal clones on uncountable sets that include all permutations", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=math%2F0401245%2Cmath%2F0401396%2Cmath%2F0401443%2Cmath%2F0401440%2Cmath%2F0401433%2Cmath%2F0401163%2Cmath%2F0401066%2Cmath%2F0401423%2Cmath%2F0401086%2Cmath%2F0401380%2Cmath%2F0401316%2Cmath%2F0401338%2Cmath%2F0401421%2Cmath%2F0401376%2Cmath%2F0401028%2Cmath%2F0401303%2Cmath%2F0401121%2Cmath%2F0401341%2Cmath%2F0401235%2Cmath%2F0401095%2Cmath%2F0401260%2Cmath%2F0401044%2Cmath%2F0401296%2Cmath%2F0401145%2Cmath%2F0401004%2Cmath%2F0401158%2Cmath%2F0401156%2Cmath%2F0401293%2Cmath%2F0401345%2Cmath%2F0401077%2Cmath%2F0401358%2Cmath%2F0401305%2Cmath%2F0401140%2Cmath%2F0401379%2Cmath%2F0401238%2Cmath%2F0401043%2Cmath%2F0401357%2Cmath%2F0401081%2Cmath%2F0401120%2Cmath%2F0401428%2Cmath%2F0401103%2Cmath%2F0401299%2Cmath%2F0401402%2Cmath%2F0401301%2Cmath%2F0401424%2Cmath%2F0401389%2Cmath%2F0401297%2Cmath%2F0401413%2Cmath%2F0401023%2Cmath%2F0401407%2Cmath%2F0401161%2Cmath%2F0401057%2Cmath%2F0401037%2Cmath%2F0401051%2Cmath%2F0401344%2Cmath%2F0401082%2Cmath%2F0401261%2Cmath%2F0401157%2Cmath%2F0401374%2Cmath%2F0401124%2Cmath%2F0401134%2Cmath%2F0401092%2Cmath%2F0401442%2Cmath%2F0401277%2Cmath%2F0401041%2Cmath%2F0401005%2Cmath%2F0401262%2Cmath%2F0401403%2Cmath%2F0401063%2Cmath%2F0401171%2Cmath%2F0401205%2Cmath%2F0401388%2Cmath%2F0401283%2Cmath%2F0401265%2Cmath%2F0401152%2Cmath%2F0401378%2Cmath%2F0401363%2Cmath%2F0401359%2Cmath%2F0401071%2Cmath%2F0401263%2Cmath%2F0401061%2Cmath%2F0401280%2Cmath%2F0401334%2Cmath%2F0401033%2Cmath%2F0401397%2Cmath%2F0401244%2Cmath%2F0401302%2Cmath%2F0401018%2Cmath%2F0401135%2Cmath%2F0401123%2Cmath%2F0401287%2Cmath%2F0401008%2Cmath%2F0401179%2Cmath%2F0401354%2Cmath%2F0401242%2Cmath%2F0401220%2Cmath%2F0401053%2Cmath%2F0401106%2Cmath%2F0401155%2Cmath%2F0401025%2Cmath%2F0401011&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Maximal clones on uncountable sets that include all permutations"}, "summary": "We first determine the maximal clones on a set X of infinite regular\ncardinality which contain all permutations but not all unary functions,\nextending a result of Heindorf's for countably infinite X. If |X| is countably\ninfinite or weakly compact, this yields a list of all maximal clones containing\nthe permutations since in that case the maximal clones above the unary\nfunctions are known. We then generalize a result of Gavrilov's to obtain on all\ninfinite X a list of all maximal submonoids of the monoid of unary functions\nwhich contain the permutations.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=math%2F0401245%2Cmath%2F0401396%2Cmath%2F0401443%2Cmath%2F0401440%2Cmath%2F0401433%2Cmath%2F0401163%2Cmath%2F0401066%2Cmath%2F0401423%2Cmath%2F0401086%2Cmath%2F0401380%2Cmath%2F0401316%2Cmath%2F0401338%2Cmath%2F0401421%2Cmath%2F0401376%2Cmath%2F0401028%2Cmath%2F0401303%2Cmath%2F0401121%2Cmath%2F0401341%2Cmath%2F0401235%2Cmath%2F0401095%2Cmath%2F0401260%2Cmath%2F0401044%2Cmath%2F0401296%2Cmath%2F0401145%2Cmath%2F0401004%2Cmath%2F0401158%2Cmath%2F0401156%2Cmath%2F0401293%2Cmath%2F0401345%2Cmath%2F0401077%2Cmath%2F0401358%2Cmath%2F0401305%2Cmath%2F0401140%2Cmath%2F0401379%2Cmath%2F0401238%2Cmath%2F0401043%2Cmath%2F0401357%2Cmath%2F0401081%2Cmath%2F0401120%2Cmath%2F0401428%2Cmath%2F0401103%2Cmath%2F0401299%2Cmath%2F0401402%2Cmath%2F0401301%2Cmath%2F0401424%2Cmath%2F0401389%2Cmath%2F0401297%2Cmath%2F0401413%2Cmath%2F0401023%2Cmath%2F0401407%2Cmath%2F0401161%2Cmath%2F0401057%2Cmath%2F0401037%2Cmath%2F0401051%2Cmath%2F0401344%2Cmath%2F0401082%2Cmath%2F0401261%2Cmath%2F0401157%2Cmath%2F0401374%2Cmath%2F0401124%2Cmath%2F0401134%2Cmath%2F0401092%2Cmath%2F0401442%2Cmath%2F0401277%2Cmath%2F0401041%2Cmath%2F0401005%2Cmath%2F0401262%2Cmath%2F0401403%2Cmath%2F0401063%2Cmath%2F0401171%2Cmath%2F0401205%2Cmath%2F0401388%2Cmath%2F0401283%2Cmath%2F0401265%2Cmath%2F0401152%2Cmath%2F0401378%2Cmath%2F0401363%2Cmath%2F0401359%2Cmath%2F0401071%2Cmath%2F0401263%2Cmath%2F0401061%2Cmath%2F0401280%2Cmath%2F0401334%2Cmath%2F0401033%2Cmath%2F0401397%2Cmath%2F0401244%2Cmath%2F0401302%2Cmath%2F0401018%2Cmath%2F0401135%2Cmath%2F0401123%2Cmath%2F0401287%2Cmath%2F0401008%2Cmath%2F0401179%2Cmath%2F0401354%2Cmath%2F0401242%2Cmath%2F0401220%2Cmath%2F0401053%2Cmath%2F0401106%2Cmath%2F0401155%2Cmath%2F0401025%2Cmath%2F0401011&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We first determine the maximal clones on a set X of infinite regular\ncardinality which contain all permutations but not all unary functions,\nextending a result of Heindorf's for countably infinite X. If |X| is countably\ninfinite or weakly compact, this yields a list of all maximal clones containing\nthe permutations since in that case the maximal clones above the unary\nfunctions are known. We then generalize a result of Gavrilov's to obtain on all\ninfinite X a list of all maximal submonoids of the monoid of unary functions\nwhich contain the permutations."}, "authors": ["Michael Pinsker"], "author_detail": {"name": "Michael Pinsker"}, "author": "Michael Pinsker", "arxiv_comment": "19 pages; latest version has shorter proofs and no mistakes", "links": [{"href": "http://arxiv.org/abs/math/0401103v3", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/math/0401103v3", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.RA", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.RA", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.LO", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "08A40; 08A05", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/math/0401103v3", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/math/0401103v3", "journal_reference": null, "doi": null, "fulltext": "arXiv:math/0401103v3 [math.RA] 14 May 2005\n\nMAXIMAL CLONES ON UNCOUNTABLE SETS THAT\nINCLUDE ALL PERMUTATIONS\nMICHAEL PINSKER\nAbstract. We first determine the maximal clones on a set X of infinite\nregular cardinality \u03ba which contain all permutations but not all unary\nfunctions, extending a result of Heindorf's for countably infinite X. If \u03ba\nis countably infinite or weakly compact, this yields a list of all maximal\nclones containing the permutations since in that case the maximal clones\nabove the unary functions are known. We then generalize a result of\nGavrilov's to obtain on all infinite X a list of all maximal submonoids\nof the monoid of unary functions which contain the permutations.\n\n1. Clones and the Results\n1.1. The clone lattice. Let X be a set of size |X| = \u03ba. For each natural\nnumber nS\u2265 1 we denote the set of functions on X of arity n by O (n) . We\n(n) to be the set of all finitary operations on X. A clone\nset O = \u221e\nn=1 O\nis a subset of O which contains the projection maps and which is closed\nunder composition. Since arbitrary intersections of clones are obviously\nagain clones, the set of clones on X forms a complete algebraic lattice Cl(X)\nwhich is a subset of the power set of O. The clone lattice is countably infinite\nif X has exactly two elements, and of size continuum if X is finite and has\n\u03ba\nat least three elements. On infinite X we have |Cl(X)| = 22 .\nThe dual atoms of the clone lattice are called maximal clones. On finite X\nthere exist finitely many maximal clones and an explicit list of those clones\nhas been provided by Rosenberg [6]. Moreover, the clone lattice is dually\natomic in that case, that is, every clone is contained in a maximal one. For\nX infinite the number of maximal clones equals the size of the whole clone\nlattice ([8], see also [2]), so that it seems impossible to know all of them.\nIt has also been shown [3] that if the continuum hypothesis holds, then not\nevery clone on a countably infinite set is contained in a maximal one.\n1.2. Clones containing the bijections. However, even on infinite X the\nsublattice of Cl(X) of clones containing the set S of all permutations of X\n1991 Mathematics Subject Classification. Primary 08A40; secondary 08A05.\nKey words and phrases. clone lattice, permutations, maximal clones, almost unary\nfunctions, unary clones, maximal monoids.\nThe author would like to thank L. Heindorf for his many comments on earlier versions of\nthe paper. Support by DOC [Doctoral Scholarship Programme of the Austrian Academy\nof Sciences] is gratefully acknowledged.\n\n\f2\n\nM. PINSKER\n\nis dually atomic since O is finitely generated over S : Call a set A \u2286 X large\niff |A| = |X| = \u03ba and small otherwise. Moreover, A is co-large iff X \\ A is\nlarge, and co-small iff X \\ A is small. Set\nI = {f \u2208 O (1) : f is injective and f [X] is co-large}\nand\nJ = {g \u2208 O (1) : g\u22121 [y] is large for all y \u2208 X}.\nIt is readily verified that for arbitrary fixed f \u2208 I and g \u2208 J we have\nI = {\u03b1 \u25e6 f : \u03b1 \u2208 S } and J = {\u03b1 \u25e6 g \u25e6 \u03b2 : \u03b1, \u03b2 \u2208 S }.\nMoreover,\nO (1) = {j \u25e6 i : j \u2208 J , i \u2208 I }.\nTogether with the well-known fact that O (1) \u222a{p} generates O for any binary\ninjection p we conclude that O is generated by S \u222a {p, f, g}. Hence Zorn's\nlemma implies that the interval [S , O] is dually atomic.\nWe will determine all maximal clones C on a base set of regular cardinality\nfor which S \u2286 C but not O (1) \u2286 C . This has already been done for\ncountable base sets by Heindorf in the article [4] in the following way: Let\n\u03c1 \u2286 X J be a relation on X indexed by J and let f \u2208 O (n) . We say that\nf preserves \u03c1 iff for all r 1 = (ri1 : i \u2208 J), . . . , r n = (rin : i \u2208 J) in \u03c1 we\nhave (f (ri1 , . . . , rin ) : i \u2208 J) \u2208 \u03c1. We define the clone of polymorphisms\nPol(\u03c1) of \u03c1 \u2286 X J to consist exactly of the functions in O preserving \u03c1. In\nk\nparticular, if \u03c1 \u2286 X X is a set of k-ary functions, then the polymorphisms\nof \u03c1 are exactly those f \u2208 O (n) for which the composite f (g1 , . . . , gn ) \u2208 \u03c1\nwhenever g1 , . . . , gn \u2208 \u03c1. Now it is obvious that since clones are closed under\ncomposition we have C \u2286 Pol(C (n) ) for any clone C and for all n \u2265 1,\nwhere C (n) = C \u2229 O (n) . Moreover, Pol(C (n) )(n) = C (n) . Therefore, if C\nis a maximal clone such that S \u2286 C (1) $ O (1) , then C \u2286 Pol(C (1) ) $ O\nholds. Hence C = Pol(C (1) ) by the maximality of C . We conclude that\nall maximal clones with S \u2286 C (1) $ O (1) are of the form Pol(G ), where\nS \u2286 G $ O (1) is a submonoid of O (1) , that is, a set of unary functions\nclosed under composition and containing the identity map.\nWe say that a property holds for almost all y \u2208 X iff the set of all elements\nfor which the property does not hold is small. For \u03bb \u2264 \u03ba a cardinal define a\nunary function f to be \u03bb-surjective iff |X \\f [X]| < \u03bb. Instead of \u03ba-surjective\nwe also say almost surjective; this means that the range of f is co-small. f\nis \u03bb-injective iff |{x \u2208 X : \u2203y 6= x (f (x) = f (y))}| < \u03bb. For \u03bb = 1 or infinite,\nthis is the case iff there exists a set A \u2286 X such that |A| < \u03bb and such that\nthe restriction of f to the complement of A is injective. Almost injective\nmeans \u03ba-injective.\nWe are going to prove the following theorem.\nTheorem 1. Let X be a set of regular cardinality \u03ba. The maximal clones\nover X which contain all bijections but not all unary functions are exactly\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n3\n\nthose of the form Pol(G ), where G \u2208 {A , B, E , F } \u222a {G\u03bb : 1 \u2264 \u03bb \u2264\n\u03ba, \u03bb a cardinal} is one of the following submonoids of O (1) :\n(1)\n(2)\n(3)\n(4)\n(5)\n\nA = {f \u2208 O (1) : f \u22121 [y] is small for almost all y \u2208 X}\nB = {f \u2208 O (1) : f \u22121 [y] is small for all y \u2208 X}\nE = {f \u2208 O (1) : f is almost surjective}\nF = {f \u2208 O (1) : f is almost surjective or constant}\nG\u03bb = {f \u2208 O (1) : if A \u2286 X has cardinality \u03bb then |X \\ f [X \\ A]| \u2265 \u03bb}\n\nCorollary 2. Let X be a set of regular cardinality \u03ba = \u05d0\u03b1 . Then there exist\nmax(|\u03b1|, \u05d00 ) maximal clones on X which contain all bijections but not all\nunary functions.\nOn some infinite sets, namely countably infinite ones and sets of weakly\ncompact cardinality, it is known that there exist exactly two maximal clones\nPol(T1 ) and Pol(T2 ) which contain O (1) (T1 and T2 are certain sets of binary\nfunctions). See Gavrilov [1] for the countable, and Goldstern and Shelah [2]\nfor the uncountable. Hence in those cases, our theorem completes the list\nof maximal clones above S . It is a fact that weakly compact cardinals \u03ba\nsatisfy \u03ba = \u05d0\u03ba . Thus we have\nCorollary 3. Let X be a set of countably infinite or weakly compact cardinality \u03ba. Then there exist \u03ba maximal clones which contain all bijections.\nUnfortunately things are not always that easy, as demonstrated by Goldstern and Shelah in [2]: For many regular cardinalities of X, in particular\n\u03ba\nfor all successors of uncountable regulars, there exist 22 maximal clones\nwhich contain O (1) . It is interesting that whereas above O (1) the number of\nmaximal clones varies heavily with the partition properties of the underlying\n\u03ba\nbase set (2 for weakly compact cardinals, 22 for many others), the number\nof maximal clones above the permutations but not above O (1) is a monotone\nfunction of \u03ba and always relatively small (\u2264 \u03ba).\n1.3. Maximal submonoids of O (1) . Not all monoids appearing in Theorem 1 are maximal submonoids of O (1) (by a maximal submonoid of O (1) we\nmean a dual atom in the lattice of submonoids of O (1) with inclusion). More\nsurprisingly, there exist maximal submonoids of O (1) above the permutations whose polymorphism clone is not maximal. Observe that submonoids\nof O (1) differ only formally from unary clones, that is clones consisting only\nof essentially unary functions, and that the lattice of monoids which contain\nthe permutations is dually atomic by the argument we have seen before. We\nare going to prove the following theorem for arbitrary infinite sets in the last\nsection, generalizing a theorem due to Gavrilov [1] for countable base sets.\nTheorem 4. Let X be an infinite set. If X has regular cardinality, then\nthe maximal submonoids of O (1) which contain the permutations are exactly\nthe monoid A and the monoids G\u03bb and M\u03bb for \u03bb = 1 and \u05d00 \u2264 \u03bb \u2264 \u03ba, \u03bb a\n\n\f4\n\nM. PINSKER\n\ncardinal, where\nM\u03bb = {f \u2208 O (1) : f is \u03bb-surjective or not \u03bb-injective}.\nIf X has singular cardinality, then the same is true with the monoid A\nreplaced by\nA \u2032 = {f \u2208 O (1) : \u2203\u03bb < \u03ba ( |f \u22121 [{x}]| \u2264 \u03bb for almost all x \u2208 X ) }.\nCorollary 5. On a set X of infinite cardinality \u05d0\u03b1 there exist 2 |\u03b1|+ 5 maximal submonoids of O (1) that contain the permutations. Hence the smallest\ncardinality on which there are infinitely many such monoids is \u05d0\u03c9 .\nObserve that the statement about singular cardinals in Theorem 4 differs\nonly slightly from the corresponding one for regulars. We do not know\nwhether Theorem 1 can be generalized to singulars, but in our proof we do\nuse the regularity condition (in Proposition 8, Lemma 9 and permanently\nin Section 2.2).\n1.4. An equivalent definition of G\u03bb . In the countable versions of Theorems 1 and 4 a different but equivalent definition of G\u05d00 was used: Define\nfor \u03bb = 1 and for all \u05d00 \u2264 \u03bb \u2264 \u03ba monoids\n\u03b4(\u03bb) = {f \u2208 O (1) : f is \u03bb-injective or not \u03bb-surjective}\n(this definition and notation is due to Rosenberg [7]). Then we have\nLemma 6. \u03b4(\u03bb) = G\u03bb for \u03bb = 1 and \u05d00 \u2264 \u03bb \u2264 \u03ba.\nProof. Note that for \u03bb = 1, \u03bb-injective simply means injective and \u03bb-surjective\nmeans surjective. The lemma is easily verified for that case, and we prove\nit for \u03bb infinite.\nAssuming f \u2208 \u03b4(\u03bb) we show f \u2208 G\u03bb . It is clear that if f is not \u03bb-surjective,\nthen f \u2208 G\u03bb . So assume f is \u03bb-surjective; then by the definition of \u03b4(\u03bb), f is\n\u03bb-injective. Now let A \u2286 X be an arbitrary set of size \u03bb. Assume towards\ncontradiction that |X \\ f [X \\ A]| < \u03bb. Then two things can happen: If\n|f [A] \u2229 f [X \\ A]| \u2265 \u03bb, then |{x \u2208 X : \u2203y 6= x (f (x) = f (y))}| \u2265 |{x \u2208 A :\n\u2203y \u2208 X \\ A (f (x) = f (y))}| \u2265 \u03bb, contradicting the \u03bb-injectivity of f . Otherwise, A is mapped onto a set of size smaller than \u03bb, again in contradiction\nto f being \u03bb-injective.\nTo see the other inclusion, take any f \u2208\n/ \u03b4(\u03bb). Then f is not \u03bb-injective;\nthus we can find A \u2286 X of size \u03bb such that f [X] = f [X \\ A]. But then\n|X \\ f [X \\ A]|=|X \\ f [X]| < \u03bb as f is \u03bb-surjective. Hence, f \u2208\n/ G\u03bb .\n\u0003\nBefore we start with the proofs we fix some global notation.\n1.5. Notation. For a set of functions F we shall denote the smallest clone\ncontaining F by hF i. We call the projections which every clone contains\n\u03c0in , where n \u2265 1 and 1 \u2264 i \u2264 n. We write nf for the arity of a function\nf \u2208 O whenever that arity has not yet been given another name. If a \u2208 X n\nis an n-tuple and 1 \u2264 k \u2264 n we write ak for the k-th component of a.\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n5\n\nThe image of a set A \u2286 X n under a function f \u2208 O (n) we denote by f [A].\nSimilarly we write f \u22121 [A] for the preimage of A \u2286 X under f . If A = {c} is\na singleton we cut short and write f \u22121 [c] rather than f \u22121 [{c}]. Occasionally\nwe shall denote the constant function with value c \u2208 X also by c. Whenever\nwe identify X with its cardinality we let < and \u2264 refer to the canonical\nwell-order on X.\n2. The proof of Theorem 1\nIn this section we are going to prove Theorem 1; it will be the direct\nconsequence of Propositions 8, 10, 11, 16, 20, 21, 22, and 28. The first part\nof the proof (Section 2.1) is not much more than a translation of Heindorf's\npaper [4] to arbitrary regular cardinals; the reader familiar with that article\nshould not be surprised to find the same constructions here. In Section 2.2\nwe have to go an own way to finish the proof.\n2.1. The beginning of the proof. We start with a general observation\nwhich will be useful.\nLemma 7. Let G be a proper submonoid of O (1) such that hPol(G ) \u222a {h}i =\nO for all unary h \u2208\n/ G . Then Pol(G ) is maximal.\nProof. Let f \u2208\n/ Pol(G ) be given. Then there exist h1 , . . . , hnf \u2208 G such\nthat h = f (h1 , . . . , hnf ) \u2208\n/ G . Now h \u2208 hG \u222a {f }i \u2286 hPol(G ) \u222a {f }i and\nhPol(G ) \u222a {h}i = O by assumption so that we conclude hPol(G ) \u222a {f }i =\nO.\n\u0003\n2.1.1. The monoids A and B.\nProposition 8. The clones Pol(A ) and Pol(B) are maximal.\nProof. The maximality of Pol(A ) has been proved in [1] for the countable\ncase and in [7] (Proposition 4.1) for arbitrary sets of regular cardinality (although not stated there, the regularity condition is necessary, for otherwise\nA is not closed under composition).\nFor the maximality of Pol(B), let a unary h \u2208\n/ B be given; by Lemma 7,\nit suffices to show hPol(G ) \u222a {h}i = O. By the definition of B there exists\nc \u2208 X such that the preimage Y = h\u22121 [c] is large. Choose any injection\ng : X \u2192 Y ; then h \u25e6 g(x) = c for all x \u2208 X.\nNow let f \u2208 O (n) be an arbitrary function and consider f \u0303 \u2208 O (n+1) defined\nby\n(\nf (x1 , . . . , xn ) , y = c\nf \u0303(x1 , . . . , xn , y) =\ny\n, y 6= c.\nWe claim that f \u0303 \u2208 Pol(B). For let \u03b11 , . . . , \u03b1n , \u03b2 \u2208 B and d \u2208 X be given.\nIf f \u0303(\u03b11 , . . . , \u03b1n , \u03b2)(x) = d, then by the definition of f \u0303 either \u03b2(x) = c and\nf (\u03b11 (x), . . . , \u03b1n (x)) = d or \u03b2(x) 6= c and \u03b2(x) = d. But since \u03b2 \u2208 B,\nthe set of all x \u2208 X such that \u03b2(x) = c or \u03b2(x) = d is small. Hence\nf \u0303(\u03b11 , . . . , \u03b1n , \u03b2)\u22121 [d] is small and so f \u0303(\u03b11 , . . . , \u03b1n , \u03b2) \u2208 B.\n\n\f6\n\nM. PINSKER\n\nNow to finish the proof it is enough to observe that f (x1 , . . . , xn ) =\nf \u0303(x1 , . . . , xn , c) = f \u0303(x1 , . . . , xn , h \u25e6 g(x1 )) \u2208 hPol(B) \u222a {h}i.\n\u0003\nWe will prove now that B is the only proper submonoid of A whose Pol\nis maximal.\nLemma 9. If f \u2208\n/ Pol(A ), then there exist \u03b11 , . . . , \u03b1nf \u2208 O (1) constant or\ninjective such that f (\u03b11 , . . . , \u03b1nf ) \u2208\n/ A.\nProof. Since f \u2208\n/ Pol(A ), there exist \u03b21 , . . . , \u03b2nf \u2208 A such that f (\u03b21 , . . . , \u03b2nf ) \u2208\n/\n(1)\nA . We will use induction over nf . If nf = 1, then f \u2208\n/ Pol(A ) = A so\n/ A which proves the assertion for that case. Now asthat f (\u03c011 ) = f \u2208\nsume the lemma holds for all functions of arity at most nf \u2212 1. Define for\n1 \u2264 i \u2264 nf sets Bi = {y \u2208 X : \u03b2i\u22121 [y] is large}. By definition of A , all Bi\nare small. Set\nY\n\u0393 = (\u03b21 , . . . , \u03b2nf )[X] \\\nBi \u2286 X n f\n1\u2264i\u2264nf\n\nClaim. There exists a large set D \u2286 X such that f \u22121 [d] \u2229 \u0393 is large for all\nd \u2208 D.\nQ\nTo prove the claim, set D = {d \u2208 X : f (\u03b21 , . . . , \u03b2nf )\u22121 [d] large}\\f [ 1\u2264i\u2264nf Bi ].\nQ\nThe set D is large as f (\u03b21 , . . . , \u03b2nf ) \u2208\n/ A and as 1\u2264i\u2264nf Bi is small. Define\n\u22121\nAd = (f (\u03b21 , . . . , \u03b2nf )) [d] for each d \u2208 D. Then (\u03b21 , . . . , \u03b2nf )[Ad ] \u2286 \u0393\nis large for all d \u2208 D. Indeed, assume to the contrary that there exists\nd \u2208 D such that (\u03b21 , . . . , \u03b2nf )[Ad ] is small; then, since |X| = \u03ba is regular, there is an x \u2208 (\u03b21 , .Q\n. . , \u03b2nf )[Ad ] so that (\u03b21 , . . . , \u03b2nf )\u22121 [x] is large. But\nthen we would have x \u2208 1\u2264i\u2264nf Bi , in contradiction to the assumption that\nQ\nd\u2208\n/ f [ 1\u2264i\u2264nf Bi ]. This proves the claim since f \u22121 [d]\u2229\u0393 = (\u03b21 , . . . , \u03b2nf )[Ad ]\nis large for every d \u2208 D.\nDefining hyperplanes Hbi = {x \u2208 X nf : xi = b} for all 1 \u2264 i \u2264 nf and all\nb \u2208 X, we can write \u0393 as follows:\n\u0393=(\n\nnf\n[\n[\n\n\u0393 \u2229 Hbi ) \u222a \u2206,\n\ni=1 b\u2208Bi\n\nSnf S\n\nwhere \u2206 = \u0393 \\ i=1 b\u2208Bi Hbi . Since \u03ba is regular and the union consists only\nof a small number of sets, we have that either there exist 1 \u2264 i \u2264 nf and\nsome b \u2208 Bi such that f \u22121 [d] \u2229 \u0393 \u2229 Hbi is large for a large set of d \u2208 D, or\nf \u22121 [d] \u2229 \u2206 is large for a large set of d \u2208 D. We distinguish the two cases:\nCase 1. There exist 1 \u2264 i \u2264 nf and b \u2208 Bi such that f \u22121 [d] \u2229 \u0393 \u2229 Hbi\nis large for many d \u2208 D; say without loss of generality i = nf . Then\nf (\u03b21 , . . . , \u03b2nf \u22121 , b) \u2208\n/ A . By induction hypothesis, there exist \u03b11 , . . . , \u03b1nf \u22121\ninjective or constant such that f (\u03b11 , . . . , \u03b1nf \u22121 , b) \u2208\n/ A . Setting \u03b1nf (x) = b\nfor all x \u2208 X proves the lemma.\nCase 2. f \u22121 [d] \u2229 \u2206 is large for many d \u2208 D. Observe that for all a \u2208 X\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n7\n\nand all 1 \u2264 i \u2264 nf , \u2206 \u2229 Hai is small, for otherwise \u03b2i\u22121 [a] would be large and\nthus a \u2208 Bi , contradiction. Set\nC = {c \u2208 X : f \u22121 [c] \u2229 \u2206 large}.\nBy the assumption for this case, C is large. Now fix any g : X \u2192 C such\nthat g\u22121 [c] is large for all c \u2208 C. We define a function \u03b1 : X \u2192 \u2206 such that\nn\nf \u25e6 \u03b1 = g; moreover, \u03b1i = \u03c0i f \u25e6 \u03b1 will be injective, 1 \u2264 i \u2264 nf . Identify\nX with its cardinality \u03ba. Then all \u03b1i are injective iff \u03b1i (x) 6= \u03b1i (y) for all\ny < x and all 1 \u2264 i \u2264 nf . This is the case iff\n(\u03b11 , . . . , \u03b1nf )(x) \u2208 \u2206 \\\n\nnf\n[ [\n\nH\u03b1i i (y) .\n\ny<x i=1\n\nUsing transfinite induction on \u03ba, we define (\u03b11 , . . . , \u03b1nf ) by picking\n(\u03b11 , . . . , \u03b1nf )(x) \u2208 (f\n\n\u22121\n\n[g(x)] \u2229 \u2206) \\\n\nnf\n[ [\n\nH\u03b1i i (y) .\n\ny<x i=1\n\nThis is\nas f \u22121 [g(x)] \u2229 \u2206 is large for all x \u2208 X whereas \u2206 \u2229\nS\nSnpossible\nf\ni\n/ A and the proof of\ny<x i=1 H\u03b1i (y) is small. Clearly f (\u03b11 , . . . , \u03b1nf ) = g \u2208\nthe lemma is complete.\n\u0003\nProposition 10. Let G \u2286 A be a submonoid of O (1) which contains all\npermutations. Then either G \u2286 B or Pol(G ) \u2286 Pol(A ).\nProof. Assume G * B; we show Pol(G ) \u2286 Pol(A ). Observe first that for\nall co-large A \u2286 X and all a \u2208 X there exists g \u2208 G such that g[A] = {a}.\nIndeed, choose any h \u2208 G \\ B. There exists y \u2208 X such that h\u22121 [y] is large.\nChoose bijections \u03b1, \u03b2 \u2208 S with the property that \u03b1[A] \u2286 h\u22121 [y] and that\n\u03b2(y) = a. Then g = \u03b2 \u25e6 h \u25e6 \u03b1 has the desired property.\nNow let f \u2208\n/ Pol(A ) be arbitrary; we show f \u2208\n/ Pol(G ). By the preceding\n/\nlemma there exist \u03b11 , . . . , \u03b1nf constant or injective such that f (\u03b11 , . . . , \u03b1nf ) \u2208\n\u22121\nA . Choose a large and co-large A \u2286 X such that f (\u03b11 , . . . , \u03b1nf ) [x] \u2229 A\nis large for a large set of x \u2208 X. We modify the \u03b1i to \u03b3i \u2208 G in such a\nway that \u03b1i \u21beA = \u03b3i \u21beA for 1 \u2264 i \u2264 nf : If \u03b1i is injective, then we can choose\n\u03b3i to be a bijection. If \u03b1i is constant, then \u03b3i is delivered by the observation we just made. Thus, as f (\u03b11 , . . . , \u03b1nf ) \u21beA = f (\u03b31 , . . . , \u03b3nf ) \u21beA we have\nf (\u03b31 , . . . , \u03b3nf ) \u2208\n/ A \u2287 G.\n\u0003\nProposition 11. Let G \u2286 B be a submonoid of O (1) which contains all\npermutations. Then Pol(G ) \u2286 Pol(B).\nProof. For arbitrary f \u2208\n/ Pol(B) we show f \u2208\n/ Pol(G ). There are \u03b21 , . . . , \u03b2nf \u2208\nB such that there exists c \u2208 X with the property that f (\u03b21 , . . . , \u03b2nf )\u22121 [c]\nis large. Define \u0393 = (\u03b21 , . . . , \u03b2nf )[X]. Then since \u03b2i \u2208 B, Hai \u2229 \u0393 is small\nfor all 1 \u2264 i \u2264 nf and all a \u2208 X, where Hai = {x \u2208 X nf : xi = a}. Moreover, f \u22121 [c] \u2229 \u0393 is large. Just like at the end of the proof of Lemma 9,\n\n\f8\n\nM. PINSKER\n\nwe can construct injective \u03b11 , . . . , \u03b1nf such that f (\u03b11 , . . . , \u03b1nf ) is constant\nwith value c. Choose A \u2286 X large and co-large and bijections \u03b31 , . . . , \u03b3nf\nsuch that \u03b3i \u21beA = \u03b1i \u21beA for 1 \u2264 i \u2264 nf . Then, being constant on A,\nf (\u03b31 , . . . , \u03b3nf ) \u2208\n/ B \u2287 G . Thus, f \u2208\n/ Pol(G ).\n\u0003\n2.1.2. Generous functions. We now turn to monoids G \u2287 S which are not\nsubmonoids of A . Our first goal is Proposition 16, in which we give a\npositive description of such monoids.\nDefinition 12. A function f \u2208 O (1) is called generous iff f \u22121 [y] is either\nlarge or empty for all y \u2208 X.\nNotation 13. Let 0 \u2264 \u03bb \u2264 \u03ba be a cardinal. We denote by I\u03bb the set of all\ngenerous functions f with the property that |X \\ f [X]| = \u03bb.\nThe verification of the following simple facts is left to the reader.\nLemma 14.\n(1) If g \u2208 O (1) is generous, then f \u25e6 g is generous for all\nf \u2208 O (1) .\n(2) I\u03bb is a subsemigroup and I\u03bb \u222aS a submonoid of O (1) for all \u03bb \u2264 \u03ba.\n(3) If \u03bb < \u03ba and f, g \u2208 I\u03bb , then there exist \u03b1, \u03b2 \u2208 S such that f =\n\u03b1 \u25e6 g \u25e6 \u03b2.\n(4) I\u03ba contains all generous functions with small range, in particular\nthe constant functions.\n(5) If g \u2208 I\u03ba has large range, then hS \u222a {g}i \u2287 I\u03ba .\nLemma 15. If g \u2208\n/ A , then there exists \u03b1 \u2208 S such that the function\ng \u25e6 \u03b1 \u25e6 g is generous and has large range.\nProof. There exists a large set A \u2286 X such that g \u22121 [a] is large for all\na \u2208 A. Fix any a0 \u2208 A and set B0 = g\u22121 [a0 ]. Write A as a disjoint union:\nA = {a0 } \u222a A1 \u222a A2 , with A1 , A2 large, and set Bi = g\u22121 [Ai ], i = 1, 2.\nChoose any injective partial mapping \u03b1\ne defined on X \\ A2 which satisfies\n\u03b1\ne[A1 ] = B1 and \u03b1\ne[X \\ (A1 \u222a A2 )] \u2286 B0 . Since both domain and range of\n\u03b1\ne are large and co-large, we can extend the function to a bijection \u03b1 \u2208 S .\nNow g \u25e6\u03b1 \u25e6g[X] \u2287 g \u25e6\u03b1[A1 ] = g[B1 ] = A1 , so g \u25e6\u03b1 \u25e6g has large range. For all\nx \u2208 B1 \u222a B2 , the equivalence class of x in the kernel of g is large, and hence\nalso the class of x in the kernel of g \u25e6 \u03b1 \u25e6 g. If on the other hand x \u2208\n/ B1 \u222a B2 ,\nthen g(x) \u2208\n/ A1 \u222a A2 , so that \u03b1 \u25e6 g(x) \u2208 B0 and therefore g \u25e6 \u03b1 \u25e6 g(x) = a0 .\nBut for all y \u2208 B0 we have g \u25e6 \u03b1 \u25e6 g(y) = a0 so that the kernel class of x is\nagain large. Whence, g \u25e6 \u03b1 \u25e6 g is generous.\n\u0003\nProposition 16. Let G \u2286 O (1) be a monoid containing all bijections. Then\neither G \u2286 A or there exists a cardinal \u03bb \u2264 \u03ba such that I\u03bb \u2286 G .\nProof. This is an immediate consequence of Lemmas 14 and 15.\n\n\u0003\n\nThe preceding proposition implies that when considering submonoids G\nof O (1) which contain the permutations, we can from now on assume that\nI\u03bb \u2286 G for some \u03bb, since we already treated the case G \u2286 A . We distinguish\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n9\n\ntwo cases corresponding to the minimal \u03bb with the property that I\u03bb \u2286 G ,\n\u03bb > 0 and \u03bb = 0.\n2.1.3. The case 0 < \u03bb \u2264 \u03ba. We shall now investigate the case where G + I0\nbut G contains I\u03bb for some 0 < \u03bb < \u03ba. The following facts about the G\u03bb\nare left to the reader. The proof of (4) can be found in [7] (Lemma 5.2).\nLemma 17. The following statements hold for all 1 \u2264 \u03bb \u2264 \u03ba.\n(1) If g \u2208 O (n) and |X \\ g[X n ]| \u2265 \u03bb, then g \u2208 Pol(G\u03bb ).\n(2) G\u03bb is a submonoid of O (1) .\n(3) Gn % Gn+1 for all 1 \u2264 n < \u05d00 .\n(4) For \u03bb = 1 and for \u03bb \u2265 \u05d00 , G\u03bb is a maximal submonoid of O (1) .\nLemma 18. Let 1 \u2264 \u03bb \u2264 \u03ba. If h \u2208\n/ G\u03bb , then there exists a \u03bb0 < \u03bb such that\nhI\u03bb \u222a S \u222a {h}i \u2287 I\u03bb0 . In particular, hG\u03bb \u222a {h}i \u2287 I\u03bb0 .\nProof. There exists A \u2286 X, |A| = \u03bb such that |X \\ h[X \\ A]| < \u03bb. Set\n\u03bb0 = |X \\ h[X \\ A]|. Choose a generous function g with g[X] = X \\ A. Then\ng \u2208 I\u03bb since |X \\ g[X]| = |A| = \u03bb; thus, h \u25e6 g \u2208 hI\u03bb \u222a {h}i. On the other\nhand, h \u25e6 g \u2208 I\u03bb0 and hence hI\u03bb \u222a S \u222a {h}i \u2287 I\u03bb0 by Lemma 14 (3). The\nsecond statement is a direct consequence of the inclusion G\u03bb \u2287 I\u03bb \u222a S . \u0003\nLemma 19. Let B \u2286 X, |B| = \u03bb0 < \u03bb \u2264 \u03ba, and let g \u2208 O (2) such that g\nmaps (X \\ B)2 bijectively onto X and such that |g[B \u00d7 X] \u222a g[X \u00d7 B]| < \u03ba.\nThen g \u2208 Pol(G\u03bb ).\nProof. Let \u03b1, \u03b2 \u2208 G\u03bb be given, and take an arbitrary A \u2286 X of size \u03bb. We\nhave to show |X \\ g(\u03b1, \u03b2)[X \\ A]| \u2265 \u03bb. For C = X \\ \u03b1[X \\ A] we have\n|C| \u2265 \u03bb. Thus, there exists some c \u2208 C \\ B. Obviously, g(\u03b1, \u03b2)[X \\ A] \u2286\ng[(X \\ {c}) \u00d7 X]. But the conditions on g yield that g[(X \\ {c}) \u00d7 X] and\ng[{c}\u00d7(X \\B)]\\(g[X \u00d7B]\u222ag[B\u00d7X]) are disjoint. Since |g[{c}\u00d7(X \\B)]| = \u03ba\nand |g[X \u00d7 B] \u222a g[B \u00d7 X]| < \u03ba, this implies that g(\u03b1, \u03b2) misses \u03ba values on\nX \\ A and hence, g(\u03b1, \u03b2) \u2208 G\u03bb and g \u2208 Pol(G\u03bb ).\n\u0003\nProposition 20.\n(1) Pol(G\u03bb ) is a maximal clone for all 1 \u2264 \u03bb \u2264 \u03ba.\n(2) Let G \u2286 O (1) be a monoid containing all bijections as well as some\nI\u03bb , where 0 \u2264 \u03bb \u2264 \u03ba, and let \u03bb be minimal with this property. If\n\u03bb > 0, then Pol(G ) \u2286 Pol(G\u03bb ).\nProof. (1) We show hPol(G\u03bb ) \u222a {h}i = O for an arbitrary h \u2208 O (1) \\ G\u03bb . By\nLemma 18, there exists \u03bb0 < \u03bb such that I\u03bb0 \u2286 hG\u03bb \u222a {h}i. Now choose B\nand g \u2208 Pol(G\u03bb ) as in Lemma 19. Consider \u03b1 : X \u2192 (X \\ B)2 such that \u03b1\ntakes every value twice. Clearly, \u03b11 = \u03c012 \u25e6 \u03b1 and \u03b12 = \u03c022 \u25e6 \u03b1 are elements\nof I\u03bb0 . The function p = g(\u03b11 , \u03b12 ) = g \u25e6 \u03b1 maps X onto X and takes\nevery value twice as well. Therefore we can find a co-large set A such that\np[A] = X. Now fix a mapping q : X \u2192 A so that p \u25e6 q is the identity map\non X. Let an arbitrary f \u2208 O be given. Then q \u25e6 f [X nf ] \u2286 A is co-large\nwhich immediately implies q \u25e6 f \u2208 Pol(G\u03bb ). But then f = p \u25e6 (q \u25e6 f ) = f \u2208\nhPol(G\u03bb ) \u222a {h}i and so hPol(G\u03bb ) \u222a {h}i = O as f was arbitrary.\n\n\f10\n\nM. PINSKER\n\n(2) First we claim that G \u2286 G\u03bb . Indeed, assume there exists h \u2208 G \\ G\u03bb .\nThen, as I\u03bb \u222a S \u2286 G , by Lemma 18 there exists \u03bb0 < \u03bb such that I\u03bb0 \u2286 G ,\nin contradiction to the minimality of \u03bb. Now let f \u2208\n/ Pol(G\u03bb ) be arbitrary; we\nprove f \u2208\n/ Pol(G ). There exist \u03b11 , . . . , \u03b1nf \u2208 G\u03bb such that f (\u03b11 , . . . , \u03b1nf ) \u2208\n/\nG\u03bb . That is, there exists A \u2286 X of size \u03bb with the property that |X \\ f [\u0393]| <\n\u03bb, where \u0393 = {(\u03b11 (x), . . . , \u03b1nf (x)) : x \u2208 X \\ A}. Since \u03b1i \u2208 G\u03bb , 1 \u2264 i \u2264 nf ,\nfor each i there exists a set Bi \u2286 X, |Bi | = \u03bb, such that \u03b1i [X \\ A] \u2229 Bi = \u2205.\nThen \u0393 \u2286 \u2206 = (X \\ B1 ) \u00d7 . . . \u00d7 (X \\ Bnf ). Choose \u03b2 : X \u2192 \u2206 onto and\nn\ngenerous. Clearly \u03b2i = \u03c0i f \u25e6 \u03b2 \u2208 I\u03bb \u2286 G for all 1 \u2264 i \u2264 nf . Now we\nchoose any C \u2286 X of size \u03bb such that \u03b2[X \\ C] = \u03b2[X]. This is possible\nsince \u03b2 is generous. Then we have that f (\u03b21 , . . . , \u03b2nf )[X \\ C] = f [\u2206] \u2287 f [\u0393]\nand so, as |X \\ f [\u2206]| \u2264 |X \\ f [\u0393]| < \u03bb, f (\u03b21 , . . . , \u03b2nf ) \u2208\n/ G\u03bb \u2287 G . Hence,\nf\u2208\n/ Pol(G ).\n\u0003\n2.1.4. The case \u03bb = 0 and G \u2286 F . In the following proposition we treat\nthe case where I0 \u2286 G \u2286 E \u2286 F .\nProposition 21.\n(1) Pol(E ) is a maximal clone.\n(2) If G \u2286 O (1) is a monoid containing all bijections as well as I0 , and\nif G \u2286 E , then Pol(G ) \u2286 Pol(E ).\nProof. (1) We prove that for any unary h \u2208\n/ E we have hPol(E ) \u222a {h}i = O.\nBy definition h[X] is co-large, so we can fix A \u2286 X large and co-large such\nthat A \u2229 h[X] = \u2205. Choose any g \u2208 O (1) which maps A onto X and which\nis constantly 0 \u2208 X on X \\ A. Then g \u2208 E as it is onto. Moreover, g \u25e6 h is\nconstantly 0. Now let an arbitrary f \u2208 O (n) be given and define a function\nf \u0303 \u2208 O (n+1) by\n(\nf (x1 , . . . , xn ) , y = 0\nf \u0303(x1 , . . . , xn , y) =\ny\n, otherwise\nThen f \u0303 \u2208 Pol(E ). Indeed, this follows from the inclusion f \u0303(\u03b11 , . . . , \u03b1n , \u03b2)[X] \u2287\n\u03b2[X] \\ {0} for arbitrary \u03b11 , . . . , \u03b1n , \u03b2 \u2208 O (1) . Now f (x) = f \u0303(x, 0) =\nf \u0303(x, g \u25e6 h(x1 )) for all x \u2208 X n and so f \u2208 hPol(E ) \u222a {h}i.\n(2) Taking an arbitrary f \u2208\n/ Pol(E ) we show that f \u2208\n/ Pol(G ). There exist\n\u03b11 , . . . , \u03b1nf almost surjective such that f (\u03b11 , . . . , \u03b1nf ) is not almost surjective. Consider a small set A \u2286 X so that A \u222a \u03b1i [X] = X for all 1 \u2264 i \u2264 nf .\nLet \u03b3 be a surjection from X \\ A onto X and define for 1 \u2264 i \u2264 nf functions\n(\n\u03b1i \u25e6 \u03b3(x) , x \u2208 X \\ A\n\u03b2i (x) =\nx\n,x \u2208 A\nClearly, all \u03b2i are surjective and f (\u03b21 , . . . , \u03b2nf )[X] = f (\u03b11 , . . . , \u03b1nf )[X] \u222a\n{f (x, . . . , x) : x \u2208 A} is co-large. Fix any \u03b4 \u2208 I0 . Obviously \u03b2i \u25e6\u03b4 \u2208 I0 \u2286 G\nand also f (\u03b21 \u25e6 \u03b4, . . . , \u03b2nf \u25e6 \u03b4)[X] is co-large. Thus f (\u03b21 \u25e6 \u03b4, . . . , \u03b2nf \u25e6 \u03b4) \u2208\n/\nE \u2287 G so that we infer f \u2208\n/ Pol(G ).\n\u0003\nIn a next step we see what happens in the case I0 \u2286 G \u2286 F and G * E .\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n11\n\nProposition 22.\n(1) Pol(F ) is a maximal clone.\n(2) If G \u2286 F is a monoid which contains I0 as well as all bijections,\nand if G * E , then Pol(G ) \u2286 Pol(F ).\nProof. (1) can be found in [7] (Proposition 3.1).\nFor (2), let f \u2208\n/ Pol(F ) and fix \u03b11 , . . . , \u03b1nf \u2208 F satisfying f (\u03b11 , . . . , \u03b1nf ) \u2208\n/\nF . Since G * E but G \u2286 F , G must contain a constant function, and\nhence all constant functions as S \u2286 G . For those of the \u03b1i which are not\nconstant we construct \u03b2i as in the proof of the preceding proposition, and\nfor the constant ones we set \u03b2i = \u03b1i . Observe that it is impossible that all\n\u03b1i are constant. Choosing any \u03b4 \u2208 I0 we obtain that for all 1 \u2264 i \u2264 nf ,\n\u03b2i \u25e6 \u03b4 is either constant or an element of I0 , and hence in either case an\nelement of G . But as in the preceding proof, f (\u03b21 \u25e6 \u03b4, . . . , \u03b2nf \u25e6 \u03b4) \u2208\n/F \u2287G\nso that f \u2208\n/ Pol(G ).\n\u0003\n2.1.5. The case \u03bb = 0 and G * F . To conclude, we consider submonoids G\nof O (1) which contain the bijections as well as I0 , but which are not submonoids of F . It turns out that the polymorphism clones of such monoids\nare never maximal. We start with a simple fact about such monoids.\nLemma 23. Let G \u2286 O (1) be a monoid containing S \u222aI0 such that G * F .\nThen X = {\u03c1 \u2208 O (1) : |\u03c1[X]| = 2 and \u03c1 is generous} \u2286 G .\nProof. Let f \u2208 G \\ F . Since f is not constant there exist a 6= b in the range\nof f . Let s : X \\ f [X] \u2192 X be onto and generous and define g \u2208 O (1) by\n\uf8f1\n\uf8f4\n/ f [X]\n\uf8f2s(x) , x \u2208\ng(x) = a\n,x = a\n\uf8f4\n\uf8f3\nb\n, otherwise\n\nThen g \u2208 I0 \u2286 G and so g \u25e6 f \u25e6 g \u2208 G . On the other hand, g \u25e6 f \u25e6 g \u2208 X\nwhich proves the lemma since obviously any function of X together with\nthe permutations generate all of X .\n\u0003\n\nNotation 24. We set L = hX \u222a I0 \u222a S i. Moreover, we write Const for\nthe set of all constant functions.\nThe following description of L is readily verified.\nLemma 25. L = Const \u222aX \u222a I0 \u222a S . In words, L consists exactly of\nthe bijections as well as of all generous functions which are either onto or\ntake at most two values.\nDefinition 26. A function f (x1 , . . . , xn ) \u2208 O (n) is almost unary iff there\nexist a mapping F from X to the power set of X and some 1 \u2264 k \u2264 n such\nthat F (x) is small for all x \u2208 X and such that for all (x1 , . . . , xn ) \u2208 X n we\nhave f (x1 , . . . , xn ) \u2208 F (xk ). We denote the set of all almost unary functions\nby U .\n\n\f12\n\nM. PINSKER\n\nIt is easy to see that on a base set of regular cardinality, U is a clone which\ncontains O (1) . See [5] for a list of all clones above U ; there are countably\nmany, so in particular U is not maximal. The reason for us to consider\nalmost unary functions is the following lemma.\nLemma 27. Let f \u2208 O (n) \\ U be any function which is not almost unary.\nThen h{f } \u222a L i \u2287 O (1) .\nTherefore we have\nProposition 28. If G \u2286 O (1) is a nontrivial monoid such that S \u222a I0 \u2286 G\nand such that G * F , then Pol(G ) \u2286 U . In particular, Pol(G ) is not\nmaximal.\nIn his proof for countable base sets, Heindorf used the following completeness criterion which has been shown by Gavrilov [1] (Lemma 31 on page 51)\nto hold on countable base sets; it will follow from our proof of Lemma 27\nthat this criterion holds on all regular cardinals.\nProposition 29. Let X have regular cardinality. If G \u2286 O (1) is a monoid\ncontaining S \u222a I0 \u222a X , and if H \u2286 O is a set of functions such that\nhO (1) \u222a H i = O, then hG \u222a H i = O.\nThe criterion can be used alternatively to show that Pol(G ) is not maximal\nfor the remaining monoids G : We have just seen that X \u2286 G so we can apply\nProposition 29. Suppose towards contradiction that Pol(G ) is maximal.\nSince Pol(G )(1) = G $ O (1) we have hO (1) \u222a Pol(G )i = O. But then setting\nH = Pol(G ) in the proposition yields that hG \u222a Pol(G )i = O, which is\nimpossible as hG \u222a Pol(G )i = Pol(G ) 6= O, contradiction.\n2.2. The proof of Lemma 27 and Proposition 29.\nLemma 30. Let u \u2208 O (1) be injective and not almost surjective. Then\nh{u} \u222a I0 i \u2287 O (1) . In particular, h{u} \u222a L i \u2287 O (1) .\nProof. Let an arbitrary f \u2208 O (1) be given. Take any s : X \\ u[X] \u2192 X\nwhich is generous and onto. Now define g \u2208 O (1) by\n(\nf (u\u22121 (x)) , x \u2208 u[X]\ng(x) =\ns(x)\n, otherwise\nSince g \u21beX\\u[X] = s we have g \u2208 I0 . Clearly, f = g \u25e6 u \u2208 h{u} \u222a I0 i.\n\n\u0003\n\nOur strategy for proving Lemma 27 is to show that L together with a\nnot almost unary f generate a function u as in Lemma 30. We start by\nobserving that L and f generate functions of arbitrary range.\nLemma 31. Let f \u2208 O (n) \\ U . Then there exists a unary g \u2208 h{f } \u222a L i\nsuch that the range of g is large and co-large.\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n13\n\nProof. We distinguish two cases.\nCase 1. For all 1 \u2264 i \u2264 n and all c \u2208 X it is true that the image of the\nhyperplane Hci under f is co-small, where Hci = {x \u2208 X n : xi = c}. Then\nconsider an arbitrary large and co-large A \u2286 X. Set \u0393 = f \u22121 [X \\ A] \u2286 X n\nand let \u03b1 : X \u2192 \u0393 be onto. By the assumption for this case, f [Hci ] \\ A is\nstill large for all 1 \u2264 i \u2264 n and all c \u2208 X. Thus the components \u03b1i = \u03c0in \u25e6 \u03b1\nare generous and onto; hence, \u03b1i \u2208 I0 \u2286 L for all 1 \u2264 i \u2264 n. But now\nf (\u03b11 , . . . , \u03b1n )[X] = f [X n ] \\ A is large and co-large so that it suffices to set\ng = f \u25e6 \u03b1.\nCase 2. There exist 1 \u2264 i \u2264 n and c \u2208 X such that the image f [Hci ] of the\n/ U,\nhyperplane Hci is co-large, say without loss of generality i = 1. Since f \u2208\nn\u22121\n1\nlarge and\nthere exists d \u2208 X satisfying that f [Hd ] is large. Choose \u0393 \u2286 X\nco-large such that f [{d} \u00d7 \u0393] is large and such that f [Hc1 ] \u222a f [{d} \u00d7 \u0393] is still\nco-large. Take moreover \u03b12 , . . . , \u03b1n \u2208 I0 so that (\u03b12 , . . . , \u03b1n )[X] = X n\u22121 .\nNow we define \u03b11 \u2208 O (1) by\n(\nd , (\u03b12 , . . . , \u03b1n )(x) \u2208 \u0393\n\u03b11 (x) =\nc , otherwise.\nClearly, \u03b11 \u2208 X \u2286 L . Now it is enough to set g = f (\u03b11 , . . . , \u03b1n ) and\nobserve that g[X] = f [{c}\u00d7(X n\u22121 \\\u0393)]\u222af [{d}\u00d7\u0393] is large and co-large. \u0003\nLemma 32. Let f \u2208 O (n) \\ U . Then for all nonempty A \u2286 X there exists\nh \u2208 h{f } \u222a L i with h[X] = A.\nProof. By Lemma 31 there exists g \u2208 h{f } \u222a L i having a large and co-large\nrange. Now taking any \u03b4 \u2208 I0 \u2286 L with \u03b4[g[X]] = A and setting h = \u03b4 \u25e6 g\nproves the assertion.\n\u0003\nLemma 33. If f \u2208 O (n) \\U , then h{f }\u222aL i contains all generous functions.\nProof. Let any generous g \u2208 O (1) be given and take with the help of the\npreceding lemma h \u2208 h{f } \u222a L i with h[X] = g[X]. By setting h\u2032 = h \u25e6 \u03b4,\nwhere \u03b4 \u2208 I0 \u2286 L is arbitrary, we obtain a generous function with the same\nproperty. Now it is clear that there exists a bijection \u03c3 \u2208 S \u2286 L such that\ng = h\u2032 \u25e6 \u03c3.\n\u0003\nNow that we know that we have all generous functions we want to make\nthem injective. We start by reducing the class of functions f under consideration.\nLemma 34. If f \u2208 O (n) \\ U is so that for all 1 \u2264 i \u2264 n and for all a, b \u2208 X\nthe set of all tuples (x1 , . . . , xi\u22121 , xi+1 , . . . , xn ) \u2208 X n\u22121 with f (x1 , . . . , xi\u22121 , a, xi+1 , . . . , xn ) 6=\nf (x1 , . . . , xi\u22121 , b, xi+1 , . . . , xn ) is small, then h{f } \u222a L i \u2287 O (1) .\nProof. Since f \u2208\n/ U we can for every 1 \u2264 i \u2264 n choose ci \u2208 X such that\ni\ni\nf [Hci ] is large.\nSn Choose moreover for every 1 \u2264 i \u2264 n large sets Ai \u2286 f [Hci ]\nsuch that i=1 Ai is co-large and such that Ai \u2229 Aj = \u2205 for i 6= j. Write each\n\n\f14\n\nM. PINSKER\n\nS\nAi as a disjoint union of many large sets: Ai = x\u2208X Axi . Let \u22b3 be any wellorder of X n of type \u03ba. Define \u0393 \u2286 X n by x \u2208 \u0393 iff there exists 1 \u2264 i \u2264 n\nsuch that f (x) \u2208 Axi i and whenever y \u22b3 x and y \u2208 \u0393 then f (x) 6= f (y).\nObserve that the latter condition ensures that f \u21be\u0393 is injective.\nNow observe that for all 1 \u2264 i \u2264 n, all d \u2208 X and all large B \u2286 Ai we\nhave that f [Hdi ] \u2229 B is large. Indeed, say without loss of generality i = 1\nand set D = {(x2 , . . . , xn ) : f (d, x2 , . . . , xn ) 6= f (c1 , x2 , . . . , xn )}. Then D is\nsmall by our assumption. Now |f [Hd1 ] \u2229 B| \u2265 |f [{d} \u00d7 (X n\u22121 \\ D)] \u2229 B| =\n|f [{c1 } \u00d7 (X n\u22121 \\ D)] \u2229 B| = \u03ba. In particular, this observation is true for\nB = Adi . This implies that the set {x \u2208 \u0393 : xi = d} is large for all 1 \u2264 i \u2264 n\nand all d \u2208 X. Moreover, \u0393 itself is large.\nTherefore there exists a bijection \u03b1 : X \u2192 \u0393. By the preceding observation, the components \u03b1i = \u03c0in \u25e6 \u03b1 are onto and generous, so \u03b1i \u2208 I0 \u2286 L\nfor all 1 \u2264 i \u2264 n. Since \u03b1 is injective, \u03b1[X] = \u0393 and f \u21be\u0393 is injective,\nwe have that g = f (\u03b11 , . . . , \u03b1n ) \u2208 h{f } \u222a L i is injective. Furthermore,\nS\ng[X] = f [\u0393] \u2286 ni=1 Ai is co-large. Whence O (1) \u2286 h{g} \u222a L i \u2286 h{f } \u222a L i\nby Lemma 30 and we are done.\n\u0003\n\nLemma 35. If f \u2208 O (n) \\ U is so that for all 1 \u2264 i \u2264 n there exist c \u2208 X\nand S \u2286 Hci such that f [S] is large and such that for all b \u2208 X the set {x \u2208\nS : f (x) 6= f (x1 , . . . , xi\u22121 , b, xi+1 , . . . , xn )} is small, then h{f } \u222a L i \u2287 O (1) .\nProof. Fix for every 1 \u2264 i \u2264 n an element ci \u2208 X and a set Si \u2286 Hcii\nsuch that f [Si ] large and such that for all b \u2208 X the set {x \u2208 Si : f (x) 6=\nf (x1 , . . . , xi\u22121 , b, xi+1 , . . . , xn )} is small. Set Ai = f [Si ], 1 \u2264 i \u2264Sn. By\nthinning out the Si we can assume that the Ai are disjoint and that ni=1 Ai\nis co-large. Now one follows the proof of the preceding lemma.\n\u0003\nLemma 36. If f \u2208 O (n) \\U , then there exists g \u2208 h{f }\u222aL i having co-large\nrange and with the property that {x \u2208 X : |g\u22121 [x]| = 1} is large (that is, the\nkernel of g has \u03ba one-element classes).\n\nProof. There is nothing to prove if f satisfies the condition of Lemma 35,\nso assume it does not, and let i = 1 witness this. Take c \u2208 X such that\nf [Hc1 ] is large and choose S \u2286 Hc1 with the property that f [S] is still large\nand that f \u21beS is injective. By assumption, there exists b \u2208 X such that\n{x \u2208 S : f (x) 6= f (b, x2 , . . . , xn )} is large. Thus, we can find a large A \u2286 S\nwith the property that f [A] and f [{(b, x2 , . . . , xn ) : x \u2208 A}] are disjoint\nand such that the union of these two sets is co-large. Choose now generous\n\u03b12 , . . . , \u03b1n \u2208 O (1) such that (c, \u03b12 , . . . , \u03b1n )[X] = A. Since h{f }\u222aL i contains\nall generous functions by Lemma 33, we have \u03b1j \u2208 L for 2 \u2264 j \u2264 n. Take\na large and co-large B \u2286 X such that (c, \u03b12 , . . . , \u03b1n ) \u21beB is injective. Define\n(\nc ,x \u2208 B\n\u03b11 (x) =\nb , otherwise\nand set g = f (\u03b11 , . . . , \u03b1n ). Then g \u2208 h{f } \u222a L i as \u03b11 \u2208 X \u2286 L . Clearly,\n(\u03b11 , . . . , \u03b1n ) \u21beB is injective and so is g \u21beB . Since g[B] and g[X \\ B] are\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n15\n\ndisjoint we have that |g\u22121 [x]| = 1 for all x \u2208 g[B]. Moreover, g[X] \u2286\nf [A] \u222a f [{(b, x2 , . . . , xn ) : x \u2208 A}] is co-large.\n\u0003\nLemma 37. Let f \u2208 O (n) \\ U . If h \u2208 O (1) is a function whose kernel has\nat least one large equivalence class (that is, there exists x \u2208 X with h\u22121 [x]\nlarge), then h \u2208 h{f } \u222a L i.\nProof. There exist a large B \u2286 X and b \u2208 X such that h[B] = {b}. Let g\nbe provided by the preceding lemma. With the help of permutations of the\nbase set we can assume that |g\u22121 [x]| = 1 for all x \u2208 g[X \\ B]. Since the\nrange of g is co-large we can find \u03b4 : X \\ g[X] \u2192 X onto and generous. Now\ndefine m \u2208 O (1) by\n\uf8f1\n\uf8f4\n,x \u2208\n/ g[X]\n\uf8f2\u03b4(x)\nm(x) = b\n, x \u2208 g[B]\n\uf8f4\n\uf8f3 \u22121\nh(g (x)) , x \u2208 g[X \\ B].\n\nObviously m \u2208 I0 \u2286 L and h = m \u25e6 g \u2208 h{f } \u222a L i.\n\n\u0003\n\nHaving found many functions which h{f }\u222aL i must contain, we are finally\nready to prove Lemma 27.\nProof of Lemma 27. There are c1 , . . . , cn \u2208 X such that f [Hcii ] is large for\n1 \u2264 i \u2264 n. Take for all 1 \u2264 i \u2264 n large Bi \u2286 HciS\nwith the property that\ni\nf \u21beB is injective and f [B] is co-large, where B = ni=1 Bi . Let \u03b1 : X \u2192 B\nn\nbe any bijection. Since \u03b1\u22121\ni [ci ] is large for every component \u03b1i = \u03c0i \u25e6 \u03b1,\nthe preceding lemma yields \u03b1i \u2208 h{f } \u222a L i for 1 \u2264 i \u2264 n. Whence, g =\nf (\u03b11 , . . . , \u03b1n ) \u2208 h{f } \u222a L i. But g[X] = f [B] is co-large and g is injective\nby construction; thus Lemma 30 yields O (1) \u2286 h{g} \u222a L i \u2286 h{f } \u222a L i. \u0003\nProof of Proposition 29. Since hO (1) \u222a H i = O, there must exist some f \u2208\nH \\ U . But then, since G \u2287 L , Lemma 27 implies hG \u222a H i \u2287 O (1) so that\nwe infer hG \u222a H i = O.\n\u0003\n3. The proof of Theorem 4\nWe now determine on an infinite X all maximal submonoids of O (1) which\ncontain the permutations, proving Theorem 4. In a first section, we present\nthe part of the proof which works on all infinite sets; then follow one section\nspecifically for the case of a base set of regular cardinality and another\nsection for the singular case. Throughout all parts we will mention explicitly\nwhenever a statement is true only on X of regular or singular cardinality,\nrespectively.\n3.1. The part which works for all infinite sets.\nProposition 38. G\u03bb is a maximal submonoid of O (1) for \u03bb = 1 and \u05d00 \u2264\n\u03bb \u2264 \u03ba.\n\n\f16\n\nM. PINSKER\n\nProof. As already mentioned in Lemma 17, the maximality of the G\u03bb for\n\u03bb = 1 or infinite has been proved in [7] (Lemma 5.2).\n\u0003\nThe maximal monoids of Proposition 38 already appeared in the preceding\nsection since they give rise to maximal clones via Pol. We shall now expose\nmaximal monoids above the permutations which do not have this property.\nRecall that M\u03bb consists of all functions which are either \u03bb-surjective or not\n\u03bb-injective.\nProposition 39. Let \u03bb = 1 or \u05d00 \u2264 \u03bb \u2264 \u03ba. Then M\u03bb is a maximal\nsubmonoid of O (1) .\nProof. We show first that M\u03bb is closed under composition. Let therefore\nf, g \u2208 M\u03bb , that is, those functions are either \u03bb-surjective or not \u03bb-injective;\nwe claim that f \u25e6 g has either of these properties. It is clear that if g is not\n\u03bb-injective, then f \u25e6 g has the same property. So let g be \u03bb-surjective. It\nis easy to see that if f is \u03bb-surjective, then so is f \u25e6 g. So assume finally\nthat f is not \u03bb-injective. We claim that f \u25e6 g is not \u03bb-injective either. For\n\u03bb = 1 this is just the statement that if f is not injective, and g is surjective,\nthen f \u25e6 g is not injective, which is obvious. Now consider the infinite\ncase. There exist disjoint A, B \u2286 X of size \u03bb such that f [A] = f [B]. Set\nA\u2032 = A \u2229 g[X]; A\u2032 still has size \u03bb as g misses less than \u03bb values. Clearly\nB \u2032 = {x \u2208 B : \u2203y \u2208 A\u2032 (f (x) = f (y))} has size \u03bb as well and so does\nB \u2032\u2032 = B \u2032 \u2229 g[X]. But now for the sets C = g\u22121 [A\u2032 ] and D = g\u22121 [B \u2032\u2032 ] it is\ntrue that |C|, |D| \u2265 \u03bb, C \u2229 D = \u2205, and f \u25e6 g[C] = f \u25e6 g[D]; hence f \u25e6 g is not\n\u03bb-injective.\nNow we prove that M\u03bb is maximal in O (1) . Consider for this reason any\nm\u2208\n/ M\u03bb , that is, m is \u03bb-injective and misses at least \u03bb values. There exists\nA \u2286 X so that |X \\ A| < \u03bb and such that the restriction of m to A is\ninjective. Take any injection i \u2208 O (1) with i[X] = A. Then i \u2208 M\u03bb as i is\n\u03bb-surjective. Now let f \u2208 O (1) be arbitrary. Define\n(\nf ((m \u25e6 i)\u22121 (x)) , x \u2208 m \u25e6 i[X]\ng(x) =\na\n, otherwise\nwhere a \u2208 X is any fixed element of X. Being constant on the complement\nof the range of m, g it is not \u03bb-injective and whence an element of M\u03bb .\nTherefore f = g\u25e6m\u25e6i \u2208 hM\u03bb \u222a{m}i so that we infer hM\u03bb \u222a{m}i \u2287 O (1) . \u0003\nLemma 40. There are no other maximal monoids above S \u222a I0 except the\nM\u03bb (\u03bb = 1 or \u05d00 \u2264 \u03bb \u2264 \u03ba).\nProof. Let G \u2287 I0 \u222a S be a submonoid of O (1) which is not contained\nin any of the M\u03bb ; we prove that G = O (1) . To do this, we show that G\ncontains an injective function u \u2208 O (1) with co-large range; then the lemma\nfollows from Lemma 30. Fix for every \u03bb a function m\u03bb \u2208 G \\ M\u03bb . Since\nm\u03ba is \u03ba-injective, there exists a cardinal \u03bb1 < \u03ba and a set A1 \u2286 X of size\n\u03bb1 such that the restriction of m\u03ba to the complement of A1 is injective. If\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n17\n\n\u03bb1 is infinite, then consider m\u03bb1 . Not being an element of M\u03bb1 , m\u03bb1 misses\nat least \u03bb1 values. Hence by adjusting it with a suitable permutation we\ncan assume that m\u03bb1 [X] \u2286 X \\ A1 . There exists a cardinal \u03bb2 < \u03bb1 and a\nsubset A2 of X of size \u03bb2 such that the restriction of m\u03bb1 to the complement\nof A2 is injective. Hence, writing \u03bb0 = \u03ba we obtain that m\u03bb0 \u25e6 m\u03bb1 \u2208 G\nis injective on X \\ A2 and misses \u03ba values. We can iterate this to arrive\nafter a finite number of steps at a set An of finite size \u03bbn such that the\nrestriction of m\u03bb0 \u25e6 . . . \u25e6 m\u03bbn\u22121 \u2208 G to X \\ An is injective and misses \u03ba\nvalues. Since m1 \u2208\n/ M1 is injective and misses at least one value we conclude\nthat the iterate m\u03bb1 n \u2208 G is injective and misses at least \u03bbn values. Modulo\npermutations we may assume that m\u03bb1 n [X] \u2286 X \\ An . But now we have that\nm\u03bb0 \u25e6 . . . \u25e6 m\u03bbn\u22121 \u25e6 m\u03bb1 n \u2208 G is injective and misses \u03ba values, implying that\nG = O (1) .\n\u0003\n3.2. The case of a base set of regular cardinality. We now finish the\nproof of Theorem 4 for the case when X has regular cardinality. The proof\nfor this case comprises Propositions 38, 39, 41 and 42.\nProposition 41. If X is of regular cardinality, then A is a maximal submonoid of O (1) .\nProof. This has been proved in [7] (Proposition 4.1).\n\n\u0003\n\nProposition 42. Let X have regular cardinality. There exist no other maximal submonoids of O (1) containing the permutations except those listed in\nTheorem 4 for the regular case.\nProof. Assume that G \u2287 S is a submonoid of O (1) not contained in any of\nthe monoids of the theorem; we show that G = O (1) . Indeed, since G * A ,\nProposition 16 tells us that there exists a cardinal \u03bb \u2264 \u03ba such that I\u03bb is\ncontained in G . Choose \u03bb minimal with this property. If \u03bb was greater\nthan 0, then G \u2286 G\u03bb for otherwise Lemma 18 would yield a contradiction\nto the minimality of \u03bb. But this is impossible as we assumed that G is not\ncontained in any of the G\u03bb , so we conclude that \u03bb = 0. Now Lemma 40\nimplies that G = O (1) .\n\u0003\n3.3. The case of a base set of singular cardinality. The only problem\nwith base sets of singular cardinality is that the set A is not closed under\ncomposition; in fact, hA i = O. A slight adjustment of the definition of A\nworks in this case. We will refer to results from preceding sections; this\nmight look unsafe since there we restricted ourselves to base sets of regular\ncardinality. However, when proving the particular results cited here we did\nnot use the regularity of the base set. The proof of Theorem 4 for singular\ncardinals comprises Propositions 38, 39, 46 and 47.\nDefinition 43. A function f \u2208 O (1) is said to be harmless iff there exists\n\u03bb < \u03ba such that the set of all x \u2208 X for which |f \u22121 [x]| > \u03bb is small.\nWith this definition, A \u2032 as defined in Theorem 4 is the set of all harmless\nfunctions.\n\n\f18\n\nM. PINSKER\n\nLemma 44. A \u2032 is a monoid and A \u2032 \u2286 A . Moreover, A = A \u2032 iff \u03ba is a\nsuccessor cardinal.\nProof. It is obvious that A \u2032 \u2286 A and that A = A \u2032 iff \u03ba is a successor\ncardinal. To prove that A \u2032 is closed under composition, let f, g \u2208 A \u2032 ; we\nshow h = f \u25e6 g \u2208 A \u2032 . There exist \u03bbf , \u03bbg < \u03ba witnessing that f and g are\nharmless. Set \u03bb to be max(\u03bbf , \u03bbg ); we claim that the set of x \u2208 X for which\n|h\u22121 [x]| > \u03bb is small. For if |h\u22121 [x]| > \u03bb, then either |g\u22121 [x]| > \u03bb or there\nexists y \u2208 g\u22121 [x] such that |f \u22121 [y]| > \u03bb. Both possibilities occur only for a\nsmall number of x \u2208 X and so h is harmless.\n\u0003\nLemma 45. Let X have singular cardinality. If g \u2208\n/ A \u2032 , then g together\nwith S generate a function not in A .\nProof. Set \u03bb < \u03ba to be the cofinality of \u03ba. Because g is not harmless, there\nexist distinct sequences (x0\u03be )\u03be<\u03bb , . . . , (x\u03ba\u03be )\u03be<\u03bb of distinct elements of X such\nS\nthat \u03be<\u03bb g\u22121 [x\u03b6\u03be ] is large for all \u03b6 < \u03ba. Indeed, if (\u03bc\u03be )\u03be<\u03bb is any cofinal\nsequence of cardinalities in \u03ba, then the fact that g is not harmless allows us\nto pick for every \u03be < \u03bb an element x0\u03be \u2208 X such that |g\u22121 [x0\u03be ]| > \u03bc\u03be ; it is also\nno problem to choose the elements distinct. This yields the first sequence\nand since with every sequence we are using up only \u03bb < \u03ba elements, the\ndefinition of harmlessness ensures that we can repeat the process \u03ba times.\nBy throwing away half of the sequences, we may assume that the set of all\ny \u2208 X which do not appear in any of the sequences is large.\nThere exists a permutation \u03b1 \u2208 S such that g \u25e6 \u03b1(x\u03be\u03b611 ) = g \u25e6 \u03b1(x\u03b6\u03be22 ) if and\nonly if \u03b61 = \u03b62 , for all \u03b61 , \u03b62 < \u03ba and all \u03be1 , \u03be2 < \u03bb. For we can map every\nsequence (x\u03b6\u03be )\u03be<\u03bb injectively into an equivalence class of the kernel of g of\nsize greater than \u03bb; since there are many such classes every sequence can be\nassigned an own class, and we choose the classes so that a large number of\nclasses are not hit at all. This partial injective mapping we can then extend\nto the permutation \u03b1 as it is defined on a co-large set and has co-large range.\nSet y \u03b6 = g \u25e6 \u03b1(x\u03b60 ) for all \u03b6 < \u03ba. Then the y \u03b6 are pairwise distinct and for\nS\nall \u03b6 < \u03ba we have that (g \u25e6 \u03b1 \u25e6 g)\u22121 [y \u03b6 ] \u2287 \u03be<\u03bb g \u22121 [x\u03b6\u03be ] is large. Hence,\ng\u25e6\u03b1\u25e6g \u2208\n/ A.\n\u0003\nProposition 46. Let X have singular cardinality. Then A \u2032 is a maximal\nsubmonoid of O (1) .\n\nProof. Let g \u2208 O (1) \\ A \u2032 . We know that g together with A \u2032 generate a\nfunction not in A . Then by Lemma 15, we obtain a function which is\ngenerous and has large range, call it h. Now take any f \u2208 O (1) such that\nf \u25e6 h[X] = X which is injective on h[X] and constant on X \\ h[X]. Then\nf \u2208 A \u2032 and f \u25e6 h \u2208 I0 . Thus, I0 \u2286 h{g} \u222a A \u2032 i and since all injections are\nelements of A \u2032 we can apply Lemma 30 to prove h{g} \u222a A \u2032 i \u2287 O (1) .\n\u0003\nProposition 47. Let X have singular cardinality. There exist no other\nmaximal submonoids of O (1) containing the permutations except those listed\nin Theorem 4 for the singular case.\n\n\fMAXIMAL CLONES CONTAINING THE PERMUTATIONS\n\n19\n\nProof. If G \u2287 S is a submonoid of O (1) which is not contained in A \u2032 , then\nit is not contained in A by Lemma 45. From this point, one can follow the\nproof of Proposition 42.\n\u0003\nReferences\n[1] G. P. Gavrilov, On functional completeness in countable-valued logic (Russian), Problemy Kibernetiki 15 (1965), 5\u201364.\n[2] M. Goldstern and S. Shelah, Clones on regular cardinals, Fundam. Math. 173 (2002),\nno. 1, 1\u201320.\n, Clones from creatures, Transactions of the American Mathematical Society,\n[3]\nto appear.\n[4] L. Heindorf, The maximal clones on countable sets that include all permutations, Algebra univers. 48 (2002), 209\u2013222.\n[5] M. Pinsker, Clones containing all almost unary functions, Algebra univers. 51 (2004),\n235\u2013255.\n[6] I. G. Rosenberg, \u00dcber die funktionale Vollst\u00e4ndigkeit in den mehrwertigen Logiken,\nRozpravy \u010ceskoslovensk\u00e9 Akad. v\u011bd, Ser. Math. Nat. Sci. 80 (1970), 3\u201393.\n[7]\n, Some maximal closed classes of operations on infinite sets, Math. Annalen\n212 (1974), 157\u2013164.\n, The set of maximal closed classes of operations on an infinite set A has car[8]\n|A|\ndinality 22 , Arch. Math. (Basel) 27 (1976), 561\u2013568.\nAlgebra, TU Wien, Wiedner Hauptstrasse 8-10/104, A-1040 Wien, Austria\nE-mail address: marula@gmx.at\nURL: http://www.dmg.tuwien.ac.at\n\n\f"}