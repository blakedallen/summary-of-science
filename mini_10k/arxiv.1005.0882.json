{"id": "http://arxiv.org/abs/1005.0882v2", "guidislink": true, "updated": "2011-08-20T10:39:09Z", "updated_parsed": [2011, 8, 20, 10, 39, 9, 5, 232, 0], "published": "2010-05-06T04:23:07Z", "published_parsed": [2010, 5, 6, 4, 23, 7, 3, 126, 0], "title": "On finite complete rewriting systems and large subsemigroups", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1005.5183%2C1005.0090%2C1005.3342%2C1005.4890%2C1005.0575%2C1005.2464%2C1005.0882%2C1005.5717%2C1005.4757%2C1005.4393%2C1005.2285%2C1005.5239%2C1005.1030%2C1005.1809%2C1005.3330%2C1005.0433%2C1005.4555%2C1005.0714%2C1005.2206%2C1005.4358%2C1005.1338%2C1005.1037%2C1005.4830%2C1005.0428%2C1005.2558%2C1005.2566%2C1005.0467%2C1005.1910%2C1005.1091%2C1005.3579%2C1005.5077%2C1005.1222%2C1005.3119%2C1005.2655%2C1005.3567%2C1005.5710%2C1005.5292%2C1005.5612%2C1005.2827%2C1005.4317%2C1005.5699%2C1005.1684%2C1005.0203%2C1005.5134%2C1005.5527%2C1005.2491%2C1005.2766%2C1005.3546%2C1005.2998%2C1005.4438%2C1005.3810%2C1005.2561%2C1005.5631%2C1005.2767%2C1005.1825%2C1005.3277%2C1005.1059%2C1005.2713%2C1005.1570%2C1005.1528%2C1005.2322%2C1005.3041%2C1005.3405%2C1005.0665%2C1005.0276%2C1005.3294%2C1005.2099%2C1005.5038%2C1005.4739%2C1005.1245%2C1005.0968%2C1005.0462%2C1005.4538%2C1005.0405%2C1005.1953%2C1005.0152%2C1005.1015%2C1005.4944%2C1005.1353%2C1005.2098%2C1005.5572%2C1005.3130%2C1005.4309%2C1005.5448%2C1005.1822%2C1005.0677%2C1005.2654%2C1005.4494%2C1005.2631%2C1005.1472%2C1005.2070%2C1005.2877%2C1005.0212%2C1005.1274%2C1005.0412%2C1005.4243%2C1005.1123%2C1005.0620%2C1005.1766%2C1005.4730%2C1005.0687&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "On finite complete rewriting systems and large subsemigroups"}, "summary": "Let $S$ be a semigroup and $T$ be a subsemigroup of finite index in $S$ (that\nis, the set $S\\setminus T$ is finite). The subsemigroup $T$ is also called a\nlarge subsemigroup of $S$. It is well known that if $T$ has a finite complete\nrewriting system then so does $S$. In this paper, we will prove the converse,\nthat is, if $S$ has a finite complete rewriting system then so does $T$. Our\nproof is purely combinatorial and also constructive.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1005.5183%2C1005.0090%2C1005.3342%2C1005.4890%2C1005.0575%2C1005.2464%2C1005.0882%2C1005.5717%2C1005.4757%2C1005.4393%2C1005.2285%2C1005.5239%2C1005.1030%2C1005.1809%2C1005.3330%2C1005.0433%2C1005.4555%2C1005.0714%2C1005.2206%2C1005.4358%2C1005.1338%2C1005.1037%2C1005.4830%2C1005.0428%2C1005.2558%2C1005.2566%2C1005.0467%2C1005.1910%2C1005.1091%2C1005.3579%2C1005.5077%2C1005.1222%2C1005.3119%2C1005.2655%2C1005.3567%2C1005.5710%2C1005.5292%2C1005.5612%2C1005.2827%2C1005.4317%2C1005.5699%2C1005.1684%2C1005.0203%2C1005.5134%2C1005.5527%2C1005.2491%2C1005.2766%2C1005.3546%2C1005.2998%2C1005.4438%2C1005.3810%2C1005.2561%2C1005.5631%2C1005.2767%2C1005.1825%2C1005.3277%2C1005.1059%2C1005.2713%2C1005.1570%2C1005.1528%2C1005.2322%2C1005.3041%2C1005.3405%2C1005.0665%2C1005.0276%2C1005.3294%2C1005.2099%2C1005.5038%2C1005.4739%2C1005.1245%2C1005.0968%2C1005.0462%2C1005.4538%2C1005.0405%2C1005.1953%2C1005.0152%2C1005.1015%2C1005.4944%2C1005.1353%2C1005.2098%2C1005.5572%2C1005.3130%2C1005.4309%2C1005.5448%2C1005.1822%2C1005.0677%2C1005.2654%2C1005.4494%2C1005.2631%2C1005.1472%2C1005.2070%2C1005.2877%2C1005.0212%2C1005.1274%2C1005.0412%2C1005.4243%2C1005.1123%2C1005.0620%2C1005.1766%2C1005.4730%2C1005.0687&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Let $S$ be a semigroup and $T$ be a subsemigroup of finite index in $S$ (that\nis, the set $S\\setminus T$ is finite). The subsemigroup $T$ is also called a\nlarge subsemigroup of $S$. It is well known that if $T$ has a finite complete\nrewriting system then so does $S$. In this paper, we will prove the converse,\nthat is, if $S$ has a finite complete rewriting system then so does $T$. Our\nproof is purely combinatorial and also constructive."}, "authors": ["K. B. Wong", "P. C. Wong"], "author_detail": {"name": "P. C. Wong"}, "author": "P. C. Wong", "arxiv_comment": "We have made major changes to the paper and simplified most of the\n  proofs", "links": [{"href": "http://arxiv.org/abs/1005.0882v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1005.0882v2", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.GR", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.GR", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "20M05, 20M35, 68Q42", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1005.0882v2", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1005.0882v2", "journal_reference": null, "doi": null, "fulltext": "ON FINITE COMPLETE REWRITING SYSTEMS AND LARGE\nSUBSEMIGROUPS\n\narXiv:1005.0882v2 [math.GR] 20 Aug 2011\n\nK.B. WONG AND P.C. WONG\nAbstract. Let S be a semigroup and T be a subsemigroup of finite index in S (that is, the\nset S \\ T is finite). The subsemigroup T is also called a large subsemigroup of S. It is well\nknown that if T has a finite complete rewriting system, then so does S. In this paper, we will\nprove the converse, that is, if S has a finite complete rewriting system, then so does T . Our\nproof is purely combinatorial and also constructive.\n\n1. Introduction.\nLet S be a semigroup and T be a subsemigroup of finite index in S (that is, the set S \\ T\nis finite). Then T is called a large subsemigroup of S, and S is called a small extension of T .\nIn [4], Ru\u0161kuc asked if S is a small extension of T , whether S has a finite complete rewriting\nsystem if and only if T has a finite complete rewriting system (see [4, Problem 11.1 (iii)] and\n[6, Remark 4.2]). This problem was partially solved by Wang in [5, Theorem 1], who proved\nthat if T has a finite complete rewriting system, then so does S. However it is still not known\nwhether T has a finite complete rewriting system or not, when S has a finite complete rewriting\nsystem. In this paper we shall prove that this is true, i.e., we shall prove the following:\nTheorem 1.1. Suppose S is a small extension of T . If S has a finite complete rewriting system,\nthen so does T .\nBy Theorem 1.1 and the result of Wang [5, Theorem 1], we have completely answered the\nproblem posed by Ru\u0161kuc (see [4, Problem 11.1 (iii)]).\nCorollary 1.2. Suppose S is a small extension of T . Then S has a finite complete rewriting\nsystem if and only if T has a finite complete rewriting system.\nLet A be a non-empty set. This set A is called the alphabet and the elements of A are called\nletters. We shall denote the free semigroup and free monoid on A by A+ and A\u2217 , respectively.\nThe elements of A+ and A\u2217 are called words. Note that A\u2217 = A+ \u222a {\u01eb}, where \u01eb is the empty\n2010 Mathematics Subject Classification. Primary 20M05, 20M35, 68Q42.\nKey words and phrases. presentation of semigroup, rewriting system.\n1\n\n\f2\n\nK.B. WONG AND P.C. WONG\n\nword. Given a word W \u2208 A\u2217 , we shall denote its length by kW k, defined as the numbers of\nletters in W .\nA rewriting system R over A is a set of rules U \u2192 V , which are elements of A+ \u00d7 A+ .\nA word W1 \u2208 A+ is said to be rewritten to another word W2 \u2208 A+ by a one-step reduction\ninduced by R, if W1 = Z1 XZ2 and W2 = Z1 Y Z2 for some rule X \u2192 Y in R. In this situation\nwe write W1 \u2192R W2 . The reflexive transitive closure and the reflexive symmetric transitive\nclosure of \u2192R are denoted by \u2192\u2217R and \u2194\u2217R , respectively. The relation \u2194\u2217R is defined to be the\ncongruence on A+ generated by R and it defines the quotient semigroup S = A+ / \u2194\u2217R . S is\nsaid to be presented by the semigroup presentation [A; R]. If both A and R are finite, we say\nthe semigroup presentation is finitely presented. For U \u2208 A+ , [U]R shall denote the class of U\nmodulo \u2194\u2217R .\nLet Left(R) = {X \u2208 A+ : X \u2192 Y \u2208 R} and Irr(R) = A+ \\ A\u2217 Left(R)A\u2217 . Obviously, Irr(R)\nis the set of all words in A+ that cannot be reduced by any rule in R. A word W \u2208 A+ is called\nan irreducible word if W \u2208 Irr(R).\nWe say R is Noetherian if there is no infinite reduction sequence,\nW1 \u2192R W2 \u2192R W3 \u2192R * * * .\nR is said to be confluent if whenever U \u2192\u2217R V and U \u2192\u2217R W , then there is an X \u2208 A+ such that\nV \u2192\u2217R X and W \u2192\u2217R X. If R is both Noetherian and confluent, we say that R is a complete\nrewriting system.\nThe following fact is well known.\nTheorem 1.3. Suppose R is a complete rewriting system. Then for each W \u2208 A+ , there is a\nunique W \u2032 \u2208 Irr(R) such that W \u2192\u2217R W \u2032 .\nTheorem 1.3 will be used implicitly in many parts of the paper. Let R be a complete rewriting\nsystem on A+ . Then given any word W \u2208 A+ , by Theorem 1.3, there is a U \u2208 Irr(R) such that\n\nW \u2192R W1 \u2192R W2 \u2192R * * * \u2192R Wn = U.\nThe length of the above reduction sequence starting with W and ends with U is n. The\ndisorder of W , denoted by dR (W ), is the maximum of the lengths of all of the reduction\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n3\n\nsequences starting with W and ends with U. Note that dR (W ) is finite. Suppose it is not.\nThen there is a V1 \u2208 A+ such that W \u2192R V1 and dR (V1 ) is infinite, for the number of subwords\nof W that are contained in Left(R) is finite. Then again there is a V2 \u2208 A+ such that V1 \u2192R V2\nand dR (V2 ) is infinite, and this process can go on indefinitely. So W \u2192R V1 \u2192R V2 \u2192R * * *\nis an infinite reduction sequence, a contradiction. Note also that W \u2208 Irr(R) if and only if\ndR (W ) = 0 (see [2] and [3]).\nThe following useful lemma is obvious.\nLemma 1.4. If U \u2192R V , then dR (U) > dR (V ). Furthermore if W is a subword of U, then\ndR (U) \u2265 dR (W ).\nA semigroup is said to have a finite complete rewriting system if it has a finitely presented\nsemigroup presentation for which the rewriting system is complete.\n\n2. A criterion.\nLet [A ; R] be a finitely presented semigroup presentation for S for which R is complete.\nLet T be a subsemigroup of S. In this section we first prove a criterion for [B ; RT ] to be a\nsemigroup presentation for T where B is any non-empty set and RT is a complete rewriting\nsystem over B. This will be done in Theorem 2.2. Then by replacing T with S we can get\n[B ; RS ] to be a semigroup presentation for S and RS is a complete rewriting system over B.\nThis will be done in Corollary 2.3\nLet A(T ) be a subset of A+ such that\n{W \u2208 Irr(R) : [W ]R \u2208 T } \u2286 A(T ) \u2286 {W \u2208 A+ : [W ]R \u2208 T }.\nLet (B, RT , A(T ), \u03c6, \u03c1) be a 5-tuple where B is a non-empty set, RT is a rewriting system over\nB, \u03c6 : B + \u2192 A+ is a homomorphism with [\u03c6(U \u2032 )]R \u2208 T for all U \u2032 \u2208 B + , and \u03c1 : A(T ) \u2192 B +\nis a function. We say the 5-tuple (B, RT , A(T ), \u03c6, \u03c1) has Property R relative to [A ; R], if it\nsatisfies the following:\n(P1) for any U \u2208 A(T ) and V1 \u2208 A+ with U \u2192R V1 , there is a U \u2032 \u2208 B + such that U \u2192R\nV1 \u2192\u2217R \u03c6(U \u2032 ) and \u03c1(U) \u2192RT U \u2032 ,\n(P2) for any U \u2032 , V \u2032 \u2208 B + with U \u2032 \u2192\u2217RT V \u2032 , we have \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ),\n\n\f4\n\nK.B. WONG AND P.C. WONG\n\n(P3) there does not exist an infinite reduction sequence\nU1\u2032 \u2192RT U2\u2032 \u2192RT U3\u2032 \u2192RT * * * ,\nof words from B + such that \u03c6(U1\u2032 ) = \u03c6(U2\u2032 ) = \u03c6(U3\u2032 ) = * * * ,\n(P4) for each U \u2032 \u2208 B + there is a U \u2032\u2032 \u2208 B + such that \u03c6(U \u2032\u2032 ) \u2208 A(T ) and U \u2032 \u2192\u2217RT U \u2032\u2032 ,\n(P5) \u03c6(\u03c1(U)) = U for all U \u2208 A(T ),\n(P6) U \u2032 \u2192\u2217RT \u03c1(\u03c6(U \u2032 )) for all U \u2032 \u2208 B + with \u03c6(U \u2032 ) \u2208 A(T ).\nLemma 2.1. Suppose (P1), (P2), (P4), and (P6) hold. Then for any U \u2208 A(T ) and V \u2208 Irr(R)\nwith U \u2192\u2217R V , we have V \u2208 A(T ) and \u03c1(U) \u2192\u2217RT \u03c1(V ).\nProof. By the definition of A(T ), clearly V \u2208 A(T ). We shall prove by induction on dR (U) that\n\u03c1(U) \u2192\u2217RT \u03c1(V ).\nSuppose dR (U) = 0 then U = V . Thus \u03c1(U) = \u03c1(V ) and \u03c1(U) \u2192\u2217RT \u03c1(V ). Suppose\ndR (U) > 0. Assume that it is true for all U1 with dR (U1 ) < dR (U).\nLet U \u2192R V1 \u2192\u2217R V . By (P1), there is a U \u2032 \u2208 B + such that U \u2192R V1 \u2192\u2217R \u03c6(U \u2032 ) and\n\u03c1(U) \u2192RT U \u2032 . By (P4), there is a U \u2032\u2032 \u2208 B + such that \u03c6(U \u2032\u2032 ) \u2208 A(T ) and U \u2032 \u2192\u2217RT U \u2032\u2032 . By\n(P2), \u03c6(U \u2032 ) \u2192\u2217R \u03c6(U \u2032\u2032 ). Therefore U \u2192\u2217R \u03c6(U \u2032\u2032 ) and \u03c1(U) \u2192\u2217RT U \u2032\u2032 . Since V \u2208 Irr(R), we\nhave \u03c6(U \u2032\u2032 ) \u2192\u2217R V . Furthermore dR (\u03c6(U \u2032\u2032 )) < dR (U) (by Lemma 1.4). Therefore by induction\n\u03c1(\u03c6(U \u2032\u2032 )) \u2192\u2217RT \u03c1(V ). Now by (P6), U \u2032\u2032 \u2192\u2217RT \u03c1(\u03c6(U \u2032\u2032 )). Hence \u03c1(U) \u2192\u2217RT \u03c1(V ).\nThe proof of this lemma is complete.\n\n\u0003\n\nTheorem 2.2. If (B, RT , A(T ), \u03c6, \u03c1) has Property R relative to [A ; R], then [B ; RT ] is a\nsemigroup presentation for T and RT is complete.\nProof. We will first prove that [B ; RT ] is a semigroup presentation for T . Let \u03c8 : [B ; RT ] \u2192 T\nbe defined by \u03c8([U \u2032 ]RT ) = [\u03c6(U \u2032 )]R for all U \u2032 \u2208 B + . Now we show that \u03c8 is well defined. It\nis sufficient to prove U \u2032 \u2192RT V \u2032 for V \u2032 \u2208 B + implies that \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ). This fact follows\nfrom (P2), so \u03c8 is well defined.\nNow we show that \u03c8 is a homomorphism. Let U \u2032 , V \u2032 \u2208 B + . Then \u03c8([U \u2032 V \u2032 ]RT ) = [\u03c6(U \u2032 V \u2032 )]R =\n[\u03c6(U \u2032 )\u03c6(V \u2032 )]R = [\u03c6(U \u2032 )]R [\u03c6(V \u2032 )]R = \u03c8([U \u2032 ]RT )\u03c8([V \u2032 ]RT ), where the second equality follows from\nthe fact that \u03c6 is a homomorphism.\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n5\n\nNow we show that \u03c8 is surjective. Let [W ]R \u2208 T for some W \u2208 A+ . Since R is complete, we\nmay assume W \u2208 Irr(R). Note that W \u2208 A(T ), so \u03c8([\u03c1(W )]RT ) = [\u03c6(\u03c1(W ))]R = [W ]R , where\nthe last equality follows from (P5). Hence \u03c8 is surjective.\nNow we show that \u03c8 is injective. Let U \u2032 , V \u2032 \u2208 B + with \u03c8([U \u2032 ]RT ) = \u03c8([V \u2032 ]RT ). Then\n[\u03c6(U \u2032 )]R = [\u03c6(V \u2032 )]R . By (P4), there are U \u2032\u2032 , V \u2032\u2032 \u2208 B + such that \u03c6(U \u2032\u2032 ), \u03c6(V \u2032\u2032 ) \u2208 A(T ), U \u2032 \u2192\u2217RT\nU \u2032\u2032 , V \u2032 \u2192\u2217RT V \u2032\u2032 . By (P2), \u03c6(U \u2032 ) \u2192\u2217R \u03c6(U \u2032\u2032 ) and \u03c6(V \u2032 ) \u2192\u2217R \u03c6(V \u2032\u2032 ). So [\u03c6(U \u2032\u2032 )]R = [\u03c6(V \u2032\u2032 )]R .\nSince R is complete, there is a V1 \u2208 Irr(R) such that \u03c6(U \u2032\u2032 ) \u2192\u2217R V1 and \u03c6(V \u2032\u2032 ) \u2192\u2217R V1 . By\nLemma 2.1, \u03c1(\u03c6(U \u2032\u2032 )) \u2192\u2217RT \u03c1(V1 ), and then by (P6), U \u2032\u2032 \u2192\u2217RT \u03c1(V1 ). Therefore U \u2032 \u2192\u2217RT \u03c1(V1 ).\nSimilarly, we have V \u2032 \u2192\u2217RT \u03c1(V1 ). Hence [U \u2032 ]RT = [\u03c1(V1 )]RT = [V \u2032 ]RT and \u03c8 is injective.\nNow we have shown that [B ; RT ] is a semigroup presentation for T , via \u03c8. We will now\nproceed to prove that RT is complete.\nSuppose RT is not Noetherian. Then there exists an infinite reduction sequence\nU1\u2032 \u2192RT U2\u2032 \u2192RT U3\u2032 \u2192RT * * * ,\n\u2032\n) for all i. Since R is Noetherian, there is an\nof words from B + . By (P2), \u03c6(Ui\u2032 ) \u2192\u2217R \u03c6(Ui+1\n\u2032\ninteger i0 such that for all i \u2265 i0 , \u03c6(Ui\u2032 ) = \u03c6(Ui+1\n), but this contradicts (P3). Hence RT is\n\nNoetherian.\nNow we prove that RT is confluent. Suppose U \u2032 \u2192\u2217RT V1\u2032 and U \u2032 \u2192\u2217RT V2\u2032 with U \u2032 , V1\u2032 , V2\u2032 \u2208 B + .\nBy (P4), we may assume \u03c6(V1\u2032 ), \u03c6(V2\u2032 ) \u2208 A(T ). Since R is complete, there is a V3 \u2208 Irr(R) with\n\u03c6(V1\u2032 ) \u2192\u2217R V3 and \u03c6(V2\u2032 ) \u2192\u2217R V3 . By Lemma 2.1, \u03c1(\u03c6(V1\u2032 )) \u2192\u2217RT \u03c1(V3 ), and then by (P6)\nV1\u2032 \u2192\u2217RT \u03c1(V3 ). Similarly V2\u2032 \u2192\u2217RT \u03c1(V3 ). Hence RT is confluent and is complete.\n\n\u0003\n\nIn the case when T = S and there is a 5-tuple (B, RS , A(S), \u03c6, \u03c1) that has Property R relative\nto [A ; R], we have the following corollary:\nCorollary 2.3. [B ; RS ] is a semigroup presentation for S and RS is complete.\n3. Changing the semigroup presentation for S.\nLet [A ; R] be a finitely presented semigroup presentation for S for which R is complete. Let\nW0 \u2208 A+ be such that kW0 k > 1 and W0 \u2208 Irr(R). Now let s be a letter that does not appear\nin A and set B = A \u222a {s}. We wish to find a complete rewriting system RS such that [B ; RS ]\nis a finitely presented semigroup presentation for S and W0 \u2192\u2217RS s.\n\n\f6\n\nK.B. WONG AND P.C. WONG\n\nBy Corollary 2.3, we need to find a 5-tuple (B, RS , A(S), \u03c6, \u03c1) that has Property R relative\nto [A ; R]. Note that B has been defined and is finite.\nLet A(S) = A+ . Let \u03c61 : B \u2192 A+ be defined by \u03c61 (a) = a for all a \u2208 A and \u03c61 (s) =\nW0 . Clearly \u03c61 can be extended to a homomorphism \u03c6 : B + \u2192 A+ by defining \u03c6(U \u2032 ) =\n\u03c61 (b1 ) . . . \u03c61 (bl ) for all U \u2032 = b1 . . . bl \u2208 B + . For convenience, we may define \u03c6(\u01ebB ) = \u01ebA where\n\u01ebB and \u01ebA are empty words in B \u2217 and A\u2217 , respectively.\nRecall that we have set A(S) = A+ . We define \u03c1 : A(S) \u2192 B + as follows :\nLet W \u2208 A(S).\n(a) If W ends with the subword W0 , say W = X1 W0 for some X1 \u2208 A\u2217 (we use A\u2217 instead\nof A+ because we allow X1 to be the empty word), then \u03c1(W ) = \u03c1(X1 )s (in the event\nX1 = \u01ebA , set \u03c1(W ) = s).\n(b) Suppose W does not end with the subword W0 . Let W = X2 a for some X2 \u2208 A\u2217 and\na \u2208 A. Set \u03c1(W ) = \u03c1(X2 )a (in the event X2 = \u01ebA , set \u03c1(W ) = a).\nAs for the homomorphism \u03c6, we may define \u03c1(\u01ebA ) = \u01ebB .\nLemma 3.1. Let X1 , X2 , X3 \u2208 A(S). If \u03c1(X1 X2 X3 ) = \u03c1(X1 X2 )\u03c1(X3 ), then \u03c1(X2 X3 ) =\n\u03c1(X2 )\u03c1(X3 ).\nProof. We prove by induction on kX3 k. Clearly it holds if kX3 k = 0, i.e., X3 is the empty word.\nSuppose kX3 k > 0. Assume that it holds for all X4 with kX4 k < kX3 k.\nCase 1. Suppose X3 ends with the subword W0 , say X3 = X4 W0 for some X4 \u2208 A\u2217 . Then\n\u03c1(X1 X2 X3 ) = \u03c1(X1 X2 X4 )s, \u03c1(X2 X3 ) = \u03c1(X2 X4 )s and \u03c1(X3 ) = \u03c1(X4 )s. Since \u03c1(X1 X2 X3 ) =\n\u03c1(X1 X2 )\u03c1(X3 ), we have \u03c1(X1 X2 X4 ) = \u03c1(X1 X2 )\u03c1(X4 ). By induction, \u03c1(X2 X4 ) = \u03c1(X2 )\u03c1(X4 ).\nTherefore \u03c1(X2 X3 ) = \u03c1(X2 X4 )s = \u03c1(X2 )\u03c1(X4 )s = \u03c1(X2 )\u03c1(X3 ).\nCase 2. Suppose X3 does not end with the subword W0 . Let X3 = X4 a for some a \u2208 A and\nX4 \u2208 A\u2217 . Then \u03c1(X3 ) = \u03c1(X4 )a. Now \u03c1(X1 X2 X3 ) = \u03c1(X1 X2 )\u03c1(X3 ) = \u03c1(X1 X2 )\u03c1(X4 )a. So\n\u03c1(X1 X2 X3 ) is a word in B + that ends with the letter a.\nWe claim that X1 X2 X3 does not end with the subword W0 . Suppose the contrary. Then\nX1 X2 X3 = Z1 W0 for some Z1 \u2208 A\u2217 and \u03c1(X1 X2 X3 ) = \u03c1(Z1 )s. So \u03c1(X1 X2 X3 ) is a word in B +\nthat ends with the letter s. But this contradicts the last sentence of the previous paragraph.\nThus our claim has been established. Therefore X1 X2 X3 = X1 X2 X4 a and \u03c1(X1 X2 X3 ) =\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n7\n\n\u03c1(X1 X2 X4 )a. This implies that \u03c1(X1 X2 X4 ) = \u03c1(X1 X2 )\u03c1(X4 ), and by induction \u03c1(X2 X4 ) =\n\u03c1(X2 )\u03c1(X4 ).\nNote also that X2 X3 does not end with the subword W0 , for otherwise X1 X2 X3 would\nend with the subword W0 . Therefore X2 X3 = X2 X4 a and \u03c1(X2 X3 ) = \u03c1(X2 X4 )a. Since\n\u03c1(X2 X4 ) = \u03c1(X2 )\u03c1(X4 ) and \u03c1(X3 ) = \u03c1(X4 )a, we conclude that \u03c1(X2 X3 ) = \u03c1(X2 )\u03c1(X3 ).\n\n\u0003\n\nLemma 3.2. Let X1 , X2 \u2208 A(S). Then either\n(a) \u03c1(X1 X2 ) = \u03c1(X1 )\u03c1(X2 ), or\n(b) \u03c1(X1 X2 ) = \u03c1(Z1 )s\u03c1(Z4 ) where X1 = Z1 Z2 , X2 = Z3 Z4 and Z2 Z3 = W0 (Z1 , Z4 \u2208 A\u2217\nand Z2 , Z3 \u2208 A+ ).\n\nProof. We prove by induction on kX2 k. Clearly it holds if kX2 k = 0, i.e., X2 is the empty word.\nSuppose kX2 k > 0. Assume that it holds for all X3 with kX3 k < kX2 k.\nCase 1. Suppose X2 ends with the subword W0 , say X2 = X3 W0 for some X3 \u2208 A\u2217 . Then\n\u03c1(X1 X2 ) = \u03c1(X1 X3 )s. If X3 is the empty word, then \u03c1(X1 X2 ) = \u03c1(X1 )s = \u03c1(X1 )\u03c1(X2 ),\nwe are done. If X3 is not the empty word, then \u03c1(X1 X2 ) = \u03c1(X1 X3 )s, and by induction\n(kX3 k < kX2 k), either \u03c1(X1 X3 ) = \u03c1(X1 )\u03c1(X3 ) or \u03c1(X1 X3 ) = \u03c1(Z1 )s\u03c1(Z4 ), where X1 = Z1 Z2 ,\nX3 = Z3 Z4 and Z2 Z3 = W0 (Z1 , Z4 \u2208 A\u2217 and Z2 , Z3 \u2208 A+ ). Suppose the former holds. Then\n\u03c1(X2 ) = \u03c1(X3 W0 ) = \u03c1(X3 )s and \u03c1(X1 X2 ) = \u03c1(X1 X3 )s = \u03c1(X1 )\u03c1(X3 )s = \u03c1(X1 )\u03c1(X2 ).\nSuppose the latter holds. Then X2 = Z3 Z4 W0 = Z3 Z5 (Z5 = Z4 W0 ) and \u03c1(X1 X2 ) =\n\u03c1(X1 X3 )s = \u03c1(Z1 )s\u03c1(Z4 )s = \u03c1(Z1 )s\u03c1(Z4 W0 ) = \u03c1(Z1 )s\u03c1(Z5 ). Thus the lemma holds.\nCase 2. Suppose X2 does not end with the subword W0 but X1 X2 ends with the subword W0 ,\nsay X1 X2 = X3 W0 for some X3 \u2208 A\u2217 . Then kW0 k > kX2 k and X1 = X3 X4 where X4 X2 = W0\n(X4 \u2208 A+ ). Note that \u03c1(X1 X2 ) = \u03c1(X3 )s and the lemma holds.\nCase 3. Suppose X1 X2 does not end with the subword W0 . Let X2 = X3 a where a \u2208 A\nand X3 \u2208 A\u2217 . Then \u03c1(X1 X2 ) = \u03c1(X1 X3 )a. Since kX3 k < kX2 k, by induction and using an\nargument similar to Case 1, we conclude that the lemma holds.\n\nLemma 3.3. \u03c6(\u03c1(U)) = U for all U \u2208 A(S). (Property (P5)).\n\n\u0003\n\n\f8\n\nK.B. WONG AND P.C. WONG\n\nProof. Let U \u2208 A(S). We shall prove by induction on kUk that \u03c6(\u03c1(U)) = U. If kUk = 1, then\nU = a for some a \u2208 A and clearly \u03c6(\u03c1(U)) = a = U. Suppose kUk > 1. Assume the lemma\nholds for all U1 \u2208 A(S) with kU1 k < kUk.\nSuppose U ends with the subword W0 , say U = X1 W0 for some X1 \u2208 A\u2217 . Then \u03c1(U) = \u03c1(X1 )s\nand \u03c6(\u03c1(U)) = \u03c6(\u03c1(X1 ))\u03c6(s) = \u03c6(\u03c1(X1 ))W0 = X1 W0 = U, where the first equality follows from\nthe fact that \u03c6 is a homomorphism, and the second last equality follows from induction (clearly\nkX1 k < kUk).\nSuppose U does not end with the subword W0 . Let U = X2 a for some X2 \u2208 A\u2217 and a \u2208 A.\nNow \u03c1(U) = \u03c1(X2 )a and similarly by induction \u03c6(\u03c1(U)) = \u03c6(\u03c1(X2 ))\u03c6(a) = \u03c6(\u03c1(X2 ))a = X2 a =\nU. Hence the lemma holds.\n\n\u0003\n\nNow we define the rules in RS . Recall that W0 \u2208 Irr(R) and kW0 k > 1.\n(C1) for each X \u2192 Y \u2208 R put \u03c1(X) \u2192 \u03c1(Y ) in RS ;\n(C2) put W0 \u2192 s in RS ;\n(C3) if there is a rule X1 X2 \u2192 Y1 \u2208 R such that W0 = Z1 X1 (X1 , Y1 \u2208 A+ and X2 , Z1 \u2208 A\u2217 ),\nput \u03c1(Z1 X1 X2 ) \u2192 \u03c1(Y \u2032 ) in RS where Z1 X1 X2 \u2192\u2217R Y \u2032 and Y \u2032 \u2208 Irr(R);\n(C4) if there is a rule X2 X1 \u2192 Y1 \u2208 R such that W0 = X1 Z1 (X1 , Y1 \u2208 A+ and X2 , Z1 \u2208 A\u2217 ),\nput \u03c1(X2 X1 Z1 ) \u2192 \u03c1(Y \u2032 ) in RS where X2 X1 Z1 \u2192\u2217R Y \u2032 and Y \u2032 \u2208 Irr(R);\n(C5) if there is a rule X2 X3 X4 \u2192 Y1 \u2208 R such that W0 = X4 X5 = X1 X2 (X2 , X4 , Y1 \u2208 A+ and\nX3 , X5 , X1 \u2208 A\u2217 ), put \u03c1(X1 (X2 X3 X4 )X5 ) \u2192 \u03c1(Y \u2032 ) in RS where X1 (X2 X3 X4 )X5 \u2192\u2217R Y \u2032\nand Y \u2032 \u2208 Irr(R);\n(C6) if there are X1 , X2 , X3 \u2208 A+ such that W0 = X1 X2 = X2 X3 , put sX3 \u2192 X1 s in RS (in\nthe event of this we must have kX1 k = kX3 k).\nNote that the number of rules of the form C1 and C2 that we put in RS is finite. The number of\nrules of the form C3 that we put in RS is also finite because R is finite and W0 is a fixed word.\nSimilarly for the number of rules of the form C4 up to C6. Therefore RS is a finite rewriting\nsystem.\n\nRemark. Note that one can subsume the rules (C1), (C3), and (C4) all within (C5) by just\nallowing X1 X2 and X4 X5 be empty, as well as equal to W0 .\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n9\n\nSince A(S) = A+ , the condition \u03c6(U \u2032 ) \u2208 A(S) for U \u2032 \u2208 B + is vacuously always true. So\nProperty (P6) takes the following form.\nLemma 3.4. U \u2032 \u2192\u2217RS \u03c1(\u03c6(U \u2032 )) for all U \u2032 \u2208 B + . (Property (P6)).\nProof. Let U \u2032 \u2208 B + . We shall prove by induction on kU \u2032 k that U \u2032 \u2192\u2217RS \u03c1(\u03c6(U \u2032 )). Suppose\nkU \u2032 k = 1. Then U \u2032 = a for some a \u2208 A or U \u2032 = s (recall that B = A \u222a {s}). In either cases, we\nhave \u03c1(\u03c6(U \u2032 )) = U \u2032 . So U \u2032 \u2192\u2217RS \u03c1(\u03c6(U \u2032 )).\nSuppose kU \u2032 k > 1. Assume the lemma holds for all U1\u2032 \u2208 B + with kU1\u2032 k < kU \u2032 k.\nCase 1. Suppose U \u2032 \u2208 A+ . Then \u03c6(U \u2032 ) = U \u2032 . If U \u2032 ends with the subword W0 , say U \u2032 = X1 W0\nfor some X1 \u2208 A\u2217 , then \u03c1(U \u2032 ) = \u03c1(X1 )s = \u03c1(\u03c6(X1 ))s. Since W0 \u2192 s \u2208 RS (the rule of the form\n(C2)), we see that U \u2032 \u2192RS X1 s. Clearly kX1 k < kU \u2032 k. So by induction, X1 \u2192\u2217RS \u03c1(\u03c6(X1 )).\nThus U \u2032 = X1 W0 \u2192RS X1 s \u2192\u2217RS \u03c1(\u03c6(X1 ))s = \u03c1(\u03c6(U \u2032 )).\nIf U \u2032 does not end with the subword W0 , then U \u2032 = X2 a for some X2 \u2208 A+ and a \u2208 A. Note\nthat \u03c1(U \u2032 ) = \u03c1(X2 )a = \u03c1(\u03c6(X2 ))a. By induction, X2 \u2192\u2217RS \u03c1(\u03c6(X2 )). Thus U \u2032 \u2192\u2217RS \u03c1(\u03c6(U \u2032 )).\nCase 2. Suppose U \u2032 = U1\u2032 sU2\u2032 for some U2\u2032 \u2208 A+ and U1\u2032 \u2208 B \u2217 . Note that \u03c6(U \u2032 ) = \u03c6(U1\u2032 )W0 U2\u2032 .\nIf U2\u2032 ends with the subword W0 , say U2\u2032 = X1 W0 for some X1 \u2208 A\u2217 , then \u03c1(\u03c6(U \u2032 )) =\n\u03c1(\u03c6(U1\u2032 )W0 X1 W0 ) = \u03c1(\u03c6(U1\u2032 )W0 X1 )s = \u03c1(\u03c6(U1\u2032 sX1 ))s. By induction, U1\u2032 sX1 \u2192\u2217RS \u03c1(\u03c6(U1\u2032 sX1 )).\nAlso U \u2032 \u2192RS U1\u2032 sX1 s by the rule W0 \u2192 s \u2208 RS (rule (C2)). Thus U \u2032 \u2192\u2217RS \u03c1(\u03c6(U \u2032 )).\nSuppose U2\u2032 does not end with the subword W0 , but W0 U2\u2032 ends with the subword W0 , say\nW0 U2\u2032 = X2 W0 for some X2 \u2208 A+ . Then there is a X3 \u2208 A+ such that W0 = X2 X3 = X3 U2\u2032 . So\nsU2\u2032 \u2192 X2 s \u2208 RS (a rule of the form (C6)) and U \u2032 \u2192RS U1\u2032 X2 s. On the other hand, \u03c1(\u03c6(U \u2032 )) =\n\u03c1(\u03c6(U1\u2032 )X2 W0 ) = \u03c1(\u03c6(U1\u2032 )X2 )s = \u03c1(\u03c6(U1\u2032 X2 ))s, and also kU1\u2032 X2 k = kU1\u2032 k + kX2 k = kU1\u2032 k +\nkU2\u2032 k < kU \u2032 k. Therefore by induction, U1\u2032 X2 \u2192\u2217RS \u03c1(\u03c6(U1\u2032 X2 )). Thus U \u2032 \u2192RS U1\u2032 X2 s \u2192\u2217RS\n\u03c1(\u03c6(U1\u2032 X2 ))s = \u03c1(\u03c6(U \u2032 )).\nSuppose W0 U2\u2032 does not end with the subword W0 . Let U2\u2032 = U3\u2032 a for some a \u2208 A and\nU3\u2032 \u2208 A\u2217 . Note that \u03c1(\u03c6(U \u2032 )) = \u03c1(\u03c6(U1\u2032 )W0 U3\u2032 a) = \u03c1(\u03c6(U1\u2032 )W0 U3\u2032 )a = \u03c1(\u03c6(U1\u2032 sU3\u2032 ))a. By\ninduction U1\u2032 sU3\u2032 \u2192\u2217RS \u03c1(\u03c6(U1\u2032 sU3\u2032 )). Thus U \u2032 \u2192\u2217RS \u03c1(\u03c6(U \u2032 )).\nCase 3. Suppose U \u2032 = U1\u2032 s for some U1\u2032 \u2208 B + . Note that \u03c6(U \u2032 ) = \u03c6(U1\u2032 )W0 and \u03c1(\u03c6(U \u2032 )) =\n\u03c1(\u03c6(U1\u2032 ))s. By induction, U1\u2032 \u2192\u2217RS \u03c1(\u03c6(U1\u2032 )), and thus U \u2032 \u2192\u2217RS \u03c1(\u03c6(U \u2032 )).\nThe proof of this lemma is complete.\n\n\u0003\n\n\f10\n\nK.B. WONG AND P.C. WONG\n\nSince A(S) = A+ , we have \u03c6(U \u2032 ) \u2208 A(S) for all U \u2032 \u2208 B + . Therefore the following lemma\nholds by choosing U \u2032\u2032 = U \u2032 .\nLemma 3.5. For each U \u2032 \u2208 B + there is a U \u2032\u2032 \u2208 B + such that \u03c6(U \u2032\u2032 ) \u2208 A(S) and U \u2032 \u2192\u2217RS U \u2032\u2032 .\n(Property (P4)).\nLemma 3.6. Suppose U \u2032 \u2192RS V \u2032 by one of the rules of the form (C1), (C3), (C4) or (C5).\nThen \u03c6(U \u2032 ) 6= \u03c6(V \u2032 ).\nProof. Note that all the rules (C1), (C3), (C4) or (C5) have the form \u03c1(X) \u2192 \u03c1(Y ) where X 6= Y\nand X \u2192\u2217R Y .\nLet U \u2032 = Z1\u2032 \u03c1(X)Z2\u2032 with Z1\u2032 , Z2\u2032 \u2208 B \u2217 . Then V \u2032 = Z1\u2032 \u03c1(Y )Z2\u2032 . Note that \u03c6(U \u2032 ) = \u03c6(Z1\u2032 )X\u03c6(Z2\u2032 )\nand \u03c6(V \u2032 ) = \u03c6(Z1\u2032 )Y \u03c6(Z2\u2032 ) (by Lemma 3.3 and the fact that \u03c6 is a homomorphism). If\n\u03c6(U \u2032 ) = \u03c6(V \u2032 ), then X = Y and\n\nX \u2192R Y \u2192R X \u2192R Y \u2192R * * * ,\nwould be an infinite reduction sequence, contrary to the fact that R is complete. Hence \u03c6(U \u2032 ) 6=\n\u03c6(V \u2032 ).\n\n\u0003\n\nLemma 3.7. There does not exist an infinite reduction sequence\nU1\u2032 \u2192RS U2\u2032 \u2192RS U3\u2032 \u2192RS * * * ,\nof words from B + such that \u03c6(U1\u2032 ) = \u03c6(U2\u2032 ) = \u03c6(U3\u2032 ) = * * * . (Property (P3)).\n\u2032\nProof. Suppose that such a sequence exists. Since \u03c6(Ui\u2032 ) = \u03c6(Ui+1\n), by Lemma 3.6, we conclude\n\u2032\nthat Ui\u2032 \u2192RS Ui+1\nby one of the rules of the form (C2) or (C6). Note that if a rule of the form\n\u2032\n\u2032\n(C2) is applied to Ui\u2032 \u2192RS Ui+1\n, then kUi+1\nk < kUi\u2032 k. If a rule of the form (C6) is applied to\n\u2032\n\u2032\n\u2032\nUi\u2032 \u2192RS Ui+1\n, then kUi+1\nk = kUi\u2032 k and one of the letter s in Ui+1\nwill be further to the right\n\u2032\nthan it is in Ui\u2032 . Thus kUi\u2032 k \u2265 kUi+1\nk for all i.\n\u2032\nThere is an integer i0 such that for all i \u2265 i0 , kUi\u2032 k = kUi+1\nk. So the only rule that can be\n\u2032\n\u2032\nis a rule of the form (C6). Since one of the letter s in Ui+1\nwill be\napplied on Ui\u2032 \u2192RS Ui+1\n\nfurther to the right than it is in Ui\u2032 , this process cannot go on indefinitely. We have obtained a\ncontradiction. Hence the lemma holds.\n\n\u0003\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n11\n\nLemma 3.8. For any U \u2032 , V \u2032 \u2208 B + with U \u2032 \u2192\u2217RS V \u2032 , we have \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ). (Property\n(P2)).\nProof. It is sufficient to show U \u2032 \u2192RS V \u2032 with U \u2032 , V \u2032 \u2208 B + implies that \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ).\nSuppose U \u2032 \u2192RS V \u2032 by a rule of the form (C1), say \u03c1(X) \u2192 \u03c1(Y ) \u2208 RS where X \u2192 Y \u2208 R.\nLet U \u2032 = Z1\u2032 \u03c1(X)Z2\u2032 with Z1\u2032 , Z2\u2032 \u2208 B \u2217 . Then V \u2032 = Z1\u2032 \u03c1(Y )Z2\u2032 . By Lemma 3.3, \u03c6(U \u2032 ) =\n\u03c6(Z1\u2032 )X\u03c6(Z2\u2032 ) and \u03c6(V \u2032 ) = \u03c6(Z1\u2032 )Y \u03c6(Z2\u2032 ). Clearly \u03c6(U \u2032 ) \u2192R \u03c6(V \u2032 ) by the rule X \u2192 Y .\nSuppose U \u2032 \u2192RS V \u2032 by a rule of the form (C2). Let U \u2032 = Z1\u2032 W0 Z2\u2032 with Z1\u2032 , Z2\u2032 \u2208 B \u2217 . Then\nV \u2032 = Z1\u2032 sZ2\u2032 . By Lemma 3.3, \u03c6(U \u2032 ) = \u03c6(Z1\u2032 )W0 \u03c6(Z2\u2032 ) = \u03c6(V \u2032 ). Clearly \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ).\nSuppose U \u2032 \u2192RS V \u2032 by a rule of the form (C3), say \u03c1(Z1 X1 X2 ) \u2192 \u03c1(Y \u2032 ), where X1 X2 \u2192\nY1 \u2208 R, W0 = Z1 X1 and Z1 X1 X2 \u2192\u2217R Y \u2032 (X1 , Y1 \u2208 A+ , X2 , Z1 \u2208 A\u2217 and Y \u2032 \u2208 Irr(R)). Let\nU \u2032 = Z3\u2032 \u03c1(Z1 X1 X2 )Z4\u2032 with Z3\u2032 , Z4\u2032 \u2208 B \u2217 . Then V \u2032 = Z3\u2032 \u03c1(Y \u2032 )Z4\u2032 . By Lemma 3.3, \u03c6(U \u2032 ) =\n\u03c6(Z3\u2032 )Z1 X1 X2 \u03c6(Z4\u2032 ) and \u03c6(V \u2032 ) = \u03c6(Z3\u2032 )Y \u2032 \u03c6(Z4\u2032 ). So \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ), for Z1 X1 X2 \u2192\u2217R Y \u2032 .\nSimilarly we can show that if U \u2032 \u2192RS V \u2032 by a rule of the form (C4), (C5) or (C6), then\n\u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ). The proof of this lemma is complete.\n\n\u0003\n\nLemma 3.9. For any U \u2208 A(S) and V1 \u2208 A+ with U \u2192R V1 , there is a U \u2032 \u2208 B + such that\nU \u2192R V1 \u2192\u2217R \u03c6(U \u2032 ) and \u03c1(U) \u2192RS U \u2032 . (Property (P1)).\nProof. Let U \u2192R V1 by a rule X2 \u2192 Y2 \u2208 R. Let U = X1 X2 X3 where X1 , X3 \u2208 A\u2217 . Then\nV 1 = X1 Y 2 X3\nCase 1. Suppose \u03c1(X1 X2 X3 ) = \u03c1(X1 X2 )\u03c1(X3 ).\nSubCase 1.1. Suppose \u03c1(X1 X2 ) = \u03c1(X1 )\u03c1(X2 ). Then \u03c1(U) = \u03c1(X1 )\u03c1(X2 )\u03c1(X3 ) and also\n\u03c1(U) \u2192RS \u03c1(X1 )\u03c1(Y2 )\u03c1(X3 ) by the rule \u03c1(X2 ) \u2192 \u03c1(Y2 ) \u2208 RS (a rule of the form (C1)). Let\nU \u2032 = \u03c1(X1 )\u03c1(Y2 )\u03c1(X3 ). By Lemma 3.3, \u03c6(U \u2032 ) = X1 Y2 X3 = V1 and thus the lemma holds.\nSubCase 1.2. Suppose \u03c1(X1 X2 ) 6= \u03c1(X1 )\u03c1(X2 ). By Lemma 3.2, there are Z1 , Z4 \u2208 A\u2217 and\nZ2 , Z3 \u2208 A+ with X1 = Z1 Z2 , X2 = Z3 Z4 and Z2 Z3 = W0 such that \u03c1(X1 X2 ) = \u03c1(Z1 )s\u03c1(Z4 ).\nNote that \u03c1(Z2 Z3 Z4 ) \u2192 \u03c1(Y \u2032 ) \u2208 RS where Z2 Z3 Z4 \u2192\u2217R Y \u2032 and Y \u2032 \u2208 Irr(R) (a rule of the form\n(C3)). Furthermore \u03c1(Z1 Z2 Z3 Z4 ) = \u03c1(X1 X2 ) = \u03c1(Z1 )s\u03c1(Z4 ) = \u03c1(Z1 Z2 Z3 )\u03c1(Z4 ). So by Lemma\n3.1, \u03c1(Z2 Z3 Z4 ) = \u03c1(Z2 Z3 )\u03c1(Z4 ) = s\u03c1(Z4 ). Therefore \u03c1(X1 X2 ) = \u03c1(Z1 )s\u03c1(Z4 ) \u2192RS \u03c1(Z1 )\u03c1(Y \u2032 )\nand\n\u03c1(U) = \u03c1(X1 X2 )\u03c1(X3 ) \u2192RS \u03c1(Z1 )\u03c1(Y \u2032 )\u03c1(X3 ).\n\n\f12\n\nK.B. WONG AND P.C. WONG\n\nLet U \u2032 = \u03c1(Z1 )\u03c1(Y \u2032 )\u03c1(X3 ). Then by Lemma 3.3, \u03c6(U \u2032 ) = Z1 Y \u2032 X3 . Note that Z2 Z3 Z4 \u2192R\nZ2 Y2 \u2192\u2217R Y \u2032 (for Y \u2032 \u2208 Irr(R)). Therefore\n\nU = (Z1 Z2 )(Z3 Z4 )X3 \u2192R V1 = (Z1 Z2 )Y2 X3 \u2192\u2217R \u03c6(U \u2032 ),\n\nand thus the lemma holds.\nCase 2. Suppose \u03c1(X1 X2 X3 ) 6= \u03c1(X1 X2 )\u03c1(X3 ). By Lemma 3.2, there are Z1 , Z4 \u2208 A\u2217 and\nZ2 , Z3 \u2208 A+ with X1 X2 = Z1 Z2 , X3 = Z3 Z4 and Z2 Z3 = W0 such that \u03c1(X1 X2 X3 ) =\n\u03c1(Z1 )s\u03c1(Z4 ). Since W0 \u2208 Irr(R), we must have kZ2 k < kX2 k (if not, then X2 would be a\nsubword of W0 and W0 \u2208\n/ Irr(R) because X2 \u2192 Y2 \u2208 R). Let X2 = X4 Z2 for some X4 \u2208 A+ .\nThen Z1 = X1 X4 .\nSubCase 2.1. Suppose \u03c1(X1 X4 ) = \u03c1(X1 )\u03c1(X4 ). Note that \u03c1(X4 Z2 Z3 ) \u2192 \u03c1(Y \u2032 ) \u2208 RS\nwhere X4 Z2 Z3 \u2192\u2217R Y \u2032 and Y \u2032 \u2208 Irr(R) (a rule of the form (C4)). Furthermore \u03c1(X4 Z2 Z3 ) =\n\u03c1(X4 )s and \u03c1(U) = \u03c1(X1 X2 X3 ) = \u03c1(Z1 )s\u03c1(Z4 ) = \u03c1(X1 X4 )s\u03c1(Z4 ) = \u03c1(X1 )\u03c1(X4 )s\u03c1(Z4 ) \u2192RS\n\u03c1(X1 )\u03c1(Y \u2032 )\u03c1(Z4 ). Let U \u2032 = \u03c1(X1 )\u03c1(Y \u2032 )\u03c1(Z4 ). Then by Lemma 3.3, \u03c6(U \u2032 ) = X1 Y \u2032 Z4 . As before\nX4 Z2 Z3 \u2192R Y2 Z3 \u2192\u2217R Y \u2032 (recall that X2 = X4 Z2 ) and\n\nU = (Z1 Z2 )(Z3 Z4 ) = (X1 X4 Z2 )(Z3 Z4 ) \u2192R X1 Y2 Z3 Z4 = V1 \u2192\u2217R \u03c6(U \u2032 ).\n\nSo the lemma holds.\nSubCase 2.2. Suppose \u03c1(X1 X4 ) 6= \u03c1(X1 )\u03c1(X4 ). By Lemma 3.2, there are Z5 , Z8 \u2208 A\u2217 and\nZ6 , Z7 \u2208 A+ with X1 = Z5 Z6 , X4 = Z7 Z8 and Z6 Z7 = W0 such that \u03c1(X1 X4 ) = \u03c1(Z5 )s\u03c1(Z8 ).\nNote that\n\nU = X1 X2 X3 = Z5 Z6 (Z7 Z8 Z2 )Z3 Z4 ,\n\nand X2 = Z7 Z8 Z2 . Also \u03c1(Z6 (Z7 Z8 Z2 )Z3 ) \u2192 \u03c1(Y \u2032 ) \u2208 RS where Z6 (Z7 Z8 Z2 )Z3 \u2192\u2217R Y \u2032 and\nY \u2032 \u2208 Irr(R) (a rule of the form (C5)). Since \u03c1(Z5 Z6 Z7 Z8 ) = \u03c1(X1 X4 ) = \u03c1(Z5 )s\u03c1(Z8 ) =\n\u03c1(Z5 Z6 Z7 )\u03c1(Z8 ), by Lemma 3.1, \u03c1(Z6 Z7 Z8 ) = \u03c1(Z6 Z7 )\u03c1(Z8 ) = s\u03c1(Z8 ). So \u03c1(Z6 (Z7 Z8 Z2 )Z3 ) =\n\u03c1(Z6 Z7 Z8 )s = s\u03c1(Z8 )s and s\u03c1(Z8 )s \u2192 \u03c1(Y \u2032 ) \u2208 RS .\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n13\n\nRecall that\n\u03c1(Z5 Z6 (Z7 Z8 Z2 )Z3 Z4 ) = \u03c1(U) = \u03c1(X1 X2 X3 )\n= \u03c1(Z1 )s\u03c1(Z4 )\n= \u03c1(X1 X4 )s\u03c1(Z4 )\n= \u03c1(Z5 )s\u03c1(Z8 )s\u03c1(Z4 ).\nTherefore \u03c1(U) = \u03c1(Z5 )s\u03c1(Z8 )s\u03c1(Z4 ) \u2192RS \u03c1(Z5 )\u03c1(Y \u2032 )\u03c1(Z4 ). Let U \u2032 = \u03c1(Z5 )\u03c1(Y \u2032 )\u03c1(Z4 ).\nThen by Lemma 3.3, \u03c6(U \u2032 ) = Z5 Y \u2032 Z4 . As before Z6 (Z7 Z8 Z2 )Z3 \u2192R Z6 Y2 Z3 \u2192\u2217R Y \u2032 (recall\nthat X2 = X4 Z2 = Z7 Z8 Z2 ) and\nU = Z5 Z6 (Z7 Z8 Z2 )Z3 Z4 \u2192R Z5 Z6 Y2 Z3 Z4 = V1 \u2192\u2217R \u03c6(U \u2032 ).\nThe proof of this lemma is complete.\n\n\u0003\n\nBy Corollary 2.3, Lemma 3.9, Lemma 3.8, Lemma 3.7, Lemma 3.5, Lemma 3.3 and Lemma\n3.4, we have shown that [B ; RS ] is a semigroup presentation for S, RS is a finite complete\nrewriting system and W0 \u2192\u2217RS s. Now note that if U \u2032 \u2192 V \u2032 \u2208 RS is a rule of the form (C2),\n(C3), (C4), (C5) or (C6), then kU \u2032 k > 1. From this we conclude that s \u2208 Irr(RS ). Note also\nthat if X \u2208 A+ , X 6= W0 and kXk > 1, then k\u03c1(X)k > 1. Therefore if X \u2192 Y \u2208 R with\nkXk > 1, then \u03c1(X) \u2192 \u03c1(Y ) \u2208 RS and k\u03c1(X)k > 1 (a rule of the form (C1)). This implies\nthat if a \u2208 A \u2229 Irr(R), then a \u2208 Irr(RS ).\nThus we have proved the following theorem.\nTheorem 3.10. Let [A ; R] be a finitely presented semigroup presentation for S for which R\nis complete. Let W0 \u2208 A+ be such that kW0 k > 1 and W0 \u2208 Irr(R). Now let s be a symbol that\ndoes not appear in A and set B = A \u222a {s}. Then there is complete rewriting system RS such\nthat [B ; RS ] is a finitely presented semigroup presentation for S and W0 \u2192\u2217RS s. Furthermore\ns \u2208 Irr(RS ), and a \u2208 Irr(RS ) for all a \u2208 A \u2229 Irr(R).\n4. Reduction process.\nIn this section we will make further refinements and improvements (we call them reductions)\nto Theorem 3.10. The reason for such reductions is that we need a finitely presented semigroup\npresentation for S, which can be handled easily.\n\n\f14\n\nK.B. WONG AND P.C. WONG\n\nLet S be a semigroup and T be a large subsemigroup of S. Let [A ; R] be a finitely presented\nsemigroup presentation for S for which R is complete. Let S \\ T = {[W1 ]R , [W2 ]R , . . . , [Wn ]R }\nwith Wi \u2208 Irr(R) and kW1 k \u2264 kW2 k \u2264 * * * \u2264 kWn k. Suppose that kW1 k = kW2 k = * * * =\nkWi0 \u22121 k = 1 and kWi0 k > 1. By Theorem 3.10, there is a finitely presented semigroup presentation [Bi0 ; Ri0 ] for S such that B = A \u222a {si0 } for some symbol si0 that does not appear in\nA, Ri0 is complete, Wi0 \u2192\u2217Ri si0 and W1 , W2 , . . . , Wi0 \u22121 , si0 \u2208 Irr(Ri0 ).\n0\n\nNow in this new semigroup presentation [Bi0 ; Ri0 ], we see that\n\nS \\ T = {[W1 ]Ri0 , [W2 ]Ri0 , . . . , [Wi0 \u22121 ]Ri0 , [si0 ]Ri0 , [Wi\u20320 +1 ]Ri0 , . . . , [Wn\u2032 ]Ri0 },\nwith W1 , . . . , Wi0 \u22121 , si0 , Wi\u20320 +1 , . . . , Wn\u2032 \u2208 Irr(Ri0 ).\nNote that this process can be continued (in at most n steps) until we obtain a finitely\npresented semigroup presentation [Bn ; Rn ] for S such that Rn is complete and S \\ T =\n{[s1 ]Rn , [s2 ]Rn , . . . , [sn ]Rn } with s1 , . . . , sn \u2208 Irr(Rn ) \u2229 Bn .\nIn fact by a standard procedure described in [1, Section 2.2], we may further assume that for\neach X \u2192 Y \u2208 Rn , we have Y \u2208 Irr(R), and for each X \u2192 Y \u2208 Rn , there is no X \u2032 \u2208 Bn+ for\nwhich X \u2192Rn X \u2032 by any rule in Rn \\ {X \u2192 Y }. This is the form of the presentation that we\nwill use.\n\n5. The main result.\nLet S be a semigroup and T be a large subsemigroup of S. As stated in Section 4, we may\nassume that [A ; R] is a finitely presented semigroup presentation for S for which R is complete\nand\n(Q1) S \\ T = {[s1 ]R , [s2 ]R , . . . , [sn ]R } with s1 , . . . , sn \u2208 Irr(R) \u2229 A,\n(Q2) for each X \u2192 Y \u2208 R, we have Y \u2208 Irr(R),\n(Q3) for each X \u2192 Y \u2208 R, there is no X \u2032 \u2208 A+ for which X \u2192R X \u2032 by any rule in\nR \\ {X \u2192 Y }.\nIn order to show that T has a finite complete rewriting system, we shall find a 5-tuple\n(B, RT , A(T ), \u03c6, \u03c1) that has Property R relative to [A ; R] and apply Theorem 2.2.\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n15\n\nLet A1 = {a \u2208 A : [a]R \u2208 T } and AS = {s1 , s2 , . . . , sn }. Note that in general the union of\nAS and A1 is not necessary equal to A. This is because there might exist an element b \u2208 A\nsuch that [b]R \u2208 S \\ T . If this happens, we would have b \u2192\u2217R si for some i.\nLemma 5.1. Let X \u2192 Y \u2208 R with [X]R \u2208 T . Then\n(a) if W \u2208 A+ is a subword of X and [W ]R \u2208 S \\ T , then W = si for some i,\n(b) if W \u2208 A+ is a subword of Y and [W ]R \u2208 S \\ T , then W = si for some i.\nProof. (a) Suppose W \u2208\n/ AS . Then by (Q1) W \u2192\u2217R si for some i. To be precise there is a\nW1 \u2208 A+ such that W \u2192R W1 \u2192\u2217R si . Let W \u2192R W1 by the rule X1 \u2192 Y1 . Since [X]R \u2208 T ,\nwe cannot have W = X. Therefore X1 6= X and X1 \u2192 Y1 \u2208 R \\ {X \u2192 Y }. Let X = Z1 W Z2\nwhere Z1 , Z2 \u2208 A\u2217 . Then X \u2192R Z1 W1 Z2 by the rule X1 \u2192 Y1 , contrary to (Q3). Hence W = si\nfor some i.\n(b) can be proved similarly using the fact that Y \u2208 Irr(R) (see (Q2)).\n\n\u0003\n\nWe now begin to define the 5-tuple (B, RT , A(T ), \u03c6, \u03c1). Let A(T )(0) be the set of all W \u2208 A+ ,\nsuch that [W ]R \u2208 T , and if X1 is a subword W with [X1 ]R \u2208 S \\T , then kX1 k = 1 and X1 \u2208 AS .\nIn other word,\nA(T )(0) = {W \u2208 (A1 \u222a As )+ : [W ]R \u2208 T, and W does not contain any subword\nX1 with [X1 ]R \u2208 S \\ T and kX1 k > 1}.\nThe following lemma is clear from the definition of A(T )(0).\nLemma 5.2. Let W \u2208 A(T )(0) and W \u2032 be a subword of W . If [W \u2032 ]R \u2208 T , then W \u2032 \u2208 A(T )(0).\nNext let\nF1 = A1 ,\nF2 = {sb : s \u2208 AS , b \u2208 A1 \u222a AS and [sb]R \u2208 T },\nF3 = {as : a \u2208 A1 , s \u2208 AS and [as]R \u2208 T },\nF4 = {sbs\u2032 : s, s\u2032 \u2208 AS , b \u2208 A1 \u222a AS and [sb]R , [bs\u2032 ]R , [sbs\u2032 ]R \u2208 T }.\nIt is not hard to see that if W \u2208 F1 \u222aF2 \u222aF3 \u222aF4 , then [W ]R \u2208 T . Furthermore F1 \u222aF2 \u222aF3 \u222aF4 \u2286\nA(T )(0). For convenience, for each G \u2286 A+ and X \u2208 A+ , we set XG = {XW : W \u2208 G}.\n\n\f16\n\nK.B. WONG AND P.C. WONG\n\nNow we shall define A(T ). Let A(T )(1) = F1 \u222a F2 \u222a F3 \u222a F4 and for each i \u2265 1, let\n!\n!\n[\n[\n((XA(T )(i)) \u2229 A(T )(0)) .\n((aA(T )(i)) \u2229 A(T )(0)) \u222a\nA(T )(i + 1) =\na\u2208A1\n\nSet A(T ) =\n\nS\n\ni\u22651\n\nX\u2208F2\n\nA(T )(i). In the following lemma we shall prove some properties of A(T ).\n\nLemma 5.3.\n(a) A(T ) = A(T )(0).\n(b) A(T ) contains the set {W \u2208 Irr(R) : [W ]R \u2208 T }.\n(c) Let X \u2192 Y \u2208 R with [X]R \u2208 T . Then X, Y \u2208 A(T ).\nProof. (a) Clearly A(T ) \u2286 A(T )(0). Let W \u2208 A(T )(0). We shall prove by induction on kW k\nthat W \u2208 A(T ).\nSuppose kW k = 1. Since [W ]R \u2208 T , we must have W \u2208 A1 . So W \u2208 A(T )(1) \u2286 A(T ).\nSuppose kW k = 2. Then W = a\u2032 a, or W = as, or W = sa, or W = ss\u2032 (a, a\u2032 \u2208 A1 ,\ns, s\u2032 \u2208 AS ). If W = a\u2032 a, then W \u2208 (a\u2032 A(T )(1)) \u2229 A(T )(0) \u2286 A(T )(2) \u2286 A(T ). If W = as, then\nW \u2208 F3 \u2286 A(T )(1) \u2286 A(T ). If W = sa or W = ss\u2032 , then W \u2208 F2 \u2286 A(T )(1) \u2286 A(T ).\nSuppose kW k \u2265 3. Assume that it is true for all W \u2032 \u2208 A(T )(0) with kW \u2032 k < kW k.\nIf W begins with a letter a \u2208 A1 , say W = aW \u2032 where W \u2032 \u2208 A+ , then kW \u2032 k \u2265 2. Note that\n[W \u2032 ]R \u2208 T , for if [W \u2032 ]R \u2208 S \\ T , then by the definition of A(T )(0), W \u2032 \u2208 AS and kW \u2032 k = 1,\ncontrary to the fact that kW \u2032k \u2265 2. Therefore by Lemma 5.2, W \u2032 \u2208 A(T )(0). By induction,\nW \u2032 \u2208 A(T ). Let W \u2032 \u2208 A(T )(i) for some i \u2265 1. Then W \u2208 (aA(T )(i))\u2229A(T )(0) \u2286 A(T )(i+1) \u2286\nA(T ).\nIf W begins with a letter s \u2208 AS , say W = sbW \u2032 where b \u2208 A1 \u222a AS and W \u2032 \u2208 A+ , then\nkW \u2032 k \u2265 1. If [W \u2032 ]R \u2208 S \\ T , then by the definition of A(T )(0), W \u2032 = s\u2032 for some s\u2032 \u2208 AS , and\nW = sbs\u2032 . Since W \u2208 A(T )(0), we have [sb]R , [bs\u2032 ]R , [sbs\u2032 ]R \u2208 T (definition of A(T )(0)). This\nmeans W \u2208 F4 \u2286 A(T )(1) \u2286 A(T ).\nIf [W \u2032 ]R \u2208 T , then by Lemma 5.2, W \u2032 \u2208 A(T )(0). By induction, W \u2032 \u2208 A(T ). Let W \u2032 \u2208\nA(T )(i) for some i \u2265 1. Then W \u2208 (sbA(T )(i)) \u2229 A(T )(0) \u2286 A(T )(i + 1) \u2286 A(T ).\nThe proof of part (a) of the lemma is complete.\nPart (b) follows from part (a) and the fact that A(T )(0) contains the set {W \u2208 Irr(R) :\n[W ]R \u2208 T }.\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n17\n\n(c) By part (a) of Lemma 5.1, we conclude that X does not contain any subword X1 with\n[X1 ]R \u2208 S \\ T and X1 \u2208\n/ AS . So X \u2208 A(T )(0) = A(T ). Similarly by part (b) of Lemma 5.1,\nY \u2208 A(T ).\n\n\u0003\n\nNow we shall define the set B and the homomorphism \u03c6. Let\n\nCR = {cas : [as]R \u2208 T with a \u2208 A1 and s \u2208 AS },\nCL1 = {csa : [sa]R \u2208 T with a \u2208 A1 and s \u2208 AS },\nCL2 = {css\u2032 : [ss\u2032 ]R \u2208 T with s, s\u2032 \u2208 AS },\nCM1 = {cs\u2032 as : [s\u2032 as]R , [s\u2032 a]R , [as]R \u2208 T with a \u2208 A1 and s, s\u2032 \u2208 AS },\nCM2 = {css\u2032s\u2032\u2032 : [ss\u2032 s\u2032\u2032 ]R , [ss\u2032 ]R , [s\u2032 s\u2032\u2032 ]R \u2208 T with s, s\u2032 , s\u2032\u2032 \u2208 AS }.\nSet C = CR \u222a CL1 \u222a CL2 \u222a CM1 \u222a CM2 and B = A1 \u222a C. Since A1 and AS are finite, it is\nnot hard to see that B is finite. Let \u03c61 : B \u2192 A+ be defined by \u03c61 (a) = a for all a \u2208 A1 and\n\u03c61 (cu ) = u for all cu \u2208 C (for example \u03c61 (cas ) = as for cas \u2208 CR ). Clearly \u03c61 can be extended to\na homomorphism \u03c6 : B + \u2192 A+ by defining \u03c6(U \u2032 ) = \u03c61 (b1 ) . . . \u03c61 (bl ) for all U \u2032 = b1 . . . bl \u2208 B + .\nFurthermore [\u03c6(U \u2032 )]R \u2208 T for all U \u2032 \u2208 B + . For convenience, we may define \u03c6(\u01ebB ) = \u01ebA where\n\u01ebB and \u01ebA are empty words in B \u2217 and A\u2217 , respectively. The following lemma is obvious.\nLemma 5.4. For all U \u2032 \u2208 B + , k\u03c6(U \u2032 )k \u2265 kU \u2032 k.\nWe define \u03c1 : A(T ) \u2192 B + as follows:\nLet W \u2208 A(T ).\n(a) Suppose W \u2208 A(T )(1). If W \u2208 F1 , then set \u03c1(W ) = W . If W \u2208 F2 \u222a F3 \u222a F4 , set\n\u03c1(W ) = cW (for example if W = as \u2208 F3 , then \u03c1(W ) = cas ).\n(b) Suppose W \u2208 A(T )(i + 1) for some i \u2265 1. Then W = aW1 or W = sbW1 (a \u2208 A1 ,\ns \u2208 AS , b \u2208 A1 \u222a AS and W1 \u2208 A(T )(i)). If the former holds, set \u03c1(W ) = a\u03c1(W1 ). If\nthe latter holds, set \u03c1(W ) = csb \u03c1(W1 ).\nThe function \u03c1 is well-defined can be easily proved by observing that a word from A(T )(i + 1)\nis obtained in a unique way from a unique word from A(T )(i). As for the homomorphism \u03c6,\nwe may define \u03c1(\u01ebA ) = \u01ebB .\n\n\f18\n\nK.B. WONG AND P.C. WONG\n\nLemma 5.5. Let U \u2208 A(T )(l) for some l \u2265 1. Then \u03c1(U) = b\u20321 . . . b\u2032l where b\u2032i \u2208 B. Furthermore\nif l > 1, then b\u2032i \u2208 A1 \u222a CL1 \u222a CL2 for all 1 \u2264 i \u2264 l \u2212 1.\nProof. We prove by induction on l. Suppose l = 1. Then \u03c1(U) = b\u20321 by the definition of \u03c1.\nSuppose l > 1. Assume that it is true for all l\u2032 with l\u2032 < l.\nSince U \u2208 A(T )(l), we have either U = aU1 or U = sbU1 (a \u2208 A1 , sb \u2208 F2 and U1 \u2208\nA(T )(l \u2212 1)). Suppose U = aU1 . Then \u03c1(U) = a\u03c1(U1 ). This means b\u20321 = a \u2208 A1 . By induction\n\u03c1(U1 ) = b\u20322 . . . b\u2032l . Furthermore if l \u2212 1 > 1 (i.e. l > 2), then b\u20322 , . . . , b\u2032l\u22121 \u2208 A1 \u222a CL1 \u222a CL2 .\nSuppose U = sbU1 . Then \u03c1(U) = csb \u03c1(U1 ). This means b\u20321 = csb \u2208 CL1 \u222a CL2 . By induction\n\u03c1(U1 ) = b\u20322 . . . b\u2032l . Furthermore if l \u2212 1 > 1 (i.e. l > 2), then b\u20322 , . . . , b\u2032l\u22121 \u2208 A1 \u222a CL1 \u222a CL2 .\nHence in either cases the lemma holds.\n\n\u0003\n\nLemma 5.6. \u03c6(\u03c1(U)) = U for all U \u2208 A(T ). (Property (P5)).\nProof. We just need to show that for all i \u2265 1, if U \u2208 A(T )(i), then \u03c6(\u03c1(U)) = U.\nSuppose U \u2208 A(T )(1). If U \u2208 F1 , then \u03c1(U) = U and \u03c6(\u03c1(U)) = U. If U \u2208 F2 \u222a F3 \u222a F4 ,\nthen \u03c1(U) = cU and \u03c6(\u03c1(U)) = \u03c6(cU ) = U. Assume that it is true for all U \u2032 \u2208 A(T )(i).\nLet U \u2208 A(T )(i + 1). Then U = aU1 or U = sbU1 where a \u2208 A1 , sb \u2208 F2 and U1 \u2208 A(T )(i).\nIf the former holds, then \u03c1(U) = a\u03c1(U1 ) and by induction \u03c6(\u03c1(U)) = a\u03c6(\u03c1(U1 )) = aU1 = U. If\nthe latter holds, then \u03c1(U) = csb \u03c1(U1 ), and by induction \u03c6(\u03c1(U)) = \u03c6(csb)\u03c6(\u03c1(U1 )) = sbU1 = U.\nHence the lemma holds.\n\n\u0003\n\nLemma 5.7. Let U \u2032 = b\u20321 . . . b\u2032l \u2208 B + where b\u2032i \u2208 A1 \u222a CL1 \u222a CL2 for all 1 \u2264 i \u2264 l \u2212 1 and b\u2032l \u2208 B.\nIf \u03c6(U \u2032 ) \u2208 A(T ), then \u03c6(U \u2032 ) \u2208 A(T )(l) and \u03c1(\u03c6(U \u2032 )) = U \u2032 .\nProof. We prove by induction on l. Suppose l = 1. If b\u20321 = a \u2208 A1 , then \u03c6(b\u20321 ) = a, and\n\u03c1(\u03c6(b\u20321 )) = b\u20321 . If b\u20321 = cz \u2208 C, then \u03c6(b\u20321 ) = z \u2208 A(T )(1), and \u03c1(\u03c6(b\u20321 )) = b\u20321 .\nSuppose l > 1. Assume that it is true for all l\u2032 with l\u2032 < l. Let U \u2032 = b\u20321 U1\u2032 where U1\u2032 = b\u20322 . . . b\u2032l .\nBy induction, \u03c6(U1\u2032 ) \u2208 A(T )(l \u2212 1) and \u03c1(\u03c6(U1\u2032 )) = U1\u2032 . Since b\u20321 \u2208 A1 \u222a CL1 \u222a CL2 , we have\n\u03c6(b\u20321 ) \u2208 A1 \u222a F2 . Therefore \u03c6(U \u2032 ) = \u03c6(b\u20321 )\u03c6(U1\u2032 ) \u2208 A(T )(l), and \u03c1(\u03c6(U \u2032 )) = b\u20321 \u03c1(\u03c6(U1\u2032 )) = b\u20321 U1\u2032 =\nU \u2032 . Hence the lemma holds.\n\n\u0003\n\nWe are now ready to define the rules in RT . Let us begin by recalling some of the results of\nLemma 5.3. For each X \u2192 Y \u2208 R with [X]R \u2208 T , we have X, Y \u2208 A(T ) (part (c) of Lemma\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n19\n\n5.3). Furthermore if Y \u2208 Irr(R) and [Y ]R \u2208 T , then Y \u2208 A(T ) (part (b) of Lemma 5.3). Recall\nthat C = CR \u222a CL1 \u222a CL2 \u222a CM1 \u222a CM2 , \u01ebA is the empty word in A\u2217 , \u03c6 is a homomorphism of\nB + into A+ (furthermore [\u03c6(U \u2032 )]R \u2208 T for all U \u2032 \u2208 B + ), and \u03c1 is a function of A(T ) into B + .\nAs R is a finite complete rewriting system, Left(R) = {X \u2208 A+ : X \u2192 Y \u2208 R} is finite. Let\n\u0001\nN = maxX\u2208Left(R) kXk + 4. The rules are grouped into two forms, (D1) and (D2):\n(D1) for each U \u2032 \u2208 B + with k\u03c6(U \u2032 )k \u2264 N and \u03c6(U \u2032 ) \u2208\n/ Irr(R), put U \u2032 \u2192 \u03c1(\u03c6(U \u2032 )) in RT\nwhere \u03c6(U \u2032 ) \u2192\u2217R \u03c6(U \u2032 ) and \u03c6(U \u2032 ) \u2208 Irr(R);\n(D2) for each U \u2032 \u2208 B + with kU \u2032 k = 2, \u03c6(U \u2032 ) \u2208 A(T ) and U \u2032 6= \u03c1(\u03c6(U \u2032 )), put U \u2032 \u2192 \u03c1(\u03c6(U \u2032 ))\nin RT .\nNote that the number of rules of the form (D1) that we put in RT is finite, for by Lemma\n5.4 the length of U \u2032 is bounded and B is finite. Similarly the number of rules of the form (D2)\nthat we put in RT is also finite. Therefore RT is finite and [B ; RT ] is finitely presented. Note\nthat by the main result in [4, Theorem 6.1], one can get a finite presentation for T by taking\nN sufficiently large.\nLemma 5.8. Let U \u2032 , V \u2032 \u2208 B + . If U \u2032 \u2192RT V \u2032 by a rule of the form (D2), then \u03c6(U \u2032 ) = \u03c6(V \u2032 ).\nFurthermore either\n(i) the number of elements in CR \u222a CM1 \u222a CM2 which appear as letters in the word V \u2032 is\nless than that in the word U \u2032 , or\n(ii) the number of elements in CR \u222a CM1 \u222a CM2 which appear as letters in the word V \u2032 is the\nsame as that in the word U \u2032 , kU \u2032 k = kV \u2032 k, and there is an element in CR \u222a CM1 \u222a CM2\nin which it \"moves\" further right in the resulting word V \u2032 than it is in the word U \u2032 (the\nelement may have changed).\nProof. Let U \u2032 \u2192RT V \u2032 by the rule X \u2032 \u2192 \u03c1(\u03c6(X \u2032 )) where X \u2032 \u2208 B + , kX \u2032 k = 2, \u03c6(X \u2032) \u2208 A(T )\nand X \u2032 6= \u03c1(\u03c6(X \u2032 )). By Lemma 5.6, \u03c6(\u03c1(\u03c6(X \u2032 ))) = \u03c6(X \u2032 ). Since \u03c6 is a homomorphism, we\nhave \u03c6(U \u2032 ) = \u03c6(V \u2032 ). Now we will show that either (i) or (ii) holds.\nIf the first letter that appears in X \u2032 is not from CR \u222a CM1 \u222a CM2 , then by Lemma 5.7,\n\u03c1(\u03c6(X \u2032 )) = X \u2032 , a contradiction. So we may assume that the first letter that appears in X \u2032 is\nfrom CR \u222a CM1 \u222a CM2 .\n\n\f20\n\nK.B. WONG AND P.C. WONG\n\nBy Lemma 5.5, \u03c1(\u03c6(X \u2032 )) has at most one letter from CR \u222a CM1 \u222a CM2 , which is then the last\nletter. If \u03c1(\u03c6(X \u2032 )) has no letter from CR \u222a CM1 \u222a CM2 , then (i) holds.\nSuppose \u03c1(\u03c6(X \u2032 )) has a letter from CR \u222a CM1 \u222a CM2 . Then \u03c6(X \u2032 ) = \u03c6(\u03c1(\u03c6(X \u2032 ))) ends with\na letter from AS . Let X \u2032 = cy where c \u2208 CR \u222a CM1 \u222a CM2 and y \u2208 B. Then y \u2208\n/ A1 \u222a CL1 .\nIf y \u2208 CR \u222a CM1 \u222a CM2 , then (i) holds. So we may assume that y \u2208 CL2 . Let y = cs\u2032\u2032\u2032 s\u2032\u2032\u2032\u2032 . If\nc = cas , then \u03c1(\u03c6(X \u2032 )) = acss\u2032\u2032\u2032 s\u2032\u2032\u2032\u2032 , if c = csas\u2032 , then \u03c1(\u03c6(X \u2032 )) = csa cs\u2032s\u2032\u2032\u2032 s\u2032\u2032\u2032\u2032 , and if c = css\u2032 s\u2032\u2032 ,\nthen \u03c1(\u03c6(X \u2032 )) = css\u2032 cs\u2032\u2032 s\u2032\u2032\u2032 s\u2032\u2032\u2032\u2032 . Therefore k\u03c1(\u03c6(X \u2032 ))k = kX \u2032 k and (ii) holds.\n\n\u0003\n\nLemma 5.9. U \u2032 \u2192\u2217RT \u03c1(\u03c6(U \u2032 )) for all U \u2032 \u2208 B + with \u03c6(U \u2032 ) \u2208 A(T ). (Property (P6)).\nProof. Let U \u2032 = b\u20321 . . . b\u2032l \u2208 B + where b\u2032i \u2208 B for all i. If b\u2032i \u2208 A1 \u222a CL1 \u222a CL2 for all 1 \u2264 i \u2264 l \u2212 1,\nthen by Lemma 5.7, \u03c1(\u03c6(U \u2032 )) = U \u2032 . Hence U \u2032 \u2192\u2217RT \u03c1(\u03c6(U \u2032 )).\nSo we may assume that b\u2032i \u2208 CR \u222a CM1 \u222a CM2 for some 1 \u2264 i \u2264 l \u2212 1. By Lemma 5.2 and\npart (a) of Lemma 5.3, \u03c6(b\u2032i b\u2032i+1 ) \u2208 A(T ). By Lemma 5.5, b\u2032i b\u2032i+1 6= \u03c1(\u03c6(b\u2032i b\u2032i+1 )). Therefore\nb\u2032i b\u2032i+1 \u2192 \u03c1(\u03c6(b\u2032i b\u2032i+1 )) is a rule of the form (D2) in RT .\nLet V \u2032 = b\u20321 . . . b\u2032i\u22121 \u03c1(\u03c6(b\u2032i b\u2032i+1 ))b\u2032i+2 . . . b\u2032l . Then U \u2032 \u2192RT V \u2032 , and by Lemma 5.6, \u03c6(U \u2032 ) =\n\u03c6(b\u20321 . . . b\u2032l ) = \u03c6(V \u2032 ). By Lemma 5.8, we conclude that after applying rules of the form (D2)\na finite number of times, there is a U \u2032\u2032 = d\u20321 . . . d\u2032r \u2208 B + with d\u2032i \u2208 A1 \u222a CL1 \u222a CL2 for all\n1 \u2264 i \u2264 r \u2212 1 and d\u2032r \u2208 B, such that U \u2032 \u2192\u2217RT U \u2032\u2032 and \u03c6(U \u2032 ) = \u03c6(U \u2032\u2032 ). Again by Lemma 5.7,\n\u03c1(\u03c6(U \u2032\u2032 )) = U \u2032\u2032 . So U \u2032 \u2192\u2217RT \u03c1(\u03c6(U \u2032\u2032 )) = \u03c1(\u03c6(U \u2032 )).\n\n\u0003\n\nLemma 5.10. Let U \u2032 \u2208 B + and V \u2208 A+ . If \u03c6(U \u2032 ) \u2192R V , then there is a V \u2032 \u2208 B + such that\nU \u2032 \u2192RT V \u2032 by a rule of the form (D1 ), and V \u2192\u2217R \u03c6(V \u2032 ).\nProof. Let U \u2032 = b\u20321 . . . b\u2032l where b\u2032i \u2208 B, and \u03c6(U \u2032 ) \u2192R V by a rule X \u2192 Y in R. Then for some\nnon-negative integers j1 , j2 , X is a subword of \u03c6(b\u2032j1 . . . b\u2032j1 +j2 ). We may assume that X is not\na subword of \u03c6(b\u2032j1 +1 . . . b\u2032j1 +j2 ) or \u03c6(b\u2032j1 . . . b\u2032j1 +j2 \u22121 ). Since \u03c6(b\u2032j1 ) and \u03c6(b\u2032j1 +j2 ) are at most of\nlength 3, we deduce that k\u03c6(b\u2032j1 . . . b\u2032j1 +j2 )k \u2264 kXk+4 \u2264 N. So b\u2032j1 . . . b\u2032j1 +j2 \u2192 \u03c1(\u03c6(b\u2032j1 . . . b\u2032j1 +j2 ))\nis a rule of the form (D1) in RT , where \u03c6(b\u2032j1 . . . b\u2032j1 +j2 ) \u2192\u2217R \u03c6(b\u2032j1 . . . b\u2032j1 +j2 ), \u03c6(b\u2032j1 . . . b\u2032j1 +j2 ) \u2208\n/\nIrr(R) and \u03c6(b\u2032j1 . . . b\u2032j1 +j2 ) \u2208 Irr(R). Set V \u2032 = b\u20321 . . . b\u2032j1 \u22121 \u03c1(\u03c6(b\u2032j1 . . . b\u2032j1 +j2 ))b\u2032j1 +j2 +1 . . . b\u2032l . Then\nU \u2032 \u2192RT V \u2032 .\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n21\n\nBy Lemma 5.6, \u03c6(V \u2032 ) = \u03c6(b\u20321 . . . b\u2032j1 \u22121 )(\u03c6(b\u2032j1 . . . b\u2032j1 +j2 ))\u03c6(b\u2032j1 +j2 +1 . . . b\u2032l ). Let \u03c6(b\u2032j1 . . . b\u2032j1 +j2 ) =\nW1 XW2 where W1 , W2 \u2208 A\u2217 (we allow W1 , W2 to be empty word). Then \u03c6(b\u2032j1 . . . b\u2032j1 +j2 ) \u2192R\nW1 Y W2 \u2192\u2217R \u03c6(b\u2032j1 . . . b\u2032j1 +j2 ). Hence V = \u03c6(b\u20321 . . . b\u2032j1 \u22121 )(W1 Y W2 )\u03c6(b\u2032j1 +j2 +1 . . . b\u2032l ) \u2192\u2217R \u03c6(V \u2032 ).\n\u0003\nLemma 5.11. For each U \u2032 \u2208 B + there is a U \u2032\u2032 \u2208 B + such that \u03c6(U \u2032\u2032 ) \u2208 A(T ) and U \u2032 \u2192\u2217RT U \u2032\u2032 .\n(Property (P4)).\nProof. We shall prove by induction on dR (\u03c6(U \u2032 )). Suppose dR (\u03c6(U \u2032 )) = 0. Then \u03c6(U \u2032 ) \u2208 A(T )\n(part (b) of Lemma 5.3). So we may choose U \u2032\u2032 = U \u2032 . Suppose dR (\u03c6(U \u2032 )) > 0. Assume that it\nis true for all U1\u2032 \u2208 B + with dR (\u03c6(U1\u2032 )) < dR (\u03c6(U \u2032 )).\nSince dR (\u03c6(U \u2032 )) > 0, there is a V \u2208 A+ such that \u03c6(U \u2032 ) \u2192R V . By Lemma 5.10, there\nis a V \u2032 \u2208 B + such that U \u2032 \u2192RT V \u2032 and V \u2192\u2217R \u03c6(V \u2032 ). Therefore \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ), and\ndR (\u03c6(V \u2032 )) < dR (\u03c6(U \u2032 )). By induction, there is a U \u2032\u2032 \u2208 B + such that \u03c6(U \u2032\u2032 ) \u2208 A(T ) and\nV \u2032 \u2192\u2217RT U \u2032\u2032 . Hence U \u2032 \u2192\u2217RT U \u2032\u2032 .\n\n\u0003\n\nLemma 5.12. Suppose U \u2032 \u2192RT V \u2032 by one of the rules of the form (D1). Then \u03c6(U \u2032 ) 6= \u03c6(V \u2032 )\nand \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ).\nProof. Suppose U \u2032 \u2192RT V \u2032 by a rule of the form (D1), say X \u2032 \u2192 Y \u2032 . Then k\u03c6(X \u2032)k \u2264 N,\n\u03c6(X \u2032 ) \u2208\n/ Irr(R), and Y \u2032 = \u03c1(\u03c6(X \u2032 )), where \u03c6(X \u2032 ) \u2192\u2217R \u03c6(X \u2032 ) and \u03c6(X \u2032 ) \u2208 Irr(R).\nLet U \u2032 = W1\u2032 X \u2032 W2\u2032 where W1\u2032 , W2\u2032 \u2208 B \u2217 (we allow W1\u2032 and W2\u2032 to be empty word). Note that\nV \u2032 = W1\u2032 \u03c1(\u03c6(X \u2032 ))W2\u2032 . By Lemma 5.6 and the fact that \u03c6 is a homomorphism, we must have\n\u03c6(V \u2032 ) = \u03c6(W1\u2032 )\u03c6(X \u2032 )\u03c6(W2\u2032 ) 6= \u03c6(U \u2032 ), for otherwise we would have \u03c6(X \u2032 ) = \u03c6(X \u2032 ). Furthermore\n\u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ).\n\n\u0003\n\nLemma 5.13. There does not exist an infinite reduction sequence\nU1\u2032 \u2192RT U2\u2032 \u2192RT U3\u2032 \u2192RT * * * ,\nof words from B + such that \u03c6(U1\u2032 ) = \u03c6(U2\u2032 ) = \u03c6(U3\u2032 ) = * * * . (Property (P3)).\nProof. Suppose that such a sequence exists.\n\u2032\n\u2032\nSince \u03c6(Ui\u2032 ) = \u03c6(Ui+1\n), by Lemma 5.12, we conclude that Ui\u2032 \u2192RT Ui+1\nby a rule of the\n\nform (D2). By Lemma 5.8, the number of elements in CR \u222a CM1 \u222a CM2 which appear as letters\n\n\f22\n\nK.B. WONG AND P.C. WONG\n\n\u2032\nin the word Ui+1\nis either less than that in the word Ui\u2032 , or the number are the same and\n\u2032\nkUi\u2032 k = kUi+1\nk, but it 'moves' to the right. So we deduce that there is an integer i0 such that\n\nfor all i \u2265 i0 , the number of elements in CR \u222a CM1 \u222a CM2 which appear as letters in the word Ui\u2032\n\u2032\n\u2032\nis the same as in the word Ui+1\n, and kUi\u2032 k = kUi+1\nk. So a letter (an element in CR \u222a CM1 \u222a CM2 )\n\u2032\nin the word Ui\u2032 will 'move' further right in the word Ui+1\n. But this process cannot be continued\n\u2032\nindefinitely as kUi\u2032 k = kUi+1\nk. We have obtained a contradiction.\n\n\u0003\n\nLemma 5.14. For any U \u2032 , V \u2032 \u2208 B + with U \u2032 \u2192\u2217RT V \u2032 , we have \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ). (Property\n(P2)).\nProof. It is sufficient to show U \u2032 \u2192RT V \u2032 with U \u2032 , V \u2032 \u2208 B + implies that \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ).\nSuppose U \u2032 \u2192RT V \u2032 by a rule of the form (D1). By Lemma 5.12, \u03c6(U \u2032 ) \u2192\u2217R \u03c6(V \u2032 ). Suppose\nU \u2032 \u2192RT V \u2032 by a rule of the form (D2). By Lemma 5.8, \u03c6(U \u2032 ) = \u03c6(V \u2032 ), and thus \u03c6(U \u2032 ) \u2192\u2217R\n\u03c6(V \u2032 ).\n\n\u0003\n\nLemma 5.15. For any U \u2208 A(T ) and V1 \u2208 A+ with U \u2192R V1 , there is a U \u2032 \u2208 B + such that\nU \u2192R V1 \u2192\u2217R \u03c6(U \u2032 ) and \u03c1(U) \u2192RT U \u2032 . (Property (P1)).\nProof. By Lemma 5.6, U = \u03c6(\u03c1(U)). By Lemma 5.10, there is a U \u2032 \u2208 B + such that \u03c1(U) \u2192RT\nU \u2032 by a rule of the form (D1), and V1 \u2192\u2217R \u03c6(U \u2032 ). The lemma follows.\n\n\u0003\n\nProof of Theorem 1.1. Let [A ; R] be a finitely presented semigroup presentation for S for\nwhich R is complete. By the reduction process described in Section 4, we may assume that\n(Q1), (Q2) and (Q3) hold. Now the 5-tuple (B, RT , A(T ), \u03c6, \u03c1) has been defined. By Theorem\n2.2, it is sufficient to show that (B, RT , A(T ), \u03c6, \u03c1) has Property R relative to [A ; R]. This\nhas been done in Lemma 5.6, Lemma 5.9, Lemma 5.11, Lemma 5.13, Lemma 5.14 and Lemma\n5.15.\n\n\u0003\n\nAcknowledgement. We would like to thank Prof. S.J. Pride for introducing this problem to\nus. We are also indebted to the anonymous referee for suggesting condition (P3) and some of\nthe proofs in Section 5, which helped us improved this paper tremendously.\nReferences\n[1] R.V. Book and F. Otto, String-Rewriting Systems, Springer Verlag, (1993).\n\n\fFINITE COMPLETE REWRITING SYSTEMS\n\n23\n\n[2] J.R.J. Groves and G.C. Smith, Rewriting systems and Soluble Groups, Bath Computer Science Technical\nReports 89-19 (1989).\n[3] S.M. Hermiller and J. Meier, Artin groups, rewriting systems and three-manifolds, J. Pure Appl. Algebra\n136 (1999) 141\u2013156.\n[4] N. Ru\u0161kuc, On large subsemigroups and finiteness conditions of semigroups, Proc. Lond. Math. Soc. (3)\n76 (1998) 383\u2013405.\n[5] Jing Wang, Finite complete rewriting systems and finite derivation type for small extensions of monoids,\nJ. Algebra 204 (1998) 493\u2013503.\n[6] Jing Wang, String rewriting systems and finiteness conditions for monoids, Southeast Asian Bull. Math.\n32 (2008) 999\u20131006.\nInstitute of Mathematical Sciences, University of Malaya, 50603 Kuala Lumpur, Malaysia\nE-mail address: kbwong@um.edu.my\nInstitute of Mathematical Sciences, University of Malaya, 50603 Kuala Lumpur, Malaysia\nE-mail address: wongpc@um.edu.my\n\n\f"}