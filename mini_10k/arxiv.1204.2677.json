{"id": "http://arxiv.org/abs/1204.2677v1", "guidislink": true, "updated": "2012-04-12T10:28:47Z", "updated_parsed": [2012, 4, 12, 10, 28, 47, 3, 103, 0], "published": "2012-04-12T10:28:47Z", "published_parsed": [2012, 4, 12, 10, 28, 47, 3, 103, 0], "title": "The Geographic Flow of Music", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1204.6023%2C1204.2199%2C1204.2093%2C1204.5184%2C1204.3165%2C1204.3900%2C1204.1438%2C1204.0363%2C1204.5559%2C1204.0428%2C1204.1940%2C1204.5578%2C1204.0052%2C1204.2306%2C1204.2375%2C1204.3836%2C1204.4189%2C1204.3666%2C1204.0027%2C1204.2155%2C1204.6093%2C1204.4808%2C1204.5566%2C1204.5900%2C1204.1432%2C1204.4505%2C1204.3012%2C1204.3357%2C1204.4519%2C1204.2665%2C1204.4864%2C1204.2677%2C1204.0638%2C1204.5569%2C1204.0110%2C1204.6015%2C1204.4401%2C1204.6668%2C1204.5262%2C1204.4281%2C1204.3227%2C1204.0153%2C1204.2568%2C1204.1575%2C1204.5707%2C1204.0988%2C1204.0180%2C1204.3644%2C1204.6165%2C1204.1384%2C1204.2341%2C1204.2082%2C1204.1890%2C1204.1213%2C1204.3769%2C1204.5660%2C1204.4352%2C1204.1447%2C1204.4893%2C1204.5198%2C1204.6628%2C1204.0933%2C1204.1758%2C1204.5838%2C1204.4088%2C1204.2128%2C1204.3260%2C1204.5568%2C1204.0060%2C1204.0281%2C1204.2418%2C1204.5139%2C1204.3038%2C1204.6366%2C1204.2873%2C1204.6636%2C1204.2714%2C1204.6398%2C1204.2549%2C1204.0716%2C1204.3652%2C1204.4696%2C1204.5170%2C1204.2853%2C1204.3297%2C1204.6467%2C1204.1174%2C1204.3148%2C1204.4236%2C1204.5125%2C1204.4368%2C1204.5002%2C1204.3182%2C1204.0016%2C1204.0024%2C1204.2133%2C1204.4960%2C1204.3777%2C1204.5773%2C1204.2175%2C1204.6028&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "The Geographic Flow of Music"}, "summary": "The social media website last.fm provides a detailed snapshot of what its\nusers in hundreds of cities listen to each week. After suitably normalizing\nthis data, we use it to test three hypotheses related to the geographic flow of\nmusic. The first is that although many of the most popular artists are listened\nto around the world, music preferences are closely related to nationality,\nlanguage, and geographic location. We find support for this hypothesis, with a\ncouple of minor, yet interesting, exceptions. Our second hypothesis is that\nsome cities are consistently early adopters of new music (and early to snub\nstale music). To test this hypothesis, we adapt a method previously used to\ndetect the leadership networks present in flocks of birds. We find empirical\nsupport for the claim that a similar leadership network exists among cities,\nand this finding is the main contribution of the paper. Finally, we test the\nhypothesis that large cities tend to be ahead of smaller cities-we find only\nweak support for this hypothesis.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1204.6023%2C1204.2199%2C1204.2093%2C1204.5184%2C1204.3165%2C1204.3900%2C1204.1438%2C1204.0363%2C1204.5559%2C1204.0428%2C1204.1940%2C1204.5578%2C1204.0052%2C1204.2306%2C1204.2375%2C1204.3836%2C1204.4189%2C1204.3666%2C1204.0027%2C1204.2155%2C1204.6093%2C1204.4808%2C1204.5566%2C1204.5900%2C1204.1432%2C1204.4505%2C1204.3012%2C1204.3357%2C1204.4519%2C1204.2665%2C1204.4864%2C1204.2677%2C1204.0638%2C1204.5569%2C1204.0110%2C1204.6015%2C1204.4401%2C1204.6668%2C1204.5262%2C1204.4281%2C1204.3227%2C1204.0153%2C1204.2568%2C1204.1575%2C1204.5707%2C1204.0988%2C1204.0180%2C1204.3644%2C1204.6165%2C1204.1384%2C1204.2341%2C1204.2082%2C1204.1890%2C1204.1213%2C1204.3769%2C1204.5660%2C1204.4352%2C1204.1447%2C1204.4893%2C1204.5198%2C1204.6628%2C1204.0933%2C1204.1758%2C1204.5838%2C1204.4088%2C1204.2128%2C1204.3260%2C1204.5568%2C1204.0060%2C1204.0281%2C1204.2418%2C1204.5139%2C1204.3038%2C1204.6366%2C1204.2873%2C1204.6636%2C1204.2714%2C1204.6398%2C1204.2549%2C1204.0716%2C1204.3652%2C1204.4696%2C1204.5170%2C1204.2853%2C1204.3297%2C1204.6467%2C1204.1174%2C1204.3148%2C1204.4236%2C1204.5125%2C1204.4368%2C1204.5002%2C1204.3182%2C1204.0016%2C1204.0024%2C1204.2133%2C1204.4960%2C1204.3777%2C1204.5773%2C1204.2175%2C1204.6028&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "The social media website last.fm provides a detailed snapshot of what its\nusers in hundreds of cities listen to each week. After suitably normalizing\nthis data, we use it to test three hypotheses related to the geographic flow of\nmusic. The first is that although many of the most popular artists are listened\nto around the world, music preferences are closely related to nationality,\nlanguage, and geographic location. We find support for this hypothesis, with a\ncouple of minor, yet interesting, exceptions. Our second hypothesis is that\nsome cities are consistently early adopters of new music (and early to snub\nstale music). To test this hypothesis, we adapt a method previously used to\ndetect the leadership networks present in flocks of birds. We find empirical\nsupport for the claim that a similar leadership network exists among cities,\nand this finding is the main contribution of the paper. Finally, we test the\nhypothesis that large cities tend to be ahead of smaller cities-we find only\nweak support for this hypothesis."}, "authors": ["Conrad Lee", "P\u00e1draig Cunningham"], "author_detail": {"name": "P\u00e1draig Cunningham"}, "author": "P\u00e1draig Cunningham", "arxiv_comment": "8 Pages", "links": [{"href": "http://arxiv.org/abs/1204.2677v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1204.2677v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "cs.SI", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "cs.SI", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "cs.CY", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "physics.soc-ph", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1204.2677v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1204.2677v1", "journal_reference": null, "doi": null, "fulltext": "The Geographic Flow of Music\nConrad Lee and P\u00e1draig Cunningham\n\narXiv:1204.2677v1 [cs.SI] 12 Apr 2012\n\nClique Research Cluster\nUniversity College Dublin\n8 Belfield Office Park, Clonskeagh\nDublin 4, Ireland\nTel: +353 1 716 5346\nEmail: conradlee@gmail.com, padraig.cunningham@ucd.ie\n\nAbstract-The social media website last.fm provides a detailed\nsnapshot of what its users in hundreds of cities listen to each\nweek. After suitably normalizing this data, we use it to test\nthree hypotheses related to the geographic flow of music. The\nfirst is that although many of the most popular artists are\nlistened to around the world, music preferences are closely\nrelated to nationality, language, and geographic location. We\nfind support for this hypothesis, with a couple of minor, yet\ninteresting, exceptions. Our second hypothesis is that some cities\nare consistently early adopters of new music (and early to snub\nstale music). To test this hypothesis, we adapt a method previously\nused to detect the leadership networks present in flocks of\nbirds. We find empirical support for the claim that a similar\nleadership network exists among cities, and this finding is the\nmain contribution of the paper. Finally, we test the hypothesis\nthat large cities tend to be ahead of smaller cities\u2013we find only\nweak support for this hypothesis.\n\nI. I NTRODUCTION\nThe question of how information and preferences spread\nthrough social networks has a long and rich history. The topic\nbecame an active field of study just after World War Two\n[1]\u2013[4]; this early work produced, for example, the seminal\ntwo-step flow of communication hypothesis, which states that\n\"ideas often flow from radio and print to opinion leaders, and\nfrom these to the less active sections of the population\" [5].\nIn the 1970s, Mark Granovetter contributed prominent ideas\nto the field, including the hypothesis that members of tightlyknit social groups have largely duplicate information, and rely\non acquaintanceships with members of other groups to gain\naccess to novel information [6].\nMore recently, detailed logs of digital communication have\nenabled these hypotheses to be tested on datasets that are much\nlarger than was feasible only a decade earlier. For example,\nin [7], Bakshy et al. subject 250 million facebook users to\na controlled experiment in order to measure the role that\nfacebook friends play in influencing the diffusion of information, finding that while a user's most active relationships\nare individually the most influential, the overall effect of less\nactive relationships in spreading novel information is stronger.\nAdditional examples of recent significant work includes the\nworldwide spread of e-mail chain letters [8], the analysis of\na massive worldwide instant messaging dataset [9], and the\nspread of information through the blogosphere [10], [11].\nHere, we investigate hypotheses related to the geographic\nflow of preferences in music. Our main contribution is to for-\n\nmalize and answer the following question: if one considers the\nmonth-by-month change in the aggregate musical preferences\nof cities, are some cities consistently ahead of others? In other\nwords, can we find that some cities are leaders and others are\nfollowers?\nOur enquiry into the geographic distribution of musical\npreferences is structured as follows. We begin by describing\nthe data, a world-wide log of listening habits recorded by\nlast.fm, as well as various pre-processing and normalization\nsteps in section II. Next, in section III, we measure how\nregional musical preferences are, finding that although many of\nthe most popular artists are popular all around the world, there\nare nonetheless well-defined clusters of cities that are closely\nrelated to nationality, language, and geographic distance.\nIn section IV, we move on to our main contribution: an\nanalysis of the dynamics of music preferences. We adapt a\nmethodology previously used to find leadership in pigeon\nflocks [12] to detect whether some cities consistently follow\nothers. At a high level, this methodology involves looking at\nevery dyad (pair of nodes) and running a test to see whether\nthe time-lagged correlation is larger in one direction than\nanother. We observe that when we put all of these directed\npairs together, the resulting networks are nearly acyclic, a\nstrong indicator that the geographic flow of music has a clear\ndirection, i.e., hierarchical structure [13].\nRecently there has been much excitement surrounding the\nobservation that productivity, efficiency, and innovation all\nscale super-linearly with the size of a city [14]\u2013[16]. This line\nof reasoning suggests the hypothesis that larger cities should\nalso be more up to date on the latest and greatest music. We\nwrap up our inquiry into the spread of music in section VI by\ntesting the hypothesis that leadership is also correlated with\nthe size of a city.\nII. DATA : PREPROCESSING & NORMALIZATION\nLast.fm is a service based around collecting data on the\nlistening habits of its users. Users install a plug-in on their\naudio players such as iTunes or Winamp which keeps track\nof the songs that the user listens to, either on his computer\nor external device (e.g., an iPod). The plug-in uploads this\ninformation to the last.fm database, giving the service a log\nof what its users listen to. In 2011 alone, last.fm received 11\nbillion such notifications (called \"scrobbles\" by last.fm), and\n\n\fsince the service began in 2003 it has received 61 billion.1\nLast.fm uses this information in various ways, for example,\nto compare the similarity of two users' musical taste, to\nrecommend music, and to create a profile page.\nCreating listen matrices. Last.fm aggregates this data into\nweekly charts for over 200 metropolitan areas around the\nworld, and makes the data behind these charts accessible\nthrough a public API. For every week and each city, the last.fm\nAPI indicates the number of unique listeners that each of that\ncity's top 500 artists had. Thus, for each week we have a\nmatrix; in this matrix every city is a row vector with 500 nonzero elements, and each column represents an artist. Because\nnot all cities have the same top 500 artists, the matrix has\nmore than 500 columns and a large number of zero-valued\nelements. Thus, a non-zero entry in this matrix at position\ni, j is a positive integer indicating the number of unique users\nfrom city i who listened to artist j that week. Zero-valued\nentries indicate that the artist had either no listeners, or that\nit was not among the 500 most popular artists in the city that\nweek. At the time of data collection in late 2011, these charts\nwere available for 153 weeks.\nBecause not all last.fm users are active every week, a\nsingle week's chart can be thought of as a sample of listening\npreferences among last.fm users. In cities that have relatively\nfew users, the variance associated with this sample becomes\nlarge, indicating noise. We find that we can reduce this noise\nby summing up the matrices associated with four consecutive\nweeks together. This effectively increases the sample size for\neach entry in the city-artist matrix described above. For this\nreason, in all of the analysis below, we aggregate our data\nusing a \"sliding window\" where the width of the window is\nfour weeks, and the window slides in one-week steps. We call\nthe matrices associated with these four-week periods listen\nmatrices.\nNormalizing listen matrices. Consider the toy example\npresented in fig. 2(A). In this scenario, we imagine there are\nonly two artists, Radiohead and Coldplay, and two cities, Los\nAngeles and Seattle. We want to compare how similar Los\nAngeles' preferences are to Seattle's. In one sense, they are\nsimilar: each city listens to roughly 50% more Radiohead\nthan Coldplay. However, if we look at the absolute number\nof listens in each city, the cities are far apart simply because\nLos Angeles is much larger than Seattle.\nIn order to compare the similarities of cities regardless\nof their size (i.e., last.fm activity level), we always perform\nEuclidean normalization on the rows of each listen matrix,\nwhich ensures that each row vector (i.e., each city's listening\npreference) has the same length. In other words, the Euclidean\nnormalization puts the row vectors of each listen matrix on\nthe unit circle, as in fig. 2(B). This type of normalization is\nstandard in the field of Information Retrieval [17].\nGenres.\n\nIn the analysis below, it will be important to\n\n1 According to last.fm's blog post at http://blog.last.fm/2012/01/16/buildingbest-of-2011\n\ndistinguish between various genres of music. In order to\ndetermine which genres exist, and which artists belong to each\ngenre, we use last.fm's tag API. Examples of tags include\nrock, seen live, alternative, indie, electronic, and pop (these\nare the 6 most popular tags). For each tag, the last.fm API also\nindicates the one thousand most popular artists that belong to\nthat tag. We construct the listen matrix associated with a given\ntag by including only those columns which represent artists\nincluded in the list of top thousand artists for that tag. We will\nsubsequently refer to the term \"tag\" by the more conventional\nterm \"genre\". Some tags, e.g. \"seen live\" are clearly not genres\n- these are not considered in the analysis presented here.\nMissing data. Inspection of the data indicates that fourteen\nof the weeks are outliers in the sense that around the world,\nlittle if any music was listened to. We believe that during\nthese weeks the last.fm scrobbling service was not operating as\nusual. In the analysis below, we omitted from all measurements\nthe contributions that involved one or more of the missing\nweeks.\nIII. M USIC KNOWS NO BORDERS , YET GEOGRAPHIC\nCLUSTERS ARE STRONG\n\nAre the listening preferences of last.fm users across the\nworld similar, or do they form coherent clusters? The existence\nof global superstars might lead one to believe that largely\nsimilar music is listened to across the world; indeed, in\na comprehensive study of the top-40 music charts of 22\ncountries, Ferreira and Waldfogel found that 31 artists artists\nappeared simultaneously on at least 18 countries in one year\n[18]. Of these 31 artists, 23 were US American. That such a\nsmall set of artists appeared on charts all around the world\nsuggests a high degree of homogeneity around the world.\nDespite this appearance of global homogeneity, in this section, we present results which indicate that there are clusters\nof cities that have their own idiosyncratic preferences, and\nthat these clusters are closely related to geographic distance,\nnationality, and language.\nProducing a hierarchical clustering. To construct the\ndendrogram shown in fig. 1, we performed average linkage\nclustering (an agglomerative clustering algorithm) on a distance matrix D of the cities, a square matrix where each entry\nDi,j is the Euclidean distance between city i and j. Instead\nof constructing the dendrogram based on just a single listen\nmatrix, we summed together the distance matrices associated\nwith the all of the listen matrices in our dataset. The colored\nclusters are the result of taking a flat cut to the dendrogram\nat a height which we chose manually. For an overview of this\ntype of hierarchical clustering, as well as a description of the\nsoftware package we used, see [19].\nDiscussion. If we look at the lowest level structure of the\ndendrogram\u2013i.e., the pairs of cities that are most similar to\neach other\u2013we observe that every pair involves two cities of the\nsame nationality. Many of these pairs are composed of cities\nthat are, in the context of their countries, geographically close\n\n\fMont errey\nGuadalajara\nPuebla\nM\u00e9rida\nTijuana\nBogot \u00e1\nMexicali\nValpara\u00edso\nSant iago\nGij\u00f3n\nOviedo\nValencia\nMadrid\nBarcelona\nAlicant e\nA Coru\u00f1a\nZaragoza\nGranada\nMurcia\nSalam anca\nBilbao\nAnt werp\nBrussels\nLi\u00e8ge\nPort o\nLisbon\nLyon\nParis\nToulouse\nNant es\nBordeaux\nRennes\nSt rasbourg\nLille\nMont pellier\nMarseille\nGrenoble\nNancy\nNice\nCopenhagen\nLausanne\nGeneva\nBasel\nWint ert hur\nGraz\nVienna\nLinz\nInnsbruck\nDresden\nBerlin\nMunich\nHam burg\nSt ut t gart\nBrem en\nMagdeburg\nRost ock\nSalzburg\nRom e\nMilan\nTurin\nBologna\nPalerm o\nGenoa\nNaples\nFlorence\nWellingt on\nAuckland\nChrist church\nMelbourne\nSydney\nAdelaide\nNewcast le\nEdm ont on\nCalgary\nWinnipeg\nOt t awa\nToront o\nVancouver\nHalifax\nMont real\nSaskat oon\nQuebec\nCardiff\nLeeds\nBrist ol\nBirm ingham\nManchest er\nBright on\nNot t ingham\nLiverpool\nSout ham pt on\nGlasgow\nEdinburgh\nLondon\nBelfast\nPlym out h\nNewport\nExet er\nAberdeen\nDublin\nPensacola\nLit t le Rock\nTam pa\nOrlando\nBuffalo\nRochest er\nCincinnat i\nColum bus\nMilwaukee\nCleveland\nIndianapolis\nLouisville\nLas Vegas\nPhoenix\nSacram ent o\nHoust on\nVirginia Beach\nJacksonville\nSyracuse\nMiam i\nWest Palm Beach\nEl Paso\nDet roit\nMem phis\nMinneapolis\nDenver\nNashville\nPhiladelphia\nChicago\nBost on\nSan Diego\nLos Angeles\nSan Jose\nBalt im ore\nAt lant a\nRichm ond\nPit t sburgh\nPort land\nSeat t le\nAust in\nSan Francisco\nNew York\nNew Orleans\nManaus\nBel\u00e9m\nRecife\nSalvador\nCurit iba\nS\u00e3o Paulo\nPort o Alegre\nBras\u00edlia\nBelo Horizont e\nV\u00e4st er\u00e5s\nLink\u00f6ping\nMalm \u00f6\nSt ockholm\nUppsala\nUm e\u00e5\nBergen\nOslo\nHelsinki\nFrankfurt\nSaint Pet ersburg\nMoscow\nMinsk\nUfa\nPenza\nCracow\nWarsaw\nKat owice\nSzczecin\nAnkara\nIst anbul\nBursa\nAnt alya\nAdana\nShanghai\nBeijing\nGuangzhou\nTaipei\nOsaka\nTokyo\nKyot o\nNagoya\nSapporo\nFukuoka\nKobe\nSendai\nHiroshim a\nShizuoka\n\nMexico\nChile\n\nSpain\nBelgium\n\nPortugal\n\nFrance\n\nAustria\nGermany\nItaly\n\nN. Zealand +\nAustralia\n\nCanada\n\nUK + Ireland\n\nUSA 1\n\nUSA 2\n\nBrazil\n\nto each other: Cincinnati and Columbus, Portland and Seattle,\nBerlin and Dresden, Edmonton and Calgary, Lausanne and\nGeneva, Gijon and Oviedo, Birmingham and Manchester, and\nEdinburgh and Glasgow. However, there are a few noteworthy\nexceptions to this trend: New York City and and San Francisco,\nMilan and Rome, Munich and Hamburg. These pairs of cities\nare close in the dendrogram indicating high relative similarity.\nThis is surprising because in each case both cities in the pair\nhave many geographically nearer cities which would seem to\nbe more likely candidates for most similar counterpart. For\nexample, San Jose is geographically adjacent to San Francisco,\nbut San Francisco's users are more similar to NYC's.\nAt an intermediate level of structure in the dendrogram\u2013the\ncolored clusters\u2013we see that again, nationality dominates. In\nthe cases where two countries have been put into the same\ncluster, such as New Zealand and Australia or Ireland and the\nUnited Kingdom, those two countries still show separation\nwithin their cluster. Intriguingly, the United States shows\ntwo somewhat distinct clusters which are not geographically\ncoherent and are difficult to explain. We note only that the\nUSA 2 cluster appears to contain both the largest metropolitan\nareas (NYC, Los Angeles, and Chicago), as well as several\ncities known for having a large \"hipster\" population, which is\npassionate about appearing to know much about music, and\nlikely to use last.fm (such as San Francisco, Austin, Portland,\nand Seattle).\nAt the highest level of the hierarchical structure, we observe\nhow the colored clusters are related to each other. Language\nseems to be the key here; Anglophone clusters are closely\nrelated, as are the Spanish-speaking and German-speaking\nclusters. It is interesting to see that Switzerland, including its\nFrench-speaking cities, are most closely related to German\nspeaking countries. Chilean cities' musical preferences are\nmore similar to Mexican cities than to Brazilian cities. We\nnote that although in this dendrogram Canada appears to be\nmore similar to N. Zealand and Australia than to the USA,\nthis tendency was not very robust: if we ran the clustering on\na subset of only more active cities, then it was usually more\nsimilar to the US cities. On the other hand, the other features\nwe have described here were robust in this sense.\n\nSweden\n\nIV. M ETHODOLOGY: D ETECTING LEADERS AND\n\nNorway\n\nRussia\nPoland\nTurkey\nChina\nJapan\n\nFig. 1.\nHierarchical clustering based on average linkage clustering of\nEuclidean distances of cities in the normalized listen matrices. (Zoom in\nelectronic version to view city names.)\n\nFOLLOWERS\n\nTo detect leader-follower pairs, we adapt the methodology\nof Nagy et al. [12], which is based on finding lagged correlations, and was previously applied to finding leadership in\npigeon flocks. In fig. 2, we display some of the key steps of\nthe method we employ to find leaders and followers. Here\nwe show made-up data for explanation purposes: we depict a\nscenario with just two cities, Los Angeles (LA) and Seattle,\nand two artists. We are interested in determining whether\n\u2022\n\u2022\n\u2022\n\nLA follows Seattle (in this case we draw the directed\nedge LA \u2192 Seattle)\nSeattle follows LA (Seattle \u2192 LA), or\nneither leads the other (no edge)\n\n\fIf an edge exists, we would also like to assign a weight\nto that edge which determines the strength of the leaderfollower relationship. We now explain how we decide on the\nrelationship type and weight.\n\nDeciding which edges to accept. Up to now, the methodology\ndescribed in this section closely resembles the one used by\nNagy et al. However, we find it necessary to modify their\nfinal two steps, which determine\n(1) whether a correlation is strong enough to be accepted\n(2) the direction the relationship if one exists.\nFor step (1), Nagy et al. accept only those leader-follower\nrelationships which have a correlation above some threshold,\neither 0.5 or 0.9. This criterion is inappropriate in our case\nbecause the magnitude of the dot products are very small, on\nthe order of 0.01 to 0.001. They are much smaller because,\ndue to the way we normalize data, cities mostly stand still and\nmove only slightly from week to week; furthermore we are in\na much higher dimensional space. For these reasons it is hard\n\nColdplay Listens\n\nJun Jul\n\nL.A.\nSeattle\n\n20000\n18000\n\nMay Aug\nApr\n\nA\n\n16000\n14000\n12000\nMayJun\nApr Jul Aug\n\n10000\n8000\n10000\n\nEuclid. Normalized Coldplay\n\nCalculating lagged correlations. We begin by performing\nEuclidean normalization on each city's listening frequency\nvector in every listen matrix, as previously described in\nsection II and visualized in the change from fig. 2(A) to\nfig. 2(B). Each of the blue arrows in fig. 2(B) is a velocity\nvseattle (t, t + 1) that represents the change that takes place\nin the listening habits of Seattle from one month t to the\nnext month t + 1. For example, to find Seattle's velocity from\nJune to July vseattle (June, July), we subtract Seattle's row\nin the normalized listen matrix for time-step June from the\ncorresponding row from the matrix for July.\nAs mentioned in section II, each listen matrix is based on\na four-week window of last.fm data, which means that to\ncalculate one of these velocities, we use eight consecutive\nweeks (two four-week windows). We successively slide this\neight week period one week forward in time, giving us one\nvelocity associated with each slide. We are left with a sequence\nof velocities for each city.\nTo measure whether Seattle follows LA, we measure the\nsimilarity of each of Seattle's velocities with LA's velocities\nfrom one month earlier, as in the top half of fig. 2(C). We\nmeasure the similarity between two velocities using the dot\nproduct (as in [12]). We call the average of these lagged\nsimilarities the correlation of LA's velocities with Seattle's\nlagged velocities, where the lag size is one month, and we\nrefer to this measure as C.\nIn the example displayed in fig. 2, the lag size is fixed at\none month. However, there is no reason to believe that this\nlag size should be the same for all dyads and it would be\narbitrary to settle on one month. Along the lines of Nagy et\nal., for each dyad, we consider lag sizes of 1-5 weeks, and\nwe choose the one which yields the largest correlation. We\ntherefore let the data decide how this parameter ought to be\nset. In practice the lag size which maximizes the correlation\ntends to be one week, however there are also cases where the\nstrongest correlation is at four or five weeks (see blue edges\nin fig. 3) \u2013 in these cases the correlation tends to be weak.\n\n22000\n\n15000\n\n0.60\n\n20000\n25000\nRadiohead Listens\n\nv(Apr,May)\nv(May,Jun)\n\n30000\n\n35000\n\nv(Jun,Jul)\nv(May,Jun)\n\n0.55\n\nv(Apr,May)\n\nB\n\nv(Jul,Aug)\n\nv(Jun,Jul)\n\n0.50\nv(Jul,Aug)\n\n0.45\n0.78\n\nCorrelation of LA's\nvelocities &\nSeattle's lagged\nvelocities\n\n0.80 0.82 0.84 0.86 0.88\nEuclid. Normalized Radiohead\n\nLA v(Apr,May)\nLA v(May,Jun)\nSeat. v(May,Jun) Seat. v(Jun,Jul)\n\nC =mean( \u22120.036\n\n\u22120.383\n\n0.90\n\nLA v(Jun,Jul)\nSeat. v(Jul,Aug)\n\n0.210 ) = \u22120.070\n\nC\n\nCorrelation of Seattle's\nvelocities &\nLA's lagged\nvelocities\nLA v(May,Jun)\n\nLA v(Jun,Jul)\nLA v(Jul,Aug)\nSeat. v(Apr,May) Seat. v(May,Jun) Seat. v(Jun,Jul)\n\nC =mean( 0.245\n\n0.193\n\n0.436 ) = 0.291\n\nFig. 2. Calculating lagged correlations (here shown with imaginary data\nfor ease of explanation). (A) First, for each city, we collect from last.fm the\nnumber of times that each artist was listened to in a given month. (B) To\nbe able to compare cities with different levels of last.fm activity, we next\nnormalize the number of listens in each city by that city's Euclidean norm.\nWe focus on the velocity (change in the normalized artist popularity) from\nthe previous month i \u2212 1 to the current month i, denoted as vj (i \u2212 1, i) for\ncity j, and depicted by the arrows in (B). (C) For each pair of cities (j, k),\nwe measure the similarity of vj (i \u2212 1, i) and vk (i \u2212 2, i \u2212 1) by taking the\ndot product of these velocities. This yields a list of similarities over time; we\ndefine the lagged correlation to be the mean of these dot products. In this toy\nexample, it should be clear from glancing at the trajectories of Seattle and LA\nthat LA is following Seattle, and not the other way; the correlation measure\npresented here successfully indicates this tendency.\n\n\f(a) All Music\n\n(b) Indie Music\n\n(c) Hip Hop\n\nFig. 3. Leader-follower network for the twenty most active cities in two Canada and the USA. Within each diagram, the height of the nodes corresponds to\ntheir PageRank, their size to their weighted in-degree. Edge width is determined by the correlation, as defined in section IV. Gray edges have a lag time of\n1, 2, or 3 weeks, blue edges have a lag time of 4 or 5 weeks.\n\nto pick a threshold for the lowest admissible correlation size.\nInstead, we perform one sample t-test on the distribution of dot\nproducts. If we cannot reject the hypothesis that the the mean\nof the distribution equals zero, then we say no leader-follower\nrelationship exists.\nIt could be the case for a dyad i, j that after performing\nstep (1), i appears to follow j and j appears to follow i.\nWhile in this case Nagy et al. simply choose the direction\nthat is larger (even if it is just marginally larger), we argue\nthat in this situation perhaps neither city is really leading they\nother, and instead they are moving together. To make sure\nthere is a clear direction to the leader-follower relationship, we\nperform a second t-test to make sure that the two correlations\n(which are means of dot products) are not equal; here we\nuse a two-sided, paired t-test. If a one correlation is larger,\nthen we accept the leader-follower pair associated with that\ncorrelation as a directed edge, otherwise we say no leaderfollower relationship exists.\nIn the following results, we set p = 0.01 for all t-tests. We\nnote that our use of t-tests here is heuristic; for example, we\ndo not test to make sure that the distribution of dot products\nis Gaussian (although they do appear reasonably symmetric\nand we obtained qualitatively the same results when outliers\nwere removed), and we do not correct for our testing of\nmultiple hypotheses. We use the t-tests as a selection criterion\nto identify the more pronounced leader-follower relationships,\n\nnot because we rely on their validity in a statistical sense.\nV. R ESULTS : T HE GEOGRAPHIC FLOW OF MUSIC\nIn the previous section, we described how we determine\nwhether a leader-follower relationship exists between two\nnodes. In each study displayed in fig. 3, we take a subset of\ncities, find all follower-relationships among them, and plot the\nresulting network. The edges point from followers to leaders\nand are weighted by the lagged correlation, as defined above.\nTo create the networks in fig. 3, we first choose a genre of\nmusic. While it is possible to create a network showing the\nflow of all genres of music, as we have done in fig. 3a and\nfig. 4a, we find this has a disadvantage: depending upon the\ngenre that one considers, contradictory relationships may exist.\nFor example, if we consider hip hop music as in fig. 3c, then\nwe see that Atlanta has the most prominent position, whereas\nif we consider indie music as in fig. 3b, Atlanta has one of the\nleast prominent positions. By considering all genres at once as\nin fig. 3a, these trends get washed out by the multi-dimensional\naspect that genre brings to the data.\nIn fig. 3, we show the leader-follower relationships between\n20 cities in the USA and Canada with the largest number\nof active last.fm users. We choose this subset because of the\nnoise associated with small cities that have insufficient data,\nand because due to space constraints it is hard to visualize\nlarge networks. The most significant property visible in these\n\n\f(a) All music\nFig. 4.\n\nTABLE I\nL EADER - FOLLOWER NETWORKS HAVE FEW CYCLES\nRegion\n\nN. America\n\nEurope\n\n(b) Indie Music\n\nLeader-follower network for the most active cities in Western Europe. Sizes, positions, and colors as in fig. 3. Zoom-able online.\n\nGenre\n\n% Edge weight removed\nto make acyclic\n\nAll\nIndie\nHip hop\nRock\nClassic Rock\n\n0.0%\n1.8%\n0.0%\n0.0%\n0.0%\n\nAll\nIndie\nHip hop\nRock\nClassic Rock\n\n0.0%\n0.0%\n2.2%\n0.0%\n0.0%\n\ngraphs is that they are nearly acyclic; for example, fig. 3a has\nno edges, and by removing only three edges from fig. 3b,\nthe graph becomes acyclic. In table I, we show that this\nproperty holds true for the leader-follower networks created\nfrom diverse geographic regions and genres. To calculate\nthe measure displayed in that table, we first computed the\nfeedback arc (edge) set, which is the smallest set of edges\nthat, when removed from a graph, make the graph acyclic.\nWe measured the percent of the graph's total weight in the\nfeedback arc set.\nWe believe that this lack of cycles is not an artifact of\nour methodology, which focuses only on dyads and does not\nconsider the network as a whole. Rather, we believe that the\n\nlack of cycles is inherent in the data itself, indicating a clear\ndirection in the flow of music preferences. Others have argued\nthat a system with a strong leadership hierarchy ought to be\nnearly acyclic [12], [13] so the lack of cycles in our networks\nis a clear validation of the methodology.\nThere are many centrality measures that could be used\nas criteria for deciding which cities are the most cutting\nedge and which are laggards. The networks in figs. 3 and 4\ndisplay two of these centrality measures: their height reflects\ntheir PageRank, which seems appropriate because PageRank\nis designed to rank importance of nodes on weighted, directed\nnetworks on which a dynamic process takes place [20]. The\narea taken up by each node reflects its weighted in-degree.\nWhile it is apparent that the PageRank and weighted indegree are highly correlated, in some cases they order nodes\ndifferently-for example, in fig. 3c, Atlanta has the largest\nPageRank, but Chicago has the largest weighted in-degree.\nThese visualizations were created using the \"status\" layout\nalgorithm of the network visualization software Visone [21].\nFor us, the most surprising features of fig. 3 are (1) the\nmiddle ranking positions of some of the largest cities, such\nas NYC and LA in fig. 3a and NYC and Chicago in fig. 3b\nand (2) the prominent position of Canadian cities, especially\nin fig. 3b. While Montreal is known for having produced\nsome popular indie bands (such as Arcade Fire and Wolf\nParade), this does not necessarily mean that last.fm listeners\nfrom Montreal would be generally leaders in their taste in\nindie music; in any case, New York City is presumably home\n\n\fto more prominent indie artists than Montreal.\nWhile the diagrams in fig. 3 display the leader-follower\nrelations for a relatively homogeneous cultural region, those\nin fig. 4 display these relations in Europe, a region more\nculturally and linguistically diverse. It is interesting to note that\nmany of the most heavily weighted edges are between cities\nin different countries and which speak different languages. For\nexample, London, Birmingham, Brighton, and Bristol, have a\nmuch stronger follower relationship with Oslo and Stockholm\nthan with each other (London's unremarkable position is also\nnoteworthy). Similarly, Cracow and Warsaw do not follow\neach other, rather their strongest edges point to German and\nScandinavian cities.\nAlong the lines of this last observation, it is noteworthy\nthat in general many of the edges with the largest weights\nconnect cities which were not similar to each other in the\nhierarchical clustering in fig. 1. For example, the Canadian\ncities are located far away from the US cities in that clustering,\nyet here there is a strong flow from the former to the latter.\nAlthough pairs of cities such as Portland and or NYC and\nSan Francisco are very similar in the clustering, they are\nconnected in fig. 3b by only weak edges. One speculative\nexplanation is that cities which have very similar listening\nhabits are largely synchronized with each other, and therefore\nthere is little potential for novel information to flow between\nthem. For example, the leading city in fig. 3b, Montreal, is\nunique in that the language spoken by the majority is not\nEnglish but French, a difference which may provide it with\nnovel information.\nVI. H YPOTHESIS : LARGE CITIES ARE LEADERS\nAs noted in the introduction, there is currently much excitement surrounding the observation that productivity, efficiency,\nand innovation all scale super-linearly with the size of a city.\nFor an accessible, high-level overview of this discussion, see\n[14]; for extensive empirical evidence for the universality\nof this relationship, see [15]; and for a proposed causal\nmechanism, see [16].\nThis work makes many fascinating empirical observations\nas well as an interesting comparison between organisms and\ncities; here we summarize only a few main points. The first is\nthat the total productivity of a city P is super-linear. In data\ncollected so far, a power-law relationship appears to provide\na reasonable fit, so that total production in an N person city\nis well approximated by the relationship P (N ) = N \u03b2 , where\n\u03b2 \u2248 1.2. [15] This means, for example, that a person living\nin cities with 10 million inhabitants is roughly 2.5 times as\nproductive (in terms of wealth production, creativity, patents,\nand other measures) as an individual living in a city with only\n100 thousand inhabitants. Consumption of water, gasoline, or\nelectricity appear to have a linear relationship, so people in\nsmaller and larger cities consume the same amounts. Certain\ntypes of infrastructural needs, such as the number of gasoline\nstations, the meters of electric cabling installed, and road\nsurface area, increase sub-linearly, with the scaling exponent\n\u03b2 \u2248 0.8, indicating economies of scale.\n\nTABLE II\nR ELATIONSHIP BETWEEN A CITY ' S POPULATION SIZE AND STATUS IN\nNETWORK\n\nSpearman rank correlation\nof centrality & population\nGenre\nAll\nIndie\nRock\nHip Hop\n\nPageRank\n\nIn-degree\n\n% Edge weight where\nleader larger\n\n0.34\n0.61\n0.21\n0.38\n\n0.18\n0.61\n0.26\n0.28\n\n55%\n61%\n63%\n59%\n\nBettencourt et al., the authors of [15], also suggest that\nthe very pace of life in large cities is faster, and Arbesman\net al. [16] propose that productivity gains may be attributed\nto the increased probability of ties between diverse groups,\nwhich helps information spread quickly. If the pace of life\nin larger cities were faster, and the spread of information\nmore efficient, then it would be reasonable to expect that\nlarger cities would lead smaller ones in adopting fresh music\nand abandoning stale music. Here we test this hypothesis\nby measuring whether city size is positively and strongly\ncorrelated with a position of leadership in the network flow\ndiagrams presented in section V.\nBettencourt et al. are careful to treat each \"national urban\nsystem\" separately, because otherwise their measurements\nmight be confounded by the fact that different countries have\neconomies at different levels of development. Thus, they do\nnot expect that all cities around the globe which are of the\nsame size should have the same level of production; rather,\nthey expect this only within a tightly integrated economic\nregion. (They do however argue that the same scaling exponent\nexists in every nation.) The North American cities in fig. 3\nbelong to a tightly integrated economic area at a similar level\nof development, so we test this hypothesis on that set of\ncities. For US population sizes, we use the US Metropolitan\nStatistical Areas, as Bettencourt et al. (although we use the\nnewer data from 2010), for Canadian population sizes we use\nthe Census Metropolitan Areas from 2011.\nIn table II we display some measures of the relationship\nbetween the population size of a city and its leadership status\nin the diagrams depicted in fig. 3. The second and third\ncolumns display the Spearman's rank correlation of population\nsize and PageRank, and population size and the weighted indegree, respectively. The final column shows, for all edges, the\npercentage of the total weight that comes from edges where\nthe larger city is the leader.\nWhile these correlations between city size and leadership\nposition are positive, most of these relationships are quite weak\nwhen compared with those observed in the above-mentioned\nwork on superlinearity of cities. We were surprised that they\nwere not stronger. In most genres, the Spearman correlation\ncoefficients are smaller than we expected, and the percentage\nof edge weight that comes from edges where small cities are\nled by larger cities is not very far from 50%. Additionally,\nalthough there are some cities in North America which dwarf\n\n\fmost of the other large cities (such as NYC, with 18.9 million\nresidents, and LA with 12.8 million), in many cases these cities\ndo not occupy prominent positions in fig. 3.\nIndie music is an exception\u2013here the correlation between\nleadership and city size is quite large. We are not sure why\nthis is the case\u2013perhaps this genre is quicker moving or more\nurban than the others (although presumably hip hop is also\nquite an urban genre).\nThe work on scaling laws in cities which we have summarized in this section is significant because it appears to have\nuncovered a universal law in the social sciences, one which\ncan make quantitative predictions. Our point here is not to\nclaim that our results contradict this law. The preliminary\nresults presented in this paper suggest that, in the specific\ncontext of being cutting edge in music, cities are idiosyncratic.\nLarger cities are not predictably and generally ahead of smaller\ncities. In other words, a city is more than the number of its\ninhabitants, it might lead the trends in one genre while lagging\nthem in another.\nVII. D ISCUSSION AND F UTURE WORK\nOne major question hangs over the results presented above:\nwhy should we believe that our models of flow, as pictured in\nthe network diagrams displayed in this paper, are valid? On\nthe one hand, two aspects of our methodology lend the results\ncredibility: that each leader-follower relationship underwent a\nt-test, and that when all of the leader-follower relationships\nwere put together into a graph, they formed directed acyclic\ngraphs, which indicate a direction of flow in a strict sense. For\nthese two reasons, our method distinguishes itself from other\nunsupervised methods-such as many clustering methods-\nwhich are problematic because they return results regardless\nof whether there is structure in the underlying data. In other\nwords, if we shuffle our data around so that random noise\ndominates any signal of leader-follower relationships, our\nmethod no longer detects leader-follower relationships.\nOn the other hand, certain doubts remain, and we should\nstress that our results reflect a work in progress. For example, a\nrelationship can be statistically significant but at the same time\nhave a very small magnitude. We would be more confident of\nour results if we could demonstrate that the model that we\ncreate is meaningfully predictive. That is, given our model of\nleader-follower relationships among cities, and given a record\nof past listening behavior, we should be able to predict the\nchanges in listening behavior that will occur in the near-term\nfuture better than a reasonable baseline predictor. We have not\nyet demonstrated that our models have this predictive power,\nalthough we plan to attempt this validation in future work.\nACKNOWLEDGMENT\nThis material is based upon works supported by the Science\nFoundation Ireland under Grant No. 08/SRC/I1407: Clique:\nGraph & Network Analysis Cluster.\n\nR EFERENCES\n[1] P. Lazarsfeld, B. Berelson, and H. Gaudet, The People's Choice. How the\nVoter Makes up His Mind in a Presidential Campaign [1944]. Columbia\nUniversity Press, 1948.\n[2] J. Coleman, E. Katz, and H. Menzel, \"The diffusion of an innovation\namong physicians,\" Sociometry, vol. 20, no. 4, pp. 253\u2013270, 1957.\n[Online]. Available: http://www.jstor.org/stable/2785979\n[3] J. Moreno, \"Who shall survive?, rev. ed,\" Beacon, NY: Beacon House,\n1953.\n[4] L. Festinger, S. Schachter, and K. Back, Social pressures in informal\ngroups: a study of human factors in housing. Harper, 1950.\n[5] E. Katz, \"The Two-Step Flow of Communication: An Up-ToDate Report on an Hypothesis,\" The Public Opinion Quarterly,\nvol. 21, no. 1, pp. 61 \u2013 78, 1957. [Online]. Available: http:\n//www.jstor.org/stable/2746790\n[6] M. Granovetter, \"The strength of weak ties,\" American journal of\nsociology, pp. 1360\u20131380, 1973.\n[7] E. Bakshy, I. Rosenn, C. Marlow, and L. Adamic, \"The role of social\nnetworks in information diffusion,\" Arxiv preprint arXiv:1201.4145,\n2012.\n[8] D. Liben-Nowell and J. Kleinberg, \"Tracing information flow on a global\nscale using Internet chain-letter data.\" Proceedings of the National\nAcademy of Sciences of the United States of America, vol. 105, no. 12,\npp. 4633\u20138, Mar. 2008.\n[9] J. Leskovec and E. Horvitz, \"Planetary-scale views on a large\ninstant-messaging network,\" in Proceeding of the 17th international\nconference on World Wide Web. ACM, 2008, pp. 915\u2013924. [Online].\nAvailable: http://portal.acm.org/citation.cfm?id=1367497.1367620\n[10] D. Gruhl, R. Guha, D. Liben-Nowell, and A. Tomkins, \"Information\ndiffusion through blogspace,\" in Proceedings of the 13th international\nconference on World Wide Web. ACM, 2004, pp. 491\u2013501.\n[11] J. Leskovec, L. Backstrom, and J. Kleinberg, \"Meme-tracking and the\nDynamics of the News Cycle,\" in Proceedings of the 15th ACM SIGKDD\ninternational conference on Knowledge discovery and data mining.\nACM New York, NY, USA, 2009, pp. 497\u2013506.\n[12] M. Nagy, Z. Akos, D. Biro, and T. Vicsek, \"Hierarchical group dynamics\nin pigeon flocks.\" Nature, vol. 464, no. 7290, pp. 890\u20133, Apr. 2010.\n[Online]. Available: http://www.ncbi.nlm.nih.gov/pubmed/20376149\n[13] E. Mones, L. Vicsek, and T. Vicsek, \"Hierarchy measure for complex\nnetworks,\" Arxiv preprint arXiv:1202.0191, 2012.\n[14] L. Bettencourt and G. West, \"Bigger cities do more with less,\" Scientific\nAmerican, vol. 305, no. 3, pp. 52\u201353, 2011.\n[15] L. Bettencourt, J. Lobo, D. Helbing, C. K\u00fchnert, and G. West, \"Growth,\ninnovation, scaling, and the pace of life in cities,\" Proceedings of the\nNational Academy of Sciences, vol. 104, no. 17, p. 7301, 2007.\n[16] S. Arbesman, J. M. Kleinberg, and S. H. Strogatz, \"Superlinear\nscaling for innovation in cities,\" Phys. Rev. E, vol. 79, p. 016115, Jan\n2009. [Online]. Available: http://link.aps.org/doi/10.1103/PhysRevE.79.\n016115\n[17] C. Manning, P. Raghavan, and H. Schutze, Introduction to information\nretrieval. Cambridge University Press Cambridge, 2008, vol. 1.\n[18] F. Ferreira and J. Waldfogel, \"Pop internationalism: Has a half century\nof world music trade displaced local culture?\" National Bureau of\nEconomic Research, Tech. Rep., 2010.\n[19] D. M\u00fcllner, \"Modern hierarchical, agglomerative clustering algorithms,\"\narXiv, p. 29, Sep. 2011. [Online]. Available: http://arxiv.org/abs/1109.\n2378\n[20] L. Page, S. Brin, R. Motwani, and T. Winograd, \"The pagerank citation\nranking: Bringing order to the web.\" 1999.\n[21] U. Brandes and D. Wagner, \"Analysis and visualization of social\nnetworks,\" Graph drawing software, pp. 321\u2013340, 2004.\n\n\f"}