{"id": "http://arxiv.org/abs/1006.1545v2", "guidislink": true, "updated": "2011-02-08T09:18:39Z", "updated_parsed": [2011, 2, 8, 9, 18, 39, 1, 39, 0], "published": "2010-06-08T13:10:49Z", "published_parsed": [2010, 6, 8, 13, 10, 49, 1, 159, 0], "title": "Graded decomposition matrices of v-Schur algebras via Jantzen filtration", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1006.1852%2C1006.2620%2C1006.2947%2C1006.0952%2C1006.5068%2C1006.4197%2C1006.0440%2C1006.5490%2C1006.4713%2C1006.3356%2C1006.0408%2C1006.1626%2C1006.5134%2C1006.4384%2C1006.0090%2C1006.3520%2C1006.4513%2C1006.3822%2C1006.5296%2C1006.1860%2C1006.4657%2C1006.0684%2C1006.0017%2C1006.2609%2C1006.1377%2C1006.5064%2C1006.5888%2C1006.1511%2C1006.4609%2C1006.2830%2C1006.2770%2C1006.3306%2C1006.0897%2C1006.5347%2C1006.5422%2C1006.0073%2C1006.2214%2C1006.0953%2C1006.4030%2C1006.3547%2C1006.3522%2C1006.0035%2C1006.0497%2C1006.0031%2C1006.5869%2C1006.0742%2C1006.5591%2C1006.4789%2C1006.2081%2C1006.4427%2C1006.0865%2C1006.5001%2C1006.5830%2C1006.1176%2C1006.3463%2C1006.1899%2C1006.3134%2C1006.4403%2C1006.5278%2C1006.3369%2C1006.0395%2C1006.2265%2C1006.2778%2C1006.5237%2C1006.2961%2C1006.4064%2C1006.5890%2C1006.5118%2C1006.2472%2C1006.1312%2C1006.2668%2C1006.4041%2C1006.1331%2C1006.0977%2C1006.3667%2C1006.1060%2C1006.0985%2C1006.5583%2C1006.1684%2C1006.1756%2C1006.1588%2C1006.5864%2C1006.2314%2C1006.1695%2C1006.1106%2C1006.2584%2C1006.4542%2C1006.4150%2C1006.2991%2C1006.0288%2C1006.4468%2C1006.0358%2C1006.2939%2C1006.1545%2C1006.4071%2C1006.1339%2C1006.3044%2C1006.3279%2C1006.0550%2C1006.3797%2C1006.2560&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Graded decomposition matrices of v-Schur algebras via Jantzen filtration"}, "summary": "We prove that certain parabolic Kazhdan-Lusztig polynomials calculate the\ngraded decomposition matrices of v-Schur algebras given by the Jantzen\nfiltration of Weyl modules, confirming a conjecture of Leclerc and Thibon.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1006.1852%2C1006.2620%2C1006.2947%2C1006.0952%2C1006.5068%2C1006.4197%2C1006.0440%2C1006.5490%2C1006.4713%2C1006.3356%2C1006.0408%2C1006.1626%2C1006.5134%2C1006.4384%2C1006.0090%2C1006.3520%2C1006.4513%2C1006.3822%2C1006.5296%2C1006.1860%2C1006.4657%2C1006.0684%2C1006.0017%2C1006.2609%2C1006.1377%2C1006.5064%2C1006.5888%2C1006.1511%2C1006.4609%2C1006.2830%2C1006.2770%2C1006.3306%2C1006.0897%2C1006.5347%2C1006.5422%2C1006.0073%2C1006.2214%2C1006.0953%2C1006.4030%2C1006.3547%2C1006.3522%2C1006.0035%2C1006.0497%2C1006.0031%2C1006.5869%2C1006.0742%2C1006.5591%2C1006.4789%2C1006.2081%2C1006.4427%2C1006.0865%2C1006.5001%2C1006.5830%2C1006.1176%2C1006.3463%2C1006.1899%2C1006.3134%2C1006.4403%2C1006.5278%2C1006.3369%2C1006.0395%2C1006.2265%2C1006.2778%2C1006.5237%2C1006.2961%2C1006.4064%2C1006.5890%2C1006.5118%2C1006.2472%2C1006.1312%2C1006.2668%2C1006.4041%2C1006.1331%2C1006.0977%2C1006.3667%2C1006.1060%2C1006.0985%2C1006.5583%2C1006.1684%2C1006.1756%2C1006.1588%2C1006.5864%2C1006.2314%2C1006.1695%2C1006.1106%2C1006.2584%2C1006.4542%2C1006.4150%2C1006.2991%2C1006.0288%2C1006.4468%2C1006.0358%2C1006.2939%2C1006.1545%2C1006.4071%2C1006.1339%2C1006.3044%2C1006.3279%2C1006.0550%2C1006.3797%2C1006.2560&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We prove that certain parabolic Kazhdan-Lusztig polynomials calculate the\ngraded decomposition matrices of v-Schur algebras given by the Jantzen\nfiltration of Weyl modules, confirming a conjecture of Leclerc and Thibon."}, "authors": ["Peng Shan"], "author_detail": {"name": "Peng Shan"}, "author": "Peng Shan", "arxiv_comment": "53 pages", "links": [{"href": "http://arxiv.org/abs/1006.1545v2", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1006.1545v2", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.RT", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.RT", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.QA", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1006.1545v2", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1006.1545v2", "journal_reference": null, "doi": null, "fulltext": "GRADED DECOMPOSITION MATRICES OF v-SCHUR\nALGEBRAS VIA JANTZEN FILTRATION\n\narXiv:1006.1545v2 [math.RT] 8 Feb 2011\n\nPENG SHAN\nAbstract. We prove that certain parabolic Kazhdan-Lusztig polynomials calculate the graded decomposition matrices of v-Schur algebras given by the\nJantzen filtration of Weyl modules, confirming a conjecture of Leclerc and\nThibon.\n\nContents\nIntroduction\n1\n1. Jantzen filtration of standard modules\n2\n2. Affine parabolic category O and v-Schur algebras\n6\n3. Generalities on D-modules on ind-schemes\n15\n4. Localization theorem for affine Lie algebras of negative level\n22\n5. The geometric construction of the Jantzen filtration\n27\n6. Proof of the main theorem\n32\nAppendix A. Kashiwara-Tanisaki's construction, translation functors and\nProof of Proposition 4.2\n36\nAppendix B. Proof of Proposition 5.4\n45\nIndex of notation\n50\nReferences\n51\n\nIntroduction\nLet v be a r-th root of unity in C. The v-Schur algebra Sv (n) over C is a finite\ndimensional quasi-hereditary algebra. Its standard modules are the Weyl modules\nWv (\u03bb) indexed by partitions \u03bb of n. The module Wv (\u03bb) has a simple quotient\nLv (\u03bb). See Section 2.9 for more details.\nThe decomposition matrix of Sv (n) is given by the following algorithm. Let\nFq be the Fock space of level one. It is a Q(q)-vector space with a basis {|\u03bbi}\nindexed by the set of partitions. Moreover it carries an action of the quantum\nb r ). Let L+ (resp. L\u2212 ) be the Z[q]-submodule (resp. Z[q \u22121 ]enveloping algebra Uq (sl\nsubmodule) in Fq spanned by {|\u03bbi}. Following Leclerc and Thibon [LT1, Theorem\n\u2212\n4.1], the Fock space Fq admits two particular bases {G+\n\u03bb }, {G\u03bb } with the properties\nthat\n+\n\u22121 \u2212\nG+\nG\u2212\nL .\n\u03bb \u2261 |\u03bbi mod qL ,\n\u03bb \u2261 |\u03bbi mod q\nLet d\u03bb\u03bc (q), e\u03bb\u03bc (q) be elements in Z[q] such that\nX\nX\nG+\nd\u03bb\u03bc (q)|\u03bbi,\nG\u2212\ne\u03bb\u03bc (\u2212q \u22121 )|\u03bci.\n\u03bc =\n\u03bb =\n\u03bc\n\n\u03bb\n\n\u2032\n\nFor any partition \u03bb write \u03bb for the transposed partition. Then the Jordan-H\u00f6lder\nmultiplicity of Lv (\u03bc) in Wv (\u03bb) is equal to the value of d\u03bb\u2032 \u03bc\u2032 (q) at q = 1. This result\nwas conjectured by Leclerc and Thibon [LT1, Conjecture 5.2] and has been proved\nby Varagnolo and Vasserot [VV1].\n1\n\n\f2\n\nPENG SHAN\n\nWe are interested in the Jantzen filtration of Wv (\u03bb) [JM]\nWv (\u03bb) = J 0 Wv (\u03bb) \u2283 J 1 Wv (\u03bb) \u2283 . . . .\nIt is a filtration by Sv (n)-submodules. The graded decomposition matrix of Sv (n)\ncounts the multiplicities of Lv (\u03bc) in the associated graded module of Wv (\u03bb). The\ngraded version of the above algorithm was also conjectured by Leclerc and Thibon\n[LT1, Conjecture 5.3]. Our main result is a proof of this conjecture under a mild\nrestriction on v.\nTheorem 0.1. Suppose that v = exp(2\u03c0i/\u03ba) with \u03ba \u2208 Z and \u03ba 6 \u22123. Let \u03bb, \u03bc be\npartitions of n. Then\nX\nd\u03bb\u2032 \u03bc\u2032 (q) =\n[J i Wv (\u03bb)/J i+1 Wv (\u03bb) : Lv (\u03bc)]q i .\n(0.1)\ni>0\n\nLet us outline the idea of the proof. We first show that certain equivalence\nof highest weight categories preserves the Jantzen filtrations of standard modules\n(Proposition 1.8). By constructing such an equivalence between the module category of the v-Schur algebra and a subcategory of the affine parabolic category O\nof negative level, we then transfer the problem of computing the Jantzen filtration\nof Weyl modules into the same problem for parabolic Verma modules (Corollary\n2.14). The latter is solved using Beilinson-Bernstein's technics (Sections 4, 5, 6).\nAcknowledgement. I deeply thank my advisor Eric Vasserot for many helpful\ndiscussions, lots of useful remarks and for his substantial support.\n\n1. Jantzen filtration of standard modules\n1.1. Notation. We will denote by A -mod the category of finitely generated modules over an algebra A, and by A -proj its subcategory consisting of projective\nobjects. Let R be a commutative noetherian C-algebra. By a finite projective\nR-algebra we mean a R-algebra that belongs to R -proj.\nA R-category C is a category whose Hom sets are R-modules. All the functors\nbetween R-categories will be assumed to be R-linear, i.e., they induce morphisms\nof R-modules on the Hom sets. Unless otherwise specified, all the functors will be\nassumed to be covariant. If C is abelian, we will write C -proj for the full subcategory\nconsisting of projective objects. If there exists a finite projective algebra A together\nwith an equivalence of R-categories F : C \u223c\n= A -mod, then we define C \u2229 R -proj to\nbe the full subcategory of C consisting of objects M such that F (M ) belongs to\nR -proj. By Morita theory, the definition of C \u2229 R -proj is independent of A or F .\nFurther, for any C-algebra homomorphism R \u2192 R\u2032 we will abbreviate R\u2032 C for the\ncategory (R\u2032 \u2297R A) -mod. The definition of R\u2032 C is independent of the choice of A\nup to equivalence of categories.\nFor any abelian category C we will write [C] for the Grothendieck group of C. Any\nexact functor F from C to another abelian category C \u2032 yields a group homomorphism\n[C] \u2192 [C \u2032 ], which we will again denote by F .\nA C-category C is called artinian if the Hom sets are finite dimensional C-vector\nspaces and every object has a finite length. The Jordan-H\u00f6lder multiplicity of a\nsimple object L in an object M of C will be denoted by [M : L].\nWe abbreviate \u2297 = \u2297C and Hom = HomC .\n1.2. Highest weight categories. Let C be a R-category that is equivalent to\nthe category A -mod for some finite projective R-algebra A. Let \u2206 be a finite set\nof objects of C together with a partial order <. Let C \u2206 be the full subcategory\n\n\fJANTZEN FILTRATION\n\n3\n\nof C consisting of objects which admit a finite filtration such that the successive\nquotients are isomorphic to objects in\n{D \u2297 U | D \u2208 \u2206, U \u2208 R -proj}.\nWe have the following definition, see [R, Definition 4.11].\nDefinition 1.1. The pair (C, \u2206) is called a highest weight R-category if the following conditions hold:\n\u2022 the objects of \u2206 are projective over R,\n\u2022 we have EndC (D) = R for all D \u2208 \u2206,\n\u2022 given D1 , D2 \u2208 \u2206, if HomC (D1 , D2 ) 6= 0, then D1 6 D2 ,\n\u2022 if M \u2208 C satisfies HomC (D, M ) = 0 for all D \u2208 \u2206, then M = 0,\n\u2022 given D \u2208 \u2206, there exists P \u2208 C -proj and a surjective morphism f : P \u2192 D\nsuch that ker f belongs to C \u2206 . Moreover, in the filtration of ker f only\nD\u2032 \u2297 U with D\u2032 > D appears.\nThe objects in \u2206 are called standard. We say that an object has a standard\nfiltration if it belongs to C \u2206 . There is another set \u2207 of objets in C, called costandard\nobjects, given by the following proposition.\nProposition 1.2. Let (C, \u2206) be a highest weight R-category. Then there is a set\n\u2207 = {D\u2228 | D \u2208 \u2206} of objects of C, unique up to isomorphism, with the following\nproperties:\n(a) the pair (C op , \u2207) is a highest weight R-category, where \u2207 is equipped with\nthe same partial order as \u2206,\n(\nR if i = 0 and D1 = D2\n(b) for D1 , D2 \u2208 \u2206 we have ExtiC (D1 , D2\u2228 ) \u223c\n=\n0\nelse.\nSee [R, Proposition 4.19].\n1.3. Base change for highest weight categories. From now on, unless otherwise specified we will fix R = C[[s]], the ring of formal power series in the variable\ns. Let \u2118 be its maximal ideal and let K be its fraction field. For any R-module M ,\nany morphism f of R-modules and any i \u2208 N we will write\nM (\u2118i ) = M \u2297R (R/\u2118i R),\ni\n\ni\n\nf (\u2118 ) = f \u2297R (R/\u2118 R),\n\nMK = M \u2297R K,\nfK = f \u2297R K.\n\nWe will abbreviate\nC(\u2118) = R(\u2118)C, CK = KC.\nLet us first recall the following basic facts.\nLemma 1.3. Let A be a finite projective R-algebra. Let P \u2208 A -mod.\n(a) The A-module P is projective if and only if P is a projective R-module and\nP (\u2118) belongs to A(\u2118) -proj.\n(b) If P belongs to A -proj, then we have a canonical isomorphism\n\u223c\n\nHomA (P, M )(\u2118) \u2192 HomA(\u2118) (P (\u2118), M (\u2118)),\n\n\u2200 M \u2208 A -mod .\n\nFurther, if M belongs to R -proj then HomA (P, M ) also belongs to R -proj.\nWe will also need the following theorem of Rouquier [R, Theorem 4.15].\nProposition 1.4. Let C be a R-category that is equivalent to A -mod for some\nfinite projective R-algebra A. Let \u2206 be a finite poset of objects of C \u2229 R -proj. Then\nthe category (C, \u2206) is a highest weight R-category if and only if (C(\u2118), \u2206(\u2118)) is a\nhighest weight C-category.\nFinally, the costandard objects can also be characterized in the following way.\n\n\f4\n\nPENG SHAN\n\nLemma 1.5. Let (C, \u2206) be a highest weight R-category. Assume that \u2207\u2032 = {\u2228 D | D \u2208\n\u2206} is a set of objects of C \u2229 R -proj such that for any D \u2208 \u2206 we have\n(\u2228 D)(\u2118) \u223c\n= D(\u2118)\u2228 ,\n\n(\u2228 D)K \u223c\n= DK .\n\nThen we have \u2228 D \u223c\n= D\u2228 \u2208 \u2207.\nProof. We prove the lemma by showing that \u2207\u2032 has the properties (a), (b) in\nProposition 1.2 with \u2228 D playing the role of D\u2228 . This will imply that \u2228 D \u223c\n= D\u2228 \u2208 \u2207.\nTo check (a) note that \u2207\u2032 (\u2118) is the set of costandard modules of C(\u2118) by assumption.\nSo (C(\u2118)op , \u2207\u2032 (\u2118)) is a highest weight C-category. Therefore (C op , \u2207\u2032 ) is a highest\nweight R-category by Proposition 1.4. Now, let us concentrate on (b). Given D1 ,\nD2 \u2208 \u2206, let P\u2022 = 0 \u2192 Pn \u2192 * * * \u2192 P0 be a projective resolution of D1 in C. Then\nExtiC (D1 , \u2228 D2 ) is the cohomology of the complex\nC\u2022 = HomC (P\u2022 , \u2228 D2 ).\nSince D1 and all the Pi belong to R -proj and R is a discrete valuation ring, by the\nUniversal Coefficient Theorem the complex\nP\u2022 (\u2118) = 0 \u2192 Pn (\u2118) \u2192 * * * \u2192 P0 (\u2118)\nis a resolution of D1 (\u2118) in C(\u2118). Further, each Pi (\u2118) is a projective object in C(\u2118)\nby Lemma 1.3(a). So ExtiC(\u2118) (D1 (\u2118), \u2228 D2 (\u2118)) is given by the cohomology of the\ncomplex\nC\u2022 (\u2118) = HomC(\u2118) (P\u2022 (\u2118), \u2228 D2 (\u2118)).\nAgain, by the Universal Coefficient Theorem, the canonical map\nHi (C\u2022 )(\u2118) \u2212\u2192 Hi (C(\u2118)\u2022 )\nis injective. In other words we have a canonical injective map\nExtiC (D1 , \u2228 D2 )(\u2118) \u2212\u2192 ExtiC(\u2118) (D1 (\u2118), \u2228 D2 (\u2118)).\n\n(1.1)\n\nNote that each R-module Ci is finitely generated. Therefore ExtiC (D1 , \u2228 D2 ) is also\nfinitely generated over R. Note that if i > 0, or i = 0 and D1 6= D2 , then the\nright hand side of (1.1) is zero by assumption. So ExtiC (D1 , \u2228 D2 )(\u2118) = 0, and\nhence ExtiC (D1 , \u2228 D2 ) = 0 by Nakayama's lemma. Now, let us concentrate on the\nR-module HomC (D, \u2228 D) for D \u2208 \u2206. First, we have\nHomC (D, \u2228 D) \u2297R K\n\n=\n\nHomCK (DK , (\u2228 D)K )\n\n=\n=\n\nEndCK (DK )\nEndC (D) \u2297R K\n\n=\n\nK.\n\n(1.2)\n\nHere the second equality is given by the isomorphism DK \u223c\n= (\u2228 D)K and the last\nequality follows from EndC (D) = R. Next, note that HomC (D, \u2228 D)(\u2118) is included\ninto the vector space HomC(\u2118) (D(\u2118), \u2228 D(\u2118)) = C by (1.1). So its dimension over\nC is less than one. Together with (1.2) this yields an isomorphism of R-modules\nHomC (D, \u2228 D) \u223c\n= R, because R is a discrete valuation ring. So we have verified that\n\u2207\u2032 satisfies both property (a) and (b) in Proposition 1.2. Therefore it coincides\nwith \u2207 and \u2228 D is isomorphic to D\u2228 .\n\u0003\n1.4. The Jantzen filtration of standard modules. Let (CC , \u2206C ) be a highest\nweight C-category and (C, \u2206) be a highest weight R-category such that (CC , \u2206C ) \u223c\n=\n(C(\u2118), \u2206(\u2118)). Then any standard module in \u2206C admits a Jantzen type filtration\nassociated with (C, \u2206). It is given as follows.\n\n\fJANTZEN FILTRATION\n\n5\n\nDefinition 1.6. For any D \u2208 \u2206 let \u03c6 : D \u2192 D\u2228 be a morphism in C such that\n\u03c6(\u2118) 6= 0. For any positive integer i let\n\u03c0i : D\u2228 \u2212\u2192 D\u2228 /\u2118i D\u2228\n\n(1.3)\n\nbe the canonical quotient map. Set\nDi = ker(\u03c0i \u25e6 \u03c6) \u2282 D,\n\nJ i D(\u2118) = (Di + \u2118D)/\u2118D.\n\nThe Jantzen filtration of D(\u2118) is the filtration\nD(\u2118) = J 0 D(\u2118) \u2283 J 1 D(\u2118) \u2283 * * * .\nTo see that the Jantzen filtration is well defined, one notices first that the morphism \u03c6 always exists because HomC (D, D\u2228 )(\u2118) \u223c\n= R(\u2118). Further, the filtration is\nindependent of the choice of \u03c6. Because if \u03c6\u2032 : D \u2192 D\u2228 is another morphism such\nthat \u03c6\u2032 (\u2118) 6= 0, the fact that HomC (D, D\u2228 ) \u223c\n= R and \u03c6(\u2118) 6= 0 implies that there\nexists an element a in R such that \u03c6\u2032 = a\u03c6. Moreover \u03c6\u2032 (\u2118) 6= 0 implies that a is\ninvertible in R. So \u03c6 and \u03c6\u2032 define the same filtration.\nRemark 1.7. If the category CK is semi-simple, then the Jantzen filtration of any\nstandard module D(\u2118) is finite. In fact, since EndC (D) = R we have EndCK (DK ) =\nK. Therefore DK is an indecomposable object in CK . So the semi-simplicity of\n\u2228\nCK implies that DK is simple. Similarly DK\nis also simple. So the morphism\n\u2228\n\u03c6K : DK \u2192 DK is an isomorphism. In particular \u03c6 is injective. Now, consider the\nintersection\n\\\n\\\nJ i D(\u2118) = (Di + \u2118D)/\u2118D.\ni\n\ni\n\nSince\nhave Di \u2283 Di+1 , the intersection on the T\nright hand side is equal to\nT we\ni\ni\nD\n)\n+\n\u2118D)/\u2118D.\nThe\ninjectivity\nof\n\u03c6\nimplies\nthat\n((\ni D = ker \u03c6 is zero. Hence\nT ii\ni\ni J D(\u2118) = 0. Since D(\u2118) \u2208 C(\u2118) has a finite length, we have J D(\u2118) = 0 for i\nlarge enough.\n\n1.5. Equivalences of highest weight categories and Jantzen filtrations.\nLet (C1 , \u22061 ), (C2 , \u22062 ) be highest weight R-categories (resp. C-categories or Kcategories). A functor F : C1 \u2192 C2 is an equivalence of highest weight categories if\nit is an equivalence of categories and if for any D1 \u2208 \u22061 there exists D2 \u2208 \u22062 such\nthat F (D1 ) \u223c\n= D2 . Note that for such an equivalence F we also have\n\u223c D\u2228 ,\nF (D\u2228 ) =\n(1.4)\n1\n\n2\n\nbecause the two properties in Proposition 1.2 which characterize the costandard\nobjects are preserved by F .\nLet F : C1 \u2192 C2 be an exact functor. Since C1 is equivalent to A -mod for some\nfinite projective R-algebra A, the functor F is represented by a projective object P\nin C1 , i.e., we have F \u223c\n= HomC1 (P, \u2212). Set\nF (\u2118) = HomC1 (\u2118) (P (\u2118), \u2212) : C1 (\u2118) \u2192 C2 (\u2118).\nNote that the functor F (\u2118) is unique up to equivalence of categories. It is an exact\nfunctor, and it is isomorphic to the functor HomC1 (P, \u2212)(\u2118), see Lemma 1.3. In\nparticular, for D \u2208 \u22061 there are canonical isomorphisms\n\u223c F (\u2118)(D(\u2118)), F (D\u2228 )(\u2118) \u223c\n(1.5)\nF (D)(\u2118) =\n= F (\u2118)(D\u2228 (\u2118)).\nProposition 1.8. Let (C1 , \u22061 ), (C2 , \u22062 ) be two equivalent highest weight R-categories.\nFix an equivalence F : C1 \u2192 C2 . Then the following holds.\n(a) The functor F (\u2118) is an equivalence of highest weight categories.\n(b) The functor F (\u2118) preserves the Jantzen filtration of standard modules, i.e.,\nfor any D1 \u2208 \u22061 let D2 = F (D1 ) \u2208 \u22062 , then\nF (\u2118)(J i D1 (\u2118)) = J i D2 (\u2118),\n\n\u2200 i \u2208 N.\n\n\f6\n\nPENG SHAN\n\nProof. (a) If G : C2 \u2192 C1 is a quasi-inverse of F then G(\u2118) is a quasi-inverse of\nF (\u2118). So F (\u2118) is an equivalence of categories. It maps a standard object to a\nstandard one because of the first isomorphism in (1.5).\n(b) The functor F yields an isomorphism of R-modules\n\u223c\n\nHomC1 (D1 , D1\u2228 ) \u2192 HomC2 (F (D1 ), F (D1\u2228 )),\nwhere the right hand side identifies with HomC2 (D2 , D2\u2228 ) via the isomorphism (1.4).\nLet \u03c61 be an element in HomC1 (D1 , D1\u2228 ) such that \u03c61 (\u2118) 6= 0. Let\n\u03c62 = F (\u03c61 ) : D2 \u2192 D2\u2228 .\nThen we also have \u03c62 (\u2118) 6= 0.\nFor a = 1, 2 and i \u2208 N let \u03c0a,i : Da\u2228 \u2192 Da\u2228 (\u2118i ) be the canonical quotient map.\nSince F is R-linear and exact, the isomorphism F (D1\u2228 ) \u223c\n= D2\u2228 maps F (\u2118i D1\u2228 ) to\ni \u2228\n\u2118 D2 and induces an isomorphism\nF (D\u2228 (\u2118i )) \u223c\n= D\u2228 (\u2118i ).\n1\n\n2\n\nUnder these isomorphisms the morphism F (\u03c01,i ) is identified with \u03c02,i . So we have\nF (D1i ) =\n=\n\u223c\n=\n=\n\nF (ker(\u03c01,i \u25e6 \u03c61 ))\nker(F (\u03c01,i ) \u25e6 F (\u03c61 ))\nker(\u03c02,i \u25e6 \u03c62 )\nD2i .\n\nNow, apply F to the short exact sequence\n0 \u2192 \u2118D1 \u2192 D1i + \u2118D1 \u2192 J i D1 (\u2118) \u2192 0,\n\n(1.6)\n\nwe get\nF (J i D1 (\u2118)) \u223c\n=\n\u223c\n=\n\n(F (D1i ) + \u2118F (D1 ))/\u2118F (D1 )\nJ i D2 (\u2118).\n\nSince F (J i D1 (\u2118)) = F (\u2118)(J i D1 (\u2118)), the proposition is proved.\n\n\u0003\n\n2. Affine parabolic category O and v-Schur algebras\n2.1. The affine Lie algebra. Fix an integer m > 1. Let G0 \u2283 B0 \u2283 T0 be respectively the linear algebraic group GLm (C), the Borel subgroup of upper triangular\nmatrices and the maximal torus of diagonal matrices. Let g0 \u2283 b0 \u2283 t0 be their Lie\nalgebras. Let\ng = g0 \u2297 C[t, t\u22121 ] \u2295 C1 \u2295 C\u2202\nbe the affine Lie algebra of g0 . Its Lie bracket is given by\n[\u03be\u2297ta +x1+y\u2202, \u03be \u2032 \u2297tb +x\u2032 1+y \u2032 \u2202] = [\u03be, \u03be \u2032 ]\u2297ta+b +a\u03b4a,\u2212b tr(\u03be\u03be \u2032 )1+by\u03be \u2032 \u2297tb \u2212ay \u2032 \u03be\u2297ta ,\nwhere tr : g0 \u2192 C is the trace map. Set t = t0 \u2295 C1 \u2295 C\u2202.\nFor any Lie algebra a over C, let U(a) be its enveloping algebra. For any Calgebra R, we will abbreviate aR = a \u2297 R and U(aR ) = U(a) \u2297 R.\nIn the rest of the paper, we will fix once for all an integer c such that\n\u03ba = c + m \u2208 Z<0 .\n\n(2.1)\n\nLet U\u03ba be the quotient of U(g) by the two-sided ideal generated by 1 \u2212 c. The\nU\u03ba -modules are precisely the g-modules of level c.\nGiven a C-linear map \u03bb : t \u2192 R and a gR -module M we set\nM\u03bb = {v \u2208 M | hv = \u03bb(h)v, \u2200 h \u2208 t}.\n\n(2.2)\n\n\fJANTZEN FILTRATION\n\n7\n\nWhenever M\u03bb is non zero, we call \u03bb a weight of M .\nWe equip t\u2217 = HomC (t, C) with the basis \u01eb1 , . . . , \u01ebm , \u03c90 , \u03b4 such that \u01eb1 , . . . , \u01ebm \u2208\n\u2217\nt0 is dual to the canonical basis of t0 ,\n\u03b4(\u2202) = \u03c90 (1) = 1,\n\n\u03c90 (t0 \u2295 C\u2202) = \u03b4(t0 \u2295 C1) = 0.\n\nLet h\u2022 : \u2022i be the symmetric bilinear form on t\u2217 such that\nh\u01ebi : \u01ebj i = \u03b4ij ,\n\nh\u03c90 : \u03b4i = 1,\n\nht\u22170 \u2295 C\u03b4 : \u03b4i = ht\u22170 \u2295 C\u03c90 : \u03c90 i = 0.\n\nFor h \u2208 t\u2217 we will write ||h||2 = hh : hi. The weights of a U\u03ba -module belong to\n\u03bat\n\n\u2217\n\n= {\u03bb \u2208 t\u2217 | h\u03bb : \u03b4i = c}.\n\nLet a denote the projection from t\u2217 to t\u22170 . Consider the map\nz : t\u2217 \u2192 C\n\n(2.3)\n\n\u2217\n\nsuch that \u03bb 7\u2192 z(\u03bb)\u03b4 is the projection t \u2192 C\u03b4.\nLet \u03a0 be the root system of g with simple roots \u03b1i = \u01ebi \u2212 \u01ebi+1 for 1 6 i 6 m \u2212 1\nP\nand \u03b10 = \u03b4 \u2212 m\u22121\ni=1 \u03b1i . The root system \u03a00 of g0 is the root subsystem of \u03a0\ngenerated by \u03b11 , . . . , \u03b1m\u22121 . We will write \u03a0+ , \u03a0+\n0 for the sets of positive roots in\n\u03a0, \u03a00 respectively.\nThe affine Weyl group S is a Coxeter group with simple reflections si for 0 6\ni 6 m \u2212 1. It is isomorphic to the semi-direct product of the symmetric group S0\nwith the lattice Z\u03a00 . There is a linear action of S on t\u2217 such that S0 fixes \u03c90 , \u03b4,\nand acts on t\u22170 by permuting \u01ebi 's, and an element \u03c4 \u2208 Z\u03a00 acts by\n\u03c4 (\u03b4) = \u03b4,\n\n\u03c4 (\u03c90 ) = \u03c4 + \u03c90 \u2212 h\u03c4 : \u03c4 i\u03b4/2,\n\n\u03c4 (\u03bb) = \u03bb \u2212 h\u03c4 : \u03bbi\u03b4,\n\n\u2200 \u03bb \u2208 t\u22170 .\n\n(2.4)\n\nLet \u03c10 be the half sum of positive roots in \u03a00 and \u03c1 = \u03c10 + m\u03c90 . The dot action\nof S on t\u2217 is given by w * \u03bb = w(\u03bb + \u03c1) \u2212 \u03c1. For \u03bb \u2208 t\u2217 we will denote by S(\u03bb) the\nstabilizer of \u03bb in S under the dot action. Let l : S \u2192 N be the length function.\n2.2. The parabolic Verma modules and their deformations. The subset \u03a00\nof \u03a0 defines a standard parabolic Lie subalgebra of g, which is given by\nq = g0 \u2297 C[t] \u2295 C1 \u2295 C\u2202.\nIt has a Levi subalgebra\nl = g0 \u2295 C1 \u2295 C\u2202.\nThe parabolic Verma modules of U\u03ba associated with q are given as follows. Let \u03bb\nbe an element in\n\u039b+ = {\u03bb \u2208 \u03bat\u2217 | h\u03bb : \u03b1i \u2208 N, \u2200 \u03b1 \u2208 \u03a0+\n0 }.\nThen there is a unique finite dimensional simple g0 -module V (\u03bb) of highest weight\na(\u03bb). It can be regard as a l-module by letting h \u2208 C1 \u2295 C\u2202 act by the scalar\n\u03bb(h). It is further a q-module if we let the nilpotent radical of q act trivially. The\nparabolic Verma module of highest weight \u03bb is given by\nM\u03ba (\u03bb) = U(g) \u2297U (q) V (\u03bb).\nIt has a unique simple quotient, which we denote by L\u03ba (\u03bb).\nRecall that R = C[[s]] and \u2118 is its maximal ideal. Set\nc=c+s\n\nand\n\nk = \u03ba + s.\n\nThey are elements in R. Write Uk for the quotient of U(gR ) by the two-sided ideal\ngenerated by 1 \u2212 c. So if M is a Uk -module, then M (\u2118) is a U\u03ba -module. Now, note\nthat R admits a qR -action such that g0 \u2297 C[t] acts trivially and t acts by the weight\ns\u03c90 . Denote this qR -module by Rs\u03c90 . For \u03bb \u2208 \u039b+ the deformed parabolic Verma\n\n\f8\n\nPENG SHAN\n\nmodule Mk (\u03bb) is the gR -module induced from the qR -module V (\u03bb) \u2297 Rs\u03c90 . It is a\nUk -module of highest weight \u03bb + s\u03c90 , and we have a canonical isomorphism\nMk (\u03bb)(\u2118) \u223c\n= M\u03ba (\u03bb).\nWe will abbreviate \u03bbs = \u03bb + s\u03c90 and will write\nkt\n\n\u2217\n\n= {\u03bbs | \u03bb \u2208 \u03bat\u2217 }.\n\nLemma 2.1. The gK -module Mk (\u03bb)K = Mk (\u03bb) \u2297R K is simple.\nProof. Assume that Mk (\u03bb)K is not simple. Then it contains a nontrivial submodule. This submodule must have a highest weight vector of weight \u03bcs for some\n\u03bc \u2208 \u039b+ , \u03bc 6= \u03bb. By the linkage principle, there exists w \u2208 S such that \u03bcs = w * \u03bbs .\nTherefore w fixes \u03c90 , so it belongs to S0 . But then we must have w = 1, because\n\u03bb, \u03bc \u2208 \u039b+ . So \u03bb = \u03bc. This is a contradiction.\n\u0003\n2.3. The Jantzen filtration of parabolic Verma modules. For \u03bb \u2208 \u039b+ the\nJantzen filtration of M\u03ba (\u03bb) is given as follows. Let \u03c3 be the R-linear anti-involution\non gR such that\n\u03c3(\u03be \u2297 tn ) = t \u03be \u2297 t\u2212n ,\n\n\u03c3(1) = 1,\n\n\u03c3(\u2202) = \u2202.\n\nt\n\nHere \u03be \u2208 g0 and \u03be is the transposed matrix. Let gR act on HomR (Mk (\u03bb), R) via\n(xf )(v) = f (\u03c3(x)v) for x \u2208 gR , v \u2208 Mk (\u03bb). Then\nM\n\u0001\n(2.5)\nDMk (\u03bb) =\nHomR Mk (\u03bb)\u03bc , R\n\u03bc\u2208kt\u2217\n\nis a gR -submodule of HomR (Mk (\u03bb), R). It is the deformed dual parabolic Verma\nmodule with highest weight \u03bbs . The \u03bbs -weight spaces of Mk (\u03bb) and DMk (\u03bb) are\nboth free R-modules of rank one. Any isomorphism between them yields, by the\nuniversal property of Verma modules, a gR -module morphism\n\u03c6 : Mk (\u03bb) \u2192 DMk (\u03bb)\n\n\u0001\nsuch that \u03c6(\u2118) 6= 0. The Jantzen filtration J i M\u03ba (\u03bb) of M\u03ba (\u03bb) defined by [J] is\nthe filtration given by Definition 1.6 using the morphism \u03c6 above.\n2.4. The deformed parabolic category O. The deformed parabolic category O,\ndenoted by Ok , is the category of Uk -modules M such that\nL\n\u2022 M = \u03bb\u2208kt\u2217 M\u03bb with M\u03bb \u2208 R -mod,\n\u2022 for any m \u2208 M the R-module U(qR )m is finitely generated.\nIt is an abelian category and contains deformed parabolic Verma modules. Replacing k by \u03ba and R by C we get the usual parabolic category O, denoted O\u03ba .\nRecall the map z in (2.3). For any integer r set\nr \u2217\n\u03bat\n\n= {\u03bc \u2208 \u03bat\u2217 | r \u2212 z(\u03bc) \u2208 Z>0 }.\n\nDefine rkt\u2217 in the same manner. Let rO\u03ba (resp. rOk ) be the Serre subcategory of\nO\u03ba (resp. Ok ) consisting of objects M such that M\u03bc 6= 0 implies that \u03bc belongs to\nr \u2217\nr \u2217\nr +\n+\nr \u2217\n\u03bat (resp. kt ). Write \u039b = \u039b \u2229 \u03bat . We have the following lemma.\nLemma 2.2. (a) For any finitely generated projective object P in rOk and any\nM \u2208 rOk the R-module HomrOk (P, M ) is finitely generated and the canonical map\nHomrOk (P, M )(\u2118) \u2192 HomrO\u03ba (P (\u2118), M (\u2118))\nis an isomorphism. Moreover, if M is free over R, then HomrOk (P, M ) is also free\nover R.\n(b) The assignment M 7\u2192 M (\u2118) yields a functor\nr\n\nOk \u2192 rO\u03ba .\n\n\fJANTZEN FILTRATION\n\n9\n\nThis functor gives a bijection between the isomorphism classes of simple objects and\na bijection between the isomorphism classes of indecomposable projective objects.\nFor any \u03bb \u2208 r\u039b+ there is a unique finitely generated projective cover rP\u03ba (\u03bb) of\nL\u03ba (\u03bb) in rO\u03ba , see [RW, Lemma 4.12]. Let Lk (\u03bb), rPk (\u03bb) be respectively the simple\nobject and the indecomposable projective object in rOk that map respectively to\nL\u03ba (\u03bb), P\u03ba (\u03bb) by the bijections in Lemma 2.2(b).\nLemma 2.3. The object rPk (\u03bb) is, up to isomorphism, the unique finitely generated\nprojective cover of Lk (\u03bb) in rOk . It has a filtration by deformed parabolic Verma\nmodules. In particular, it is a free R-module.\nThe proof of Lemmas 2.2, 2.3 can be given by imitating [F, Section 2]. There,\nFiebig proved the analogue of these results for the (nonparabolic) deformed category\nO by adapting arguments of [RW]. The proof here goes in the same way, because\nthe parabolic case is also treated in [RW]. We left the details to the reader. Note\nthat the deformed parabolic category O for reductive Lie algebras has also been\nstudied in [St].\n2.5. The highest weight category Ek . Fix a positive integer n 6 m. Let Pn\ndenote the set of partitions of n. Recall P\nthat a partition \u03bb of n is a sequence of\nm\nintegers P\n\u03bb1 > . . . > \u03bbm > 0 such that\ni=1 \u03bbi = n. We associate \u03bb with the\nm\n\u2217\nelement i=1 \u03bbi \u01ebi \u2208 t0 , which we denote again by \u03bb. We will identify Pn with a\nsubset of \u039b+ by the following inclusion\nh\u03bb : \u03bb + 2\u03c10 i\n\u03b4.\n(2.6)\nPn \u2192 \u039b+ , \u03bb 7\u2192 \u03bb + c\u03c90 \u2212\n2\u03ba\nWe will also fix an integer r large enough such that Pn is contained in r\u039b+ . Equip\n\u039b+ with the partial order \u0016 given by \u03bb \u0016 \u03bc if and only if there exists w \u2208 S such\nthat \u03bc = w * \u03bb and a(\u03bc) \u2212 a(\u03bb) \u2208 N\u03a0+\n0 . Let E denote the dominance order on Pn\ngiven by\ni\ni\nX\nX\n\u03bcj , \u2200 1 6 i 6 m.\n\u03bbj 6\n\u03bb E \u03bc \u21d0\u21d2\nj=1\n\nj=1\n\nNote that for \u03bb, \u03bc \u2208 Pn we have\n\n\u03bb \u0016 \u03bc =\u21d2 \u03bb E \u03bc,\nbecause \u03bb \u0016 \u03bc implies that \u03bc \u2212 \u03bb \u2208\ni\nX\nj=1\n\n\u03bcj \u2212\n\ni\nX\n\nN\u03a0+\n0,\n\n(2.7)\n\nwhich implies that\n\n\u03bbj = h\u03bc \u2212 \u03bb, \u01eb1 + * * * + \u01ebi i > 0,\n\n\u2200 1 6 i 6 m.\n\nj=1\n\nNow consider the following subset of r\u039b+\nE = {\u03bc \u2208 r\u039b+ | \u03bc = w * \u03bb for some w \u2208 S, \u03bb \u2208 Pn }.\nLemma 2.4. The set E is finite.\nProof. Since Pn is finite, it is enough to show that for each \u03bb \u2208 Pn the set S*\u03bb\u2229 r\u039b+\nis finite. Note that for w \u2208 S0 and \u03c4 \u2208 Z\u03a00 we have z(w\u03c4 * \u03bb) = z(\u03c4 * \u03bb). By (2.4)\nwe have\n\u03ba\n\u03bb+\u03c1 2\n\u03bb+\u03c1 2\nz(\u03c4 * \u03bb) = z(\u03bb) \u2212 (||\u03c4 +\n|| \u2212 ||\n|| ).\n2\n\u03ba\n\u03ba\nIf z(\u03c4 * \u03bb) 6 r, then\n2\n\u03bb+\u03c1 2\n\u03bb+\u03c1 2\n|| 6\n(r \u2212 z(\u03bb)) + ||\n|| .\n||\u03c4 +\n\u03ba\n\u2212\u03ba\n\u03ba\nThere exists only finitely many \u03c4 \u2208 Z\u03a00 which satisfies this condition, hence the\nset E is finite.\n\u0003\n\n\f10\n\nPENG SHAN\n\nLet E\u03ba be the full subcategory of rO\u03ba consisting of objects M such that\n\u03bc \u2208 r\u039b+ , \u03bc \u2208\n/E\n\n=\u21d2\n\nHomrO\u03ba (rP\u03ba (\u03bc), M ) = 0.\n\nNote that since rP\u03ba (\u03bc) is projective in rO\u03ba , an object M \u2208 rO\u03ba is in E\u03ba if and only\nif each simple subquotient of M is isomorphic to L\u03ba (\u03bc) for \u03bc \u2208 E. In particular\nE\u03ba is abelian and it is a Serre subcategory of rO\u03ba . Further E\u03ba is also an artinian\ncategory. In fact, each object M \u2208 E\u03ba has a finite length because E is finite and\nfor each \u03bc \u2208 E the multiplicity of L\u03ba (\u03bc) in M is finite because dimC M\u03bc < \u221e. Let\ng\u2032 denote the Lie subalgebra of g given by\ng\u2032 = g0 \u2297 C[t, t\u22121 ] \u2295 C1.\nForgetting the \u2202-action yields an equivalence of categories from E\u03ba to a category of\ng\u2032 -modules, see [So, Proposition 8.1] for details. Since \u03ba is negative, this category\nof g\u2032 -modules is equal to the category studied in [KL2].\nLemma 2.5. (a) For \u03bb \u2208 E, \u03bc \u2208 r\u039b+ such that [M\u03ba (\u03bb) : L\u03ba (\u03bc)] 6= 0 we have\n\u03bc \u2208 E and \u03bc \u0016 \u03bb.\n(b) The module rP\u03ba (\u03bb) admits a filtration by U\u03ba -modules\nr\n\nP\u03ba (\u03bb) = P0 \u2283 P1 \u2283 * * * \u2283 Pl = 0\nsuch that P0 /P1 is isomorphic to M\u03ba (\u03bb) and Pi /Pi+1 \u223c\n= M\u03ba (\u03bci ) for some \u03bci \u227b \u03bb.\n(c) The category E\u03ba is a highest weight C-category with standard objects M\u03ba (\u03bb),\n\u03bb \u2208 E. The indecomposable projective objects in E\u03ba are the modules rP\u03ba (\u03bb) with\n\u03bb \u2208 E.\nProof. Let Uv be the quantized enveloping algebra of g0 with parameter v =\nexp(2\u03c0i/\u03ba). Then the Kazhdan-Lusztig's tensor equivalence [KL2, Theorem IV.38.1]\nidentifies E\u03ba with a full subcategory of the category of finite dimensional Uv modules. It maps the module M\u03ba (\u03bb) to the Weyl module of Uv with highest weight\na(\u03bb). Since v is a root of unity, part (a) follows from the strong linkage principle\nfor Uv , see [An, Theorem 3.1]. Part (b) follows from (a) and [KL2, Proposition\nI.3.9]. Finally, part (c) follows directly from parts (a), (b).\n\u0003\nNow, let us consider the deformed version. Let Ek be the full subcategory of rOk\nconsisting of objects M such that\n\u03bc \u2208 r\u039b+ , \u03bc \u2208\n/E\n\n=\u21d2\n\nHomrOk (rPk (\u03bc), M ) = 0.\n\nLemma 2.6. An object M \u2208 rOk belongs to Ek if and only if M (\u2118) belongs to E\u03ba .\nIn particular Mk (\u03bb) and rPk (\u03bb) belong to Ek for \u03bb \u2208 E.\nProof. By Lemma 2.2(a) for any \u03bc \u2208 r\u039b+ the R-module HomrOk (rPk (\u03bc), M ) is\nfinitely generated and we have\nHomrOk (rPk (\u03bc), M )(\u2118) = HomrO\u03ba (rP\u03ba (\u03bc), M (\u2118)).\nTherefore HomrOk (rPk (\u03bc), M ) is nonzero if and only if HomrO\u03ba (rP\u03ba (\u03bc), M (\u2118)) is\nnonzero by Nakayama's lemma. So the first statement follows from the definition\nof Ek and E\u03ba . The rest follows from Lemma 2.5(c).\n\u0003\nLet\nPk (E) =\n\nM\n\nr\n\nPk (\u03bb),\n\nP\u03ba (E) =\n\nM\n\nr\n\nP\u03ba (\u03bb).\n\n\u03bb\u2208E\n\n\u03bb\u2208E\n\nWe have the following corollary.\n\nCorollary 2.7. (a) The category Ek is abelian.\n(b) For M \u2208 Ek there exists a positive integer d and a surjective map\nPk (E)\u2295d \u2212\u2192 M.\n\n\fJANTZEN FILTRATION\n\n11\n\n(c) The functor HomrOk (Pk (E), \u2212) yields an equivalence of R-categories\nEk \u223c\n= EndrO (Pk (E))op -mod .\nk\n\nr\n\nProof. Let M \u2208 Ek , N \u2208 Ok . First assume that N \u2282 M . For \u03bc \u2208 r\u039b+ if\nHomrOk (rPk (\u03bc), N ) 6= 0, then HomrOk (rPk (\u03bc), M ) 6= 0, so \u03bc belongs to E. Hence\nN belongs to Ek . Now, if N is a quotient of M , then N (\u2118) is a quotient of M (\u2118).\nSince M (\u2118) belongs to E\u03ba , we also have N (\u2118) \u2208 E\u03ba . Hence N belongs to Ek by\nLemma 2.6. This proves part (a). Let us concentrate on (b). Since M \u2208 Ek we\nhave M (\u2118) \u2208 E\u03ba . The category E\u03ba is artinian with P\u03ba (E) a projective generator.\nHence there exists a positive integer d and a surjective map\nf : P\u03ba (E)\u2295d \u2212\u2192 M (\u2118).\nSince Pk (E)\u2295d is projective in rOk , this map lifts to a map of Uk -modules f \u0303 :\nPk (E)\u2295d \u2192 M such that the following diagram commute\nPk (E)\u2295d\n\u000f\u000f\nP\u03ba (E)\u2295d\n\nf \u0303\n\n/M\n\u000f\u000f\n/ / M (\u2118).\n\nf\n\nNow, since the map f \u0303 preserves weight spaces and all the weight spaces of Pk (E)\u2295r\nand M are finitely generated R-modules, by Nakayama's lemma, the surjectivity\nof f implies that f \u0303 is surjective. This proves (b). Finally part (c) is a direct\nconsequence of parts (a), (b) by Morita theory.\n\u0003\nProposition 2.8. The category Ek is a highest weight R-category with standard\nmodules Mk (\u03bc), \u03bc \u2208 E.\nProof. Note that EndrOk (Pk (E))op is a finite projective R-algebra by Lemmas 2.2,\n2.3. Since E\u03ba is a highest weight C-category by Lemma 2.5(c), the result follows\nfrom Proposition 1.4.\n\u0003\n2.6. The highest weight category Ak . By definition Pn is a subset of E. Let\nAk be the full subcategory of Ek consisting of the objects M such that\nHomrOk (Mk (\u03bb), M ) = 0,\n\n\u2200 \u03bb \u2208 E, \u03bb \u2208\n/ Pn .\n\nWe define the subcategory A\u03ba of E\u03ba in the same way. Let\n\u2206k = {Mk (\u03bb) | \u03bb \u2208 Pn },\n\n\u2206\u03ba = {M\u03ba (\u03bb) | \u03bb \u2208 Pn }.\n\nr +\n\nRecall that E \u2282 \u039b is equipped with the partial order \u0016, and that Pn \u2282 E. We\nhave the following lemma\nLemma 2.9. The set Pn is an ideal in E, i.e., for \u03bb \u2208 E, \u03bc \u2208 Pn , if \u03bb \u0016 \u03bc then\nwe have \u03bb \u2208 Pn .\nProof. Let \u03bb \u2208 E P\nand \u03bc \u2208 Pn and assume that \u03bb \u0016 \u03bc. Recall that E \u2282 \u03bat\u2217 , so we\nm\ncan write a(\u03bb) = i=1 \u03bbi \u01ebi . Since E \u2282 r\u039b+ we have \u03bbi \u2208 Z and \u03bbi > \u03bbi+1 . We\nneed to show that \u03bbm \u2208 N. Since \u03bb \u0016 \u03bc there exist ri \u2208 N such that a(\u03bc) \u2212 a(\u03bb) =\nPm\u22121\n\u0003\ni=1 ri \u03b1i . Therefore we have \u03bbm = \u03bcm + rm\u22121 > 0.\nNow, we can prove the following proposition.\n\nProposition 2.10. The category (Ak , \u2206k ) is a highest weight R-category with\nrespect to the partial order E on Pn . The highest weight category (Ak (\u2118), \u2206k (\u2118))\ngiven by base change is equivalent to (A\u03ba , \u2206\u03ba ).\n\n\f12\n\nPENG SHAN\n\nProof. Since Ek is a highest weight R-category and Pn is an ideal of E, [R, Proposition 4.14] implies that (Ak , \u2206k ) is a highest weight R-category with respect to the\npartial order \u0016 on Pn . By (2.7) this implies that (Ak , \u2206k ) is also a highest weight\nR-category with respect to E. Finally, the equivalence Ak (\u2118) \u223c\n= A\u03ba follows from\nthe equivalence Ek (\u2118) \u223c\n\u0003\n= E\u03ba and loc. cit.\n2.7. Costandard objects of Ak . Consider the (contravariant) duality functor D\non Ok given by\nM\nHomR (M\u03bc , R),\n(2.8)\nDM =\n\u03bc\u2208kt\u2217\n\nwhere the action of Uk on DM is given as in Section 2.3, with the module Mk (\u03bb)\nthere replaced by M . Similarly, we define the (contravariant) duality functor D on\nO\u03ba by\nM\nDM =\nHom(M\u03bc , C),\n(2.9)\n\u03bc\u2208kt\u2217\n\nwith the U\u03ba -action given in the same way. This functor fixes the simple modules in\nO\u03ba . Hence it restricts to a duality functor on A\u03ba , because A\u03ba is a Serre subcategory\nof O\u03ba . Therefore (A\u03ba , \u2206\u03ba ) is a highest weight category with duality in the sense of\n[CPS]. It follows from [CPS, Proposition 1.2] that the costandard module M\u03ba (\u03bb)\u2228\nin A\u03ba is isomorphic to DM\u03ba (\u03bb).\nLemma 2.11. The costandard module Mk (\u03bb)\u2228 in Ak is isomorphic to DMk (\u03bb)\nfor any \u03bb \u2208 Pn .\nProof. By definition we have a canonical isomorphism\n(DMk (\u03bb))(\u2118) \u223c\n= D(M\u03ba (\u03bb)) \u223c\n= M\u03ba (\u03bb)\u2228 .\nRecall from Lemma 2.1 that Mk (\u03bb)K is a simple Uk,K -module. Therefore we have\n(DMk (\u03bb))K \u223c\n= Mk (\u03bb)K . So the lemma follows from Lemma 1.5 applied to the\nhighest weight category (Ak , \u2206k ) and the set {DMk (\u03bb) | \u03bb \u2208 Pn }.\n\u0003\n2.8. Comparison of the Jantzen filtrations. By Definition 1.6 for any \u03bb \u2208 Pn\nthere is a Jantzen filtration of M\u03ba (\u03bb) associated with the highest weight category\n(Ak , \u2206k ). Lemma 2.11 implies that this Jantzen filtration coincides with the one\ngiven in Section 2.3.\n2.9. The v-Schur algebra. In this section let R denote an arbitrary integral domain. Let v be an invertible element in R. The Hecke algebra Hv over R is a\nR-algebra, which is free as a R-module with basis {Tw | w \u2208 S0 }, the multiplication is given by\nTw1 Tw2 = Tw1 w2 ,\n(Tsi + 1)(Tsi \u2212 v) = 0,\n\nif l(w1 w2 ) = l(w1 ) + l(w2 ),\n1 6 i 6 m \u2212 1.\n\nNext, recall that a composition of n is a sequence \u03bc = (\u03bc1 , . . . , \u03bcd ) of positive\nPd\nintegers such that\ni=1 \u03bci = n. Let Xn be the set of compositions of n. For\n\u03bc \u2208 Xn let S\u03bc be the subgroup of S0 generated by si for all 1 6 i 6 d \u2212 1 such\nthat i 6= \u03bc1 + * * * + \u03bcj for any j. Write\nX\nX\n(\u2212v)\u2212l(w) Tw .\nTw and y\u03bc =\nx\u03bc =\nw\u2208S\u03bc\n\nw\u2208S\u03bc\n\nThe v-SchurL\nalgebra Sv of parameter v is the endomorphism algebra of the right\nHv -module \u03bc\u2208Xn x\u03bc Hv . We will abbreviate\nAv = Sv -mod .\n\n\fJANTZEN FILTRATION\n\n13\n\nConsider the composition \u031f of n such that \u031fi = 1 for 1 6 i 6 n. Then x\u031f Hv =\nHv . So the Hecke algebra Hv identifies with a subalgebra of Sv via the canonical\nisomorphism Hv \u223c\n= EndHv (Hv ).\nFor \u03bb \u2208 Pn let \u03bb\u2032 be the transposed partition of \u03bb. Let \u03c6\u03bb be the element in\nSv given by \u03c6\u03bb (h) = x\u03bb h for h \u2208 x\u031f Hv and \u03c6\u03bb (x\u03bc Hv ) = 0 for any composition\n\u03bc 6= \u031f. Then there is a particular element w\u03bb \u2208 S0 associated with \u03bb such that\nthe Weyl module Wv (\u03bb) is the left ideal in Sv generated by the element\nz\u03bb = \u03c6\u03bb Tw\u03bb y\u03bb\u2032 \u2208 Sv .\nSee [JM] for details. We will write\n\u2206v = {Wv (\u03bb) | \u03bb \u2208 Pn }.\n2.10. The Jantzen filtration of Weyl modules. Now, set again R = C[[s]]. Fix\nv = exp(2\u03c0i/\u03ba) \u2208 C\n\nand\n\nv = exp(2\u03c0i/k) \u2208 R.\n\nBelow we will consider the v-Schur algebra over C with the parameter v, and the\nv-Schur algebra over R with the parameter v. The category (Av , \u2206v ) is a highest\nweight C-category. Write Lv (\u03bb) for the simple quotient of Wv (\u03bb). The canonical\nalgebra isomorphism Sv (\u2118) \u223c\n= Sv implies that (Av , \u2206v ) is a highest weight Rcategory and there is a canonical equivalence\n(Av (\u2118), \u2206v (\u2118)) \u223c\n= (Av , \u2206v ).\nWe define the Jantzen filtration (J i Wv (\u03bb)) of Wv (\u03bb) by applying Definition 1.6\nto (Av , \u2206v ). This filtration coincides with the one defined in [JM], because the\ncontravariant form on Wv (\u03bb) used in [JM]'s definition is equivalent to a morphism\nfrom Wv (\u03bb) to the dual standard module Wv (\u03bb)\u2228 = HomR (Wv (\u03bb), R).\n2.11. Equivalence of Ak and Av . In this section we will show that the highest\nweight R-categories Ak and Av are equivalent. The proof uses rational double affine\nHecke algebras and Suzuki's functor. Let us first give some reminders. Let h = Cn ,\nlet y1 , . . . , yn be its standard basis and x1 , . . . , xn \u2208 h\u2217 be the dual basis. Let H1/\u03ba\nbe the rational double affine Hecke algebra associated with Sn with parameter 1/\u03ba.\nIt is the quotient of the smash product of the tensor algebra T (h \u2295 h\u2217 ) with CSn\nby the relations\n1X\n\u22121\n[yi , xi ] = 1 +\nsij , 1 6 i, j 6 n, i 6= j.\nsij , [yi , xj ] =\n\u03ba\n\u03ba\nj6=i\n\nHere sij denotes the element of Sn that permutes i and j. Denote by B\u03ba the\ncategory O of H1/\u03ba as defined in [GGOR]. It is a highest weight C-category. Let\n{B\u03ba (\u03bb) | \u03bb \u2208 Pn } be the set of standard modules.\nNow, let V = Cm be the dual of the vectorial representation of g0 . For any\nobject M in A\u03ba consider the action of the Lie algebra g0 \u2297 C[z] on the vector space\nT (M ) = V \u2297n \u2297 M \u2297 C[h]\ngiven by\n(\u03be \u2297 z a )(v \u2297 m \u2297 f ) =\n\nn\nX\n\n\u03be(i) (v) \u2297 m \u2297 xai f + v \u2297 (\u22121)a (\u03be \u2297 t\u2212a )m \u2297 f\n\ni=1\n\n\u2297n\n\nfor \u03be \u2208 g0 , a \u2208 N, v \u2208 V , m \u2208 M , f \u2208 C[h]. Here \u03be(i) is the operator on V \u2297n\nthat acts on the i-th copy of V by \u03be and acts on the other copies of V by identity.\nSuzuki defined a natural action of H1/\u03ba on the space of coinvariants\nE\u03ba (M ) = H0 (g0 \u2297 C[z], T (M )).\n\n\f14\n\nPENG SHAN\n\nThe assignment M 7\u2192 E\u03ba (M ) gives a right exact functor\nE\u03ba : A\u03ba \u2192 B\u03ba .\nSee [Su] or [VV2, Section 2] for details. We have\nE\u03ba (M\u03ba (\u03bb)) = B\u03ba (\u03bb),\nand E\u03ba is an equivalence of highest weight categories [VV2, Theorem A.5.1].\nNext, we consider the rational double affine Hecke algebra H1/k over R with\nparameter 1/k. The category O of H1/k is defined in the obvious way. It is a\nhighest weight R-category. We will denote it by Bk . The standard modules will be\ndenoted by Bk (\u03bb). The Suzuki functor over R\nEk : Ak \u2192 Bk ,\n\nM 7\u2192 H0 (g0 \u2297 C[z], T (M ))\n\nis defined in the same way. It has the following properties.\nLemma 2.12. (a) We have Ek (Mk (\u03bb)) = Bk (\u03bb) for \u03bb \u2208 Pn .\n\u2206\n(b) The functor Ek restricts to an exact functor A\u2206\nk \u2192 Bk .\n(c) The functor Ek maps a projective generator of Ak to a projective generator\nof Bk .\nProof. The proof of part (a) is the same as in the nondeformed case. For part\n(b), since Ek is right exact over Ak , it is enough to prove that for any injective\nmorphism f : M \u2192 N with M , N \u2208 A\u2206\nk the map\nEk (f ) : Ek (M ) \u2192 Ek (N )\nis injective. Recall from Lemma 2.1 that the Uk,K -module Mk (\u03bb)K is simple for\nany \u03bb. So the functor\nEk,K : Ak,K \u2192 Bk,K\nis an equivalence. Hence the map\nEk (f ) \u2297R K : Ek,K (MK ) \u2192 Ek,K (NK )\nis injective. Since both Ek (M ) and Ek (N ) are free R-modules, this implies that\nEk (f ) is also injective. Now, let us concentrate on (c). Let P be a projective\ngenerator of Ak . Then P (\u2118) is a projective generator of A\u03ba . Since E\u03ba is an\nequivalence of categories, we have E\u03ba (P (\u2118)) is a projective generator of B\u03ba . By (b)\nthe object Ek (P ) belongs to Bk\u2206, so it is free over R. Therefore by the Universal\nCoefficient Theorem we have\n(Ek (P ))(\u2118) \u223c\n= E\u03ba (P (\u2118)).\nHence Ek (P ) is a projective object of Bk . Note that for any \u03bb \u2208 Pn there is a\nsurjective map P \u2192 Mk (\u03bb). The right exact functor Ek sends it to a surjective\nmap Ek (P ) \u2192 Bk (\u03bb). This proves that Ek (P ) is a projective generator of Bk . \u0003\nProposition 2.13. Assume that \u03ba 6 \u22123. Then there exists an equivalence of\nhighest weight R-categories\n\u223c\nAk \u2192 Av ,\nwhich maps Mk (\u03bb) to Wv (\u03bb) for any \u03bb \u2208 Pn .\nProof. We first give an equivalence of highest weight categories\n\u03a6 : Ak \u2192 Bk\nas follows. Let P be a projective generator of Ak . Then Q = Ek (P ) is a projective\ngenerator of Bk by Lemma 2.12(c). By Morita theory we have equivalences of\ncategories\n\u223c\n\nHomAk (P, \u2212) : Ak \u2192 EndAk (P )op -mod,\n\u223c\n\nHomBk (Q, \u2212) : Bk \u2192 EndBk (Q)op -mod .\n\n\fJANTZEN FILTRATION\n\n15\n\nWe claim that the algebra homomorphism\nEndAk (P ) \u2192 EndBk (Q),\n\nf 7\u2192 Ek (f ),\n\n(2.10)\n\nis an isomorphism. To see this, note that we have\nQ(\u2118) = E\u03ba (P (\u2118)),\n\n(EndAk (P ))(\u2118) = EndA\u03ba (P (\u2118)),\n\n(EndBk (Q))(\u2118) = EndB\u03ba (Q(\u2118)).\n\nSince E\u03ba is an equivalence, it yields an isomorphism\n\u223c\n\nEndA\u03ba (P (\u2118)) \u2192 EndB\u03ba (Q(\u2118)),\n\nf 7\u2192 E\u03ba (f ).\n\nSince both EndAk (P ) and EndBk (Q) are finitely generated free R-modules, by\nNakayama's lemma the morphism (2.10) is an isomorphism. In particular, it yields\nan equivalence of categories\nEndA (P )op -mod \u223c\n= EndB (Q)op -mod .\nk\n\nk\n\nCombined with the other two equivalences above, we get an equivalence of categories\n\u03a6 : Ak \u2192 Bk .\nIt remains to show that\n\u03a6(Mk (\u03bb)) \u223c\n= Bk (\u03bb),\n\n\u03bb \u2208 Pn .\n\nNote that the functor Ek yields a morphism of finitely generated R-modules\nHomBk (Q, \u03a6(Mk (\u03bb)))\n\n=\n\nEndBk (Q)op \u2297EndAk (P )op HomAk (P, Mk (\u03bb))\n\n\u2192 HomBk (Q, Ek (Mk (\u03bb)))\n=\n\nHomBk (Q, Bk (\u03bb)).\n\nLet us denote it by \u03c6. Note also that we have isomorphisms\nHomAk (P, Mk (\u03bb))(\u2118)\n\n= HomA\u03ba (P (\u2118), M\u03ba (\u03bb)),\n\nHomBk (Q, Bk (\u03bb))(\u2118)\n\n= HomB\u03ba (Q(\u2118), B\u03ba (\u03bb)),\n\nand note that E\u03ba is an equivalence of categories. So the map \u03c6(\u2118) is an isomorphism.\nFurther HomBk (Q, Bk (\u03bb)) is free over R, so Nakayama's lemma implies that \u03c6 is\nalso an isomorphism. The preimage of \u03c6 under the equivalence HomBk (Q, \u2212) yields\nan isomorphism\n\u03a6(Mk (\u03bb)) \u2243 Bk (\u03bb).\nFinally, if v 6= \u22121, i.e., \u03ba 6 \u22123, then by [R, Theorem 6.8] the categories Bk\nand Av are equivalent highest weight R-categories with Bk (\u03bb) corresponding to\nWv (\u03bb). This equivalence composed with \u03a6 gives the desired equivalence in the\nproposition.\n\u0003\nCorollary 2.14. Assume that \u03ba 6 \u22123. Then for any \u03bb, \u03bc \u2208 Pn and i \u2208 N we have\n[J i M\u03ba (\u03bb)/J i+1 M\u03ba (\u03bb) : L\u03ba (\u03bc)] = [J i Wv (\u03bb)/J i+1 Wv (\u03bb) : Lv (\u03bc)].\nProof. This follows from the proposition above and Proposition 1.8.\n\n(2.11)\n\u0003\n\nTo prove the main theorem, it remains to compute the left hand side of (2.11).\nThis will be done by generalizing the approach of [BB] to the affine parabolic case.\nTo this end, we first give some reminders on D-modules on affine flag varieties.\n\n3. Generalities on D-modules on ind-schemes\nIn this section, we first recall basic notion for D-modules on (possibly singular)\nschemes. We will also discuss twisted D-modules and holonomic D-modules. Then\nwe introduce the notion of D-modules on ind-schemes following [BD] and [KV].\n\n\f16\n\nPENG SHAN\n\n3.1. Reminders on D-modules. Unless specified otherwise, all the schemes will\nbe assumed to be of finite type over C, quasi-separated and quasi-projective. Although a large number of statements are true in a larger generality, we will only use\nthem for quasi-projective schemes. For any scheme Z, let OZ be the structure sheaf\nover Z. We write O(Z) for the category of quasi-coherent OZ -modules on Z. Note\nthat we abbreviate OZ -module for sheaf of OZ -modules over Z. For f : Z \u2192 Y\na morphism of schemes, we write f\u2217 , f \u2217 for the functors of direct and inverse images on O(Z), O(Y ). If f is a closed embedding and M \u2208 O(Y ), we consider the\nquasi-coherent OZ -module\nf ! M = f \u22121 Hom OY (f\u2217 OZ , M ).\nIt is the restriction to Z of the subsheaf of M consisting of sections supported\nscheme-theoretically on f (Z) \u2282 Y .\nLet Z be a smooth scheme. Let DZ be the ring of differential operators on\nZ. We denote by M(Z) the category of right DZ -modules that are quasi-coherent\nas OZ -modules. It is an abelian category. Let \u03a9Z denote the sheaf of differential\nforms of highest degree on Z. The category of right DZ -modules is equivalent to the\ncategory of left DZ -modules via M 7\u2192 \u03a9Z \u2297OZ M . Let i : Y \u2192 Z be a morphism\nof smooth schemes. We consider the (DY , i\u22121 DZ )-bimodule\nDY \u2192Z = i\u2217 DZ = OY \u2297i\u22121 OZ i\u22121 DZ .\nWe define the following functors\ni\u2217 : M(Z) \u2192 M(Y ),\ni\u2022 : M(Y ) \u2192 M(Z),\nFor any M \u2208 M(Y ) let M\nhave\n\nO\n\n\u0001\nM 7\u2192 \u03a9Y \u2297OY DY \u2192Z \u2297DZ (\u03a9Z \u2297OZ M ) ,\n\nM 7\u2192 i\u2217 (M \u2297DY DY \u2192Z ).\n\ndenote the underlying OY -module of M . Then we\n\ni\u2217 (M O ) = i\u2217 (M )O .\nIf i is a locally closed affine embedding, then the functor i\u2022 is exact. For any\nclosed subscheme Z \u2032 of Z, we denote by M(Z, Z \u2032 ) the full subcategory of M(Z)\nconsisting of DZ -modules supported set-theoretically on Z \u2032 . If i : Y \u2192 Z is a\nclosed embedding of smooth varieties, then by a theorem of Kashiwara, the functor\ni\u2022 yields an equivalence of categories\n(3.1)\nM(Y ) \u223c\n= M(Z, Y ).\nWe refer to [HTT] for more details about D-modules on smooth schemes\nNow, let Z be a possibly singular scheme. We consider the abelian category\nM(Z) of right D-modules on Z with a faithful forgetful functor\nM(Z) \u2192 O(Z),\n\nM 7\u2192 M O\n\nas in [BD, 7.10.3]. If Z is smooth, it is equivalent to the category M(Z) above, see\n[BD, 7.10.12]. For any closed embedding i : Z \u2192 X there is a left exact functor\ni! : M(X) \u2192 M(Z)\nsuch that (i! (M ))O = i! (M O ) for all M . It admits an exact left adjoint functor\ni\u2022 : M(Z) \u2192 M(X).\nIn the smooth case these functors coincide with the one before. If X is smooth,\nthen i\u2022 and i! yield mutually inverse equivalences of categories\nM(Z) \u223c\n(3.2)\n= M(X, Z).\nsuch that i! \u25e6 i\u2022 = Id, see [BD, 7.10.11]. Note that when Z is smooth, this is\nKashiwara's equivalence (3.1). We will always consider D-modules on a (possibly\nsingular) scheme Z which is given an embedding into a smooth scheme. Finally, if\n\n\fJANTZEN FILTRATION\n\n17\n\nj : Y \u2192 Z is a locally closed affine embedding and Y is smooth, then we have the\nfollowing exact functor\nj\u2022 = i! \u25e6 (i \u25e6 j)\u2022 : M(Y ) \u2192 M(Z).\n\n(3.3)\n\nIts definition is independent of the choice of i.\n3.2. Holonomic D-modules. Let Z be a scheme. If Z is smooth, we denote by\nMh (Z) the category of holonomic DZ -modules, see e.g., [HTT, Definition 2.3.6].\nOtherwise, let i : Z \u2192 X be a closed embedding into a smooth scheme X. We\ndefine Mh (Z) to be the full subcategory of M(Z) consisting of objects M such\nthat i\u2022 M is holonomic. The category Mh (Z) is abelian. There is a (contravariant)\nduality functor on Mh (Z) given by\n\u0001\nD : Mh (Z) \u2192 Mh (Z), M 7\u2192 i! \u03a9X \u2297OX Ext dimX\nDX (i\u2022 M , DX ) .\nFor a locally closed affine embedding i : Y \u2192 Z with Y a smooth scheme, the\nfunctor i\u2022 given by (3.3) maps Mh (Y ) to Mh (Z). We put\ni! = D \u25e6 i\u2022 \u25e6 D : Mh (Y ) \u2192 Mh (Z).\nThere is a canonical morphism of functors\n\u03c8 : i! \u2192 i\u2022 .\nThe intermediate extension functor is given by\ni!\u2022 : Mh (Y ) \u2192 Mh (Z),\n\nM 7\u2192 Im(\u03c8(M ) : i! M \u2192 i\u2022 M ).\n\nNote that the functors i\u2022 , i! are exact. Moreover, if the embedding i is closed, then\n\u03c8 is an isomorphism of functors i! \u223c\n= i\u2022 .\n3.3. Weakly equivariant D-modules. Let T be a linear group. For any T scheme Z there is an abelian category MT (Z) of weakly T -equivariant right Dmodules on Z with a faithful forgetful functor\nMT (Z) \u2192 M(Z).\n\n(3.4)\n\nT\n\nIf Z is smooth, an object M of M (Z) is an object M of M(Z) equipped with a\nstructure of T -equivariant OZ -module such that the action map M \u2297OZ DZ \u2192 M\nis T -equivariant. For any T -scheme Z with a T -equivariant closed embedding i :\nZ \u2192 X into a smooth T -scheme X, the functor i\u2022 yields an equivalence MT (Z) \u223c\n=\nMT (X, Z), where MT (X, Z) is the subcategory of MT (X) consisting of objects\nsupported set-theoretically on Z.\n3.4. Twisted D-modules. Let T be a torus, and let t be its Lie algebra. Let\n\u03c0 : Z \u2020 \u2192 Z be a right T -torsor over the scheme Z. For any object M \u2208 MT (Z \u2020 )\nthe OZ -module \u03c0\u2217 (M O ) carries a T -action. Let\nM \u2020 = \u03c0\u2217 (M O )T\nbe the OZ -submodule of \u03c0\u2217 (M O ) consisting of the T -invariant local sections. We\nhave\n\u0393(Z, M \u2020 ) = \u0393(Z \u2020 , M )T .\nFor any weight \u03bb \u2208 t\u2217 we define the categories M\u03bb\u0303 (Z), M\u03bb (Z) as follows.\nFirst, assume that Z is a smooth scheme. Then Z \u2020 is also smooth. So we have\na sheaf of algebras on Z given by\nDZ\u2020 = (DZ \u2020 )\u2020 ,\nand M \u2020 is a right DZ\u2020 -module for any M \u2208 MT (Z \u2020 ). For any open subscheme\nU \u2282 Z the T -action on \u03c0 \u22121 (U ) yields an algebra homomorphism\n\u03b4r : U(t) \u2192 \u0393(U, DZ\u2020 ),\n\n(3.5)\n\n\f18\n\nPENG SHAN\n\nwhose image lies in the center of the right hand side. Thus there is also an action\nof U(t) on M \u2020 commuting with the DZ\u2020 -action. For \u03bb \u2208 t\u2217 let m\u03bb \u2282 U(t) be the\nideal generated by\n{h + \u03bb(h) | h \u2208 t}.\nWe define M\u03bb (Z) (resp. M\u03bb\u0303 (Z)) to be the full subcategory of MT (Z \u2020 ) consisting\nof the objects M such that the action of m\u03bb on M \u2020 is zero (resp. nilpotent). In\nparticular M\u03bb (Z) is a full subcategory of M\u03bb\u0303 (Z) and both categories are abelian.\nWe will write\n\u0393(Z, M \u2020 ),\n\n\u0393(Z, M ) =\n\n\u2200 M \u2208 M\u03bb\u0303 (Z).\n\n(3.6)\n\n\u2020\n\nNow, let Z be any scheme. We say that a T -torsor \u03c0 : Z \u2192 Z is admissible if\nthere exists a T -torsor X \u2020 \u2192 X with X smooth and a closed embedding i : Z \u2192 X\nsuch that Z \u2020 \u223c\n= X \u2020 \u00d7X Z as a T -scheme over Z. We will only use admissible\nT -torsors. Let M\u03bb (X, Z), M\u03bb\u0303 (X, Z) be respectively the subcategories of M\u03bb (X),\nM\u03bb\u0303 (X) consisting of objects supported on Z \u2020 . We define M\u03bb (Z), M\u03bb\u0303 (Z) to be the\nfull subcategories of MT (Z \u2020 ) consisting of objects M such that i\u2022 (M ) belongs to\nM\u03bb (X, Z), M\u03bb\u0303 (X, Z) respectively. Their definition only depends on \u03c0.\nRemark 3.1. Let Z be a smooth scheme. Let M(DZ\u2020 ) be the category of right\nDZ\u2020 -modules on Z that are quasi-coherent as OZ -modules. The functor\n\u223c\n\nMT (Z \u2020 ) \u2192 M(DZ\u2020 ),\n\nM 7\u2192 M \u2020\n\n(3.7)\n\u2217\n\nis an equivalence of categories. A quasi-inverse is given by \u03c0 , see e.g., [BB, Lemma\n1.8.10].\nRemark 3.2. We record the following fact for a further use. For any smooth T -torsor\n\u03c0 : Z \u2020 \u2192 Z, the exact sequence of relative differential 1-forms\n\u03c0 \u2217 (\u03a91Z ) \u2212\u2192 \u03a91Z \u2020 \u2212\u2192 \u03a91Z \u2020 /Z \u2212\u2192 0\nyields an isomorphism\n\u03a9Z \u2020 = \u03c0 \u2217 (\u03a9Z ) \u2297OZ \u2020 \u03a9Z \u2020 /Z .\nSince \u03c0 is a T -torsor we have indeed\n\u03a9Z \u2020 /Z = OZ \u2020\nas a line bundle. Therefore we have an isomorphism of OZ \u2020 -modules\n\u03a9Z \u2020 = \u03c0 \u2217 (\u03a9Z ).\nBelow, we will identify them whenever needed.\n3.5. Twisted holonomic D-modules and duality functors. Let \u03c0 : Z \u2020 \u2192 Z\nbe an admissible T -torsor. We define MTh (Z \u2020 ) to be the full subcategory of MT (Z \u2020 )\nconsisting of objects M whose image via the functor (3.4) belongs to Mh (Z \u2020 ). We\ndefine the categories M\u03bbh (Z), M\u03bb\u0303h (Z) in the same manner.\nAssume that Z is smooth. Then the category MT (Z \u2020 ) has enough injective\nobjects, see e.g., [Kas, Proposition 3.3.5] and the references there. We define a\n(contravariant) duality functor on MTh (Z \u2020 ) by\nD\u2032 : MTh (Z \u2020 ) \u2192 MTh (Z \u2020 ),\n\n\u2020\n\ndimZ\nM 7\u2192 \u03a9Z \u2020 \u2297OZ \u2020 Ext M\nT (Z \u2020 ) (M , DZ \u2020 ).\n\nWe may write D\u2032 = D\u2032Z . Note that by Remark 3.2 and the equivalence (3.7) we\nhave\ndimZ \u2020\n(M \u2020 , DZ\u2020 ), \u2200 M \u2208 MT (Z \u2020 ).\n(3.8)\n(D\u2032Z M )\u2020 = \u03a9Z \u2297OZ Ext D\n\u2020\nZ\n\nFor any \u03bb \u2208 t\u2217 the functor D\u2032 restricts to (contravariant) equivalences of categories\nf\n\nD\u2032 : M\u03bb\u0303h (Z) \u2192 M\u2212\u03bb\nh (Z),\n\nD\u2032 : M\u03bbh (Z) \u2192 M\u2212\u03bb\nh (Z),\n\n(3.9)\n\n\fJANTZEN FILTRATION\n\n19\n\nsee e.g., [BB, Remark 2.5.5(iv)]. In particular, if \u03bb = 0 then D\u2032 yields a duality on\nM0h (Z \u2020 ). It is compatible with the duality functor D on Mh (Z) defined in Section\n3.2 via the equivalence\n\u03a6 : M0h (Z) \u2192 Mh (Z),\n\nM 7\u2192 M \u2020 .\n\ngiven by (3.7). More precisely, we have the following lemma\nLemma 3.3. We have \u03a6 \u25e6 D\u2032 = D \u25e6 \u03a6.\nThe proof is standard, and is left to the reader.\nSimilarly, for an admissible T -torsor \u03c0 : Z \u2020 \u2192 Z with an embedding i into a\nsmooth T -torsor X \u2020 \u2192 X, we define the functor\nD\u2032 : MTh (Z \u2020 ) \u2192 MTh (Z \u2020 ),\n\nM 7\u2192 i! D\u2032X (i\u2022 (M )).\n\nIts definition only depends on \u03c0. The equivalence (3.9) and Lemma 3.3 hold again.\nA weight \u03bb \u2208 t\u2217 is integral if it is given by the differential of a character e\u03bb :\nT \u2192 C\u2217 . For such a \u03bb we consider the invertible sheaf LZ\u03bb \u2208 O(Z) defined by\n\u0393(U, LZ\u03bb ) = {\u03b3 \u2208 \u0393(\u03c0 \u22121 (U ), OZ \u2020 ) | \u03b3(xh\u22121 ) = e\u03bb (h)\u03b3(x),\n\n(x, h) \u2208 \u03c0 \u22121 (U ) \u00d7 T }\n\nfor any open set U \u2282 Z. We define the following translation functor\n\u0398\u03bb : MTh (Z \u2020 ) \u2192 MTh (Z \u2020 ),\n\nM 7\u2192 M \u2297OZ \u2020 \u03c0 \u2217 (LZ\u03bb ).\n\nIt is an equivalence of categories. A quasi-inverse is given by \u0398\u2212\u03bb . For any \u03bc \u2208 t\u2217\nthe restriction of \u0398\u03bb yields equivalences of categories\n]\n\n\u0398\u03bb : M\u03bc\u0303h (Z) \u2192 M\u03bc+\u03bb\n(Z),\nh\n\n\u0398\u03bb : M\u03bch (Z) \u2192 M\u03bc+\u03bb\n(Z).\nh\n\n(3.10)\n\nWe define the duality functor on M\u03bb\u0303h (Z) to be\nD : M\u03bb\u0303h (Z) \u2192 M\u03bb\u0303h (Z),\n\nM 7\u2192 \u03982\u03bb \u25e6 D\u2032 (M ).\n\nIt restricts to a duality functor on M\u03bbh (Z), which we denote again by D. To avoid\nany confusion, we may write D = D\u03bb . The equivalence \u0398\u03bb intertwines the duality\nfunctors, i.e., we have\nD\u03bb+\u03bc \u25e6 \u0398\u03bb = \u0398\u03bb \u25e6 D\u03bc .\n\n(3.11)\n\nFor any locally closed affine embedding of T -torsors i : Z \u2192 Y with Z smooth,\nwe define the functor\ni! = D \u25e6 i\u2022 \u25e6 D : M\u03bb\u0303h (Z) \u2192 M\u03bb\u0303h (Y ).\nAs in Section 3.2, we have a morphism of exact functors \u03c8 : i! \u2192 i\u2022 which is an\nisomorphism if i is a closed embedding. The intermediate extension functor i!\u2022 is\ndefined in the same way.\nRemark 3.4. Assume that Z is smooth. Let M \u2208 M\u03bbh (Z). Put \u03bc = 0 in (3.10).\nUsing the equivalence \u03a6 we see that M \u2020 is a right module over the sheaf of algebras\nDZ\u03bb = LZ\u2212\u03bb \u2297OZ DZ \u2297OZ LZ\u03bb .\nFurther, we have\n\u2020\n\u03bb\nD(M )\u2020 = \u03a9Z \u2297OZ \u2297OZ LZ2\u03bb \u2297OZ Ext dimZ\nD \u03bb (M , DZ )\nZ\n\nby Lemma 3.3 and (3.11), compare [KT1, (2.1.2)].\n\n\f20\n\nPENG SHAN\n\n3.6. Injective and projective limit of categories. Let us introduce the following notation. Let A be a filtering poset. For any inductive system of categories\n(C\u03b1 )\u03b1\u2208A with functors i\u03b1\u03b2 : C\u03b1 \u2192 C\u03b2 , \u03b1 6 \u03b2, we denote by 2lim C\u03b1 its inductive\n\u2212\u2192\nlimit, i.e., the category whose objects are pairs (\u03b1, M\u03b1 ) with \u03b1 \u2208 A, M\u03b1 \u2208 C\u03b1 and\nHom2lim C\u03b1 ((\u03b1, M\u03b1 ), (\u03b2, N\u03b2 )) = lim HomC\u03b3 (i\u03b1\u03b3 (M\u03b1 ), i\u03b2\u03b3 (N\u03b2 )).\n\u2212\u2192\n\u2212\n\u2192\n\u03b3>\u03b1,\u03b2\nFor any projective system of categories (C\u03b1 )\u03b1\u2208A with functors j\u03b1\u03b2 : C\u03b2 \u2192 C\u03b1 ,\n\u03b1 6 \u03b2, we denote by 2lim C\u03b1 its projective limit, i.e., the category whose objects\n\u2190\u2212\nare systems consisting of objects M\u03b1 \u2208 C\u03b1 given for all \u03b1 \u2208 A and isomorphisms\nj\u03b1\u03b2 (M\u03b2 ) \u2192 M\u03b1 for each \u03b1 6 \u03b2 and satisfying the compatibility condition for each\n\u03b1 6 \u03b2 6 \u03b3. Morphisms are defined in the obvious way. See e.g., [KV, 3.2, 3.3].\n3.7. The O-modules on ind-schemes. An ind-scheme X is a filtering inductive\nsystem of schemes (X\u03b1 )\u03b1\u2208A with closed embeddings i\u03b1\u03b2 : X\u03b1 \u2192 X\u03b2 for \u03b1 6 \u03b2\nsuch that X represents the ind-object \" lim \"X\u03b1 . See [KS, 1.11] for details on ind\u2212\u2192\nobjects. Below we will simply write lim for \" lim \", hoping this does not create\n\u2212\u2192\n\u2212\u2192\nany confusion. The categories O(X\u03b1 ) form a projective system via the functors\ni!\u03b1\u03b2 : O(X\u03b2 ) \u2192 O(X\u03b1 ). Following [BD, 7.11.4] and [KV, 3.3] we define the category\nof O-modules on X as\nO(X) = 2lim O(X\u03b1 ).\n\u2190\u2212\nIt is an abelian category. An object M of O(X) is represented by\nM = (M\u03b1 , \u03c6\u03b1\u03b2 : i!\u03b1\u03b2 M\u03b2 \u2192 M\u03b1 )\nwhere M\u03b1 is an object of O(X\u03b1 ) and \u03c6\u03b1\u03b2 , \u03b1 6 \u03b2, is an isomorphism in O(X\u03b1 ).\nNote that any object M of O(X) is an inductive limit of objects from O(X\u03b1 ).\nMore precisely, we first identify O(X\u03b1 ) as a full subcategory of O(X) in the following way: since the poset A is filtering, to any M\u03b1 \u2208 O(X\u03b1 ) we may associate a\ncanonical object (N\u03b2 ) in O(X) such that N\u03b2 = i\u03b1\u03b2\u2217 (M\u03b1 ) for \u03b1 6 \u03b2 and the structure isomorphisms \u03c6\u03b2\u03b3 , \u03b2 6 \u03b3, are the obvious ones. Let us denote this object in\nO(X) again by M\u03b1 . Given any object M \u2208 O(X) represented by M = (M\u03b1 , \u03c6\u03b1\u03b2 ),\nthese M\u03b1 \u2208 O(X), \u03b1 \u2208 A, form an inductive system via the canonical morphisms\nM\u03b1 \u2192 M\u03b2 . Then, the ind-object lim M\u03b1 of O(X) is represented by M . So, we\n\u2212\u2192\ndefine the space of global sections of M to be the inductive limit of vector spaces\n\u0393(X, M ) = lim \u0393(X\u03b1 , M\u03b1 ).\n\u2212\u2192\n\n(3.12)\n\nWe will also use the category \u00d4(X) defined as the limit of the projective system\nof categories (O(X\u03b1 ), i\u2217\u03b1\u03b2 ), see [BD, 7.11.3] or [KV, 3.3]. Note that the canonical\nisomorphisms i\u2217\u03b1\u03b2 OX\u03b2 = OX\u03b1 yield an object (OX\u03b1 )\u03b1\u2208A in \u00d4(X). We denote\nthis object by OX . An object F \u2208 \u00d4(X) is said to be flat if each F\u03b1 is a flat\nOX\u03b1 -module. Such a F yields an exact functor\nO(X) \u2192 O(X),\n\nM 7\u2192 M \u2297OX F = (M\u03b1 \u2297OX\u03b1 F\u03b1 )\u03b1\u2208A .\n\n(3.13)\n\nFor F \u2208 \u00d4(X) the vector spaces \u0393(X\u03b1 , F\u03b1 ) form a projective system with the\nstructure maps induced by the functors i\u2217\u03b1\u03b2 . We set\n\u0393(X, F ) = lim \u0393(X\u03b1 , F\u03b1 ).\n\u2190\u2212\n\n(3.14)\n\n3.8. The D-modules on ind-schemes. The category of D-modules on the indscheme X is defined as the limit of the inductive system of categories (M(X\u03b1 ), i\u03b1\u03b2\u2022 ),\nsee e.g., [KV, 3.3]. We will denote it by M(X). Since M(X\u03b1 ) are abelian categories\nand i\u03b1\u03b2\u2022 are exact functors, the category M(X) is abelian. Recall that an object\n\n\fJANTZEN FILTRATION\n\n21\n\nof M(X) is represented by a pair (\u03b1, M\u03b1 ) with \u03b1 \u2208 A, M\u03b1 \u2208 M(X\u03b1 ). There is an\nexact and faithful forgetful functor\nM(X) \u2192 O(X),\n\nM = (\u03b1, M\u03b1 ) \u2192 M O = (i\u03b1\u03b2\u2022 (M\u03b1 )O )\u03b2>\u03b1 .\n\nThe global sections functor on M(X) is defined by\n\u0393(X, M ) = \u0393(X, M O ).\nNext, we say that X is a T -ind-scheme if X = lim X\u03b1 with each X\u03b1 being\n\u2212\u2192\na T -scheme and i\u03b1\u03b2 : X\u03b1 \u2192 X\u03b2 being T -equivariant. We define MT (X) to\nbe the abelian category given by the limit of the inductive system of categories\n(MT (X\u03b1 ), i\u03b1\u03b2\u2022 ). The functors (3.4) for each X\u03b1 yield an exact and faithful functor\nMT (X) \u2192 M(X).\n\n(3.15)\n\nT\n\nThe functor \u0393 on M (X) is given by the functor \u0393 on M(X).\nFinally, given a T -ind-scheme X = lim X\u03b1 let \u03c0 : X \u2020 \u2192 X be a T -torsor over\n\u2212\u2192\nX, i.e., \u03c0 is the limit of an inductive system of T -torsors \u03c0\u03b1 : X\u03b1\u2020 \u2192 X\u03b1 . We\nsay that \u03c0 is admissible if each of the \u03c0\u03b1 is admissible. Assume this is the case.\nThen the categories M\u03bb (X\u03b1 ), M\u03bb\u0303 (X\u03b1 ) form, respectively, two inductive systems\nof categories via i\u03b1\u03b2\u2022 . Let\nM\u03bb (X) = 2lim M\u03bb (X\u03b1 ),\nM\u03bb\u0303 (X) = 2lim M\u03bb\u0303 (X\u03b1 ).\n\u2212\u2192\n\u2212\u2192\nThey are abelian subcategories of MT (X \u2020 ). For any object M = (\u03b1, M\u03b1 ) of\nMT (X \u2020 ), the OX\u03b2 -modules (i\u03b1\u03b2\u2022 M\u03b1 )\u2020 with \u03b2 > \u03b1 give an object of O(X). We\nwill denote it by M \u2020 . The functor\nMT (X \u2020 ) \u2192 O(X),\n\nM 7\u2192 M \u2020\n\nis exact and faithful. For M \u2208 M\u03bb\u0303 (X) we will write\n\u0393(M ) = \u0393(X, M \u2020 ).\n\n(3.16)\n\nNote that it is also equal to \u0393(X \u2020 , M )T . We will consider the following categories\nM\u03bb\u0303h (X) = 2lim M\u03bb\u0303h (X\u03b1 ), M\u03bbh (X) = 2lim M\u03bbh (X\u03b1 ).\n\u2212\u2192\n\u2212\u2192\nLet Y be a smooth scheme. A locally closed affine embedding i : Y \u2192 X is the\ncomposition of an affine open embedding i1 : Y \u2192 Y with a closed embedding\ni2 : Y \u2192 X. For such a morphism the functor i\u2022 : M\u03bb\u0303h (Y ) \u2192 M\u03bb\u0303h (X) is defined by\ni\u2022 = i2\u2022 \u25e6 i1\u2022 , and the functor i! : M\u03bb\u0303h (Y ) \u2192 M\u03bb\u0303h (X) is defined by i! = i2\u2022 \u25e6 i1! .\n3.9. The sheaf of differential operators on a formally smooth ind-scheme.\nLet X be a formally smooth1 ind-scheme. Fix \u03b2 > \u03b1 in A. Let Diff \u03b2,\u03b1 be the\nOX\u03b2 \u00d7X\u03b1 -submodule of Hom C (OX\u03b2 , i\u03b1\u03b2\u2217 OX\u03b1 ) consisting of local sections supported\nset-theoretically on the diagonal X\u03b1 \u2282 X\u03b2 \u00d7 X\u03b1 . Here Hom C (OX\u03b2 , i\u03b1\u03b2\u2217 OX\u03b1 )\ndenotes the sheaf of morphisms between the sheaves of C-vector spaces associated\nwith OX\u03b2 and i\u03b1\u03b2\u2217 OX\u03b1 . As a left OX\u03b1 -module Diff \u03b2,\u03b1 is quasi-coherent, see e.g.,\n[BB, Section 1.1]. So it is an object in O(X\u03b1 ). For \u03b2 6 \u03b3 the functor i\u03b2\u03b3\u2217 and the\ncanonical map OX\u03b3 \u2192 i\u03b2\u03b3\u2217 OX\u03b2 yield a morphism of OX\u03b1 -modules\nHom C (OX\u03b2 , i\u03b1\u03b2\u2217 OX\u03b1 ) \u2192 Hom C (OX\u03b3 , i\u03b1\u03b3\u2217 OX\u03b1 ).\nIt induces a morphism Diff \u03b2,\u03b1 \u2192 Diff \u03b3,\u03b1 in O(X\u03b1 ). The OX\u03b1 -modules Diff \u03b2,\u03b1 ,\n\u03b2 > \u03b1, together with these maps form an inductive system. Let\nDiff \u03b1 = lim Diff \u03b2,\u03b1 \u2208 O(X\u03b1 ).\n\u2212\u2192\n\u03b2>\u03b1\n\n1See [BD, 7.11.1] and the references there for the definition of formally smooth.\n\n\f22\n\nPENG SHAN\n\nThe system consisting of the Diff \u03b1 's and the canonical isomorphisms i\u2217\u03b1\u03b2 Diff \u03b2 \u2192\nDiff \u03b1 is a flat object in \u00d4(X), see [BD, 7.11.11]. We will call it the sheaf of\ndifferential operators on X and denote it by DX . It carries canonically a structure\nof OX -bimodules, and a structure of algebra given by\nDiff \u03b3,\u03b2 \u2297OX\u03b2 Diff \u03b2,\u03b1 \u2192 Diff \u03b3,\u03b1 ,\n\n(g, f ) 7\u2192 g \u25e6 f,\n\n\u03b1 6 \u03b2 6 \u03b3.\n\nAny object M \u2208 M(X) admits a canonical right DX -action given by a morphism\nM \u2297OX DX \u2192 M\n\n(3.17)\n\nin O(X) which is compatible with the multiplication in DX .\n\n4. Localization theorem for affine Lie algebras of negative level\nIn this section we first consider the affine localization theorem which relates right\nD-modules on the affine flag variety (an ind-scheme) to a category of modules over\nthe affine Lie algebra with integral weights and a negative level. Then we compute\nthe D-modules corresponding to Verma and parabolic Verma modules. All the\nconstructions here hold for a general simple linear group. We will only use the case\nof SLm , since the multiplicities on the left hand side of (2.11) that we want to\ncompute are the same for slm and glm . We will use, for slm , the same notation as\nin Section 2 for glm . In particular g0 = slm and t\u22170 is now given the basis consisting\nof the weights \u01ebi \u2212 \u01ebi+1 with 1 6 i 6 m \u2212 1. We identify Pn as a subset of t\u22170 via\nthe map\nm\nX\n(\u03bbi \u2212 n/m)\u01ebi .\nPn \u2192 t\u22170 , \u03bb = (\u03bb1 , . . . , \u03bbm ) 7\u2192\ni=1\n\nFinally, we will modify slightly the definition of g by extending C[t, t\u22121 ] to C((t)),\ni.e., from now on we set\ng = g0 \u2297 C((t)) \u2295 C1 \u2295 C\u2202.\n\nThe bracket is given in the same way as before. We will again denote by b, n, q,\netc., the corresponding Lie subalgebras of g.\n4.1. The affine Kac-Moody group. Consider the group ind-scheme LG0 =\nG0 (C((t))) and the group scheme L+ G0 = G0 (C[[t]]). Let I \u2282 L+ G0 be the Iwahori\nsubgroup. It is the preimage of B0 via the canonical map L+ G0 \u2192 G0 . For z \u2208 C\u2217\nthe loop rotation t 7\u2192 zt yields a C\u2217 -action on LG0 . Write\nd0 = C\u2217 \u22c9 LG0 .\nLG\n\nLet G be the Kac-Moody group associated with g. It is a group ind-scheme which\nis a central extension\nd0 \u2192 1,\n1 \u2192 C\u2217 \u2192 G \u2192 LG\n\nsee e.g., [Ku2, Section 13.2]. There is an obvious projection pr : G \u2192 LG0 . We set\nB = pr\u22121 (I),\n\nQ = pr\u22121 (L+ G0 ),\n\nT = pr\u22121 (T0 ).\n\nFinally, let N be the prounipotent radical of B. We have\ng = Lie(G),\n\nb = Lie(B),\n\nq = Lie(Q),\n\nt = Lie(T ),\n\nn = Lie(N ).\n\n\fJANTZEN FILTRATION\n\n23\n\n4.2. The affine flag variety. Let X = G/B be the affine flag variety. It is a\nformally smooth ind-scheme. The enhanced affine flag variety X \u2020 = G/N is a\nT -torsor over X via the canonical projection\n\u03c0 : X \u2020 \u2192 X.\n\u2020\n\n(4.1)\n\n\u22121\n\nThe T -action on X is given by gN 7\u2192 gh N for h \u2208 T , g \u2208 G. The T -torsor \u03c0 is\nadmissible, see the end of Section A.1. The ind-scheme X \u2020 is also formally smooth.\nFor any subscheme Z of X we will write Z \u2020 = \u03c0 \u22121 (Z). The B-orbit decomposition\nof X is\nG\nX=\nXw ,\nXw = B \u1e87B/B,\nw\u2208S\n\nwhere \u1e87 is a representative of w in the normalizer of T in G. Each Xw is an affine\nspace of dimension l(w). Its closure X w is an irreducible projective variety. We\nhave\nG\nXw =\nX = lim X w .\nXw \u2032 ,\n\u2212\u2192\n\u2032\nw\n\nw 6w\n\n4.3. Localization theorem. Recall the sheaf of differential operators DX \u2020 \u2208\n\u00d4(X \u2020 ). The space of sections of DX \u2020 is defined as in (3.14). The left action of\nG on X \u2020 yields an algebra homomorphism\n\u03b4l : U(g) \u2192 \u0393(X \u2020 , DX \u2020 ).\n\n(4.2)\n\nSince the G-action on X \u2020 commutes with the right T -action, the image of the map\nabove lies in the T -invariant part of \u0393(X \u2020 , DX \u2020 ). So for M \u2208 MT (X \u2020 ) the DX \u2020 action on M given by (3.17) induces a g-action2 on M \u2020 via \u03b4l . In particular the\nvector space \u0393(M ) as defined in (3.16) is a g-module. Let M(g) be the category of\ng-modules. We say that a weight \u03bb \u2208 t\u2217 is antidominant (resp. dominant, regular )\nif for any \u03b1 \u2208 \u03a0+ we have h\u03bb : \u03b1i 6 0 (resp. h\u03bb : \u03b1i > 0, h\u03bb : \u03b1i =\n6 0).\nProposition 4.1. (a) The functor\n\u0393 : M\u03bb (X) \u2192 M(g),\nis exact if \u03bb + \u03c1 is antidominant.\n(b) The functor\n\u0393 : M\u03bb\u0303 (X) \u2192 M(g),\nis exact if \u03bb + \u03c1 is antidominant.\n\nM 7\u2192 \u0393(M )\n\nM 7\u2192 \u0393(M )\n\nProof. A proof of part (a) is sketched in [BD, Theorem 7.15.6]. A detailed proof can\nbe given using similar technics as in the proof of the Proposition A.2 below. This\nis left to the reader. See also [FG, Theorem 2.2] for another proof of this result.\nNow, let us concentrate on part (b). Let M = (\u03b1, M\u03b1 ) be an object in M\u03bb\u0303 (X). By\ndefinition the action of m\u03bb on M \u2020 is nilpotent. Let Mn be the maximal subobject\nof M such that the ideal (m\u03bb )n acts on Mn\u2020 by zero. We have Mn\u22121 \u2282 Mn and\nM = lim Mn . Write Rk \u0393(X, \u2212) for the k-th derived functor of the global sections\n\u2212\u2192\nfunctor \u0393(X, \u2212). Given n > 1, suppose that\nRk \u0393(X, Mn\u2020 ) = 0,\n\n\u2200 k > 0.\n\nSince Mn+1 /Mn is an object of M\u03bb (X), by part (a) we have\nRk \u0393(X, (Mn+1 /Mn )\u2020 ) = 0,\n\n\u2200 k > 0.\n\nThe long exact sequence for R\u0393(X, \u2212) applied to the short exact sequence\n\u2020\n0 \u2212\u2192 Mn\u2020 \u2212\u2192 Mn+1\n\u2212\u2192 (Mn+1 /Mn )\u2020 \u2212\u2192 0\n2More precisely, here by g-action we mean the g-action on the associated sheaf of vector spaces\n(M \u2020 )C , see Step 1 of the proof of Proposition A.2 for details.\n\n\f24\n\nPENG SHAN\n\n\u2020\nimplies that Rk \u0393(X, Mn+1\n) = 0 for any k > 0. Therefore by induction the vector\nk\n\u2020\nspace R \u0393(X, Mn ) vanishes for any n > 1 and k > 0. Finally, since the functor\nRk \u0393(X, \u2212) commutes with direct limits, see e.g., [TT, Lemma B.6], we have\n\nRk \u0393(X, M \u2020 ) = lim Rk \u0393(X, Mn\u2020 ) = 0,\n\u2212\u2192\n\n\u2200 k > 0.\n\u0003\n\n4.4. The category \u00d5\u03ba and Verma modules. For a t-module M and \u03bb \u2208 t\u2217 let\nM\u03bb\u0303 = {m \u2208 M | (h \u2212 \u03bb(h))N m = 0, \u2200 h \u2208 t, N \u226b 0}.\n\n(4.3)\n\nWe call a t-module M a generalized weight module if it satisfies the conditions\nM\nM=\nM\u03bb\u0303 ,\n\u03bb\u2208\u03bat\u2217\n\n\u2200 \u03bb \u2208 t\u2217 .\ndimC M\u03bb\u0303 < \u221e,\nIts character ch(M ) is defined as the formal sum\nX\ndimC (M\u03bb\u0303 )e\u03bb .\nch(M ) =\n\n(4.4)\n\n\u03bb\u2208t\u2217\n\nLet \u00d5 be the category consisting of the U(g)-modules M such that\n\u2022 as a t-module M is a generalized weight module,\n\u2022 there exists a finite subset \u039e \u2282 t\u2217 such that M\u03bb\u0303 6= 0 implies that \u03bb \u2208\nPm\u22121\n\u039e + i=0 Z60 \u03b1i .\n\nThe category \u00d5 is abelian. We define the duality functor D on \u00d5 by\nM\nDM =\nHom(M\u03bb\u0303 , C),\n\n(4.5)\n\n\u03bb\u2208t\u2217\n\nwith the action of g given by the involution \u03c3, see Section 2.3. Let \u00d5\u03ba be the full\nsubcategory of \u00d5 consisting of the g-modules on which 1 \u2212 (\u03ba \u2212 m) acts locally\nnilpotently. The category \u00d5\u03ba is also abelian. It is stable under the duality functor,\nbecause \u03c3(1) = 1. The category O\u03ba is a Serre subcategory of \u00d5\u03ba . For \u03bb \u2208 \u03bat\u2217 we\nconsider the Verma module\nN\u03ba (\u03bb) = U(g) \u2297U (b) C\u03bb .\nHere C\u03bb is the one dimensional b-module such that n acts trivially and t acts by\n\u03bb. It is an object of \u00d5\u03ba . Let L\u03ba (\u03bb) be the unique simple quotient of N\u03ba (\u03bb). We\nhave DL\u03ba (\u03bb) = L\u03ba (\u03bb) for any \u03bb. A simple subquotient of a module M \u2208 \u00d5\u03ba is\nisomorphic to L\u03ba (\u03bb) for some \u03bb \u2208 \u03bat\u2217 . The classes [L\u03ba (\u03bb)] form a basis of the vector\nspace [\u00d5\u03ba ], because the characters of the L\u03ba (\u03bb)'s are linearly independent.\nDenote by \u039b the set of integral weights in \u03bat\u2217 . Let \u03bb \u2208 \u039b and w \u2208 S. Recall the\nline bundle LX\u03bbw from Section 3.5. Let\nAw\u03bb = \u03a9Xw\u2020 \u2297O\n\n\u2020\nXw\n\n\u03c0 \u2217 (LX\u03bbw ).\n\n(4.6)\n\nIt is an object of M\u03bbh (Xw ) and\nD(Aw\u03bb ) = Aw\u03bb .\nLet iw : Xw\u2020 \u2192 X \u2020 be the canonical embedding. It is locally closed and affine. We\nhave the following objects in M\u03bbh (X),\n\u03bb\nAw!\n= iw! (Aw\u03bb ),\n\n\u03bb\nAw!\u2022\n= iw!\u2022 (Aw\u03bb ),\n\n\u03bb\nAw\u2022\n= iw\u2022 (Aw\u03bb )\n\nWe will consider the Serre subcategory M\u03bb0 (X) of M\u03bbh (X) generated by the simple\n\u03bb\n\u03bb\n\u03bb\nobjects Aw!\u2022\nfor w \u2208 S. It is an artinian category. Since D(Aw!\u2022\n) = Aw!\u2022\n, the\n\u03bb\ncategory M0 (X) is stable under the duality. We have the following proposition.\n\n\fJANTZEN FILTRATION\n\n25\n\nProposition 4.2. Let \u03bb \u2208 \u039b such that \u03bb + \u03c1 is antidominant. Then\n\u03bb\n(a) \u0393(Aw!\n) = N\u03ba (w * \u03bb),\n\u03bb\n(b) \u0393(Aw\u2022\n) = DN\u03ba (w * \u03bb),\n(\nL\u03ba (w * \u03bb) if w is the shortest element in wS(\u03bb),\n\u03bb\n(c) \u0393(Aw!\u2022 ) =\n0\nelse.\n\nThe proof of the proposition will be given in Appendix A. It relies on results of\nKashiwara-Tanisaki [KT1] and uses translation functors for the affine category O.\n4.5. The parabolic Verma modules. Let QS be the set of the longest representatives of the cosets S0 \\S. Let w0 be the longest element in S0 . Recall the\nfollowing basic facts.\nLemma 4.3. For w \u2208 S if w * \u03bb \u2208 \u039b+ for some \u03bb \u2208 \u039b with \u03bb + \u03c1 antidominant,\nthen w \u2208 QS. Further, if w \u2208 QS then we have\n+\n(a) the element w is the unique element v in S0 w such that \u03a0+\n0 \u2282 \u2212v(\u03a0 ),\n(b) for any v \u2208 S0 we have l(vw) = l(w) \u2212 l(v),\n(c) the element w0 w is the shortest element in S0 w.\nThe Q-orbit decomposition of X is given by\nG\nX=\nYw ,\nYw = Q\u1e87B/B.\nw\u2208QS\n\nEach Yw is a smooth subscheme of X, and Xw is open and dense in Yw . The closure\nof Yw in X is an irreducible projective variety of dimension l(w) given by\nG\nYw =\nYw\u2032 .\nw \u2032 \u2208QS, w \u2032 6w\n\nRecall that Yw\u2020 = \u03c0 \u22121 (Yw ). The canonical embedding jw : Yw\u2020 \u2192 X \u2020 is locally\nclosed and affine, see Remark 5.2(b). For \u03bb \u2208 \u039b and w \u2208 QS let\n\u03bb\nBw\n= \u03a9Yw\u2020 \u2297O\n\n\u2020\nYw\n\n\u03c0 \u2217 (LY\u03bbw ).\n\n(4.7)\n\nWe have the following objects in M\u03bbh (X)\n\u03bb\n\u03bb\nBw!\n= jw! (Bw\n),\n\n\u03bb\n\u03bb\nBw!\u2022\n= jw!\u2022 (Bw\n),\n\n\u03bb\n\u03bb\nBw\u2022\n= jw\u2022 (Bw\n).\n\nNow, consider the canonical embedding r : Xw\u2020 \u2192 Yw\u2020 . Since r is open and affine,\nwe have r\u2217 = r! and the functors\n(r! , r! = r\u2217 , r\u2022 )\nform a triple of adjoint functors between the categories M\u03bb\u0303h (Yw ) and M\u03bb\u0303h (Xw ).\n\u03bb \u223c\nNote that r\u2217 (Bw\n) = Aw\u03bb .\nLemma 4.4. For \u03bb \u2208 \u039b and w \u2208 QS the following holds.\n(a) The adjunction map r! r\u2217 \u2192 Id yields a surjective morphism in M\u03bbh (Yw )\n\u03bb\n.\nr! (Aw\u03bb ) \u2192 Bw\n\n(4.8)\n\n(b) The adjunction map Id \u2192 r\u2022 r\u2217 yields an injective morphism in M\u03bbh (Yw )\n\u03bb\nBw\n\u2192 r\u2022 (Aw\u03bb ).\n\n(4.9)\n\nProof. We will only prove part (b). Part (a) follows from (b) by applying the duality\nfunctor D. To prove (b), it is enough to show that the OYw\u2020 -module morphism\n\u0001\n\u03bb O\n\u03bb O\n(Bw\n) \u2192 r\u2022 r\u2217 (Bw\n)\n(4.10)\n\n\f26\n\nPENG SHAN\n\n\u0001\n\u03bb O\nis injective. Since r is an open embedding, the right hand side is equal to r\u2217 r\u2217 (Bw\n) .\nNow, consider the closed embedding\ni : Yw\u2020 \u2212 Xw\u2020 \u2212\u2192 Yw\u2020 .\n\nThe morphism (4.10) can be completed into the following exact sequence in O(Yw\u2020 ),\n\u0001\n\u0001\n\u03bb O\n\u03bb O\n\u03bb O\n) ,\n) \u2192 r\u2217 r\u2217 (Bw\n) \u2192 (Bw\n0 \u2192 i\u2217 i! (Bw\n\n\u03bb O\n) is locally free. So it\nsee e.g., [HTT, Proposition 1.7.1]. The OYw\u2020 -module (Bw\n\u2020\nhas no subsheaf\nsupported\non\nthe\nclosed\nsubscheme\nY\n\u2212\nXw\u2020 . We deduce that\nw\n\u0001\n!\n\u03bb O\ni\u2217 i (Bw ) = 0. Hence the morphism (4.10) is injective.\n\u0003\n\nLemma 4.5. For \u03bb \u2208 \u039b and w \u2208 QS we have\n\u03bb\n\u03bb \u223c\n.\nAw!\u2022\n= Bw!\u2022\n\n\u03bb\nProof. By applying the exact functor jw\u2022 to the map (4.9) we see that Bw\u2022\nis a\n\u03bb\n\u03bb\n\u03bb\n\u03bb\nsubobject of Aw\u2022 in Mh (X). In particular Bw!\u2022 is a simple subobject of Aw\u2022\n. So\n\u03bb\nit is isomorphic to Aw!\u2022\n.\n\u0003\n\nProposition 4.6. Let \u03bb \u2208 \u039b such that \u03bb + \u03c1 is antidominant, and let w \u2208 QS.\n(a) If there exists \u03b1 \u2208 \u03a0+\n0 such that hw(\u03bb + \u03c1) : \u03b1i = 0, then\n\u03bb\n\u0393(Bw!\n) = 0.\n\n(b) We have\nhw(\u03bb + \u03c1) : \u03b1i =\n6 0,\n\n\u2200 \u03b1 \u2208 \u03a0+\n0\n\n\u21d0\u21d2\n\nw * \u03bb \u2208 \u039b+ .\n\nIn this case, we have\n\u03bb\n\u0393(Bw!\n) = M\u03ba (w * \u03bb),\n\n(c) We have\n\u03bb\n\u0393(Bw!\u2022\n)\n\n=\n\n(\n\nL\u03ba (w * \u03bb)\n0\n\n\u03bb\n\u0393(Bw\u2022\n) = DM\u03ba (w * \u03bb).\n\nif w is the shortest element in wS(\u03bb),\nelse.\n\nProof. The proof is inspired by the proof in the finite type case, see e.g., [M,\nTheorem G.2.10]. First, by Kazhdan-Lusztig's algorithm (see Remark 6.3), the\nfollowing equality holds in [M\u03bb0 (X)]\nX\n\u03bb\n\u03bb\n(\u22121)l(y) [Ayw!\n].\n(4.11)\n[Bw!\n]=\ny\u2208S0\n\nSince \u03bb+\u03c1 is antidominant, the functor \u0393 is exact on M\u03bb0 (X) by Proposition 4.1(a).\nTherefore we have the following equalities in [\u00d5\u03ba ]\nX\n\u03bb\n\u03bb\n(\u22121)l(y) [\u0393(Ayw!\n)]\n[\u0393(Bw!\n)] =\ny\u2208S0\n\n=\n\nX\n\n(\u22121)l(y) [N\u03ba (yw * \u03bb)].\n\n(4.12)\n\ny\u2208S0\n\nHere the second equality is given by Proposition 4.2. Now, suppose that there exists\n\u03b1 \u2208 \u03a0+\n0 such that hw(\u03bb + \u03c1) : \u03b1i = 0. Let s\u03b1 be the corresponding reflection in S0 .\nThen we have\ns\u03b1 w * \u03bb = w * \u03bb .\nBy Lemma 4.3(b) we have l(w) = l(s\u03b1 w) + 1. So the right hand side of (4.12)\n\u03bb\n) = 0. This proves part (a). Now, let us\nvanishes. Therefore we have \u0393(Bw!\nconcentrate on part (b). Note that \u03bb + \u03c1 is antidominant. Thus by Lemma 4.3(a)\nwe have hw(\u03bb + \u03c1) : \u03b1i \u2208 N for any \u03b1 \u2208 \u03a0+\n0 . Hence\nhw(\u03bb + \u03c1) : \u03b1i =\n6 0\n\n\u21d0\u21d2\n\nhw(\u03bb + \u03c1) : \u03b1i > 1\n\n\u21d0\u21d2\n\nhw * \u03bb : \u03b1i > 0.\n\n\fJANTZEN FILTRATION\n\n27\n\nBy consequence hw(\u03bb + \u03c1) : \u03b1i =\n6 0 for all \u03b1 \u2208 \u03a0+\n0 if and only if w * \u03bb belongs\n+\nto \u039b . In this case, the right hand side of (4.12) is equal to [M\u03ba (w * \u03bb)] by the\nBGG-resolution. We deduce that\n\u03bb\n[\u0393(Bw!\n)] = [M\u03ba (w * \u03bb)].\n\n(4.13)\n\nNow, applying the exact functor j! to the surjective morphism in (4.8) yields a\n\u03bb\n\u03bb\n\u03bb\nquotient map Bw!\n\u2192 Aw!\nin M\u03bb (X). The exactness of \u0393 implies that \u0393(Bw!\n) is\n\u03bb\na quotient of N\u03ba (w * \u03bb) = \u0393(Aw! ). Since M\u03ba (w * \u03bb) is the maximal q-locally-finite\n\u03bb\n\u03bb\nquotient of N\u03ba (w * \u03bb) and \u0393(Bw!\n) is q-locally finite, we deduce that \u0393(Bw!\n) is a\nquotient of M\u03ba (w * \u03bb). So the first equality in part (b) follows from (4.13). The\nproof of the second one is similar. Finally, part (c) follows from Lemma 4.5 and\nProposition 4.2.\n\u0003\nRemark 4.7. Note that if w \u2208 QS is a shortest element in wS(\u03bb), then we have\n+\nhw(\u03bb + \u03c1) : \u03b1i =\n6 0 for all \u03b1 \u2208 \u03a0+\n0 . Indeed, if there exists \u03b1 \u2208 \u03a00 such that\n\u2032\n\u22121\n\u2032\nhw(\u03bb + \u03c1) : \u03b1i = 0. Let s = w s\u03b1 w. Then s belongs to S(\u03bb). Therefore we\nhave l(ws\u2032 ) > l(w). But ws\u2032 = s\u03b1 w and s\u03b1 \u2208 S0 , by Lemma 4.3 we have l(ws\u2032 ) =\nl(s\u03b1 w) < l(w). This is a contradiction.\n5. The geometric construction of the Jantzen filtration\nIn this part, we give the geometric construction of the Jantzen filtration in the\naffine parabolic case by generalizing the result of [BB].\n5.1. Notation. Let R be any noetherian C-algebra. To any abelian category C we\nassociate a category CR whose objects are the pairs (M, \u03bcM ) with M an object of C\nand \u03bcM : R \u2192 EndC (M ) a ring homomorphism. A morphism (M, \u03bcM ) \u2192 (N, \u03bcN )\nis a morphism f : M \u2192 N in C such that \u03bcN (r) \u25e6 f = f \u25e6 \u03bcM (r) for r \u2208 R. The\ncategory CR is also abelian. We have a faithful forgetful functor\nf or : CR \u2192 C,\n\n(M, \u03bcM ) \u2192 M.\n\n(5.1)\n\nAny functor F : C \u2192 C \u2032 gives rise to a functor\n\u2032\nFR : CR \u2192 CR\n,\n\n(M, \u03bcM ) 7\u2192 (F (M ), \u03bcF (M) )\n\nsuch that \u03bcF (M) (r) = F (\u03bcM (r)) for r \u2208 R. The functor FR is R-linear. If F is\nexact, then FR is also exact. We have f or \u25e6 FR = F \u25e6 f or. Given an inductive\nsystem of categories (C\u03b1 , i\u03b1\u03b2 ), it yields an inductive system ((C\u03b1 )R , (i\u03b1\u03b2 )R ), and we\nhave a canonical equivalence\n(2lim C\u03b1 )R = 2lim((C\u03b1 )R ).\n\u2212\u2192\n\u2212\u2192\n5.2. The function fw . Let Q\u2032 = (Q, Q) be the commutator subgroup of Q. It\nacts transitively on Yw\u2020 for w \u2208 QS. We have the following lemma.\n\u2020\n\nLemma 5.1. For any w \u2208 QS there exists a regular function fw : Y w \u2192 C such\n\u2020\nthat fw\u22121 (0) = Y w \u2212 Yw\u2020 and\nfw (qxh\u22121 ) = ew\n\n\u22121\n\n\u03c90\n\n(h)fw (x),\n\nq \u2208 Q\u2032 , x \u2208 Yw\u2020 , h \u2208 T.\n\nProof. Let V denote the simple g-module of highest weight \u03c90 . It is integrable,\nhence it admits an action of G. Let v0 \u2208 V be a nonzero vector in the weight space\nV\u03c90 . It is fixed under the action of Q\u2032 . So the map\n\u03c6 : G \u2192 V,\n\ng 7\u2192 g \u22121 v0\n\n\f28\n\nPENG SHAN\n\nmaps Q\u1e87B to B \u1e87\u22121 v0 for any w \u2208 QS. Let V (w\u22121 ) be the U(b)-submodule of V\ngenerated by the weight space Vw\u22121 \u03c90 . We have B \u1e87\u22121 v0 \u2282 V (w\u22121 ). Recall that\nfor w\u2032 \u2208 QS we have\nw\u2032 < w\n\n\u21d0\u21d2 (w\u2032 )\u22121 < w\u22121\n\u21d0\u21d2 (\u1e87\u2032 )\u22121 v0 \u2208 n\u1e87\u22121 v0 ,\n\n(5.2)\n\nsee e.g., [Ku2, Proposition 7.1.20]. Thus, if w\u2032 6 w then \u03c6(Q\u1e87\u2032 B) \u2282 V (w\u22121 ).\nThe C-vector space V (w\u22121 ) is finite dimensional. We choose a linear form lw :\nV (w\u22121 ) \u2192 C such that\nlw (\u1e87\u22121 v0 ) 6= 0 and lw (n\u1e87\u22121 v0 ) = 0.\nSet f \u0303w = lw \u25e6 \u03c6. Then for q \u2208 Q\u2032 , h \u2208 T , u \u2208 N we have\nf \u0303w (q \u1e87h\u22121 u) = lw (u\u22121 h\u1e87\u22121 v0 )\n= ew\n\n\u22121\n\n= ew\n\n\u22121\n\n\u03c90\n\n(h)lw (\u1e87\u22121 v0 )\n\u03c90\n(h)f \u0303w (\u1e87\u22121 ).\n\nA similar calculation together with (5.2) yields that f \u0303w (Q\u1e87\u2032 B) = 0 for w\u2032 < w.\nF\nHence f \u0303w defines a regular function on w\u2032 6w Q\u1e87\u2032 B which is invariant under the\n\u2020\n\nright action of N . By consequence it induces a regular function fw on Y w which\nhas the required properties.\n\u0003\nRemark 5.2. (a) The function fw above is completely determined by its value on\nthe point \u1e87N/N , hence is unique up to scalar.\n(b) The lemma implies that the embedding jw : Yw\u2020 \u2192 X \u2020 is affine.\n(c) The function fw is an analogue of the function defined in [BB, Lemma 3.5.1]\n\u03bb\nin the finite type case. Below we will use it to define the Jantzen filtration on Bw!\n.\nNote that [BB]'s function is defined on the whole enhanced flag variety (which is\n\u2020\na smooth scheme). Although our fw is only defined on the singular scheme Y w ,\nthis does not create any problem, because the definition of the Jantzen filtration is\n\u2020\nlocal (see Section 5.5), and each point of Y w admits a neighborhood V which can\nbe embedded into a smooth scheme U such that fw extends to U . The choice of\nsuch an extension will not affect the filtration, see [BB, Remark 4.2.2(iii)].\n5.3. The D-module B (n) . Fix \u03bb \u2208 \u039b and w \u2208 QS. In the rest of Section 5, we\nwill abbreviate\nj = jw ,\n\nf = fw ,\n\n\u03bb\nB = Bw\n,\n\n\u03bb\nB! = Bw!\n,\n\netc.\n\nFollowing [BB] we introduce the deformed version of B. Recall that R = C[[s]] and\n\u2118 is the maximal ideal. Let x denote a coordinate on C. For each integer n > 0 set\nR(n) = R(\u2118n ). Consider the left DC\u2217 -module\nI (n) = (OC\u2217 \u2297 R(n) )xs .\nIt is a rank one OC\u2217 \u2297 R(n) -module generated by a global section xs such that\nthe action of DC\u2217 is given by x\u2202x (xs ) = s(xs ). The restriction of f yields a map\nYw\u2020 \u2192 C\u2217 . Thus f \u2217 I (n) is a left DYw\u2020 \u2297 R(n) -module. So we get a right DYw\u2020 \u2297 R(n) module\nB (n) = B \u2297O\n\n\u2020\nYw\n\nf \u2217 I (n) .\n\nLemma 5.3. The right DYw\u2020 \u2297 R(n) -module B (n) is an object of M\u03bb\u0303h (Yw ).\n\n\fJANTZEN FILTRATION\n\n29\n\nProof. Since R(n) is a C-algebra of dimension n and B is locally free of rank one\nover OYw\u2020 , the OYw\u2020 -module B (n) is locally free of rank n. Hence it is a holonomic\nDYw\u2020 -module. Note that the DC\u2217 -module I (n) is weakly T -equivariant such that xs\nis a T -invariant global section. Since the map f is T -equivariant, the DYw\u2020 -module\nf \u2217 I (n) is also weakly T -equivariant. Let f s be the global section of f \u2217 I (n) given\nby the image of xs under the inclusion\n\u0393(C\u2217 , I (n) ) \u2282 \u0393(Yw\u2020 , f \u2217 I (n) ).\nThen f s is T -invariant. It is nowhere vanishing on Yw\u2020 . Thus it yields an isomorphism of OYw\u2020 \u2297 R(n) -modules\nf \u2217 I (n) \u223c\n= OYw\u2020 \u2297 R(n) .\nBy consequence we have the following isomorphism\n(B (n) )\u2020\n\nf \u2217 I (n) )T\n\n=\n\n\u03c0\u2217 (\u03c0 \u2217 (\u03a9Yw \u2297OYw LY\u03bbw ) \u2297O\n\n=\n\u223c\n=\n\n\u03a9Yw \u2297OYw LY\u03bbw \u2297OYw \u03c0\u2217 (f \u2217 I (n) )T\n\n\u2020\nYw\n\n\u03a9Yw \u2297OYw LY\u03bbw \u2297OYw (OYw \u2297 R(n) ).\n\nSee Remark 3.2 for the first equality. Next, recall from (3.5) that the right T -action\non Yw\u2020 yields a morphism of Lie algebras\n\u03b4r : t \u2192 \u0393(Yw\u2020 , DYw\u2020 ).\nThe right DY\u2020w -module structure of f \u2217 (I (n) ) is such that\n(f s * \u03b4r (h))(m) = sw\u22121 \u03c90 (\u2212h)f s (m),\n\n\u2200 m \u2208 Yw\u2020 .\n\nSo the action of the element\nh + \u03bb(h) + sw\u22121 \u03c90 (h) \u2208 U(t) \u2297 R(n)\non (B (n) )\u2020 via the map \u03b4r vanishes. Since the multiplication by s on (B (n) )\u2020 is\nnilpotent, the action of the ideal m\u03bb is also nilpotent. Therefore B (n) belongs to\nthe category M\u03bb\u0303h (Yw ).\n\u0003\nIt follows from the lemma that we have the following objects in M\u03bb\u0303h (X)\n(n)\n\nB!\n\n= j! (B (n) ),\n\n(n)\n\nB!\u2022 = j!\u2022 (B (n) ),\n\n(n)\n\nB\u2022\n\n= j\u2022 (B (n) ).\n\n5.4. Deformed parabolic Verma modules. Fix \u03bb \u2208 \u039b and w \u2208 QS as before.\nLet n > 0. If w * \u03bb \u2208 \u039b+ we will abbreviate\nM\u03ba = M\u03ba (w * \u03bb),\n\nMk = Mk (w * \u03bb),\n\n(n)\n\nMk\n\n= Mk (\u2118n ),\n\n(n)\n\nDMk\n\n= (DMk )(\u2118n ).\n\nNote that the condition is satisfied when w is a shortest element in wS(\u03bb), see\nRemark 4.7.\nProposition 5.4. Assume that \u03bb + \u03c1 is antidominant and that w is a shortest\nelement in wS(\u03bb). Then there are isomorphisms of gR(n) -modules\n(n)\n\n(n)\n\n\u0393(B! ) = Mk ,\n\n(n)\n\n(n)\n\n\u0393(B\u2022 ) = DMk .\n\nThe proof will be given in Appendix B.\n\n\f30\n\nPENG SHAN\n\n5.5. The geometric Jantzen filtration. Now, we define the Jantzen filtration\non B! following [BB, Sections 4.1,4.2]. Recall that B (n) is an object of M\u03bb\u0303h (Yw ).\nConsider the map\n\u03bc : R(n) \u2192 EndM\u03bb\u0303 (Yw ) (B (n) ),\n\n\u03bc(r)(m) = rm,\n\nh\n\nwhere m denotes a local section of B (n) . Then the pair (B (n) , \u03bc) is an object of the\ncategory M\u03bb\u0303h (Yw )R(n) defined in Section 5.1. We will abbreviate B (n) = (B (n) , \u03bc).\nFix an integer a > 0. Recall the morphism of functors \u03c8 : j! \u2192 j\u2022 . We consider the\nmorphism\n(n)\n\n\u03c8(a, n) : B!\n\n(n)\n\n\u2192 B\u2022\n\nin the category M\u03bb\u0303h (X)R(n) given by the composition of the chain of maps\na\n(n) j! (\u03bc(s )) /\n\nB!\n\n(n)\n(n) \u03c8(B )\n\nB!\n\n/ B (n) .\n\u2022\n\n(5.3)\n\nThe category M\u03bb\u0303h (X)R(n) is abelian. The obvious projection R(n) \u2192 R(n\u22121) yields\na canonical map\nCoker(\u03c8(a, n)) \u2192 Coker(\u03c8(a, n \u2212 1)).\nBy [B, Lemma 2.1] this map is an isomorphism when n is sufficiently large. We\ndefine\n\u03c0 a (B) = Coker(\u03c8(a, n)), n \u226b 0.\n(5.4)\nThis is an object of M\u03bb\u0303h (X)R(n) . We view it as an object of M\u03bb\u0303h (X) via the forgetful\nfunctor (5.1). Now, let us consider the maps\n\u03b1 : B! \u2192 \u03c0 1 (B),\n\n\u03b2 : \u03c0 1 (B) \u2192 \u03c0 0 (B)\n\nin M\u03bb\u0303h (X) given as follows. First, since\n\u03c0 0 (B) = Coker(\u03c8(B (n) ))\n\nand \u03c0 1 (B) = Coker(\u03c8(B (n) ) \u25e6 j! (\u03bc(s))),\n\nthere is a canonical projection \u03c0 1 (B) \u2192 \u03c0 0 (B). We define \u03b2 to be this map. Next,\nthe morphism \u03c8(B (n) ) maps j! (s(B (n) )) to Im(\u03c8(1, n)). Hence it induces a map\nj! (B (n) /s(B (n) )) \u2192 \u03c0 1 (B),\n\nn \u226b 0.\n\nComposing it with the isomorphism B \u223c\n= B (n) /s(B (n) ) we get the map \u03b1. Let \u03bc1\n(n)\n1\ndenote the R -action on \u03c0 (B). Then by [B] the sequence\n\u03b1\n\n\u03b2\n\n0 \u2212\u2192 B! \u2212\u2192 \u03c0 1 (B) \u2212\u2192 \u03c0 0 (B) \u2212\u2192 0,\n\n(5.5)\n\nis exact and \u03b1 induces an isomorphism\nB! \u2192 Ker(\u03bc1 (s) : \u03c0 1 (B) \u2192 \u03c0 1 (B)).\nThe Jantzen filtration of B! is defined by\nJ i (B! ) = Ker(\u03bc1 (s)) \u2229 Im(\u03bc1 (s)i ),\n\n\u2200 i > 0.\n\n(5.6)\n\n5.6. Comparison of the Jantzen filtrations. Fix \u03bb \u2208 \u039b and w \u2208 QS. Consider\nthe Jantzen filtration (J i M\u03ba ) on M\u03ba as defined in Section 2.3. The following\nproposition compares it with the geometric Jantzen filtration on B! .\nProposition 5.5. Assume that \u03bb + \u03c1 is antidominant and that w is a shortest\nelement in wS(\u03bb). Then we have\nJ i M\u03ba = \u0393(J i B! ),\n\n\u2200 i > 0.\n\n\fJANTZEN FILTRATION\n\n31\n\nProof. By Proposition 4.6(b) and Proposition 5.4 we have\n(n)\n\n\u0393(B! ) = M\u03ba ,\n\n(n)\n\n(n)\n\n\u0393(B! ) = Mk ,\n\n(n)\n\n\u0393(B\u2022 ) = DMk .\n\nSo the map\n(n)\n\n(n)\n\n\u03c6(n) = \u0393(\u03c8(B (n) )) : \u0393(B! ) \u2192 \u0393(B\u2022 ).\nidentifies with a gR(n) -module homomorphism\n(n)\n\n\u03c6(n) : Mk\n\n(n)\n\n\u2192 DMk .\n\n(n)\n\n(n)\n\nConsider the projective systems (Mk ), (DMk ), n > 0, induced by the quotient\nmap R(n) \u2192 R(n\u22121) . Their limits are respectively Mk and DMk . The morphisms\n\u03c6(n) , n > 0, yield a morphism of gR -modules\n\u03c6 = lim \u03c6(n) : Mk \u2192 DMk\n\u2190\u2212\nsuch that\n\u03c6(\u2118) = \u03c6(1) = \u0393(\u03c8(B)).\nThe functor \u0393 is exact by Proposition 4.1. So the image of \u03c6(\u2118) is \u0393(B!\u2022 ). It is non\nzero by Proposition 4.6(c). Hence \u03c6 satisfies the condition of Definition 1.6 and we\nhave\n\u0001\nJ i M\u03ba = {x \u2208 Mk | \u03c6(x) \u2208 si DMk } + sMk /sMk .\nBy Lemma 2.1 and Remark 1.7 the map \u03c6 is injective. So the equality above can\nbe rewritten as\n\u0001\nJ i M\u03ba = \u03c6(Mk ) \u2229 si DMk + s\u03c6(Mk ) /s\u03c6(Mk ).\nNow, for a > 0 let\n\n(n)\n\n(n)\n\n\u03c6(a, n) : Mk \u2192 DMk\nbe the gR(n) -module homomorphism given by the composition\na\n(n) \u03bc(s )\n\nMk\n\n/ M (n)\nk\n\n\u03c6(n)\n\n/ DM (n) .\nk\n\n(5.7)\n\nThen we have \u0393(\u03c8(a, n)) = \u03c6(a, n). Since \u0393 is exact, we have\n\u0001\nCoker(\u03c6(a, n)) = \u0393 Coker(\u03c8(a, n)) .\n\nSo the discussion in Section 5.5 and the exactness of \u0393 yields that the canonical\nmap\nCoker(\u03c6(a, n)) \u2192 Coker(\u03c6(a, n \u2212 1))\nis an isomorphism if n is large enough. We deduce that\nDMk /sa Mk = Coker(\u03c6(a, n)) = \u0393(\u03c0 a (B)),\n\nn \u226b 0,\n\nsee (5.4). The action of \u03bc(s) on DMk /sa \u03c6(Mk ) is nilpotent, because \u03bc(s) is nilpo(n)\ntent on DMk . Further \u0393 maps the exact sequence (5.5) to an exact sequence\n0 \u2212\u2192 M\u03ba \u2212\u2192 DMk /s\u03c6(Mk ) \u2212\u2192 DMk /\u03c6(Mk ) \u2212\u2192 0,\n\n(5.8)\n\nand the first map yields an isomorphism\n\n\u0001\nM\u03ba = Ker \u03bc(s) : DMk /s\u03c6(Mk ) \u2192 DMk /s\u03c6(Mk ) .\n\nNote that since DMk is a free R-module, for x \u2208 DMk if sx \u2208 s\u03c6(Mk ) then\nx \u2208 \u03c6(Mk ). So by (5.6) and the exactness of \u0393, we have for i > 0,\n\u0393(J i B! ) =\n=\n=\nThe proposition is proved.\n\nKer(\u03bc(s)) \u2229 Im(\u03bc(s)i )\n\n\u0001\n\u03c6(Mk ) \u2229 si DMk + s\u03c6(Mk ) /s\u03c6(Mk )\n\nJ i M\u03ba .\n\n\u0003\n\n\f32\n\nPENG SHAN\n\n6. Proof of the main theorem\n6.1. Mixed Hodge modules. Let Z be a smooth scheme. Let MHM(Z) be the\ncategory of mixed Hodge modules on Z [Sa]. It is an abelian category. Each object\nM of MHM(Z) carries a canonical filtration\nW \u2022 M = * * * W k M \u2283 W k\u22121 M * * * ,\ncalled the weight filtration. For each k \u2208 Z the Tate twist is an auto-equivalence\n(k) : MHM(Z) \u2192 MHM(Z),\n\u2022\n\nM 7\u2192 M (k)\n\n\u2022+2k\n\nsuch that W (M (k)) = W\n(M ). Let Perv(Z) be the category of perverse\nsheaves on Z with coefficient in C. There is an exact forgetful functor\n\u033a : MHM(Z) \u2192 Perv(Z).\nFor any locally closed affine embedding i : Z \u2192 Y we have exact functors\ni! , i\u2022 : MHM(Z) \u2192 MHM(Y )\nwhich correspond via \u033a to the same named functors on the categories of perverse\nsheaves.\nIf Z is not smooth we embed it into a smooth variety Y and we define MHM(Z)\nas the full subcategory of MHM(Y ) consisting of the objects supported on Z. It is\nindependent of the choice of the embedding for the same reason as for D-modules.\n\u03bb\n\u03bb\n6.2. The graded multiplicities of Bx!\u2022\nin Bw!\n. Now, let us calculate the multi\u03bb\nplicities of a simple object Bx!\u2022 in the successive quotients of the Jantzen filtration\n\u03bb\nfor x, w \u2208 QS with x 6 w.\nof Bw!\nWe fix once for all an element v \u2208 S, and we consider the Serre subcategory\n\u03bb\nwith w 6 v, w \u2208 S. The De\nM\u03bb0 (X v ) of M\u03bbh (X v ) generated by the objects Aw!\u2022\nRham functor yields an exact fully faithful functor\n\nDR : M\u03bb0 (X v ) \u2212\u2192 Perv(X v ).\nSee e.g., [KT1, Section 4]. Let MHM0 (X v ) be the full subcategory of MHM(X v )\nconsisting of objects whose image by \u033a belong to the image of the functor DR.\nThere exists a unique exact functor\n\u03b7 : MHM0 (X v ) \u2192 M\u03bb0 (X v )\nsuch that DR \u25e6\u03b7 = \u033a. An object M in MHM0 (X v ) is pure of weight i if we have\nW k M /W k\u22121 M = 0 for any k 6= i. For any w \u2208 S, w 6 v, there is a unique\nsimple object A \u0303w\u03bb in MHM(Xw ) pure of weight l(w) such that \u03b7(A \u0303w\u03bb ) = Aw\u03bb , see\ne.g. [KT2]. Let\nA \u0303\u03bb = (iw )! (A \u0303\u03bb ),\nA \u0303\u03bb = (iw )!\u2022 (A \u0303\u03bb ).\nw!\n\nw\n\nw!\u2022\n\nw\n\nThey are objects of MHM0 (X v ) such that\n\u03bb\n\u03bb\n\u03b7(A \u0303w!\n) = Aw!\n,\n\n\u03bb\n\u03bb\n\u03b7(A \u0303w!\u2022\n) = Aw!\u2022\n.\n\n\u03bb\nNow, assume that w \u2208 QS and w 6 v. Recall that Bw\n\u2208 M\u03bb (Yw ), and that\n\u03bb\n\u03bb\n\u2208 M (X) can be viewed as an object of M (X v ). We define similarly the\n\u03bb\n\u03bb\n\u03bb\nobjects B\u0303w\n\u2208 MHM(Yw ) and B\u0303w!\n, B\u0303w!\u2022\n\u2208 MHM0 (X v ) such that\n\u03bb\nBw!\n\n\u03bb\n\u03bb\n\u03b7(B\u0303w!\n) = Bw!\n,\n\n\u03bb\n\u03bb\n\u03b7(B\u0303w!\u2022\n) = Bw!\u2022\n.\n\n\u03bb\n\u03bb\n\u03bb\nThe object B\u0303w!\nhas a canonical weight filtration W \u2022 . We set J k Bw!\n= Bw!\nfor\nk < 0. The following proposition is due to Gabber and Beilinson-Bernstein [BB,\nTheorem 5.1.2, Corollary 5.1.3].\n\u03bb\n\u03bb\nProposition 6.1. We have \u03b7(W l(w)\u2212k B\u0303w!\n) = J k Bw!\nin M\u03bb0 (X v ) for all k \u2208 Z.\n\n\fJANTZEN FILTRATION\n\n33\n\nSo the problem that we posed at the beginning of the section reduces to calculate\n\u03bb\n\u03bb\nthe multiplicities of B\u0303x!\u2022\nin B\u0303w!\nin the category MHM0 (X v ). Let q be a formal\nparameter. The Hecke algebra Hq (S) of S is a Z[q, q \u22121 ]-algebra with a Z[q, q \u22121 ]basis {Tw }w\u2208S whose multiplication is given by\nTw1 Tw2 = Tw1 w2 ,\n\nif l(w1 w2 ) = l(w1 ) + l(w2 ),\n\n(Tsi + 1)(Tsi \u2212 q) = 0,\n\n0 6 i 6 m \u2212 1.\n\nOn the other hand, the Grothendieck group [MHM0 (X v )] is a Z[q, q \u22121 ]-module\nsuch that\nq k [M ] = [M (\u2212k)],\nk \u2208 Z, M \u2208 MHM0 (X v ).\nFor x \u2208 S with x 6 v consider the closed embedding\ncx : pt \u2192 X v ,\nThere is an injective Z[q, q\n\n\u22121\n\npt 7\u2192 \u1e8bB/B.\n\n]-module homomorphism, see e.g., [KT2, (5.4)],\n\n\u03a8 : [MHM0 (X v )]\n\n\u2212\u2192 Hq (S),\nXX\n[M ] 7\u2212\u2192\n(\u22121)k [H k c\u2217x (M )]Tx .\nx6v k\u2208Z\n\nThe desired multiplicities are given by the following lemma.\nLemma 6.2. For w \u2208 QS we have\nX\n\u03bb\n\u03a8([B\u0303w!\u2022\n]) =\n\n\u03bb\n(\u22121)l(w)\u2212l(x) Px,w \u03a8([B\u0303x!\n]),\n\nx\u2208QS,x6w\n\nwhere Px,w \u2208 Z[q, q \u22121 ] is the Kazhdan-Lusztig polynomial.\nProof. Since the choice for the element v above is arbitrary, we may assume that\nw 6 v. By the definition of \u03a8 we have\n\u03bb\n]) = (\u22121)l(w) Tw .\n(6.1)\n\u03a8([A \u0303w!\nBy [KL1], [KT1], we have\n\u03bb\n]) = (\u22121)l(w)\n\u03a8([A \u0303w!\u2022\n\nX\n\nPx,w Tx .\n\n(6.2)\n\nx\u2208S\n\nNext, for x \u2208 QS with x 6 v we have\nX X\n\u03bb\n\u03bb\n\u03a8([B\u0303x!\n]) =\n)]Tyx\n(\u22121)k [H k c\u2217yx (B\u0303x!\ny\u2208S0 k\u2208Z\n\n=\n\n(\u22121)l(x)\n\nX\n\nTyx .\n\n(6.3)\n\ny\u2208S0\n\nSince by Lemma 4.5 we have\n\n\u03bb\n\u03bb\nA \u0303w!\u2022\n= B\u0303w!\u2022\n,\n\nthe following equalities hold\n\u03bb\n\u03a8([B\u0303w!\u2022\n])\n\n\u03bb\n= \u03a8([A \u0303w!\u2022\n])\n\n= (\u22121)l(w)\n\nX\n\nX\n\nx\u2208QS,x6w y\u2208S0\n\n= (\u22121)l(w)\n=\n\nX\n\nX\n\nx\u2208QS,x6w\n\nPx,w\n\nPyx,w Tyx\nX\n\nTyx\n\ny\u2208S0\n\n\u03bb\n(\u22121)l(w)\u2212l(x) Px,w \u03a8([B\u0303x!\n]).\n\nx\u2208QS,x6w\n\nHere the third equality is given by the well known identity:\n\n\f34\n\nPENG SHAN\n\nPyx,w = Px,w ,\n\ny \u2208 S0 , x \u2208 QS, x 6 w.\n\u0003\n\nQ\n\nRemark 6.3. Let x \u2208 S. Since \u03a8 is injective, the equation (6.3) yields that\nX\n\u03bb\n\u03bb\n(\u22121)l(y) [A \u0303yx!\n].\n[B\u0303x!\n]=\ny\u2208S0\n\nBy applying the functor \u03b7 we get the following equality in [M\u03bb0 (X)]\nX\n\u03bb\n\u03bb\n[Bx!\n]=\n(\u22121)l(y) [Ayx!\n].\n\n(6.4)\n\ny\u2208S0\n\n6.3. Proof of Theorem 0.1. Recall from (2.6) that we view Pn as a subset of\n\u039b+ . By Corollary 2.14, Theorem 0.1 is a consequence of the following theorem.\nTheorem 6.4. Let \u03bb, \u03bc be partitions of n. Then for any negative integer \u03ba we\nhave\nX\nd\u03bb\u2032 \u03bc\u2032 (q) =\n[J i M\u03ba (\u03bb)/J i+1 M\u03ba (\u03bb) : L\u03ba (\u03bc)]q i .\n(6.5)\ni>0\n\nHere d\u03bb\u2032 \u03bc\u2032 (q) is the polynomial defined in the introduction with v = exp(2\u03c0i/\u03ba).\n\nProof. Let \u03bd \u2208 \u039b such that \u03bd + \u03c1 is antidominant. We may assume that \u03bc, \u03bb belong\nto the same orbit of \u03bd under the dot action of S, see (A.7). For any \u03bc \u2208 \u039b+ \u2229 (S * \u03bd)\nlet w(\u03bc)\u03bd be the shortest element in the set\nw(\u03bc)\u03bd S(\u03bd) = {w \u2208 S | \u03bc = w * \u03bd}.\nNote that w(\u03bc)\u03bd S(\u03bd) is contained in QS by Lemma 4.3. We fix v \u2208 S such that\nv > w(\u03b3)\u03bd for any \u03b3 \u2208 Pn . Let q 1/2 be a formal variable. We identify q = (q 1/2 )2 .\nLet P\u0303x,w be the Kazhdan-Lusztig polynomial normalized as follows\nPx,w (q) = q (l(w)\u2212l(x))/2 P\u0303x,w (q \u22121/2 ).\nLet Q\u0303x,w be the inverse Kazhdan-Lusztig polynomial given by\nX\nQ\u0303x,z (\u2212q)P\u0303x,w (q) = \u03b4z,w , z, w \u2208 S.\nx\u2208S\n\nThen by (6.1), (6.2) we have\nX\n\u03bd\n[A \u0303x!\u03bd ] =\nq (l(x)\u2212l(w))/2 Q\u0303x,w (q \u22121/2 )[A \u0303w!\u2022\n],\n\n\u2200 x \u2208 S.\n\nw\u2208S\n\nBy Remark 6.3 we see that\n\u0011\nX \u0010X\n\u03bd\n\u03bd\n(\u22121)l(s) q (l(sx)\u2212l(w))/2 Q\u0303sx,w (q \u22121/2 ) [B\u0303w!\u2022\n],\n[B\u0303x!\n]=\n\n\u2200 x \u2208 QS. (6.6)\n\nw\u2208QS s\u2208S0\n\nNow, let\n[M\u03bd0 (X v )]q = [M\u03bd0 (X v )] \u2297Z Z[q 1/2 , q \u22121/2 ],\n\n[\u00d5\u03ba ]q = [\u00d5\u03ba ] \u2297Z Z[q 1/2 , q \u22121/2 ].\n\nWe have a Z[q, q \u22121 ]-module homomorphism\n\u03b5 : [MHM0 (X v )]\n[M ]\n\n\u2212\u2192 [M\u03bd0 (X v )]q ,\nX\n7\u2212\u2192\n[\u03b7(W i M /W i\u22121 M )]q i/2 .\ni\u2208Z\n\nNote that\n\n\u03bd\n\u03b5([B\u0303x!\u2022\n])\n\nl(x)/2\n\n\u03bd\n[Bx!\u2022\n]\n\n=q\nand by Proposition 6.1 we have\nX\n\u03bd\n\u03bd\n\u03bd\n\u03b5([B\u0303x!\n]) =\n[J i Bx!\n/J i+1 Bx!\n]q (l(x)\u2212i)/2 , x \u2208 QS, x 6 v.\ni\u2208N\n\n\fJANTZEN FILTRATION\n\nNext, let\n[M\u03ba (\u03bb)]q =\n\nX\n\n35\n\n[J i M\u03ba (\u03bb)/J i+1 M\u03ba (\u03bb)]q \u2212i/2 .\n\ni\u2208N\n\nThen by Proposition 5.5, we have\n\n\u03bd\n]) = q l(w(\u03bb)\u03bd )/2 [M\u03ba (\u03bb)]q .\n\u0393\u03b5([B\u0303w(\u03bb)\n\u03bd!\n\nOn the other hand, by (6.6) we have\n\n=\n\n\u03bd\n\u0393\u03b5([B\u0303w(\u03bb)\n])\n\u03bd!\n\u0011\nX \u0010X\n\u03bd\n(\u22121)l(s) q (l(sw(\u03bb)\u03bd )\u2212l(w))/2 Q\u0303sw(\u03bb)\u03bd ,w (\u2212q 1/2 ) \u0393\u03b5[B\u0303w!\u2022\n]\nw\u2208QS s\u2208S0\n\n=\n\nX\u0010X\n\n\u03bc\u2208Pn s\u2208S0\n\n\u0011\n(\u22121)l(s) q (l(sw(\u03bb)\u03bd )\u2212l(w(\u03bc)\u03bd ))/2 Q\u0303sw(\u03bb)\u03bd ,w(\u03bc)\u03bd (q \u22121/2 ) q l(w(\u03bc)\u03bd )/2 [L\u03ba (\u03bc)].\n\nHere in the second equality we have used Proposition 4.6(c) and the fact that Pn is\nan ideal in \u039b+ . Note that l(sw(\u03bb)\u03bd ) = l(w(\u03bb)\u03bd ) \u2212 l(s) for s \u2208 S0 by Lemma 4.3(b).\nWe deduce that\n\u0011\nX\u0010X\n(\u2212q \u22121/2 )l(s) Q\u0303sw(\u03bb)\u03bd ,w(\u03bc)\u03bd (q \u22121/2 ) [L\u03ba (\u03bc)].\n[M\u03ba (\u03bb)]q =\n\u03bc\u2208Pn s\u2208S0\n\nBy [L, Proposition 5], we have\nd\u03bb\u2032 ,\u03bc\u2032 (q \u22121/2 ) =\n\nX\n\n(\u2212q \u22121/2 )l(s) Q\u0303sw(\u03bb)\u03bd ,w(\u03bc)\u03bd (q \u22121/2 ),\n\ns\u2208S0\n\nsee also the beginning of the proof of Proposition 6 in loc. cit., and [LT2, Lemma\n2.2] for instance. We deduce that\nX\nX\n[J i M\u03ba (\u03bb)/J i+1 M\u03ba (\u03bb)]q i =\nd\u03bb\u2032 ,\u03bc\u2032 (q)[L\u03ba (\u03bc)].\ni\u2208N\n\nThe theorem is proved.\n\n\u03bc\u2208Pn\n\n\u0003\n\nRemark 6.5. The q-multiplicities of the Weyl modules Wv (\u03bb) have also been considered in [Ar] and [RT]. Both papers are of combinatorial nature, and are very\ndifferent from the approach used here. In [Ar] Ariki defined a grading on the q-Schur\nalgebra and he proved that the q-multiplicities of the Weyl module with respect to\nthis grading is also given by the same polynomials d\u03bb\u2032 ,\u03bc\u2032 . However, it not clear to\nus how to relate this grading to the Jantzen filtration.\nRemark 6.6. The radical filtration C \u2022 (M ) of an object M in an abelian category C\nis given by putting C 0 (M ) = M and C i+1 (M ) to be the radical of C i (M ) for i 6 0.\nIt follows from [BB, Lemma 5.2.2] and Proposition 5.5 that the Jantzen filtration\nof B! coincides with the radical filtration. If \u03bb \u2208 \u039b such that \u03bb + \u03c1 is antidominant\nand regular, then the exact functor \u0393 is faithful, see [BD, Theorem 7.15.6]. In this\ncase, we have\n\u0393(C \u2022 (B! )) = C \u2022 (\u0393(B! )) = C \u2022 M\u03ba (\u03bb).\nSo the Jantzen filtration on M\u03ba (\u03bb) coincides with the radical filtration. If we have\nfurther \u03bb \u2208 Pn and \u03ba 6 \u22123, then by the equivalence in Proposition 2.13 we deduce\nthat the Jantzen filtration of Wv (\u03bb) also coincides with the radical filtration. This\nis compatible with recent result of Parshall-Scott [PS], where they computed the\nradical filtration of Wv (\u03bb) under the same assumption of regularity here but without\nassuming \u03ba 6 \u22123. We conjecture that for any \u03bb the Jantzen filtration on M\u03ba (\u03bb)\ncoincides with the radical filtration.\n\n\f36\n\nPENG SHAN\n\nRemark 6.7. The results of Sections 4, 5, 6 hold for any standard parabolic subgroup\nQ of G with the same proof. In particular, it allows us to calculate the graded decomposition matrices associated with the Jantzen filtration of the parabolic Verma\nmodules in more general cases.\nAppendix A. Kashiwara-Tanisaki's construction, translation\nfunctors and Proof of Proposition 4.2\nThe goal of this appendix is to prove Proposition 4.2. We first consider the case\nwhen \u03bb + \u03c1 is regular. In this case, the result is essentially due to Kashiwara and\nTanisaki [KT1]. However, the setting of loc. cit. is slightly different from the one\nused here. So we will first recall their construction and adapt it to our setting to\ncomplete the proof of the Proposition in the regular case. Next, we give a geometric\nconstruction of the translation functor for the affine category O inspired from [BG],\nand apply it to deduce the result for singular blocks. We will use the same notation\nas in Section 4.\nA.1. The Kashiwara affine flag variety. Recall that \u03a0 is the root system of g\nand \u03a0+ is the set of positive root. Write \u03a0\u2212 = \u2212\u03a0+ . For \u03b1 \u2208 \u03a0 we write\ng\u03b1 = {x \u2208 g | [h, x] = \u03b1(h)x,\n+\n\n\u2200 h \u2208 t}.\n\n\u2212\n\nFor any subset \u03a5 of \u03a0 , \u03a0\n\nFor \u03b1 =\n\nPm\u22121\ni=0\n\nwe set respectively\nM\nM\nn(\u03a5) =\ng\u03b1 ,\nn\u2212 (\u03a5) =\ng\u03b1 .\n\u03b1\u2208\u03a5\n\nhi \u03b1i \u2208 \u03a0 we write ht(\u03b1) =\n\u03a0\u2212\nl\n\n\u2212\n\nPm\u22121\ni=0\n\n= {\u03b1 \u2208 \u03a0 | ht(\u03b1) 6 \u2212l},\n\n\u03b1\u2208\u03a5\n\nhi and for l \u2208 N we set\n\u2212\n\u2212\nn\u2212\nl = n (\u03a0l ).\n\nConsider the group scheme L\u2212 G0 = G0 (C[[t\u22121 ]]). Let B \u2212 be the preimage of B0\u2212\nby the map\nL\u2212 G0 \u2192 G0 ,\nt\u22121 7\u2192 0,\n\u2212\nwhere B0 is the Borel subgroup of G0 opposite to B0 . Let N \u2212 be the prounipotent\nradical of B \u2212 . Let Nl\u2212 \u2282 B \u2212 be the group subscheme given by\n\u2212\nNl\u2212 = lim exp(n\u2212\nl /nk ).\n\u2190\u2212\nk\n\nLet X be the Kashiwara affine flag variety, see [K]. It is a quotient scheme\nX = G\u221e /B, where G\u221e is a coherent scheme with a locally free left action of B \u2212\nand a locally free right action of B. The scheme X is coherent, prosmooth, non\nquasi-compact, locally of countable type, with a left action of B \u2212 . There is a right\nT -torsor\n\u03c0 : X\u2020 = G\u221e /N \u2192 X.\nFor any subscheme Z of X let Z \u2020 be its preimage by \u03c0. Let\nG \u25e6\nX=\nXw .\nw\u2208S\n\n\u2212\n\nbe the B -orbit decomposition. Then X is covered by the following open sets\nG \u25e6\nXw =\nXv .\nv6w\n\nFor each w there is a canonical closed embedding X w \u2192 Xw . Moreover, for any\ninteger l that is large enough, the group Nl\u2212 acts locally freely on Xw , Xw\u2020 , the\nquotients\n\u2212\n\u2212\nw\nw\u2020\nXw\nXw\u2020\nl = Nl \\X ,\nl = Nl \\X\n\n\fJANTZEN FILTRATION\n\n37\n\nare smooth schemes3, and the induced morphism\nX w \u2192 Xw\nl\n\n(A.1)\n\nis a closed immersion. See [KT1, Lemma 2.2.1]. Further we have\n\u2020\n\nXw\u2020\nX w = X w \u00d7Xw\nl .\nl\n\u2020\n\nw\nIn particular, we get a closed embedding of X w \u2192 X w into the T -torsor Xw\u2020\nl \u2192 Xl .\n\u2020\nThis implies that the T -torsor \u03c0 : X \u2192 X is admissible. Finally, let\nw\u2020\npl1 l2 : Xw\u2020\nl1 \u2192 X l2 ,\n\npl : Xw\u2020 \u2192 Xw\u2020\nl ,\n\nl1 > l2\n\nbe the canonical projections. They are affine morphisms.\nA.2. The category H\u03bb\u0303 (X). Fix w, y \u2208 S with y > w. For l1 > l2 large enough,\nthe functor\n(pl1 l2 )\u2022 : M\u03bb\u0303h (Xyl1 , X w ) \u2192 M\u03bb\u0303h (Xyl2 , X w )\nyields a filtering projective system of categories, and we set\nH\u03bb\u0303 (Xy , X w ) = 2lim M\u03bb\u0303h (Xyl , X w ).\n\u2190\u2212\nl\n\nFor z > y let jyz : Xy\u2020 \u2192 Xz\u2020 be the canonical open embedding. It yields a map\nz\u2020\njyz : Xy\u2020\nl \u2192 Xl for each l. The pull-back functors by these maps yield, by base\nchange, a morphism of projective systems of categories\n(M\u03bb\u0303h (Xzl , X w ))l \u2192 (M\u03bb\u0303h (Xyl , X w ))l .\nHence we get a map\nH\u03bb\u0303 (Xz , X w ) \u2192 H\u03bb\u0303 (Xy , X w ).\nAs y, z varies these maps yield again a projective system of categories and we set\nH\u03bb\u0303 (X w ) = 2 lim H\u03bb\u0303 (Xy , X w ).\n\u2190\u2212\ny>w\n\nFinally, for w 6 v the category H\u03bb\u0303 (X w ) is canonically a full subcategory of H\u03bb\u0303 (X v ).\nWe define\nH\u03bb\u0303 (X) = 2lim H\u03bb\u0303 (X w ).\n\u2212\u2192\nw\n\nThis definition is inspired from [KT1], where the authors considered the categories\nM\u03bbh (Xyl , X w ) instead of the categories M\u03bb\u0303h (Xyl , X w ). Finally, note that since the\ncategory H\u03bb\u0303 (X w ) is equivalent to M\u03bb\u0303h (Xyl , X w ) for y, l large enough, and since the\nlatter is equivalent to M\u03bb\u0303h (X w ), see Section 3.1, we have an equivalence of categories\nH\u03bb\u0303 (X) \u223c\n= M\u03bb\u0303h (X).\n3For l large enough the scheme Xw is separated (hence quasi-separated). To see this, one uses\nl\nthe fact that Xw is separated and applies [TT, Proposition C.7].\n\n\f38\n\nPENG SHAN\n\nA.3. The functors \u0393\u0302 and \u0393. For an object M of H\u03bb\u0303 (X), there exists w \u2208 S\nsuch that M is an object of the subcategory H\u03bb\u0303 (X w ). Thus M is represented by a\nsystem (Mly )y>w,l , with Mly \u2208 M\u03bb\u0303h (Xyl , X w ) and l large enough. For l1 > l2 there\nis a canonical map\n(pl1 l2 )\u2217 (Mly1 ) \u2192 (pl1 l2 )\u2022 (Mly1 ) = Mly2 .\nIt yields a map (see (3.6) for the notation)\n\u0393(Xyl1 , Mly1 ) \u2192 \u0393(Xyl2 , Mly2 ).\nNext, for y, z > w and l large enough, we have a canonical isomorphism\n\u0393(Xyl , Mly ) = \u0393(Xzl , Mlz ).\nFollowing [KT1], we choose a y > w and we set\n\u0393\u0302(M ) = lim \u0393(Xyl , Mly ).\n\u2190\u2212\nl\n\nThis definition does not depend on the choice of w, y. Now, regard M as an\nobject of M\u03bb\u0303h (X). Recall the object M \u2020 \u2208 O(X) from Section 3.4. Suppose that\nM \u2020 is represented by a system (MyO )y>w with MyO \u2208 O(X y ). By definition we\n\u2020\n\nhave MyO = (i! Mly )\u2020 , where i denotes the closed embedding X y \u2192 Xy\u2020\nl , see (A.1).\nTherefore we have\n\u0393(X y , MyO ) =\n\u2282\n\n\u0393(X y , i! (Mly )\u2020 )\n\u0393(Xyl , Mly ).\n\n(A.2)\n\nNext, recall that we have\n\u0393(M ) = \u0393(X, M \u2020 ) = lim \u0393(X y , MyO ).\n\u2212\u2192\ny\n\nSo by first taking the projective limit on the right hand side of (A.2) with respect\nto l and then taking the inductive limit on the left hand side with respect to y we\nget an inclusion\n\u0393(M ) \u2282 \u0393\u0302(M ).\nIt identifies \u0393(M ) with the subset of \u0393\u0302(M ) consisting of the sections supported on\nsubschemes (of finite type) of X.\nThe vector space \u0393\u0302(M ) has a g-action, see [KT1, Section 2.3]. The vector space\n\u0393(M ) has also a g-action by Section 4.3. The inclusion is compatible with these\ng-actions. Following loc. cit., let\n\u0393(M ) \u2282 \u0393\u0302(M )\nbe the set of t-finite elements. It is a g-submodule of \u0393\u0302(M ).\nA.4. The regular case. In this subsection we prove Proposition 4.2 in the regular\ncase. More precisely, we prove the following result.\nProposition A.1. Let \u03bb \u2208 \u039b be such that \u03bb + \u03c1 is antidominant and regular. Then\nwe have isomorphisms of g-modules\n\u0393(Av!\u03bb ) = N\u03ba (v*\u03bb),\n\n\u03bb\n) = DN\u03ba (v*\u03bb),\n\u0393(Av\u2022\n\n\u03bb\n\u0393(Av!\u2022\n) = L\u03ba (v*\u03bb),\n\n\u2200 v \u2208 S. (A.3)\n\nProof. By [KT1, Theorem 3.4.1] under the assumption of the proposition we have\nisomorphisms of g-modules.\n\u0393(Av!\u03bb ) = N\u03ba (v * \u03bb),\n\n\u03bb\n\u0393(Av\u2022\n) = DN\u03ba (v * \u03bb),\n\n\u03bb\n\u0393(Av!\u2022\n) = L\u03ba (v * \u03bb),\n\n\u2200v \u2208 S.\n\n\u03bb\n\u03bb\n) of\nWe must check that for \u266f =!, \u2022, or !\u2022, the g-submodules \u0393(Av\u266f\n) and \u0393(Av\u266f\n\u03bb\n\u0393\u0302(Av\u266f ) are equal. Let us first prove this for \u266f = \u2022. We will do this in several steps.\n\n\fJANTZEN FILTRATION\n\n39\n\n\u03bb\nStep 1. Following [KT1] we first define a particular section \u03b8 in \u0393\u0302(Av\u2022\n). Let \u03c9\nbe a nowhere vanishing section of \u03a9Xv . It is unique up to a nonzero scalar. Let\nt\u03bb be the nowhere vanishing section of LX\u03bbv such that t\u03bb (uv\u0307b) = e\u2212\u03bb (b) for u \u2208 N ,\nb \u2208 B. Then \u03c9 \u2297 t\u03bb is a nowhere vanishing section of Av\u03bb,\u2020 over Xv . Now, for\ny > v and l large enough, let ivl : Xv \u2192 Xyl be the composition of the locally\nclosed embedding Xv \u2192 X y and the closed embedding X y \u2192 Xyl in (A.1). We will\n\u0001\nv\nv\n\u03bb\ndenote the corresponding embedding Xv\u2020 \u2192 Xy\u2020\nl again by il . Note that il\u2022 (Av ) l\n\n\u03bb\nrepresents the object Av\u2022\nin H\u03bb\u0303 (X). Therefore we have\n\u03bb\n\u0393\u0302(Av\u2022\n) = lim \u0393(Xyl , ivl\u2022 (Av\u03bb )).\n\u2190\u2212\nl\n\nConsider the canonical inclusion of OXyl -modules\nivl\u2217 (Av\u03bb )\u2020 \u2212\u2192 ivl\u2022 (Av\u03bb )\u2020 .\nLet \u03b8l \u2208 \u0393(Xyl , ivl\u2022 (Av\u03bb )\u2020 ) be the image of \u03c9 \u2297 t\u03bb under this map. The family (\u03b8l )\ndefines an element\n\u03bb\n\u03b8 \u2208 \u0393\u0302(Av\u2022\n).\nStep 2. Let V y = yB \u2212 * B/B. It is an affine open set in Xy . For l large\nenough, let Vly be the image of V y in Xyl via the canonical projection Xy \u2192 Xyl .\nWrite jly : Vly \u2192 Xyl for the inclusion. Note that Vly \u223c\n= N \u2212 /Nl\u2212 as affine spaces.\n\u2020\n\u2212\n\u2212\nTherefore, if l is large enough such that \u03a0l \u2282 \u03a0 \u2229 v\u03a0\u2212 , then the right DX\nv\n\u03bb,\u2020\nmodule structure on Av yields an isomorphism of sheaves of C-vector spaces over\nVly\n\u0001\n\u223c\ny\u2217 v\njly\u2217 (ivl\u2217 OXv ) \u2297 U(n\u2212 (\u03a0\u2212 \u2229 v(\u03a0\u2212 ))/n\u2212\nil\u2022 (Av\u03bb )\u2020 ,\nl ) \u2192 jl\nf \u2297 p 7\u2192 (\u03b8 * f ) * \u03b4l (p).\n\nThis yields an isomorphism of t-modules\n\u0393(Xyl , ivl\u2022 (Av\u03bb )) = U(n\u2212 /n\u2212\nl ) \u2297 Cv*\u03bb ,\n\n(A.4)\n\nsee [KT1, Lemma 3.2.1]. By consequence we have an isomorphism of t-modules\n\u03bb\n\u0393\u0302(Av\u2022\n) = (lim U(n\u2212 /n\u2212\nl )) \u2297 Cv*\u03bb .\n\u2190\u2212\n\n(A.5)\n\nl\n\n\u03bb\n\u03bb\nStep 3. Now, let us prove \u0393(Av\u2022\n) = \u0393(Av\u2022\n). First, by (A.4) the space\ny v\n\u03bb\n\u03bb\n\u0393(Xl , il\u2022 (Av )) is t-locally finite. So (A.2) implies that \u0393(Av\u2022\n) is the inductive\nlimit of a system of t-locally finite submodules. Therefore it is itself t-locally finite.\nHence we have\n\u03bb\n\u03bb\n\u0393(Av\u2022\n) \u2282 \u0393(Av\u2022\n).\n\u03bb\nTo see that this is indeed an equality, note that if m \u2208 \u0393\u0302(Av\u2022\n) is not t-locally finite,\nthen by (A.5) the section m is represented by an element in\n\nlim U(n\u2212 /n\u2212\nl ) \u2297 Cv*\u03bb\n\u2190\u2212\nl\n\n\u2212\n\nwhich does not come from U(n ) \u2297 Cv*\u03bb via the obvious map. Then one sees that\nm can not be supported on a finite dimensional scheme, i.e., it can not belong to\n\u03bb\n\u0393(Av\u2022\n). This proves that\n\u03bb\n\u03bb\n).\n\u0393(Av\u2022\n) = \u0393(Av\u2022\nNow, we can prove the rest two equalities in the proposition. Since \u03bb + \u03c1 is\n\u03bb\nantidominant, by Proposition 4.1(a) the functor \u0393 is exact on M\u03bb (X). So \u0393(Av!\u2022\n)\n\u03bb\n\u03bb\nis a g-submodule of \u0393(Av\u2022 ). Therefore all the elements in \u0393(Av!\u2022 ) are t-finite, i.e.,\nwe have\n\u03bb\n\u03bb\n\u0393(Av!\u2022\n) \u2282 \u0393(Av!\u2022\n).\n\n\f40\n\nPENG SHAN\n\nOn the other hand, by [KT1, Theorem 3.4.1] we have\n\u03bb\n\u03bb\n\u0393(Av!\u2022\n) \u2282 \u0393(Av\u2022\n).\n\u03bb\n) is supported on a finite diTherefore, Step 3 yields that each section in \u0393(Av!\u2022\n\u03bb\nmensional scheme, and hence belongs to \u0393(Av!\u2022 ). We deduce that\n\u03bb\n\u03bb\n\u0393(Av!\u2022\n) = \u0393(Av!\u2022\n).\n\n(A.6)\n\nFinally, since Av!\u03bb has a finite composition series whose constituents are given by\nfor w 6 v. Since both \u0393 and \u0393 are exact functors on M\u03bb0 (X), see Proposition\n4.1 and [KT1, Corollary 3.3.3, Theorem 3.4.1]. We deduce from (A.6) that \u0393(Av!\u03bb )\nis t-locally finite, and the sections of \u0393(Av!\u03bb ) are supported on finite dimensional\nsubschemes. Therefore we have\n\n\u03bb\nAw!\u2022\n\n\u0393(Av!\u03bb ) = \u0393(Av!\u03bb ).\nThe proposition is proved.\n\n\u0003\n\n\u03bb\nA.5. Translation functors. In order to compute the images of Av!\u03bb and Av\u2022\nin\nthe case when \u03bb + \u03c1 is not regular, we need the translation functors. For \u03bb \u2208 \u03bat\u2217\nsuch that \u03bb + \u03c1 is anti-dominant, we define \u00d5\u03ba,\u03bb to be the Serre subcategory of \u00d5\u03ba\ngenerated by L\u03ba (w * \u03bb) for all w \u2208 S. The same argument as in the proof of [DGK,\nTheorem 4.2] yields that each M \u2208 \u00d5\u03ba admits a decomposition\nM\nM=\nM \u03bb,\nM \u03bb \u2208 \u00d5\u03ba,\u03bb ,\n(A.7)\n\nwhere \u03bb runs over all the weights in \u03bat\u2217 such that \u03bb + \u03c1 is antidominant. The\nprojection\npr\u03bb : \u00d5\u03ba \u2192 \u00d5\u03ba,\u03bb , M 7\u2192 M \u03bb ,\n\nis an exact functor. Fix two integral weights \u03bb, \u03bc in t\u2217 such that \u03bb + \u03c1, \u03bc + \u03c1 are\nantidominant and the integral weight \u03bd = \u03bb \u2212 \u03bc is dominant. Assume that \u03bb \u2208 \u03bat\u2217 ,\nthen \u03bc belongs to \u03ba\u2032 t\u2217 for an integer \u03ba\u2032 < \u03ba. Let V (\u03bd) be the simple g-module of\nhighest weight \u03bd. Then for any M \u2208 \u00d5\u03ba\u2032 the module M \u2297 V (\u03bd) belongs to \u00d5\u03ba .\nTherefore we can define the following translation functor\n\u03b8\u03bd : \u00d5\u03ba\u2032 ,\u03bc \u2192 \u00d5\u03ba,\u03bb ,\n\nM 7\u2192 pr\u03bb (M \u2297 V (\u03bd)),\n\nsee [Ku1]. Note that the subcategory \u00d5\u03ba,\u03bb of \u00d5 is stable under the duality D,\nbecause D fixes simple modules. We have a canonical isomorphism of functors\n\u03b8\u03bd \u25e6 D = D \u25e6 \u03b8\u03bd .\n\n(A.8)\n\nIndeed, it follows from (4.5) that D(M \u2297 V (\u03bd)) = D(M ) \u2297 D(V (\u03bd)) as g-modules.\nSince V (\u03bd) is simple, we have DV (\u03bd) = V (\u03bd). The equality (A.8) follows.\nOn the geometric side, recall the T -torsor \u03c0 : X \u2020 \u2192 X. For any integral weight\n\u03bb \u2208 t\u2217 the family of line bundles LX\u03bb (see Section 3.5) with w \u2208 S form a projective\nw\n\nsystem of O-modules under restriction, yielding a flat object L \u03bb of \u00d4(X). Note\nthat \u03c0 \u2217 (L \u03bb ) is a line bundle on X \u2020 . For integral weights \u03bb, \u03bc in t\u2217 the translation\nfunctor\n\u0398\u03bb\u2212\u03bc : M\u03bc0 (X) \u2192 M\u03bb0 (X), M 7\u2192 M \u2297OX \u2020 \u03c0 \u2217 (L \u03bb\u2212\u03bc ),\nis an equivalence of categories. A quasi-inverse is given by \u0398\u03bc\u2212\u03bb . By the projection\nformula we have\n\u0398\u03bb\u2212\u03bc (A\u03bcw\u266f ) = A\u03bbw\u266f , for \u266f =!, !\u2022, \u2022.\n(A.9)\nNow, assume that \u03bc + \u03c1 is antidominant. Consider the exact functor\n\u0393 : M\u03bc (X) \u2192 M(g),\n\nM 7\u2192 \u0393(M )\n\n\fJANTZEN FILTRATION\n\n41\n\n\u03bc\nas in Proposition 4.1. Note that if \u03bc + \u03c1 is regular, then \u0393 maps Av!\u2022\nto L\u03ba (v * \u03bc)\nby Proposition A.1. Since the subcategory \u00d5\u03ba of M(g) is stable under extension,\nthe exact functor \u0393 restricts to a functor\n\n\u0393 : M\u03bc0 (X) \u2192 \u00d5\u03ba,\u03bc .\nThe next proposition is an affine analogue of [BG, Proposition 2.8].\nProposition A.2. Let \u03bb, \u03bc be integral weights in t\u2217 such that \u03bb + \u03c1, \u03bc + \u03c1 are\nantidominant and \u03bd = \u03bb \u2212 \u03bc is dominant. Assume further that \u03bc + \u03c1 is regular.\nThen the functors\n\u03b8\u03bd \u25e6 \u0393 : M\u03bc0 (X) \u2192 \u00d5\u03ba,\u03bb \u2282 M(g)\n\nand\n\n\u0393 \u25e6 \u0398\u03bd : M\u03bc0 (X) \u2192 M(g)\n\nare isomorphic.\nProof. We will prove the proposition in several steps.\nStep 1. First, we define a category Sh(X) of sheaves of C-vector spaces on X\nand we consider g-modules in this category. To do this, for w \u2208 S let Sh(X w ) be\nthe category of sheaves of C-vector spaces on X w . For w 6 x we have a closed\nembedding iw,x : X w \u2192 X x , and an exact functor\ni!w,x : Sh(X x ) \u2192 Sh(X w ),\n\nF 7\u2192 i!w,x (F ),\n\nwhere i!w,x (F ) is the subsheaf of F consisting of the local sections supported settheoretically on X w . We get a projective system of categories\n(Sh(X w ), i!w,x ).\nFollowing [BD, 7.15.10] we define the category of sheaves of C-vector spaces on X\nto be the projective limit\nSh(X) = 2lim Sh(X w ).\n\u2190\u2212\nThis is an abelian category. By the same arguments as in the second paragraph of\nSection 3.7, the category Sh(X w ) is canonically identified with a full subcategory\nof Sh(X), and each object F \u2208 Sh(X) is a direct limit\nF = lim Fw , Fw \u2208 Sh(X w ).\n\u2212\u2192\nThe space of global sections of an object of Sh(X) is given by\n\u0393(X, F ) = lim \u0393(X w , Fw ).\n\u2212\u2192\nNext, consider the forgetful functor\nO(X w ) \u2192 Sh(X w ),\n\nN 7\u2192 N C .\n\nRecall that for M \u2208 O(X) we have M = lim Mw with Mw \u2208 O(X w ). The tuple\n\u2212\u2192\nof sheaves of C-vector spaces\nlim i!w,x (MxC ), w \u2208 S,\n\u2212\u2192\n\nx>w\n\ngives an object in Sh(X). Let us denote it by M C . The assignment M 7\u2192 M C\nyields a faithful exact functor\nO(X) \u2192 Sh(X)\nsuch that\n\u0393(X, M ) = \u0393(X, M C ),\n(A.10)\nsee (3.12) for the definition of the left hand side. Now, let F = (Fw ) be an object\nin Sh(X). The vector spaces End(Fw ) form a projective system via the maps\nEnd(Fx ) \u2192 End(Fw ),\n\nf 7\u2192 i!w,x (f ).\n\n\f42\n\nPENG SHAN\n\nWe set\nEnd(F ) = lim End(Fw ).\n\u2190\n\u2212\nw\n\n(A.11)\n\nWe say that an object F of Sh(X) is a g-module if it is equipped with an algebra\nhomomorphism\nU(g) \u2192 End(F ).\nFor instance, for M \u2208 MT (X \u2020 ) the object (M \u2020 )C of Sh(X) is a g-module via the\nalgebra homomorphism\n\u03b4l : U(g) \u2192 \u0393(X \u2020 , DX \u2020 )\n(A.12)\nSee the beginning of Section 4.3.\nStep 2. Next, we define G-modules in \u00d4(X). A standard parabolic subgroup of\nG is a group scheme of the form P = Q \u00d7G0 P0 with P0 a parabolic subgroup of\nG0 . Here the morphism Q \u2192 G0 is the canonical one. We fix a subposet PS \u2282 S\nsuch that for w \u2208 PS the subscheme X w \u2282 X is stable under the P -action and\nX = lim X w .\n\u2212\u2192\nw\u2208PS\n\nWe say that an object F = (Fw ) of \u00d4(X) has an algebraic P -action if Fw has\nthe structure of a P -equivariant quasicoherent OX w -module for w \u2208 PS and if the\nisomorphism i\u2217w,x Fx \u223c\n= Fw is P -equivariant for w 6 x. Finally, we say that F is a\nG-module if it is equipped with an action of the (abstract) group G such that for\nany standard parabolic subgroup P , the P -action on F is algebraic.\nWe are interested in a family of G-modules V i in \u00d4(X) defined as follows. Fix a\nbasis (mi )i\u2208N of V (\u03bd) such that each mi is a weight vector of weight \u03bdi and \u03bdj > \u03bdi\nimplies j < i. By assumption we have \u03bd0 = \u03bd. For each i let V i be the subspace of\nV (\u03bd) spanned by the vectors mj for j 6 i. Then\nV 0 \u2282 V1 \u2282 V 2 \u2282 ...\nis a sequence of B-submodule of V (\u03bd). We write V \u221e = V (\u03bd). For 0 6 i 6 \u221e we\ndefine a OX -module VXi on X such that for any open set U \u2282 X we have\n\u0393(U, VXi ) = {f : p\u22121 (U ) \u2192 V i | f (gb\u22121 ) = bf (g),\n\ng \u2208 G\u221e , b \u2208 B},\n\nVwi\n\nwhere p : G\u221e \u2192 X is the quotient map. Let\nbe the restriction of VXi to X w .\nThen (Vwi )w\u2208S is a flat G-module in \u00d4(X). We will denote it by V i . Note that\nsince V (\u03bd) admits a G-action, the G-module V \u221e \u2208 \u00d4(X) is isomorphic to the\nG-module OX \u2297 V (\u03bd) with G acting diagonally. Therefore, for M \u2208 M\u03bc0 (X) the\nprojection formula yields a canonical isomorphism of vector spaces\n\u0393(M ) \u2297 V (\u03bd)\n\n= \u0393(X, M \u2020 ) \u2297 V (\u03bd)\n= \u0393(X, M \u2020 \u2297OX V \u221e ).\n\nOn the other hand, we have\n\u0393(\u0398\u03bd (M ))\n\n= \u0393 X, (M \u2297OX \u2020 \u03c0 \u2217 (L \u03bd ))\u2020\n= \u0393(X, M \u2020 \u2297OX L \u03bd ).\n\n(A.13)\n\u0001\n\n(A.14)\n\nOur goal is to compare the g-modules \u0393(\u0398\u03bd (M )) and the direct factor \u03b8\u03bd (\u0393(M ))\nof \u0393(M ) \u2297 V (\u03bd). To this end, we first define in Step 3 a g-action on (M \u2020 \u2297OX V i )C\nfor each i, then we prove in Steps 4-6 that the inclusion\n(M \u2020 \u2297OX L \u03bd )C \u2192 (M \u2020 \u2297OX V \u221e )C\ninduced by the inclusion L\nSh(X).\n\n\u03bd\n\n=V\n\n0\n\n\u2282V\n\n\u221e\n\n(A.15)\n\nsplits as a g-module homomorphism in\n\n\fJANTZEN FILTRATION\n\n43\n\nStep 3. Let P be a standard parabolic subgroup of G, and let p be its Lie\nalgebra. Let PS \u2282 S be as in Step 2. The P -action on V i yields a Lie algebra\nhomomorphism\np \u2192 End(Vwi ), \u2200 w \u2208 PS.\nConsider the g-action on (M \u2020 )C given by the map \u03b4l in (A.12). Note that for w 6 x\nin PS, any element \u03be \u2208 p maps a local section of Mx\u2020 supported on X w to a local\nsection of Mx\u2020 with the same property. In particular, for w \u2208 PS we have a Lie\nalgebra homomorphism\n\u0001\n\u0001\np \u2192 End (Mw\u2020 \u2297OX w Vwi )C , \u03be 7\u2192 m \u2297 v 7\u2192 \u03bem \u2297 v + m \u2297 \u03bev ,\n(A.16)\n\nwhere m denotes a local section of Mw\u2020 , v denotes a local section of Vwi . These\nmaps are compatible with the restriction\n\u0001\n\u0001\nEnd (Mx\u2020 \u2297OX x Vxi )C \u2192 End (Mw\u2020 \u2297OX w Vwi )C , f 7\u2192 i!w,x (f ).\n\nThey yield a Lie algebra homomorphism\n\n\u0001\np \u2192 End (M \u2020 \u2297OX V i )C .\n\nAs P varies, these maps glue together yielding a Lie algebra homomorphism\n\u0001\n(A.17)\ng \u2192 End (M \u2020 \u2297OX V i )C .\n\nThis defines a g-action on (M \u2020 \u2297OX V i )C such that the obvious inclusions\n(M \u2020 \u2297OX V 0 )C \u2282 (M \u2020 \u2297OX V 1 )C \u2282 * * *\n\nare g-equivariant. So (A.15) is a g-module homomorphism. Note that the flatness\nof V i yields an isomorphism in O(X)\n(A.18)\nM \u2020 \u2297OX V i /M \u2020 \u2297OX V i\u22121 \u223c\n= M \u2020 \u2297OX L \u03bdi .\nStep 4. In order to show that the g-module homomorphism (A.15) splits, we\nconsider the generalized Casimir operator of g. Identify t and t\u2217 via the pairing\nh\u2022 : \u2022i. Let \u03c1\u2228 \u2208 t be the image of \u03c1. Let hi be a basis of t0 , and let hi be its\ndual basis in t0 with respect to the pairing h\u2022 : \u2022i. For \u03be \u2208 g0 and n \u2208 Z we will\nabbreviate \u03be (n) = \u03be \u2297 tn and \u03be = \u03be (0) . The generalized Casimir operator is given\nby the formal sum\nX X (\u2212n) (n) X X\nX\nX\n(n)\nhi,(\u2212n) hi , (A.19)\neji eij +\neij eji +\nhi hi +2\u22021+\nC = 2\u03c1\u2228 +\ni\n\ni<j\n\nn>1 i6=j\n\nn>1\n\ni\n\nsee e.g., [Ka, Section 2.5]. Let \u03b4l (C) be the formal sum given by applying \u03b4l term by\nterm to the right hand side of (A.19). We claim that \u03b4l (C) is a well defined element\nin \u0393(X \u2020 , DX \u2020 ), i.e., the sum is finite at each point of X \u2020 . More precisely, let\n(n)\n\n(n)\n\n\u03a3 = {eij | i < j} \u222a {eji , hi\n\n| i 6= j, n > 1},\n\n\u2020\n\nand let e be the base point of X . We need to prove that the sets\n\u03a3g = {\u03be \u2208 \u03a3 | \u03b4l (\u03be)(ge) 6= 0},\n\ng \u2208 G,\n\nare finite. To show this, consider the adjoint action of G on g\nAd : G \u2192 End(g),\n\ng 7\u2192 Adg ,\n\nand the G-action on DX \u2020 \u2208 \u00d4(X \u2020 ) induced by the G-action on X \u2020 . The map \u03b4l is\nG-equivariant with respect to these actions. So for \u03be \u2208 g and g \u2208 G we have\n\u03b4l (\u03be)(ge) 6= 0\n\n\u21d0\u21d2\n\n\u03b4l (Adg\u22121 (\u03be))(e) 6= 0.\n\nFurther the right hand side holds if and only if Adg\u22121 (\u03be) \u2208\n/ n. Therefore\n\u03a3g = {\u03be \u2208 \u03a3 | Adg\u22121 (\u03be) \u2208\n/ n}\n\n\f44\n\nPENG SHAN\n\nis a finite set, the claim is proved. By consequence C acts on the g-module (M \u2020 )C\nfor any M \u2208 MT (X \u2020 ). Next, we claim that the action of C on the g-module\n(M \u2020 \u2297OX V i )C is also well defined. It is enough to prove this for (M \u2297OX V \u221e )C .\nBy (A.16) the action of C on (M \u2297OX V \u221e )C is given by the operator\nX (\u2212n)\nX\n(n)\n(n)\nC\u22971+1\u2297C\u2212\neij \u2297 eji \u2212\nhi,(\u2212n) \u2297 hi .\nn\u2208Z,i6=j\n\n\u2020\n\nn\u2208Z,i\n\n\u221e\n\nSince for both M and V , at each point, there are only finitely many elements\nfrom \u03a3 which act nontrivially on it, the action of C on the tensor product is well\ndefined.\nStep 5. Now, let us calculate the action of C on (M \u2020 \u2297OX L \u03bdi )C . We have\nAdg\u22121 (C) = C,\n\n\u2200 g \u2208 G.\n\nTherefore the global section \u03b4l (C) is G-invariant and its value at e is\nX\nhi hi + 2\u22021)(e).\n\u03b4l (C)(e) = \u03b4l (2\u03c1\u2228 +\ni\n\nOn the other hand, the right T -action on X \u2020 yields a map\n\u03b4r : t \u2192 \u0393(X \u2020 , DX \u2020 ).\nSince the right T -action commutes with the left G-action, for any h \u2208 t the global\nsection \u03b4r (h) is G-invariant. We have \u03b4r (h)(e) = \u2212\u03b4l (h)(e) because the left and\nright T -actions on the point P\ne are inverse to each other. Therefore the global\nsections \u03b4l (C) and \u03b4r (\u22122\u03c1\u2228 + i hi hi + 2\u22021) takes the same value at the point e.\nSince both of them are G-invariant, we deduce that\nX\n\u03b4l (C) = \u03b4r (\u22122\u03c1\u2228 +\nhi hi + 2\u22021).\ni\n\nRecall\nfor \u03bb \u2208 t\u2217 and M \u2208 M\u03bb (X) the operator \u03b4r (\u22122\u03c1\u2228 +\nP i from Section 3.4 that\n\u2020\ni h hi + 2\u22021) acts on M by the scalar\nX\nhi hi + 2\u22021) = ||\u03bb + \u03c1||2 \u2212 ||\u03c1||2 .\n\u2212\u03bb(\u22122\u03c1\u2228 +\ni\n\nTherefore C acts on M \u2020 by the same scalar. In particular, for M \u2208 M\u03bc (X)\nand i \u2208 N, the element C acts on M \u2020 \u2297OX L \u03bdi by ||\u03bc + \u03bdi + \u03c1||2 \u2212 ||\u03c1||2 . Note\nthat the isomorphism (A.18) is compatible with the g-actions. So C also acts by\n||\u03bc + \u03bdi + \u03c1||2 \u2212 ||\u03c1||2 on (M \u2020 \u2297OX V i /M \u2020 \u2297OX V i\u22121 )C .\nStep 6. Now, we can complete the proof of the proposition. First, we claim that\n||\u03bb + \u03c1||2 \u2212 ||\u03c1||2 = ||\u03bc + \u03bdi + \u03c1||2 \u2212 ||\u03c1||2 \u21d0\u21d2 \u03bdi = \u03bd.\n\n(A.20)\n\nThe \"if\" part is trivial. For the \"only if\" part, we have by assumption\n||\u03bc + \u03bd + \u03c1||2\n\n=\n\n||\u03bc + \u03bdi + \u03c1||2\n\n=\n\n||\u03bc + \u03bd + \u03c1||2 + ||\u03bd \u2212 \u03bdi ||2 \u2212 2h\u03bc + \u03bd + \u03c1 : \u03bd \u2212 \u03bdi i.\n\nSince \u03bd\u2212\u03bdi \u2208 N\u03a0+ and \u03bc+\u03bd+\u03c1 = \u03bb+\u03c1 is antidominant, the term \u22122h\u03bb + \u03c1 : \u03bd \u2212 \u03bdi i\nis positive. Hence the equality implies that ||\u03bd \u2212 \u03bdi ||2 = 0. So \u03bd \u2212 \u03bdi belongs to N\u03b4.\nBut h\u03bb + \u03c1 : \u03b4i = \u03ba < 0. So we have \u03bd = \u03bdi . This proves the claim in (A.20). A\ndirect consequence of this claim and of Step 5 is that the g-module monomorphism\n(A.15) splits. It induces an isomorphism of g-modules\n\u0393(M \u2020 \u2297OX L \u03bd ) = pr\u03bb \u0393(M \u2020 \u2297OX V \u221e ),\n\nM \u2208 M\u03bc0 (X).\n\n(A.21)\n\n\fJANTZEN FILTRATION\n\n45\n\nFinally, note that the vector spaces isomorphisms (A.13) and (A.14) are indeed\nisomorphisms of g-modules by the definition of the g-actions on (M \u2020 \u2297OX V \u221e )C\nand (M \u2020 \u2297OX L \u03bd )C . Therefore (A.21) yields an isomorphism of g-modules\n\u0393(\u0398\u03bd (M )) = \u03b8\u03bd (\u0393(M )).\n\u0003\nRemark A.3. We have assumed \u03bc + \u03c1 regular in Proposition A.2 in order to have\n\u0393(M\u03bc0 (X)) \u2282 \u00d5\u03ba,\u03bc . It follows from Proposition A.2 that this inclusion still holds\nif \u03bc + \u03c1 is not regular. So Proposition A.2 makes sense without this regularity\nassumption, and the proof is the same in this case.\nA.6. Proof of Proposition 4.2. By Proposition A.1 it is enough to prove the\nproposition in the case when \u03bb + \u03c1 is not regular. Let \u03c9i , 0 6 i 6 m \u2212 1, be the\nfundamental weights in t\u2217 . Let\nX\n\u03bd=\n\u03c9i ,\n\nwhere the sum runs over all i = 0, . . . , m \u2212 1 such that h\u03bb + \u03c1 : \u03b1i i = 0. The weight\n\u03bd is dominant. Let \u03bc = \u03bb \u2212 \u03bd. Then \u03bc + \u03c1 is an antidominant weight. It is moreover\nregular, because we have\nh\u03bc + \u03c1 : \u03b1i i = h\u03bb + \u03c1 : \u03b1i i \u2212 h\u03bd : \u03b1i i < 0,\n\n0 6 i 6 m \u2212 1.\n\nLet \u03ba\u2032 = h\u03bc + \u03c1 : \u03b4i. So Propositions A.1, A.2 and the equation (A.9) implies that\n\u03bb\n\u0393(Aw!\n) = \u03b8\u03bd (N\u03ba\u2032 (w * \u03bc)),\n\n\u03bb\n\u0393(Aw\u2022\n) = \u03b8\u03bd (DN\u03ba\u2032 (w * \u03bc)).\n\n\u03bb\n\u0393(Aw!\u2022\n) = \u03b8\u03bd (L\u03ba\u2032 (w * \u03bc)),\n\nSo parts (a), (c) follow from the properties of the translation functor \u03b8\u03bd given in\n[Ku1, Proposition 1.7]. Part (b) follows from (a) and the equality (A.8).\n\u0003\nAppendix B. Proof of Proposition 5.4\nIn this appendix, we prove Proposition 5.4. We will first study localization of\ndeformed Verma modules, see Lemmas B.2, B.3. Then we use them to deduce\nthe parabolic version. In this appendix we will keep the notation of Section 5. In\nparticular, recall that j = jw , f = fw , etc.\nB.1. Deformed Verma modules. Fix \u03bb \u2208 \u039b and w \u2208 QS. Let n > 0 be an\ninteger. For v = xw \u2208 S with x \u2208 S0 , let rx : Xv\u2020 \u2192 Yw\u2020 be the canonical inclusion.\nWe have iv = j \u25e6 rx . The tensor product\nAv(n) = Av\u03bb \u2297O\n\n\u2020\nXv\n\nrx\u2217 f \u2217 I (n)\n\n(B.1)\n\nis equal to rx\u2217 (B (n) ). By Lemma 5.3 it is an object of M\u03bb\u0303h (Xv ). We consider the\nfollowing objects in M\u03bb\u0303h (X)\n(n)\n\nAv!\n\n= iv! (Av(n) ),\n\n(n)\n\nAv!\u2022 = iv!\u2022 (Av(n) ),\n\n(n)\n\nAv\u2022 = iv\u2022 (Av(n) ).\n\nFor \u03bc \u2208 \u03bat\u2217 we have defined the Verma module N\u03ba (\u03bc) in Section 4.4. The\ndeformed Verma module is the Uk -module given by\nNk (\u03bc) = U(g) \u2297U (b) R\u03bc+s\u03c90 .\nHere the b-module R\u03bc+s\u03c90 is a rank one R-module over which t acts by \u03bc + s\u03c90 ,\nand n acts trivially. The deformed dual Verma module is\nM\nDNk (\u03bc) =\nHomR (Nk (\u03bc)\u03bb , R),\n\u03bb\u2208k t\u2217\n\nsee (2.5). We will abbreviate\n(n)\n\nNk (\u03bc) = Nk (\u03bc)(\u2118n ),\n\n(n)\n\nDNk (\u03bc) = DNk (\u03bc)(\u2118n ).\n\n\f46\n\nPENG SHAN\n\nFor any R(n) -module (resp. R-module) M let \u03bc(si ) : M \u2192 M be the multiplication\nby si and write si M for the image of \u03bc(si ). We define a filtration\nF \u2022 M = (F 0 M \u2283 F 1 M \u2283 F 2 M \u2283 . . .)\non M by putting F i M = si M. We say that it is of length n if F n M = 0 and\nF n\u22121 M 6= 0. We set\nM\ngr M =\ngri M, gri M = F i M/F i+1 M.\ni>0\n\nFor any gR(n) -module M let ch(M ) be the tR(n) -module image of M by the forgetful\nfunctor.\nLemma B.1. If \u03bb + \u03c1 is antidominant then we have an isomorphism of tR(n) modules\n(n)\n(n)\nch(\u0393(Av\u2022 )) = ch(DNk (v * \u03bb)).\nProof. The proof is very similar to the proof of Proposition A.1. We will use the\nnotation introduced there.\nStep 1. Consider the nowhere vanishing section f s of (f \u2217 I (n) )\u2020 over Yw . Its\nrestriction to Xv yields an isomorphism\n\u223c \u03a9X \u2297O L \u03bb \u2297 R(n) .\n(A (n) )\u2020 =\nv\n\nv\n\nXv\n\nXv\n\nLet \u03c9 be a nowhere vanishing section of \u03a9Xv , and let t\u03bb be the nowhere vanishing\nsection of LX\u03bbv over Xv such that t\u03bb (uv\u0307b) = e\u2212\u03bb (b) for u \u2208 N , b \u2208 B. Then the\n(n)\n\nglobal section \u03c9 \u2297 t\u03bb \u2297 f s of Av\n\ndefines an element\n(n)\n\n\u03b8s \u2208 \u0393\u0302(Av\u2022 )\nin the same way as \u03b8 is defined in the first step of the proof of Proposition A.1.\nStep 2. Let us show that\n(n)\n\n(n)\n\nch(\u0393(Av\u2022 )) = ch(DNk (v * \u03bb)).\nThe proof is the same as in the second step of the proof of Proposition A.1. The\n(n)\n\u2020\nright DX\n-module structure on (Av )\u2020 yields an isomorphism of sheaves of C-vector\nv\ny\nspaces over Vl\n\u0001\n\u223c\n(n)\n\u2192 jly\u2217 ivl\u2022 (Av(n) )\u2020 ,\njly\u2217 (ivl\u2217 OXv ) \u2297 U(n\u2212 (\u03a0\u2212 \u2229 v(\u03a0\u2212 ))/n\u2212\nl )\u2297R\n\u0001\nf \u2297 p \u2297 r 7\u2192 (\u03b8s * f ) * \u03b4l (p) r.\nThis yields an isomorphism of tR(n) -modules\n\u0001\n\u0001\n(n)\nch \u0393(Xyl , ivl\u2022 (Av(n) )) = ch U(n\u2212 /n\u2212\nl ) \u2297 Rv*\u03bb+s\u03c90 .\n\nTherefore we have\n\n\u0001\n(n)\n(n)\nch(\u0393\u0302(Av\u2022 )) = ch (lim U(n\u2212 /n\u2212\nl )) \u2297 Rv*\u03bb+s\u03c90 ,\n\u2190\u2212\n\n(B.2)\n\nl\n\nand\n\n(n)\n\nch(\u0393(Av\u2022 ))\n\n(n)\n\n= ch U(n\u2212 ) \u2297 Rv*\u03bb+s\u03c90\n(n)\n\n= ch(DNk (v * \u03bb)).\n\n\u0001\n\n(B.3)\n\n(n)\n(n)\nStep 3. In this step, we prove that \u0393(Av\u2022 ) = \u0393(Av\u2022 ) as gR(n) -modules. Since\n(n)\nboth of them are gR(n) -submodules of \u0393\u0302(Av\u2022 ). It is enough to prove that they are\n(n)\n(n)\nequal as vector spaces. Consider the filtration F \u2022 (Av ) on Av . It is a filtration\nin M\u03bb\u0303 (Xv ) of length n and\n\ngri (Av(n) ) = Av\u03bb ,\n\n0 6 i 6 n \u2212 1.\n\n\fJANTZEN FILTRATION\n\n47\n\nSince iv\u2022 is exact and\n\u03bb\n\u03bb\nRi \u0393(Av\u2022\n) = Ri \u0393(Av\u2022\n) = 0,\n\n\u2200 i > 0,\n\nthe functor \u0393 \u25e6 iv\u2022 commute with the filtration. Therefore both the filtrations\n(n)\n(n)\nF \u2022 \u0393(Av\u2022 ) and F \u2022 \u0393(Av\u2022 ) have length n and\n(n)\n\n\u03bb\ngri \u0393(Av\u2022 ) = \u0393(Av\u2022\n),\n\n(n)\n\n\u03bb\n),\ngri \u0393(Av\u2022 ) = \u0393(Av\u2022\n\n0 6 i 6 n \u2212 1.\n\n\u0393(Av\u03bb )\n\nBy Step 3 of the proof of Proposition A.1, we have\n= \u0393(Av\u03bb ). We deduce\n(n)\n(n)\nthat all the sections in \u0393(Av\u2022 ) are t-finite and all the sections in \u0393(Av\u2022 ) are\nsupported on finite dimensional subschemes. This proves that\n(n)\n\n(n)\n\n\u0393(Av\u2022 ) = \u0393(Av\u2022 ).\nWe are done by Step 2.\n\n\u0003\n\nLemma B.2. If \u03bb + \u03c1 is antidominant there is an isomorphism of gR(n) -modules\n(n)\n\n(n)\n\n\u0393(Av\u2022 ) = DNk (v * \u03bb).\nProof. Note that\n(n)\n\nDNk (v * \u03bb)\n\n=\n\nM\n\nHomR (Nk (v * \u03bb)\u03bc , R)(\u2118n )\n\n\u03bc\u2208kt\u2217\n\n=\n\nM\n\n(n)\n\nHomR(n) (Nk (v * \u03bb)\u03bc , R(n) ).\n\n\u03bc\u2208kt\u2217\n(n)\n\nFor \u03bc \u2208 kt\u2217 let \u0393(Av\u2022 )\u03bc be the weight space as defined in (2.2). By Lemma B.1\nwe have\nM\n(n)\n(n)\n\u0393(Av\u2022 ) =\n\u0393(Av\u2022 )\u03bc ,\n\u03bc\u2208kt\u2217\n(n)\n\nbecause the same equality holds for DNk (v * \u03bb). So we can consider the following\ngR(n) -module\nM\n(n)\n(n)\nD\u0393(Av\u2022 ) =\nHomR(n) (\u0393(Av\u2022 )\u03bc , R(n) ).\n(B.4)\n\u03bc\u2208kt\u2217\n\nIt is enough to prove that we have an isomorphism of gR(n) -modules\n(n)\n\n(n)\n\nD\u0393(Av\u2022 ) = Nk (v * \u03bb).\nBy (B.4) we have\n\n(n) \u0001\n(n) \u0001\nch D\u0393(Av\u2022 ) = ch \u0393(Av\u2022 ) .\n\n(B.5)\n(n)\n\nTogether with Lemma B.1, this yields an isomorphism of R -modules\n(n) \u0001\n(n)\nNk (v * \u03bb)v*\u03bb+s\u03c90 = D\u0393(Av\u2022 ) v*\u03bb+s\u03c90 .\n\nBy the universal property of Verma modules, such an isomorphism induces a morphism of gR(n) -module\n(n)\n\n(n)\n\n\u03c6 : Nk (v * \u03bb) \u2192 D\u0393(Av\u2022 ).\nWe claim that for each \u03bc \u2208 kt\u2217 the R(n) -module morphism\n(n)\n(n) \u0001\n\u03c6\u03bc : Nk (v * \u03bb)\u03bc \u2192 D\u0393(Av\u2022 ) \u03bc\n\ngiven by the restriction of \u03c6 is invertible. Indeed, by Lemma B.1 and (B.5), we\nhave\n(n)\n(n)\n(n)\nch(D\u0393(Av\u2022 )) = ch(DNk (v * \u03bb)) = ch(Nk (v * \u03bb)).\nSo\n(n)\n(n) \u0001\nNk (v * \u03bb)\u03bc = D\u0393(Av\u2022 ) \u03bc\n\n\f48\n\nPENG SHAN\n\nas R(n) -modules. On the other hand, Proposition 4.2 yields that the map\n\u03bb\n\u03c6(\u2118) = \u03c6 \u2297R(n) (R(n) /\u2118R(n) ) : N\u03ba (v * \u03bb) \u2192 D\u0393(Av\u2022\n)\n\nis an isomorphism of g-modules. So \u03c6\u03bc (\u2118) is also an isomorphism. Since the\n(n)\n(n) \u0001\nR(n) -modules Nk (v * \u03bb)\u03bc and D\u0393(Av\u2022 ) \u03bc are finitely generated, Nakayama's\nlemma implies that \u03c6\u03bc is an isomorphism. So \u03c6 is an isomorphism. The lemma is\nproved.\n\u0003\nLemma B.3. If \u03bb + \u03c1 is antidominant and v is a shortest element in vS(\u03bb), then\nthere is an isomorphism of gR(n) -modules\n(n)\n\n(n)\n\n\u0393(Av! ) = Nk (v * \u03bb).\nProof. We abbreviate \u03bd = v * \u03bb. The lemma will be proved in three steps.\nStep 1. Recall the character map from (4.4). Note that since \u0393 and i! are exact,\nand\ngr Av(n) = (Av\u03bb )\u2295n ,\nwe have an isomorphism of t-modules\n(n)\n\ngr \u0393(Av! ) = \u0393(Av!\u03bb )\u2295n .\n\n(B.6)\n\n(n)\n\u0393(Av! )\n\nis nilpotent, for any \u03bc \u2208 t\u2217 we have\n\u0001\n(n)\n(n)\ndimC (\u0393(Av! )\u03bc\u0303 ) = dimC (gr \u0393(Av! ))\u03bc\u0303 .\n\nNext, since the action of s on\n\n(n)\n\nWe deduce that as a t-module \u0393(Av! ) is a generalized weight module and\n(n)\n\n(n)\n\nch(\u0393(Av! )) = ch(gr \u0393(Av! )) = n ch \u0393(Av!\u03bb ).\n\n(B.7)\n\nOn the other hand, we have the following isomorphism of t-modules\n(n)\n\ngr Nk (\u03bd) = N\u03ba (\u03bd)\u2295n .\nTherefore we have\n\n(B.8)\n\n(n)\n\nch(Nk (\u03bd)) = n ch(N\u03ba (\u03bd)).\n\u03bb\nSince \u0393(Av! ) = N\u03ba (\u03bd) as g-modules by Proposition 4.2, this yields\n(n)\n\n(n)\n\nch(\u0393(Av! )) = ch(Nk (\u03bd)).\nFurther, we claim that there is an isomorphism of R\n(n)\n\u0393(Av! )\u03bc\u0303\n(n)\n\u0393(Av! )\u03bc\u0303\n\n=\n\n(n)\nNk (\u03bd)\u03bc\u0303 ,\n\n(n)\n\n(B.9)\n\n-module\n\n\u2200 \u03bc \u2208 t\u2217 .\n\n(B.10)\n(n)\n\n(n)\n\nNote that\nis indeed an R -module because the action of s on \u0393(Av! )\nis nilpotent. To prove the claim, it suffices to notice that for any finitely generated\nR(n) -modules M , M \u2032 we have that M is isomorphic to M \u2032 as R(n) -modules if and\nonly if gri M = gri M \u2032 for all i. So the claim follows from the isomorphisms of\nt-modules (B.6), (B.8) and Proposition 4.2.\nStep 2. In this step, we prove that as a tR(n) -module\n(n)\n\n(n)\n\n\u0393(Av! )\u03bd\u0303 = R\u03bd+s\u03c90\n(n)\n\nwhere R\u03bd+s\u03c90 is the rank one R(n) -module over which t acts by the weight \u03bd + s\u03c90 .\nLet us consider the canonical morphisms in M\u03bb\u0303h (X)\n\u007f\n(n)\n/ / A (n) \u001f\n/ A (n) .\nAv!\nv\u2022\nv!\u2022\nSince \u0393 is exact on M\u03bb\u0303 (X), we deduce the following chain of gR(n) -module morphisms\n\u03b1 / /\n(n) \u001f \u007f \u03b2 /\n(n)\n(n)\n\u0393(Av!\u2022 )\n\u0393(Av! )\n\u0393(Av\u2022 ).\n\n\fJANTZEN FILTRATION\n\n49\n\nConsider the following tR(n) -morphisms given by the restrictions of \u03b1, \u03b2\n(n)\n\n\u0393(Av! )\u03bd\u0303\n\n\u03b1\u03bd\n\n\u03b2\u03bd\n\n/ / \u0393(A (n) ) \u001f \u007f\nv!\u2022 \u03bd\u0303\n\n/ \u0393(A (n) ) .\nv\u2022 \u03bd\u0303\n\nWe claim that \u03b1\u03bd and \u03b2\u03bd are isomorphisms. Note that by (B.7) we have\n(n)\n\ndimC \u0393(Av! )\u03bd\u0303 = ndimC \u0393(Av!\u03bb )\u03bd\u0303 = n.\n(n)\n\nBy Lemma B.2 we also have dimC \u0393(Av\u2022 )\u03bd\u0303 = n. Next, consider the exact sequence\nin M\u03bb\u0303h (Xv ),\n0 \u2192 F i+1 Av(n) \u2192 F i Av(n) \u2192 gri Av(n) \u2192 0.\nApplying the functor iv!\u2022 to it yields a surjective morphism\niv!\u2022 (F i Av(n) )/iv!\u2022 (F i+1 Av(n) ) \u2192 iv!\u2022 (gri Av(n) ).\n(n)\n\n(n)\n\n(n)\n\nSince iv!\u2022 (F i Av ) = F i (iv!\u2022 (Av )) and gri Av = Av\u03bb , we deduce a surjective\nmorphism\n(n)\n\u03bb\ngri Av!\u2022 \u2192 Av!\u2022\n, 0 6 i 6 n \u2212 1.\nApplying the exact functor \u0393 to this morphism and summing over i gives a surjective\nmorphism of g-modules\n(n)\n\n\u03bb \u2295n\n\u03b3 : gr \u0393(Av!\u2022 ) \u2192 \u0393(Av!\u2022\n) .\n\nSince v is minimal in vS(\u03bb), by Proposition 4.2(c) the right hand side is equal to\nL\u03ba (\u03bd). We deduce from the surjectivity of \u03b3 that\n(n)\n\ndimC \u0393(Av!\u2022 )\u03bd\u0303\n\n(n)\n\n=\n\ndimC gr \u0393(Av!\u2022 )\u03bd\u0303\n\n>\n\ndimC (L\u03ba (\u03bd)\u03bd\u0303 )\u2295n\n\n=\n\nn\n\nIt follows that the epimorphism \u03b1\u03bd and the monomorphism \u03b2\u03bd are isomorphisms.\nThe claim is proved. So we have an isomorphisms of tR(n) -modules\n(n)\n\n(n)\n\n\u03b2\u03bd \u25e6 \u03b1\u03bd : \u0393(Av! )\u03bd\u0303 \u2192 \u0393(Av\u2022 )\u03bd\u0303 .\nIn particular, we deduce an isomorphisms of tR(n) -modules\n(n)\n\n(n)\n\n\u0393(Av! )\u03bd+s\u03c90 \u2192 \u0393(Av\u2022 )\u03bd+s\u03c90 ,\nbecause\n\n(n)\n\n(n)\n\n\u0393(Av\u266f )\u03bd+s\u03c90 \u2282 \u0393(Av\u266f )\u03bd\u0303 ,\n\nfor \u266f =!, \u2022.\n\nBy Lemma B.2, we have\n(n)\n\n(n)\n\n\u0393(Av\u2022 )\u03bd+s\u03c90 = R\u03bd+s\u03c90 .\nWe deduce an isomorphism of tR(n) -modules\n(n)\n\n(n)\n\n\u0393(Av! )\u03bd+s\u03c90 = R\u03bd+s\u03c90 .\nStep 3. By the universal property of Verma modules and Step 2, there exists a\nmorphism of gR(n) -modules\n(n)\n\n(n)\n\n\u03c6 : Nk (\u03bd) \u2192 \u0393(Av! ).\nFor any \u03bc \u2208 t\u2217 this map restricts to a morphism of R(n) -modules\n(n)\n\n(n)\n\n\u03c6\u03bc : Nk (\u03bd)\u03bc\u0303 \u2192 \u0393(Av! )\u03bc\u0303 .\nBy Step 1, the R(n) -modules on the two sides are finitely generated and they are\nisomorphic. Further, the induced morphism\n\u03c6(\u2118) : N\u03ba (\u03bd) \u2192 \u0393(Av!\u03bb )\n\n\f50\n\nPENG SHAN\n\nis an isomorphism by Proposition 4.2. So by Nakayama's lemma, the morphism\n\u03c6\u03bc is an isomorphism for any \u03bc. Therefore \u03c6 is an isomorphism. The lemma is\nproved.\n\u0003\nRemark B.4. The hypothesis that v is a shortest element in vS(\u03bb) is probably not\nnecessary but this is enough for our purpose.\nB.2. Proof of Proposition 5.4. Consider the canonical embedding r : Xw\u2020 \u2192 Yw\u2020 .\nWe claim that the adjunction map yields a surjective morphism\nr! r\u2217 (B (n) ) \u2192 B (n) .\n\n(B.11)\ni\n\n\u2217\n\n(n)\n\nIndeed, an easy induction shows that it is enough to prove that gr (r! r (B )) \u2192\ngri B (n) is surjective for each i. Since the functors r! , r\u2217 are exact and gri B (n) = B,\n(n)\nthis follows from Lemma 4.4(a). Note that r\u2217 (B (n) ) = Aw . So the image of (B.11)\nby the exact functor \u0393 \u25e6 j! is a surjective morphism\n(n)\n\n(n)\n\n\u0393(Aw! ) \u2192 \u0393(B! ).\n(n)\n\n(n)\n\n(B.12)\n(n)\n\nBy Lemma B.3 we have \u0393(Aw! ) = Nk . Since the gR(n) -module \u0393(B! ) is q(n)\n(n)\nlocally finite and Mk is the largest quotient of Nk in Ok , the morphism (B.12)\ninduces a surjective morphism\n(n)\n\n\u03c6 : Mk\n\n(n)\n\n\u2192 \u0393(B! ).\n\nFurther, by Proposition 4.6(b) the map\n\u03c6(\u2118) : M\u03ba \u2192 \u0393(B! )\nis an isomorphism. The same argument as in Step 1 of the proof of Lemma B.3\n(n)\n(n)\nshows that for each \u03bc \u2208 t\u2217 the generalized weight spaces (Mk )\u03bc\u0303 and \u0393(B! )\u03bc\u0303 are\nisomorphic as R(n) -modules. We deduce that \u03c6 is an isomorphism by Nakayama's\nlemma. This proves the first equality. The proof for the second equality is similar.\nWe consider the adjunction map\nB (n) \u2192 r\u2022 r\u2217 (B (n) ).\n\n(B.13)\n\nIt is injective by Lemma 4.4(b) and the same arguments as above. So by applying\nthe exact functor \u0393 \u25e6 j\u2022 , we get an injective morphism\n(n)\n\n(n)\n\n\u03c6\u2032 : \u0393(B\u2022 ) \u2192 DMk .\nAgain, by using Proposition 4.6(b) and Nakayama's lemma, we prove that \u03c6\u2032 is an\nisomorphism.\n\u0003\n\nIndex of notation\n\u2032\n\nC \u2229 R -proj, R C.\nC \u2206 , \u2206, \u2207, D\u2228 .\nR = C[[s]], \u2118, K, M (\u2118i ), MK , f (\u2118i ), fK , C(\u2118), CK .\nJ i D(\u2118).\nF (\u2118).\nG0 , B0 , T0 , g0 , b0 , t0 , g, t, 1, \u2202, c, \u03ba = c + m, aR , U\u03ba , M\u03bb , t\u22170 , t\u2217 , \u03b4, \u03c90 ,\n\u01ebi , h\u2022 : \u2022i, ||h||2 , \u03bat\u2217 , a, z, \u03a0, \u03a00 , \u03a0+ , \u03a0+\n0 , \u03b1i , S, S0 , w * \u03bb, \u03c10 , \u03c1, S(\u03bb),\nl : S \u2192 N.\n2.2: q, l, \u039b+ , M\u03ba (\u03bb), L\u03ba (\u03bb), c, k, Uk , Mk (\u03bb), \u03bbs , kt\u2217 .\n2.3: \u03c3, DMk (\u03bb), J i M\u03ba (\u03bb).\n\n1.1:\n1.2:\n1.3:\n1.4:\n1.5:\n2.1:\n\n\fJANTZEN FILTRATION\n\n2.4:\n2.5:\n2.6:\n2.7:\n2.9:\n2.10:\n2.11:\n\n51\n\nOk , O\u03ba , r\u03bat\u2217 , rkt\u2217 , rO\u03ba , rOk , r\u039b+ , rP\u03ba (\u03bb), Lk (\u03bb), rPk (\u03bb).\nPn , \u0016, E, E, E\u03ba , g\u2032 , Ek , Pk (E), P\u03ba (E).\nAk , A\u03ba , \u2206k , \u2206\u03ba .\nD.\nHv , Sv , Av , Wv (\u03bb), \u2206v .\nv = exp(2\u03c0i/\u03ba), v = exp(2\u03c0i/k), J i Wv (\u03bb).\nH1/\u03ba , B\u03ba , B\u03ba (\u03bb), E\u03ba , H1/k , Bk , Ek , Bk (\u03bb).\n\n3.1: OZ , O(Z), f\u2217 , f \u2217 , f ! , DZ , M(Z), \u03a9Z , DY \u2192Z , M O , M(Z, Z \u2032 ), i\u2217 , i\u2022 , i! .\n3.2: Mh (Z), D, i! , i!\u2022 .\n3.3: MT (Z), MT (X, Z).\n3.4: M \u2020 , DZ\u2020 , \u03b4r , m\u03bb , M\u03bb (Z), M\u03bb\u0303 (Z), M\u03bb (X, Z), M\u03bb\u0303 (X, Z), M(DZ\u2020 ).\n3.5: MTh (Z \u2020 ), M\u03bbh (Z), M\u03bb\u0303h (Z), D\u2032 , LZ\u03bb , \u0398\u03bb , D = D\u03bb , DZ\u03bb .\n3.6: 2lim C\u03b1 , 2lim C\u03b1 .\n\u2212\u2192\n\u2190\u2212\n3.7: X = lim X\u03b1 , O(X), \u0393(X, M ) (for M \u2208 O(X)), \u00d4(X), OX , \u2212 \u2297OX F ,\n\u2212\u2192\n\u0393(X, F ) (for F \u2208 \u00d4(X)).\n3.8: M(X) (with X an ind-scheme), M O , \u0393(X, M ) (for M \u2208 M(X)), MT (X),\nM\u03bb (X), M\u03bb\u0303 (X), \u0393(M ) (for M \u2208 M\u03bb\u0303 (X)), M\u03bbh (X), M\u03bb\u0303h (X), i! , i\u2022 .\n3.9: DX (with X a formally smooth ind-scheme).\n4.1: G, B, Q, T , N , g, b, n.\n4.2: X = G/B, X \u2020 = G/N , \u03c0 : X \u2020 \u2192 X, Xw , \u1e87, X w .\n4.3: \u03b4l : U(g) \u2192 \u0393(X \u2020 , DX \u2020 ), M(g), \u0393\n\u03bb\n\u03bb\n\u03bb\n4.4: M\u03bb\u0303 , ch(M ), \u00d5, \u00d5\u03ba , N\u03ba (\u03bb), L\u03ba (\u03bb), \u039b, Aw\u03bb , iw , Aw!\n, Aw!\u2022\n, Aw\u2022\n.\n\u03bb\n\u03bb\n\u03bb\n\u03bb\n, Bw!\n, Bw!\u2022\n, Bw\u2022\n, r : Xw\u2020 \u2192 Yw\u2020 .\n4.5: QS, w0 , Yw , Y w , jw , Bw\n5.1: CR , \u03bcM , f or, FR .\n5.2: Q\u2032 , fw .\n(n)\n\n(n)\n\n(n)\n\n5.3: j, f , B, B! , I (n) , xs , f s , B (n) , B! , B!\u2022 , B\u2022 .\n(n)\n\n(n)\n\n5.4: M\u03ba , Mk , Mk , DMk .\n5.5: \u03c8(a, n), \u03c0 a (B), J i (B! ).\n6.1: MHM(Z), W \u2022 M , (k), Perv(Z), \u033a.\n\u03bb\n\u03bb\n\u03bb\n\u03bb\n\u03bb\n, A \u0303w!\u2022\n, B\u0303w\n, B\u0303w!\n, B\u0303w!\u2022\n, q, Hq (S),\n6.2: M\u03bb0 (X v ), DR, MHM0 (X v ), \u03b7, A \u0303w\u03bb , A \u0303w!\nTw , \u03a8, Px,w ,\nw\u2020\n\u2212\n\u2212\n\u2212\n\u2020\nw\nw\nA.1: \u03a0\u2212 , n(\u03a5), n\u2212 (\u03a5), \u03a0\u2212\nl , nl , N , Nl , X, X , X , Xl , Xl , pl1 l2 , pl .\n\nA.2: H\u03bb\u0303 (Xy , X w ), H\u03bb\u0303 (X w ), H\u03bb\u0303 (X).\nA.3: \u0393\u0302(M ), \u0393(M ).\nA.5: \u00d5\u03ba,\u03bb , pr\u03bb , V (\u03bd), \u03b8\u03bd , L \u03bb , \u0398\u03bb\u2212\u03bc .\n(n)\n\n(n)\n\n(n)\n\n(n)\n\n(n)\n\n(n)\n\nB.1: rx , Av , Av! , Av!\u2022 , Av\u2022 , Nk (\u03bc), R\u03bc+s\u03c90 , DNk (\u03bc), Nk (\u03bc), DNk (\u03bc),\nsi M , F \u2022 M , gr M , ch(M ).\n\nReferences\n[An] H. H. Andersen, The strong linkage principle for quantum groups at roots of 1, J. Algebra\n260 (2003), no. 1, 2\u201315.\n[Ar] S. Ariki, Graded q-Schur algebras, arxiv: 0903.3453\n\n\f52\n\nPENG SHAN\n\n[B] A. Beilinson, How to glue perverse sheaves, K-theory, arithmetic and geometry (Moscow,\n1984\u20131986), 42\u201351, Lecture Notes in Math., 1289, Springer, Berlin, 1987.\n[BB] A. Beilinson, J. Bernstein, A proof of Jantzen conjectures, I. M. Gel'fand Seminar, 1\u201350,\nAdv. Soviet Math., 16, Part 1, Amer. Math. Soc., Providence, RI, 1993.\n[BBD] A. Beilinson, J. Bernstein, P. Deligne, Faisceaux pervers, Analysis and topology on singular\nspaces, I (Luminy, 1981), 5\u2013171, Ast\u00e9risque, 100, Soc. Math. France, Paris, 1982.\n[BD] A. Beilinson, V. Drinfeld, Quantization of Hitchin's integrable system and Hecke eigensheaves,\n[BG] A. Beilinson, V. Ginzburg, Wall-crossing functors and D-modules, Represent. Theory 3\n(1999), 1\u201331 (electronic).\n[BGS] A. Beilinson, V. Ginzburg, W. Soergel, Koszul duality patterns in representation theory,\nJ. Amer. Math. Soc. 9 (1996), no. 2, 473\u2013527.\n[CPS] E. Cline, B. Parshall, L. Scott, Duality in highest weight categories, Classical groups and\nrelated topics (Beijing, 1987), 7\u201322, Contemp. Math., 82, Amer. Math. Soc., Providence, RI,\n1989.\n[Don] S. Donkin, The q-Schur algebra, London Mathematical Society Lecture Note Series, 253.\nCambridge University Press, Cambridge, 1998.\n[DGK] V. V. Deodhar, O. Gabber, V. Kac Structure of some categories of representations of\ninfinite-dimensional Lie algebras, Adv. in Math. 45 (1982), no. 1, 92\u2013116.\n[F] P. Fiebig, Centers and translation functors for the category O over Kac-Moody algberas,\nMath. Z. 243 (2003), no. 4, 689\u2013717.\n[FG] E. Frenkel, D. Gaitsgory,D-modules on the affine grassmannian and representations of affine\nKac-Moody algebras, Duke Math. J. 125 (2004), no. 2, 279\u2013327.\n[GGOR] V. Ginzburg, N. Guay, E. Opdam, R. Rouquier, On the category O for rational Cherednik\nalgebras, Invent. Math. 154 (2003), no.3, 617\u2013651.\n[HTT] R. Hotta, K. Takeuchi, T. Tanisaki,D-modules, perverse sheaves, and representation theory, Progress in Mathematics, 236, Birkh\u00e4user Boston Inc., 2008.\n[J] J. C. Jantzen, Moduln mit einem hohsten Gewicht, Lecture notes in Math., vol. 750, SpringerVerlag, Berlin and New York, 1980.\n[JM] G. James, A. Mathas, A q-analogue of the Jantzen-Schaper theorem, Proc. London Math.\nSoc. (3) 74 (1997), no. 2, 241\u2013274.\n[Ka] V. Kac, Infinite dimensional Lie algebras, Third edition. Cambridge University Press, Cambridge, 1990.\n[KV] M. Kapranov, E. Vasserot, Vertex algebras and the formal loop space, Publ. Math. Inst.\nHautes \u00c9tudes Sci. No. 100 (2004), 209\u2013269.\n[K] M. Kashiwara, The flag manifold of Kac-Moody Lie algebra, Algebraic Analysis, Geometry\nand Number Theory, Johns Hopkins Univ. Press., Baltimore, 1990.\n[Kas] M. Kashiwara, Equivariant derived category and representation of real semisimple Lie\ngroups, in Representation theory and complex analysis (Lecture Notes in Math., vol. 1931),\n137\u2013234, Springer, Berlin, 2008.\n[KS] M. Kashiwara, P. Shapira, Sheaves on Manifold, Grundlehren der Mathematischen Wissenschaften, 292, Springer-Verlag, Berlin, 1994.\n[KT1] M. Kashiwara, T. Tanisaki, Kazhdan-Lusztig conjecture for affine Lie algebras with negative level, Kazhdan-Lusztig conjecture for affine Lie algebras with negative level. Duke Math.\nJ. 77 (1995), no. 1, 21\u201362.\n[KT2] M. Kashiwara, T. Tanisaki, Parabolic Kazhdan-Lusztig polynomials and Schubert varieties,\nJ. Algebra 249 (2002), no. 2, 306\u2013325.\n[KL1] D. Kazhdan, G. Lusztig, Schubert varieties and Poincar\u00e9 duality, Geometry of the Laplace\noperator (Proc. Sympos. Pure Math., Univ. Hawaii, Honolulu, Hawaii, 1979), pp. 185\u2013203,\nAmer. Math. Soc., Providence, R.I., 1980.\n[KL2] D. Kazhdan, G. Lusztig, Tensor structures arising from afine Lie algebras, J. Amer. Math.\nSoc. I-IV, 6-7 (1993-1994), 905-947, 949-1011, 335-381, 383-453.\n[Ku1] S. Kumar, Toward proof of Lusztig's conjecture concerning negative level representations\nof affine Lie algebras, J. Algebra 164 (1994), no. 2, 515\u2013527.\n[Ku2] S. Kumar, Kac-Moody groups, their flag varieties and representation theory, Progress in\nMathematics, 204. Birkh\u00e4user Boston, Inc., Boston,\n[L] , Decomposition numbers and canonical bases, Algebr. Represent. Theory, 3, (2000), no. 3,\n277\u2013287.\n[LT1] B. Leclerc, J-Y. Thibon, Canonical bases of q-deformed Fock spaces, Internat. Math. Res.\nNotices 1996, no. 9, 447\u2013456.\n[LT2] B. Leclerc, J-Y. Thibon, Littlewood-Richardson coefficients and Kazhdan-Lusztig polynomials, Combinatorial methods in representation theory (Kyoto, 1998), 155\u2013220, Adv. Stud.\nPure Math., 28, Kinokuniya, Tokyo, 2000.\n\n\fJANTZEN FILTRATION\n\n53\n\n[M] D. Milicic, Localization and Representation Theory of Reductive Lie Groups, available at\nhttp://www.math.utah.edu/ \u0303milicic\n[PS] B. Parshall, L. Scott, Integral and graded quasi-hereditary algebras, II. with applications to\nrepresentations of generalized q-Schur algebras and algebraic groups, arXiv:0910.0633.\n[RT] A. Ram, P. Tingley, Universal Verma modules and the Misra-Miwa Fock space,\narXiv:1002.0558.\n[R] R. Rouquier, q-Schur algebras and complex reflection groups, Mosc. Math. J. 8 (2008), no.\n1, 119\u2013158, 184.\n[RW] A. Rocha-Caridi, N. R. Wallach, Projective modules over graded Lie algebras, Math. Z. 180\n(1982), no. 2, 151-177.\n[Sa] M. Saito, Mixed Hodge modules, Publ. Res. Inst. Sci. 26 (1990), 221-333\n[So] W. Soergel, Character formulas for tilting modules over Kac-Moody algberas, Represent.\nTheory,2(1998), 432-448.\n[St] C. Stroppel, Parabolic category O, perverse sheaves on Grassmannians, Springer fibres and\nKhovanov homology, Compos. Math.145 (2009), 954\u2013992.\n[Su] T. Suzuki, Double affine Hecke algebras, conformal coinvariants and Kostka polynomial, C.\nR. Math. Acad. Sci. Paris 343 (2006), no. 6, 383\u2013386.\n[TT] R. W. Thomason, T. Trobaugh, Higher algebraic K-theory of schemes and of derived categories, Grothendieck Festschrift, vol. III, Progr. Math., 88, 247\u2013435, Birkh\u00e4user, 1990.\n[VV1] M. Varagnolo, E. Vasserot, On the decomposition matrices of the quantized Schur algebra,\nDuke Math. J. 100 (1999), no. 2, 267\u2013297.\n[VV2] M. Varagnolo, E. Vasserot, Cyclotomic double affine Hecke algebras and affine parabolic\ncategory O,Adv. Math. 225 (2010), no. 3, 1523-1588.\nD\u00e9partement de Math\u00e9matiques, Universit\u00e9 Paris 7, 175 rue du Chevaleret, F-75013\nParis.\nE-mail address: shan@math.jussieu.fr\n\n\f"}