{"id": "http://arxiv.org/abs/1104.3900v1", "guidislink": true, "updated": "2011-04-19T23:19:15Z", "updated_parsed": [2011, 4, 19, 23, 19, 15, 1, 109, 0], "published": "2011-04-19T23:19:15Z", "published_parsed": [2011, 4, 19, 23, 19, 15, 1, 109, 0], "title": "Diophantine Equations of Matching Games I", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1104.5711%2C1104.0915%2C1104.0105%2C1104.5403%2C1104.4438%2C1104.5225%2C1104.3628%2C1104.1460%2C1104.2523%2C1104.3482%2C1104.1185%2C1104.1944%2C1104.5010%2C1104.0021%2C1104.3976%2C1104.0183%2C1104.1474%2C1104.3140%2C1104.2370%2C1104.3675%2C1104.1064%2C1104.4742%2C1104.5303%2C1104.3711%2C1104.3646%2C1104.2664%2C1104.3265%2C1104.3498%2C1104.3997%2C1104.1403%2C1104.2290%2C1104.5614%2C1104.3248%2C1104.1670%2C1104.3448%2C1104.2777%2C1104.0750%2C1104.3900%2C1104.3307%2C1104.4473%2C1104.5542%2C1104.2532%2C1104.3896%2C1104.1399%2C1104.3554%2C1104.4743%2C1104.4954%2C1104.4890%2C1104.1183%2C1104.1523%2C1104.5019%2C1104.0859%2C1104.0913%2C1104.3977%2C1104.0628%2C1104.4157%2C1104.3565%2C1104.5001%2C1104.1940%2C1104.5344%2C1104.5161%2C1104.0757%2C1104.0969%2C1104.3197%2C1104.2578%2C1104.1261%2C1104.3243%2C1104.0807%2C1104.2513%2C1104.3647%2C1104.0418%2C1104.1208%2C1104.2649%2C1104.3424%2C1104.4310%2C1104.5177%2C1104.0046%2C1104.4829%2C1104.4108%2C1104.5375%2C1104.4609%2C1104.4894%2C1104.1205%2C1104.3405%2C1104.4696%2C1104.0672%2C1104.5304%2C1104.4444%2C1104.1009%2C1104.3082%2C1104.2153%2C1104.2974%2C1104.3753%2C1104.2527%2C1104.5436%2C1104.2225%2C1104.3471%2C1104.1299%2C1104.4066%2C1104.0593%2C1104.5334&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Diophantine Equations of Matching Games I"}, "summary": "We solve a family of quadratic Diophantine equations associated to a simple\nkind of games. We show that the ternary case, in many ways, is the most\ninteresting and the least arbitrary member of the family.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1104.5711%2C1104.0915%2C1104.0105%2C1104.5403%2C1104.4438%2C1104.5225%2C1104.3628%2C1104.1460%2C1104.2523%2C1104.3482%2C1104.1185%2C1104.1944%2C1104.5010%2C1104.0021%2C1104.3976%2C1104.0183%2C1104.1474%2C1104.3140%2C1104.2370%2C1104.3675%2C1104.1064%2C1104.4742%2C1104.5303%2C1104.3711%2C1104.3646%2C1104.2664%2C1104.3265%2C1104.3498%2C1104.3997%2C1104.1403%2C1104.2290%2C1104.5614%2C1104.3248%2C1104.1670%2C1104.3448%2C1104.2777%2C1104.0750%2C1104.3900%2C1104.3307%2C1104.4473%2C1104.5542%2C1104.2532%2C1104.3896%2C1104.1399%2C1104.3554%2C1104.4743%2C1104.4954%2C1104.4890%2C1104.1183%2C1104.1523%2C1104.5019%2C1104.0859%2C1104.0913%2C1104.3977%2C1104.0628%2C1104.4157%2C1104.3565%2C1104.5001%2C1104.1940%2C1104.5344%2C1104.5161%2C1104.0757%2C1104.0969%2C1104.3197%2C1104.2578%2C1104.1261%2C1104.3243%2C1104.0807%2C1104.2513%2C1104.3647%2C1104.0418%2C1104.1208%2C1104.2649%2C1104.3424%2C1104.4310%2C1104.5177%2C1104.0046%2C1104.4829%2C1104.4108%2C1104.5375%2C1104.4609%2C1104.4894%2C1104.1205%2C1104.3405%2C1104.4696%2C1104.0672%2C1104.5304%2C1104.4444%2C1104.1009%2C1104.3082%2C1104.2153%2C1104.2974%2C1104.3753%2C1104.2527%2C1104.5436%2C1104.2225%2C1104.3471%2C1104.1299%2C1104.4066%2C1104.0593%2C1104.5334&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We solve a family of quadratic Diophantine equations associated to a simple\nkind of games. We show that the ternary case, in many ways, is the most\ninteresting and the least arbitrary member of the family."}, "authors": ["Chun Yin Hui", "Wai Yan Pong"], "author_detail": {"name": "Wai Yan Pong"}, "author": "Wai Yan Pong", "arxiv_comment": "submitted to the journal INTEGERS", "links": [{"href": "http://arxiv.org/abs/1104.3900v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1104.3900v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.CO", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.CO", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.NT", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "11D09", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1104.3900v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1104.3900v1", "journal_reference": null, "doi": null, "fulltext": "arXiv:1104.3900v1 [math.CO] 19 Apr 2011\n\nDiophantine Equations of Matching Games I\nChun Yin Hui\nDepartment of Mathematics,\nIndiana University Bloomington\nand\nWai Yan Pong\nDepartment of Mathematics,\nCalifornia University Dominguez Hills\nJune 23, 2018\nAbstract\nWe solve a family of quadratic Diophantine equations associated to a\nsimple kind of games. We show that the ternary case, in many ways, is\nthe most interesting and the least arbitrary member of the family.\n\n1\n\nThe Matching Games\n\nAn (n, d)-matching game (n, d \u2265 2) is a game in which the player draws d balls\nfrom a bag of balls of n different colors. The player wins if and only if the balls\ndrawn are all of the same color. A game is non-trivial if there are at least d\nballs in the bag. It is faithful if there are balls in each of the n colors. A game\nis fair if the player has an equal chance of winning or losing the game. In this\narticle, we only study the (n, 2)-matching games or simply the n-color games,\nleaving the study of the higher d case to [10].\nAn n-tuple (a1 , . . . , an ) where ai is the number of the i-th color balls in\nthe bag represents an n-color game. For m \u2264 n, an m-color game (a1 , . . . , am )\ncan be regarded as the n-color game (a1 , . . . , am , 0, . . . , 0). The only trivial ncolor fair games, are the zero game (0, . . . , 0) and, up to permutation, the game\n(0, 0, . . . , 1).\nBy considering the number of ways for the player to win the game, one sees\nthat the n-color fair games are exactly the non-negative integral solutions of\n!\n\u0013\n\u0012Pn\nn \u0012 \u0013\nX\nxi\ni=1 xi\n=2\n2\n2\ni=1\nor equivalently,\nFn (x1 , . . . , xn ) :=\n\n\u0010Xn\n\ni=1\n\nxi\n\n\u00112\n\n\u2212\n\n1\n\nXn\n\ni=1\n\nxi \u2212 4\n\nX\n\ni6=j\n\nxi xj = 0\n\n(1)\n\n\fThe paper will be organized in the following way: We give a brief treatment of the 2-color games in Section 2. The results there illustrate the kind\nof questions that we try to answer in the general case. In Section 3, we give a\n\"parametric\" solution to Equation (1). It is unclear, however, from this method\nwhich choice of the parameters will yield the fair games. We tackle this problem in Section 4 by giving a graph structure to the solutions. We show that the\ncomponents of this graph are trees and give an algorithm for finding their roots.\nThis yields all solutions recursively. Furthermore, we characterize the components containing the fair games. For n = 3, we show that the graph consists\nof two trees with the nontrivial 3-color fair games forming a full binary tree.\nWe then study what are the possible coordinates of fair games in Section 5. In\nSection 6, we establish some partial results concerning the asymptotic behavior\nof 3-color fair games. We conclude the article with some odds and ends of our\nstudy in Section 7.\nThe following conventions will be used throughout this article:\n\u2022 All variables and unknowns range over the integers unless otherwise stated.\n\u2022 The cardinality of a set A is denoted by |A|.\n\u2022 For a \u2208 Zm , the (Euclidean) norm of a is denoted by kak. For A \u2286 Zm\nand k \u2265 0, A(k) denotes the set of elements\nof A with norm at most k.\nP\nWe define the height of a so be |1 + ai |.\n\n\u2022 For any integer d and a, b \u2208 Zm , we say that a and b are congruent\nmodulo d, written as a \u2261 b mod d, if ai \u2261 bi mod d for all 1 \u2264 i \u2264 m.\n\u2022 Denote by Sn and Fn the set of integral and non-negative integral solutions, identified up to permutations, of Equation (1) respectively. Elements of Fn are the n-color fair games. We often use an increasing (or\ndecreasing) tuple to represent an element of Sn . Denote by Cn the set of\ncoordinates of Fn .\n\u2022 For any n-tuple x = (x1 , . . . , xn ) and I a subset of the indices, we write\nxI for the tuple obtained from x by omitting the variables indexed by the\nelements of I. We write xi for x{i} and xij for x{i,j} , etc.\n\u2022 Let s(x) and p(x) be the symmetric polynomials of degree 1 and 2, respectively, i.e.\nX\nXn\nxi ,\np(x) =\nxi xj\ns(x) =\ni=1\n\n1\u2264i<j\u2264n\n\nWe often omit writing out the variables explicitly, so we write si for s(xi ),\nsij for s(xij ), etc. We understood s \u2261 0 on zero variables and p \u2261 0 on\neither 0 or 1 variable.\n\nThanks go to Jackie Barab from whom the second author first learned about\nthe 2-color games 1 . We thanks Bjorn Poonen for referring [7] to us. We would\n1 They\n\nare used in teaching 3rd and 4th graders in California about probability\n\n2\n\n\falso like to thank Thomas Rohwer and Zeev Rudnick for bringing [3] and [11],\nrespectively, to our attention. Finally, we thank Michael Larsen for reading a\ndraft of this article and giving us several valuable comments.\n\n2\n\nThe 2-color games\n\nAs a warm-up, we analyze the 2-color games first. In this case, Equation (1)\nbecomes (x1 \u2212 x2 )2 \u2212 (x1 + x2 ) = 0 and is easy to solve: let m = x2 \u2212 x1 \u2265 0,\nand then x1 = m(m \u2212 1)/2 and so x2 = (m + 1)m/2. This shows that\nTheorem 2.1. The 2-color fair games are pairs of consecutive triangular numbers. In particular, C2 is the set of triangular numbers.\nUsing Theorem 2.1, a few simple computations tell us the number of fair\n2-color games of norm bounded by a given number.\nCorollary 2.2. For k \u2265 0,\np\n\u221a\n1. |F2 (k)| = [ r(k)] + 1. Hence |F2 (k)| is asymptotic to 21/4 k.\n\u221a\n\u221a\n2. |C2 (k)| = [r( k)]. Hence |C2 (k)| is asymptotic to 2k.\n\u221a\nHere r(k) = (\u22121 + 1 + 8k 2 )/2 and [x] is the largest integer \u2264 x.\n\n3\n\nSolving Equation (1)\n\nIt would be nice to know in advance that Equation (1) is solvable. The following\nsimple observation tells us just that.\nTheorem 3.1. There are infinitely many faithful n-color fair games.\nProof. Regarding the polynomial Fn in (1) as a quadratic in xk , we have\nFn (x) = x2k \u2212 (2sk + 1)xk + Fn\u22121 (xk ).\n\n(2)\n\nThus if (a1 , . . . , ak , . . . , an ) is a solution then so is (a1 , . . . , bk , . . . , an ) where\nbk = 2sk (a) + 1 \u2212 ak . In particular, if (a1P\n, . . . , an\u22121 ) is a fair game, then so are\n(a1 , . . . , an\u22121 , 0) and (a1 , . . . , an\u22121 , 1 + 2 i<n ai ). The latter game is faithful\nif (a1 , . . . , an\u22121 ) is. Since there are infinitely many faithful 2-color fair games\n(Theorem 2.1), the theorem follows by induction on n.\nSince the two roots of (2) sum to 2sk + 1, they can be expressed as sk + m+ 1\nand sk \u2212 m for some m \u2265 0. Thus solving\n(sk + m + 1)(sk \u2212 m) = Fn\u22121 (xk ) = s2k \u2212 sk \u2212 4pk\n2sk + 4pk = m2 + m\n\n3\n\n(3)\n\n\fwill solve (1) and vice versa. After adding 1+4s2ijk +2sijk \u22124pijk (i, j, k pairwise\ndistinct) to both sides of (3), the left-hand side factorizes:\n(2xi + 2sijk + 1)(2xj + 2sijk + 1) = m2 + m + 1 + 4s2ijk + 2sijk \u2212 4pijk\n= m2 + m + 1 + 2(s2ijk + sijk + kxijk k2 )\n\n(4)\n\nEquation (4) gives us a way to solve Equation (1): Denote by J(xijk , m) the\nright-hand side of (4). Choose a \u2208 Zn\u22123 and m \u2265 0 arbitrarily2. According\nto (4), we can solve for xi and xj by factorizing the odd number J(a, m) into a\nproduct two odd numbers. By (2), we can then solve for xk and hence a solution\nof (1). Moreover, it is clear from the discussion above that any solution of (1)\narises from such a factorization. For the record, we have\nTheorem 3.2. Fix n \u2265 3. For any a \u2208 Zn\u22123 , m \u2265 0 and 0 \u2264 b \u2264 c such that\nJ(a, m) = (2b + 1)(2c + 1), the following are solutions to Equation (1):\n(b \u2212 s(a), c \u2212 s(a), b + c + 1 \u2212 s(a) + m, a)\n\n(b \u2212 s(a), c \u2212 s(a), b + c \u2212 s(a) \u2212 m, a)\n(\u2212(c + 1) \u2212 s(a), \u2212(b + 1) \u2212 s(a), \u2212(b + c + s(a) + 1) + m, a)\n\n(\u2212(c + 1) \u2212 s(a), \u2212(b + 1) \u2212 s(a), \u2212(b + c + s(a) + 2) \u2212 m, a)\n\nMoreover, up to a permutation every solution of Equation (1) is in one of these\nforms.\nThere is a less tricky way to derive Equation (4). We give the idea here\nbut leave the details to the reader. Equation (3) can be viewed as a curve on\nthe xi xj -plane (i, j, k pairwise distinct). One can express the curve having an\nintegral point by expressing that the corresponding quadratic in xi is solvable\nin terms of xijk and d := xj \u2212 xi . The expression 1 + 4s2ijk + 2sijk \u2212 4pijk then\nflows out naturally.\nEven though the method above solves Equation (1), it is unclear which choice\nof the parameters will produce fair games. For example, J(2, 3) = 33 does not\nproduce any 4-color fair game. We will take up this issue in the next section.\n\n4\n\nSolutions as a graph\n\nStarting from a solution (aP\n1 , . . . , an ) of Equation (1), we obtain another one by\nreplacing ak with bk := 2 i6=k ai + 1 \u2212 ak (see Theorem 3.1). This suggests\nthat we can view Sn as a graph by putting an edge between two elements of\nSn if they differ at only one coordinate3 . An immediate question would be:\ncan we generate every fair game from some fixed game, say the zero game? In\nother words, is Fn connected as a graph? We have seen that F2 is connected\n2 When\n\nn = 3, we only need to choose m.\nthis is the same graph structure that was put on the solutions on the Markoff\nEquation [5, 9].\n3 Incidentally,\n\n4\n\n\f(Theorem 2.1) and we will show that the same is true for F3 . However, Fn fails\nto be connected for n \u2265 4.\nLet us begin with a crucial observation. For any a \u2208 Sn and any three\npairwise distinct indices i, j, k, according to (4), for some m \u2265 0,\n(2sjk (a) + 1)(2sik (a) + 1) = 2(sijk (a)2 + sijk (a) + kaijk k2 ) + m2 + m + 1.\nSince the right-hand-side is always positive, we conclude that\nProposition 4.1. For any a \u2208 Sn , the numbers 2sij (a) + 1 (1 \u2264 i < j \u2264 n)\nall have the same sign. In particular, the coordinates of an element of S3 are\neither all non-negative or all negative.\nWe define the sign of a as the common sign of the P\n2sij (a)+1 (1 \u2264 \u0001i < j \u2264 n).\n+\nNote that it is the same of the sign of s(a) + 1 since i<j sij = n\u22121\n2 s. Let Sn\n\u2212\nand Sn be the sets of positive and negative elements of Sn , respectively. Since\nany two neighbors in Sn share n \u2212 1 coordinates, they must have the same sign,\ntherefore\nProposition 4.2. Sn+ and Sn\u2212 are disjoint union of components of Sn .\nOur next result shows how height varies among neighbors.\nProposition 4.3. At most one neighbor of any vertex of Sn can have a smaller\nheight. Moreover, any two neighbors must have different height.\nProof. Fix any a \u2208 Sn . Let bk = (a1 , . . . , bk , . . . , an ) where bk = 2sk (a) + 1 \u2212 ak\n(1 \u2264 k \u2264 n) be its neighbors. Rearranging the coordinates if necessary, we\nassume a1 \u2264 a2 \u2264 * * * \u2264 an .\nCase 1: a \u2208 Sn+ . Then for k 6= n,\nbk = 2skn (a) + (an \u2212 ak ) + an + 1 > an \u2265 ak\nso s(bk ) > s(a) \u2265 0.\n\nCase 2: a \u2208 Sn\u2212 . Then for k 6= 1,\nbk = 2s1k (a) + (a1 \u2212 ak ) + a1 + 1 < a1 \u2264 ak\nso s(bk ) < s(a) < 0.\nThis completes the proof of the first statement since in both cases we have\nht(bk ) > ht(a) for all but perhaps one k. The second statement follows readily\nfrom the fact that each ak + bk is an odd number.\nWe say that a vertex of Sn is a root if all its neighbors have a greater height.\nWe would like to point out that replacing height by norm in the definition of\nroot will yield the same concept since Equation (1) can be rewritten as\n\u0012\n\u0013\ns+1\n= kxk2 .\n(5)\n2\n5\n\n\f(-1,1,3,5)\n(-1,2,3,8)\n\n(-1,1,2,3)\n\n(1,2,3,14)\n\n(-1,1,2,2)\n\n(-1,2,6,13)\n(-1,2,2,6)\n(2,2,6,22)\n(1,2,12,29)\n(1,2,2,12)\n(2,2,12,32)\n\n(-1,-1,-2,-7)\n(-1,-1,0,-2)\n(-1,0,-2,-4)\n\n(-1,-1,-1,0)\n(-1,-1,-1,-5)\n\n(-1,-1,-5,-12)\n\nFigure 1: A positive tree and a negative tree in S4\nTheorem 4.4. The components of Sn are rooted trees.\nProof. Proposition 4.3 implies that for any subgraph H of Sn , a vertex of maximal height in H cannot have two neighbors in H. This shows that Sn must\nbe acyclic. Moreover, every component of Sn has a unique vertex of minimal\nheight. If not, take a path with two vertices of minimal height as endpoints.\nSince neighbors in Sn have different heights, the path has length at least 2\nbut then a vertex of maximal height in the path will have two neighbors, a\ncontradiction.\nFair games are positive solutions of (1) and yet a positive solution, for example (-1,1,2,2), need not even represents a game. However, for any a \u2208 Sn+ , a\nneighbor of a greater in height will have the different coordinate non-negative\n(see the proof of Proposition 4.3). Thus by going up in height along any branch,\nwe see that\nProposition 4.5. Every component of Sn+ contains fair games.\n\nSimilarly, by going down in height, we see that every component of Sn\u2212 contains\nsolutions with all negative coordinates.\n6\n\n\fOur next goal is to locate the roots of Sn . Once this is achieved, we will have\nan effective way of generating all fair games since each of them is connected to\nsome positive root.\nProposition 4.6. Suppose r \u2208 Sn+ (Sn\u2212 , resp.) is a root and i, j, k pairwise\ndistinct where k is the index of a maximal (minimal, resp.) coordinate of r.\nThen r is obtained from a factorization of J(r ijk , m) for some 0 \u2264 m \u2264 B(r ijk )\nwhere B(r ijk ) is an explicit bound give in terms of r ijk .\nProof. We argue for Sn+ only. The proof for Sn\u2212 is similar. According to (4), for\nsome m \u2265 0,\n(2sik + 1)(2sjk + 1) = 2(s2ijk + sijk + krijk k2 ) + m2 + m + 1.\nSince r is a root, rk is the smaller root of Equation (2), i.e. rk = sk \u2212 m. And\nsince rk \u2265 rl (l 6= k), so slk \u2265 slk + rl \u2212 rk = m. Thus\n(2m + 1)2 \u2264 2(s2ijk + sijk + krijk k2 ) + m2 + m + 1\n\n3m2 + 3m \u2264 2(s2ijk + sijk + krijk k2 ).\n\nThat means 0 \u2264 m \u2264 B(r ijk ) where B(r ijk ) expresses the larger root of the\nquadratic 3x2 + 3x \u2212 2(s2ijk + sijk + krijk k2 ).\nLet us summarize how to find the roots of Sn : for each a \u2208 Zn\u22123 , we compute\nthe finite set consisting of those solutions given by the factorizations of J(a, m)\nwhere 0 \u2264 m \u2264 B(a). We then check which element in this finite set is a root.\nWhile Proposition 4.6 guarantees that every root of Sn can be found this way,\nour next result shows that we do have to check for every a \u2208 Z3 .\nProposition 4.7. Every (n \u2212 3)-tuple of integers can be extended to a root in\nSn . More precisely, for any a \u2208 Zn\u22123 , n-tuples\nr + := (s(a)2 + kak2 , s(a)2 + kak2 , \u2212s(a), a)\n2\n\n2\n\n2\n\nand\n2\n\nr \u2212 := (\u2212(s(a) + 1) \u2212 kak , \u2212(s(a) + 1) \u2212 kak , \u2212(s(a) + 1), a)\n\nare a positive and a negative root of Sn , respectively.\nProof. First by Theorem 3.2, they are solutions corresponding to the trivial\nfactorization of J(a, 0) (in the notation there, b = s(a)2 + s(a) + kak2 and\nc = 0.). Clearly, r+ is positive while r \u2212 is negative. The neighbor of r + obtained\nby varying its largest coordinate s(a)2 + kak2 has an even larger coordinate,\nnamely s(a)2 +kak2 +1. Thus r + is indeed a root (see the proof of Theorem 4.3).\nA similar argument show that r\u2212 is a root as well.\nSince each component of Sn has exactly one root, an immediate consequence\nof Proposition 4.7 is that\nTheorem 4.8. For n \u2265 4, Sn+ , Sn\u2212 each has infinitely many components.\n7\n\n\f(0,10,15)\n(0,6,10)\n(6,10,33)\n(0,3,6)\n(3,19,39)\n(3,6,19)\n(6,19,48)\n(0,0,0)\n\n(0,0,1)\n\n(0,1,3)\n(1,18,30)\n(1,9,18)\n(9,18,54)\n(1,3,9)\n(3,24,46)\n(3,9,24)\n(9,24,64)\nFigure 2: Part of F3\n\nOn the contrary, by examining the proof of Proposition 4.6, one readily\nchecks that (0, 0, 0) is the only root of S3+ . By Theorem 3.2, the map a 7\u2192 \u2212(a+\n1) where 1 = (1, 1, 1) is a graph isomorphism between S3+ and S3\u2212 . Moreover,\nevery element of S3+ is actually a fair game according to Proposition 4.1. Thus,\nTheorem 4.9. S3+ and S3\u2212 are the two components of S3 . Moreover, S3+ = F3 .\nA straight-forward computation shows that every vertex of S3 with distinct\ncoordinates has two distinct children (i.e. neighbors with a bigger norm). Moreover, each of its children also has distinct coordinates. Hence,\nTheorem 4.10. The non-trivial 3-color fair games form an infinite full binary\ntree with (0, 1, 3) as root.\n\n5\n\nThe set Cn\n\nProposition 5.1. For n \u2265 4, Cn is the set of non-negative integers.\nProof. For any a \u2265 0, let a be the (n \u2212 3)-tuple with all coordinates equal a.\nThen the child (4(s(a)2 + kak2 ) + 3s(a) + 1, s(a)2 + kak2 , s(a)2 + kak2 , a) of\nthe positive root r+ in Proposition 4.7 is a fair game with a as a coordinate.\nIncidentally, this also shows that for n \u2265 4, every natural number is a coordinate\nof some faithful n-color fair game.\n\n8\n\n\fThis leaves us only C3 to study. It turns out that our analysis of C3 will yield\nanother way of finding the 3-color fair games (Theorems 5.3 and 5.4 ). First,\nnote that C3 is the set of c \u2265 0 such that the curve defined by\n(x1 \u2212 x2 )2 \u2212 (2c + 1)(x1 + x2 ) + c(c \u2212 1) = 0\n\n(6)\n\nhas a non-negative point. Arguing mod 2, one sees that any integral point on\nthe parabola\nu2 \u2212 (2c + 1)v + c(c \u2212 1) = 0\n(7)\nmust have coordinates with the same parity. Thus, the transformation u =\nx1 \u2212 x2 , v = x1 + x2 is a 1-to-1 correspondence between the integral points\nof these curves. Moreover, those (x1 , x2 )'s with x1 , x2 \u2265 0 correspond to the\n(u, v)'s with u \u2264 v. However, the inequality is automatic:\nProposition 5.2. Solutions of Equation (7) are of the form\n\u0012\n\u0013\nu2 + c(c \u2212 1)\n(u, v) = u,\n2c + 1\nwhere u2 \u2261 \u2212c(c \u2212 1) mod (2c + 1). In particular, (7) is solvable if and only\nif \u2212c(c \u2212 1) is a quadratic residue mod (2c + 1). Moreover, |u| \u2264 v for every\nintegral solution (u, v).\nProof. The first statement is clear by considering Equation (7) mod (2c + 1).\nNote that for any u,\n\u2212\n\n8c + 1\n\u2264 u2 \u00b1 (2c + 1)u + c(c \u2212 1).\n4\n\nSince c \u2265 0,\n\u00b1u \u2212\n\n8c + 1\nu2 + c(c \u2212 1)\n\u2264\n.\n8c + 4\n2c + 1\n\nSo in particular\n\nu2 + c(c \u2212 1)\n2c + 1\nif both sides are integers. Therefore, |u| \u2264 v for any integral solution of (7).\n|u| \u2264\n\nSolving for x1 , x2 in terms of u, v yields a parametrization of F3 .\nTheorem 5.3. The 3-color fair games are of the form\n\u0012 2\nu2 \u2212 (2c + 1)u + c(c \u2212 1)\nu + (2c + 1)u + c(c \u2212 1)\n,\n,\n2(2c + 1)\n2(2c + 1)\n\nc\n\n\u0013\n\n(8)\n\nwhere c \u2208 C3 and u2 \u2261 \u2212c(c \u2212 1) mod (2c + 1).\nFor i = \u22121, 0, 1, let Pi be the set of primes that are congruent to i mod 3.\nLet Pi\u22650 be the set of natural numbers whose prime factors are all in Pi . With\nthis notation, we have\n9\n\n\fTheorem 5.4. C3 = {c : c \u2265 0, 2c + 1 \u2208 P1\u22650 \u222a 3P1\u22650 }.\nProof. By Proposition 5.2 and the discussion preceding it, C3 is the set of all\nc such that \u2212c(c \u2212 1) is a quadratic residue mod 2c + 1. Since 2c + 1 is odd,\n\u2212c(c\u22121) and \u22124c(c\u22121) are either both squares or both non-squares mod 2c+1.\nNote that \u22124c(c \u2212 1) is congruent to \u22123 mod 2c + 1. Therefore c \u2208 C3 if and\nonly if \u22123 is a square mod 2c + 1. This condition is equivalent to: for every\nprime p, \u22123 is a square mod pvp where vp is the exponent of p in 2c + 1. That\nmeans v3 = 0 or 1 and \u22123 is a quadratic residue mod p for p 6= 3. The law of\nquadratic reciprocity then yields\n\u0012\n\u0012 \u0013 \u0010 \u0011\n\u0013 \u0012\n\u0013\u0012 \u0013\n\u22123\n3\n1\n\u22121\n3\np\n(p\u22121)\n2\n=\n= (\u22121)\n=\n.\np\np\np\np\n3\nSo the last condition is equivalent to p \u2261 1 mod 3. This completes the proof.\nWith the binary tree structure of F3 in mind, it is tempting to establish some\nrelation between the equation for fair 3-color games with the Markoff equation\n(see [5] and [9] for more information on the Markoff equation). Unfortunately,\nwe could not find any, however the naive analog of the Markoff conjecture (that\nthe solution is uniquely determined by its largest coordinate) fails in our case,\nmore precisely:\nTheorem 5.5. For c \u2208 C3 and c > 1, the number of fair games with c as the\nlargest coordinate is 2m\u22121 where m is the number of distinct prime factors of\n2c + 1 other than 3.\nProof. The coordinates of nontrivial 3-color fair games are distinct, so it follows\nfrom (8) that c is the largest coordinates if and only if\nc\u2265\n\nu2 + (2c + 1)|u| + c(c \u2212 1)\n+ 1.\n2(2c + 1)\n\nA simple calculation shows that the above inequality is equivalent to |u| \u2264 c.\nHence, proving the theorem boils down to counting the number of solutions\nto the congruence u2 \u2261 \u2212c(c \u2212 1) mod (2c + 1), or equivalently u2 \u2261 \u22123\nmod (2c+1) in a complete set of representatives (\u2212c \u2264 u \u2264 c). By Theorem 5.4,\nthe prime factorization of 2c + 1 is of the form 3v0 pv11 * * * pvmm where v0 = 0 or\n1 and pj \u2261 1 mod 3 (1 \u2264 j \u2264 m). Note that m \u2265 1 since c > 1. The Chinese\nreminder theorem yields a 1-to-1 correspondence between solutions of u2 \u2261 \u22123\nv\nmod (2c + 1) and the solutions of the system u2 \u2261 \u22123 mod pj j (1 \u2264 j \u2264 m)\ntogether with the congruence u2 \u2261 \u22123 \u2261 0 mod 3 depending on whether v = 1\nor not. But last congruence has only one solution hence its presence will not\naffect the total number of solutions which is the product of the number of\nsolutions of each congruence in the system. Since pj 6= 3 (1 \u2264 j \u2264 m), the\nv\nnumber of solutions for u2 \u2261 \u22123 mod pj j is the same as that for u2 \u2261 \u22123\nmod pj which is precisely two since pj \u2261 1 mod 3. Therefore, we conclude that\n10\n\n\fthe system has exactly 2m solutions. Finally, it is clear from (8) that \u00b1u give\nrise to the same fair game except with the first two coordinates permuted. Thus,\nup to permutation of coordinates, there are 2m /2 = 2m\u22121 fair games with c as\nthe largest coordinate.\nWe conclude this section by computing the natural density of C3 . The natural density of a set of natural numbers A is defined to be limk\u2192\u221e |A(k)|/k\nwhenever the limit exists. Statement (2) of Corollary 2.2 states that C2 has\ndensity zero. The description of C3 in Theorem 5.4 allows us to show that the\nsame phenomenon occurs in the case n = 3 as well.\nTheorem 5.6. The natural density of C3 is zero.\nProof. The map a 7\u2192 2a+1 is a bijection between C3 and P1\u22650 \u222a3P1\u22650 . Therefore,\nthe density of C3 is twice the density of P1\u22650 \u222a 3P1\u22650 if the latter exists. Since\nP1\u22650 and 3P1\u22650 are disjoint and the density of 3P1\u22650 , if it exists, is one-third that\nof P1\u22650 , it suffices to show that P1\u22650 has density 0. Applying Proposition 9.64\n\u22650\n\u22650 0 0\nand Lemma 11.8 in [3] to\nP the set P1 = P1 P0 P\u22121 , we see that it is enough\nto show that the series p\u2208P\u22121 1/p diverges. But this assertion is an immediate consequence of Dirichlet Theorem of primes in arithmetic progressions [12,\nChapter VI Theorem 2]) which, in particular, asserts that\nP\ns\n1\n1\np\u2208P\u22121 1/p\nlim+\n=\n= .\n\u03c6(3)\n2\ns\u21921 log(1/(s \u2212 1))\n\n6\n\nAsymptotic Behavior\n\nComparing to the binary case, determining the asymptotic behavior of |Fn (k)|\n(n \u2265 3) seems to be much harder problem. In fact, we will only show that\n|F3 (k)| is \u0398(k). Our strategy is to relate the equation for 3-color fair games to\nthe Lorentzian form L3 (w) = w12 + w22 \u2212 w32 then apply the results from [11]\n(for more information on distribution of integral points on affine homogenous\nvarieties, see [6] and [2]). Let W be the set of integral solutions of L3 (w) = \u22123.\nLemma 6.1. For any (w1 , w2 , w3 ) \u2208 W, we have\n1. |w3 | > |w1 |, |w2 |.\n2. exactly one of the wi is odd; moreover, it must be either w1 or w2 .\n3. If w2 is the odd coordinate that w1 + w3 \u2261 w1 \u2212 w3 \u2261 2 mod 4.\n4. w1 6= w2 .\n\n11\n\n\fProof. The first statement is immediate. The second statement is clear by\narguing mod 8. Since w2 is odd, w12 \u2212 w32 \u2261 0 mod 4. Since w3 is even,\nw1 + w3 \u2261 w1 \u2212 w3 mod 4. They must be both congruent to 2 mod 4; otherwise\nw12 \u2212 w32 \u2261 0 mod 8 making \u22123 a square mod 8, contradiction. This establishes\nthe third statement. The last statement is true since 2w12 \u2212 w32 = \u22123 is not\nsolvable mod 3.\nLet \u2248 be the equivalence relation on W identifying the elements (w1 , w2 , w3 )\nand (w2 , w1 , w3 ). It follows from Lemma 6.1 (4) that the canonical map from\nW to W/ \u2248 is 2-to-1. If we identify the equivalence classes with those elements\nof W with an odd second coordinate, then\nProposition 6.2. The map given by\nw1 = 2(x2 \u2212 x3 ),\n\nw2 = 2(x1 \u2212 x2 \u2212 x3 ) \u2212 1,\n\nw3 = 2(x2 + x3 + 1)\n\n(9)\n\nis a 1-to-1 correspondence between S3 and W/ \u2248. Moreover, if the coordinates of\nthe elements of S3 are listed in ascending order, then elements of F3 correspond\nto those elements of W/ \u2248 with w1 , w2 \u2264 0 and w3 \u2265 0.\nProof. The rational inverse of the map in (9) is given by\nx1 =\n\nw2 + w3 \u2212 1\n,\n2\n\nx2 =\n\nw1 + w3 \u2212 2\n,\n4\n\nx3 =\n\nw3 \u2212 w1 \u2212 2\n.\n4\n\n(10)\n\nBy Lemma 6.1 (2) and (3), it actually preserve integral points. This establishes\nthe map in (9) is a 1-to-1 correspondence between S3 and W/ \u2248. Moreover,\nthe images of elements of F3 (as ascending triples) under (9) clearly satisfy\nw1 , w2 \u2264 0 and w3 \u2265 0. Conversely, by Lemma 6.1 (1), |w3 | \u2265 |w2 | + 1 and\n|w3 | \u2265 |w1 | + 2 since both w1 and w3 are odd (Lemma 6.1 (2)). Therefore, if\n(w1 , w2 , w3 ) \u2208 W with w1 , w2 \u2264 0 and w3 \u2265 0 then the corresponding (x1 , x2 , x3 )\nis in F3 .\nTheorem 6.3. There exists positive constants c1 , c2 such that c1 k \u2264 |S3 (k)| \u2264\nc2 k for k sufficiently large, i.e. |S3 (k)| = \u0398(k). Similarly, |F3 (k)| = \u0398(k).\nProof. The idea is simple: the sphere of radius k centered at the origin maps\nto an ellipsoid (centered at (0, \u22121, 2)) under (9). For k sufficiently large, it\nis enveloped between spheres centered at the origin. Clearly, the radii of these\nspheres can be chosen as linear functions of the length of the axes of the ellipsoid\nwhich are in turn linear in k since the transformation given in (9) is affine. So by\nProposition 6.2, the proof is complete once we show that |W(k)| is asymptotic to\na linear function in k. And this\u221a\nlast statement follows from Formula (3) in [11]\nwhich asserts that |W3 (k)| \u223c (4 6/3)k.\nRemark 6.4.\n(i) Since the maps and the equations are all explicit, one can provide the\nconstants c1 and c2 in Theorem 6.3 explicitly. However, we will leave the\ncomputation for the interested readers.\n12\n\n\f(ii) In a sense, one gets a cleaner result without extra efforts if one is satisfied\nby counting the number of solutions inside the ellipsoids that are the images of spheres under the map given in (10). To be more precise, let S3\u2032 (k)\nand F3\u2032 (k) be the set elements of S3 and F3 inside the image of the sphere\nof radius k centered at the origin under the map given in (10). Then again\nusing Formula (3), Table (1) in [11] and Proposition 6.2, one gets\n\u221a\n\u221a\n1\n6\n2 6\n61\n|S3\u2032 (k)| = |W(k)| \u223c\nk, |F3\u2032 (k)| \u223c\n|W(k)| =\nk.\n2\n3\n82\n2\n(iii) Here is how we arrive to the map in (9): There is a general method of\nsolving quadratic Diophantine equations given by Grunewald and Segal\nin [7] and [8]4 . The first step transforms the fair game equation into the\nequivalent system\nQn (z) = \u2212n(n \u2212 2),\n\nzi \u2261 1 mod 2(n \u2212 2).\n\n(1 \u2264 i \u2264 n)\n\n(11)\n\nwhere Qn is the quadratic form in n-variables with diagonal entries 1 and\noff-diagonal entries -1. When n = 3, one checks readily that congruences\nin (11) are implies by Q3 (z) = \u22123. And the Lorentzian form L3 (w) is\nobtained by diagonalizing Q3 . Taking the composition of these transformations yields the map in (9).\n(iv) In the ternary case, the description of the solution set given by Grunewald\nand Segal's method relates quite beautifully to ours. We encourage the\nreader to pursuit their original papers (see [4] for the necessary backgrounds). Just to give a little enticement, let us remark that S3 will\ncorrespond to a single orbit under the integral orthogonal group of a suitable quadratic form. While S3+ (i.e. F3 ) and S3\u2212 will correspond to two\norbits of a subgroup of the orthogonal group.\n(v) Using the same idea to study |Fn (k)| for n \u2265 4 becomes more problematic.\nFirst, it is not clear to us how to take into account of the congruences\nin (11). Moreover, even though Qn and the Lorentzian form in n-variables\nhave the same signature, namely n \u2212 2, the transformation taking one to\nthe other in general does not preserve integral points.\n\n7\n\nOdds and Ends\n\nThe last section is dedicated to various results that do not quite fit in previous\nsections.\nProposition 7.1. The sum of coordinates of any element of Sn is congruent\nto either 0 or 1 mod 4.\nProof. Equation (1) is simply s2 \u2212 s = 4p.\n4 However,\n\ntheir method is not uniform in the number of variables.\n\n13\n\n\fProposition 7.2. Every vertex in the connected component of 0 in Sn is congruent mod 3 to either 0 or ej := (0, . . . , 1, . . . , 0) for some 1 \u2264 j \u2264 n.\nProof. The proposition is clearly true for 0. Now suppose it is true for every\nvertex of distance m from 0. Let a\u2032 = (a1 , . . . , a\u2032i , . . . , an ) be a vertex of distance\nm + 1 from 0 and is adjacent to a = (a1 , . . . , ai , . . . , an ) which is of distance m\nfrom 0. By the induction hypothesis, a is congruent to either 0 or ej mod 3\nfor some 1 \u2264 j \u2264 n. Since ai + a\u2032i = 1 + 2si (a) \u2261 1 \u2212 si (a) mod 3, we have the\nfollowing 3 cases\n1. a\u2032 \u2261 ei mod 3 if a \u2261 0 mod 3,\n2. a\u2032 \u2261 ej mod 3 if a \u2261 ej mod 3 and i 6= j, or\n3. a\u2032 \u2261 0 mod 3 if a \u2261 ej mod 3 and i = j.\nThis establishes the proposition by induction.\nRecall that for n \u2265 4 any natural number, in particular 2, can be a coordinate\nof an n-color fair game (Proposition 5.1). Thus, Proposition 7.2 gives another\nproof of the fact that Fn is disconnected for n \u2265 4.\nThe nontrivial 3-color fair games form a full binary tree with the nontrivial 2-color fair games embeds as a branch. It is easy to see that among the\nnodes of distance\n\u0001 k+3\u0001\u0001 k from the root (0, 1, 3), the one with the smallest norm\nis 0, k+2\nand the one with the largest norm is (mk , mk+1 , mk+2 )\n2 ,\n2\nwhere (mi ) is the sequence defined recursively by (m0 , m1 , m2 ) = (0, 1, 3) and\nmi+3 = 2(mi+1 + mi+2 ) + 1 \u2212 mi for i \u2265 0. It turns out that the mi 's have an\nintimate relation with the Fibonacci numbers.\nProposition 7.3. Let fi be the i-th Fibonacci number, then for any k \u2265 0\n(\nfk2\nif k is odd\nmk =\nfk2 \u2212 1 if k is even\nProof. The Fibonacci numbers are defined inductively by f0 = f1 = 1, and\nfi+2 = fi + fi+1 (i \u2265 0). Note that\n2\n2fi+1 fi+2 = fi+1 (fi+2 + fi + fi+1 ) = fi+1 (fi+2 + fi ) + fi+1\n2\n= (fi+2 \u2212 fi )(fi+2 + fi ) + fi+1\n2\n2\n= fi+2\n+ fi+1\n\u2212 fi2 .\n\nTherefore,\n2\n2\n2\nfi+3\n= (fi+1 + fi+2 )2 = fi+1\n+ 2fi+1 fi+2 + fi+2\n2\n2\n= 2fi+1\n+ 2fi+2\n\u2212 fi2 .\n\n14\n\n\fThe proposition now follows from an easy induction. The base cases are immediate. Suppose k \u2265 3 and the proposition is true for all 0 \u2264 i < k. When k is\nodd, we have\nmk = 2(mk\u22122 + mk\u22121 ) + 1 \u2212 mk\u22123\n\n2\n2\n2\n= 2(fk\u22122\n+ fk\u22121\n\u2212 1) + 1 \u2212 (fk\u22123\n\u2212 1)\n2\n2\n2\n= 2fk\u22122\n+ 2fk\u22121\n\u2212 fk\u22123\n\n= fk2 .\n\nA similar computation shows that mk = fk2 \u2212 1 when k is even.\nWe end the article with another curious \"by-product\" of our results.\nProposition 7.4. For m \u2265 0,\n\n(1) m2 + m + 1 \u2208 P1\u22650 \u222a 3P1\u22650 .\n2\n(2) 2fm\n\u2212 (\u22121)m \u2208 P1\u22650 \u222a 3P1\u22650 .\n\nProof. Triangular numbers m(m + 1)/2 (m \u2265 0) appear as coordinates of the\n2-color (Theorem 2.1) and hence 3-color fair games. By Theorem 5.4, we have\nm2 + m + 1 = 2(m(m + 1)/2) + 1 \u2208 P1\u22650 \u222a 3P1\u22650 . Similarly, Statement (2) follows\nfrom Proposition 7.3 and Theorem 5.4.\n\nReferences\n[1] Baker, Alan. A concise introduction to the theory of numbers. Cambridge\nUniversity Press, Cambridge, 1984.\n[2] Borovoi, Mikhail. On representations of integers by indefinite ternary\nquadratic forms. J. Number Theory 90 (2001), no. 2, 281\u2013293.\n[3] Burris, Stanley N. Number theoretic density and logical limit laws. Mathematical Surveys and Monographs, 86. American Mathematical Society,\nProvidence, RI, 2001.\n[4] Cassels, J. W. S. Rational quadratic forms. London Mathematical Society\nMonographs, 13. Academic Press, Inc. [Harcourt Brace Jovanovich, Publishers], London-New York, 1978.\n[5] Cusick, Thomas W.; Flahive, Mary E. The Markoff and Lagrange spectra. Mathematical Surveys and Monographs, 30. American Mathematical\nSociety.\n[6] Duke, W.; Rudnick, Z.; Sarnak, P. Density of integer points on affine homogeneous varieties. Duke Math. J. 71 (1993), no. 1, 143\u2013179.\n[7] Grunewald, Fritz J.; Segal, Daniel. How to solve a quadratic equation in\nintegers. Math. Proc. Cambridge Philos. Soc. 89 (1981), no. 1, 1\u20135.\n15\n\n\f[8] Grunewald, Fritz J.; Segal, Daniel. Some general algorithms. I. Arithmetic\ngroups. Ann. of Math. (2) 112 (1980), no. 3, 531\u2013583.\n[9] Andrew D. Pollington, William Moran (ed.). Number theory with an emphasis on the Markoff spectrum. Lecture Notes in Pure and Applied Mathematics, 147. Marcel Dekker, Inc., New York, 1993.\n[10] Pong W.Y.; Stroker. R. Diophantine Equations of Matching Games II, in\npreparation.\n[11] Ratcliffe, John G.; Tschantz, Steven T. On the representation of integers by\nthe Lorentzian quadratic form. J. Funct. Anal. 150 (1997), no. 2, 498\u2013525.\n[12] Serre, J.-P. A course in arithmetic. Translated from the French. Graduate\nTexts in Mathematics, No. 7. Springer-Verlag, New York-Heidelberg, 1973.\n\n16\n\n\f"}