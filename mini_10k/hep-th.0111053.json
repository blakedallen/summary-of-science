{"id": "http://arxiv.org/abs/hep-th/0111053v1", "guidislink": true, "updated": "2001-11-06T19:54:23Z", "updated_parsed": [2001, 11, 6, 19, 54, 23, 1, 310, 0], "published": "2001-11-06T19:54:23Z", "published_parsed": [2001, 11, 6, 19, 54, 23, 1, 310, 0], "title": "Y-systems and generalized associahedra", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=hep-th%2F0111286%2Chep-th%2F0111291%2Chep-th%2F0111037%2Chep-th%2F0111228%2Chep-th%2F0111178%2Chep-th%2F0111055%2Chep-th%2F0111018%2Chep-th%2F0111281%2Chep-th%2F0111121%2Chep-th%2F0111016%2Chep-th%2F0111169%2Chep-th%2F0111006%2Chep-th%2F0111145%2Chep-th%2F0111005%2Chep-th%2F0111053%2Chep-th%2F0111119%2Chep-th%2F0111225%2Chep-th%2F0111237%2Chep-th%2F0111027%2Chep-th%2F0111235%2Chep-th%2F0111039%2Chep-th%2F0111072%2Chep-th%2F0111164%2Chep-th%2F0111032%2Chep-th%2F0111050%2Chep-th%2F0111002%2Chep-th%2F0111183%2Chep-th%2F0111041%2Chep-th%2F0111076%2Chep-th%2F0111262%2Chep-th%2F0111264%2Chep-th%2F0111115%2Chep-th%2F0111259%2Chep-th%2F0111285%2Chep-th%2F0111279%2Chep-th%2F0111213%2Chep-th%2F0111240%2Chep-th%2F0111091%2Chep-th%2F0111123%2Chep-th%2F0111230%2Chep-th%2F0111248%2Chep-th%2F0111105%2Chep-th%2F0111045%2Chep-th%2F0111092%2Chep-th%2F0111087%2Chep-th%2F0111150%2Chep-th%2F0111064%2Chep-th%2F0111108%2Chep-th%2F0111181%2Chep-th%2F0111029%2Chep-th%2F0111022%2Chep-th%2F0111215%2Chep-th%2F0111254%2Chep-th%2F0111112%2Chep-th%2F0111260%2Chep-th%2F0111127%2Chep-th%2F0111227%2Chep-th%2F0111042%2Chep-th%2F0111202%2Chep-th%2F0111219%2Chep-th%2F0111141%2Chep-th%2F0111128%2Chep-th%2F0111083%2Chep-th%2F0111243%2Chep-th%2F0111103%2Chep-th%2F0111218%2Chep-th%2F0111186%2Chep-th%2F0111017%2Chep-th%2F0111171%2Chep-th%2F0111265%2Chep-th%2F0111201%2Chep-th%2F0111163%2Chep-th%2F0111139%2Chep-th%2F0111199%2Chep-th%2F0111101%2Chep-th%2F0111138%2Chep-th%2F0111247%2Chep-th%2F0111188%2Chep-th%2F0111154%2Chep-th%2F0111094%2Chep-th%2F0111074%2Chep-th%2F0111098%2Chep-th%2F0111096%2Chep-th%2F0111106%2Chep-th%2F0111242%2Chep-th%2F0111085%2Chep-th%2F0111097%2Chep-th%2F0111174%2Chep-th%2F0111209%2Chep-th%2F0111111%2Chep-th%2F0111135%2Chep-th%2F0111190%2Chep-th%2F0111060%2Chep-th%2F0111124%2Chep-th%2F0111125%2Chep-th%2F0111058%2Chep-th%2F0111204%2Chep-th%2F0111046%2Chep-th%2F0111151%2Chep-th%2F0111077%2Chep-th%2F0111187&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "Y-systems and generalized associahedra"}, "summary": "We prove, for an arbitrary finite root system, the periodicity conjecture of\nAl.B.Zamolodchikov concerning Y-systems, a particular class of functional\nrelations arising in the theory of thermodynamic Bethe ansatz. Algebraically,\nY-systems can be viewed as families of rational functions defined by certain\nbirational recurrences formulated in terms of the underlying root system. In\nthe course of proving periodicity, we obtain explicit formulas for all these\nrational functions, which turn out to always be Laurent polynomials.\n  In a closely related development, we introduce and study a family of\nsimplicial complexes that can be associated to arbitrary root systems. In type\nA, our construction produces Stasheff's associahedron, whereas in type B, it\ngives the Bott-Taubes polytope, or cyclohedron. We enumerate the faces of these\ncomplexes, prove that their geometric realization is always a sphere, and\ndescribe them in concrete combinatorial terms for the classical types ABCD.", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=hep-th%2F0111286%2Chep-th%2F0111291%2Chep-th%2F0111037%2Chep-th%2F0111228%2Chep-th%2F0111178%2Chep-th%2F0111055%2Chep-th%2F0111018%2Chep-th%2F0111281%2Chep-th%2F0111121%2Chep-th%2F0111016%2Chep-th%2F0111169%2Chep-th%2F0111006%2Chep-th%2F0111145%2Chep-th%2F0111005%2Chep-th%2F0111053%2Chep-th%2F0111119%2Chep-th%2F0111225%2Chep-th%2F0111237%2Chep-th%2F0111027%2Chep-th%2F0111235%2Chep-th%2F0111039%2Chep-th%2F0111072%2Chep-th%2F0111164%2Chep-th%2F0111032%2Chep-th%2F0111050%2Chep-th%2F0111002%2Chep-th%2F0111183%2Chep-th%2F0111041%2Chep-th%2F0111076%2Chep-th%2F0111262%2Chep-th%2F0111264%2Chep-th%2F0111115%2Chep-th%2F0111259%2Chep-th%2F0111285%2Chep-th%2F0111279%2Chep-th%2F0111213%2Chep-th%2F0111240%2Chep-th%2F0111091%2Chep-th%2F0111123%2Chep-th%2F0111230%2Chep-th%2F0111248%2Chep-th%2F0111105%2Chep-th%2F0111045%2Chep-th%2F0111092%2Chep-th%2F0111087%2Chep-th%2F0111150%2Chep-th%2F0111064%2Chep-th%2F0111108%2Chep-th%2F0111181%2Chep-th%2F0111029%2Chep-th%2F0111022%2Chep-th%2F0111215%2Chep-th%2F0111254%2Chep-th%2F0111112%2Chep-th%2F0111260%2Chep-th%2F0111127%2Chep-th%2F0111227%2Chep-th%2F0111042%2Chep-th%2F0111202%2Chep-th%2F0111219%2Chep-th%2F0111141%2Chep-th%2F0111128%2Chep-th%2F0111083%2Chep-th%2F0111243%2Chep-th%2F0111103%2Chep-th%2F0111218%2Chep-th%2F0111186%2Chep-th%2F0111017%2Chep-th%2F0111171%2Chep-th%2F0111265%2Chep-th%2F0111201%2Chep-th%2F0111163%2Chep-th%2F0111139%2Chep-th%2F0111199%2Chep-th%2F0111101%2Chep-th%2F0111138%2Chep-th%2F0111247%2Chep-th%2F0111188%2Chep-th%2F0111154%2Chep-th%2F0111094%2Chep-th%2F0111074%2Chep-th%2F0111098%2Chep-th%2F0111096%2Chep-th%2F0111106%2Chep-th%2F0111242%2Chep-th%2F0111085%2Chep-th%2F0111097%2Chep-th%2F0111174%2Chep-th%2F0111209%2Chep-th%2F0111111%2Chep-th%2F0111135%2Chep-th%2F0111190%2Chep-th%2F0111060%2Chep-th%2F0111124%2Chep-th%2F0111125%2Chep-th%2F0111058%2Chep-th%2F0111204%2Chep-th%2F0111046%2Chep-th%2F0111151%2Chep-th%2F0111077%2Chep-th%2F0111187&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We prove, for an arbitrary finite root system, the periodicity conjecture of\nAl.B.Zamolodchikov concerning Y-systems, a particular class of functional\nrelations arising in the theory of thermodynamic Bethe ansatz. Algebraically,\nY-systems can be viewed as families of rational functions defined by certain\nbirational recurrences formulated in terms of the underlying root system. In\nthe course of proving periodicity, we obtain explicit formulas for all these\nrational functions, which turn out to always be Laurent polynomials.\n  In a closely related development, we introduce and study a family of\nsimplicial complexes that can be associated to arbitrary root systems. In type\nA, our construction produces Stasheff's associahedron, whereas in type B, it\ngives the Bott-Taubes polytope, or cyclohedron. We enumerate the faces of these\ncomplexes, prove that their geometric realization is always a sphere, and\ndescribe them in concrete combinatorial terms for the classical types ABCD."}, "authors": ["Sergey Fomin", "Andrei Zelevinsky"], "author_detail": {"name": "Andrei Zelevinsky"}, "author": "Andrei Zelevinsky", "arxiv_comment": "35 pages", "links": [{"href": "http://arxiv.org/abs/hep-th/0111053v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/hep-th/0111053v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "hep-th", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "hep-th", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math-ph", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.CO", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.MP", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/hep-th/0111053v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/hep-th/0111053v1", "journal_reference": null, "doi": null, "fulltext": "Y -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\narXiv:hep-th/0111053v1 6 Nov 2001\n\nTo the memory of Rodica Simion\n\nThe goals of this paper are two-fold. First, we prove, for an arbitrary finite root\nsystem \u03a6, the periodicity conjecture of Al. B. Zamolodchikov [23] that concerns\nY -systems, a particular class of functional relations playing an important role in the\ntheory of thermodynamic Bethe ansatz. Algebraically, Y -systems can be viewed as\nfamilies of rational functions defined by certain birational recurrences formulated in\nterms of the root system \u03a6. We obtain explicit formulas for these rational functions,\nwhich turn out to always be Laurent polynomials, and prove that they exhibit the\nperiodicity property conjectured by Zamolodchikov.\nIn a closely related development, we introduce and study a simplicial complex \u2206(\u03a6), which can be viewed as a generalization of the Stasheff polytope (also\nknown as associahedron) for an arbitrary root system \u03a6. In type A, this complex is\nthe face complex of the ordinary associahedron, whereas in type B, our construction produces the Bott-Taubes polytope, or cyclohedron. We enumerate the faces\nof the complex \u2206(\u03a6), prove that its geometric realization is always a sphere, and\ndescribe it in concrete combinatorial terms for the classical types ABCD.\nThe primary motivation for this investigation came from the theory of cluster\nalgebras, introduced in [8] as a device for studying dual canonical bases and total\npositivity in semisimple Lie groups. This connection remains behind the scene in\nthe text of this paper, and will be brought to light in a forthcoming sequel to [8].\n\nContents\n1. Main results\n2. Y -systems\n2.1. Root system preliminaries\n2.2. Piecewise-linear version of a Y -system\n2.3. Theorem 1.6 implies Zamolodchikov's conjecture\n2.4. Fibonacci polynomials\n3. Generalized assohiahedra\n3.1. The compatibility degree\n3.2. Compatible subsets and clusters\n3.3. Counting compatible subsets and clusters\n3.4. Cluster expansions\n3.5. Compatible subsets and clusters for the classical types\nReferences\nDate: November 5, 2001.\nResearch supported in part by NSF grants DMS-0070685 (S.F.) and DMS-9971362 (A.Z.).\n1\n\n2\n9\n9\n10\n12\n14\n20\n20\n22\n23\n25\n27\n32\n\n\f2\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\n1. Main results\nThroughout this paper, I is an n-element set of indices, and A = (aij )i,j\u2208I an\nindecomposable Cartan matrix of finite type; in other words, A is of one of the\ntypes An , Bn , . . . , G2 on the Cartan-Killing list. Let \u03a6 be the corresponding root\nsystem (of rank n), and h the Coxeter number.\nThe first main result of this paper is the following theorem.\nTheorem 1.1. (Zamolodchikov's conjecture) A family (Yi (t))i\u2208I,t\u2208Z of commuting\nvariables satisfying the recurrence relations\nY\nYi (t + 1)Yi (t \u2212 1) =\n(1.1)\n(Yj (t) + 1)\u2212aij\nj6=i\n\nis periodic with period 2(h + 2), i.e., Yi (t + 2(h + 2)) = Yi (t) for all i and t.\nWe refer to the relations (1.1) as the Y -system associated with the matrix A (or\nwith the root system \u03a6). Y -systems arise in the theory of thermodynamic Bethe\nansatz, as first shown by Al. B. Zamolodchikov [23]. The periodicity in Theorem 1.1\nwas conjectured by Zamolodchikov [23] in the simply-laced case, i.e., when the\nproduct in the right-hand-side of (1.1) is square-free. The type A case of Zamolodchikov's conjecture was proved independently by E. Frenkel and A. Szenes [11] and\nby F. Gliozzi and R. Tateo [13]; the type D case was considered in [6]. This paper\ndoes not deal with Y -systems more general than (1.1), defined by pairs of Dynkin\ndiagrams (see [18], [15], and [14]).\nOur proof of Theorem 1.1 is based on the following reformulation. Recall that\nthe Coxeter graph associated to a Cartan matrix A has the indices in I as vertices,\nwith i, j \u2208 I joined by an edge whenever aij aji > 0. This graph is a tree, hence is\nbipartite. We denote the two parts of I by I+ and I\u2212 , and write \u03b5(i) = \u03b5 for i \u2208 I\u03b5 .\nLet Q(u) be the field of rational functions in the variables ui (i \u2208 I). We introduce\nthe involutive automorphisms \u03c4+ and \u03c4\u2212 of Q(u) by setting\n\uf8f1Q\n\u2212aij\n\uf8f4\n\uf8f2 j6=i (uj + 1)\nif \u03b5(i) = \u03b5;\nui\n(1.2)\n\u03c4\u03b5 (ui ) =\n\uf8f4\n\uf8f3u\notherwise.\ni\nTheorem 1.2. The automorphism \u03c4\u2212 \u03c4+ of Q(u) is of finite order. More precisely,\nlet w\u25e6 denote the longest element in the Weyl group associated to A. Then the order\nof \u03c4\u2212 \u03c4+ is equal to (h + 2)/2 if w\u25e6 = \u22121 , and is equal to h + 2 otherwise.\n\nTheorem 1.2 is essentially equivalent to Zamolodchikov's conjecture; here is why.\nFirst, we note that each equation (1.1) only involves the variables Yi (k) with a fixed\n\"parity\" \u03b5(i) * (\u22121)k . We may therefore assume, without loss of generality, that our\nY -system satisfies the condition\n(1.3)\n\nYi (k) = Yi (k + 1) whenever \u03b5(i) = (\u22121)k .\n\nLet us combine (1.1) and (1.3) into\n\uf8f1Q\n\u2212aij\n\uf8f4\n\uf8f2 j6=i (Yj (k) + 1)\nYi (k)\n(1.4)\nYi (k + 1) =\n\uf8f4\n\uf8f3Y (k)\ni\n\nif \u03b5(i) = (\u22121)k+1 ;\nif \u03b5(i) = (\u22121)k .\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n3\n\nThen set ui = Yi (0) for i \u2208 I and compare (1.2) with (1.4). By induction on k,\nwe obtain Yi (k) = (\u03c4\u2212 \u03c4+ * * * \u03c4\u00b1 )(ui ) for all k \u2208 Z\u22650 and i \u2208 I, establishing the\n{z\n}\n|\nk times\n\nclaim. (Informally, the map (\u03c4\u2212 \u03c4+ )m can be computed either by iterations \"from\nwithin,\" i.e, by repeating the substitution of variables \u03c4\u2212 \u03c4+ , or by iterations \"from\nthe outside,\" via the recursion (1.4).)\nExample 1.3. Type A2 . Let \u03a6 be the root system of type A2 , with I = {1, 2}.\nLet us set I+ = {1} and I\u2212 = {2}. Then\nu1 +1\n+1\nu2 + 1\nu1 + u2 + 1\n\u03c4+ (u1 ) =\n, \u03c4\u2212 \u03c4+ (u1 ) = u2\n=\n,\nu1\nu1\nu1 u2\netc. Continuing these calculations, we obtain the following diagram:\n\u03c4+\n\u03c4\u2212\n\u03c4+\n\u03c4\u2212\nu2 + 1\nu1 + u2 + 1\nu1 + 1\n\u2212\u2192\nu1 \u2190\u2212\n\u2190\u2212\n\u2212\u2192\n\u2190\u2212\n\u2212\u2192\n\u2190\u2212\n\u2212\u2192\nu1\nu1 u2\nu2\n(1.5)\n\b\n\u03c4\u2212\n\nu2 .\n\b\n\u03c4+\n\nThus the map \u03c4\u2212 \u03c4+ acts by\nu1\n\n\u2212\u2192\n\nu1 + u2 + 1\n\u2212\u2192\nu1 u2\n\nu2\n\n\u2191\n\u2193\nu1 + 1\nu2 + 1\n\u2190\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\n\u2212\nu1\nu2\nand has period 5 = h + 2, as prescribed by Theorem 1.2. To compare, the Y -system\nrecurrence (1.4) (which incorporates the convention (1.3)) has period 10 = 2(h + 2):\n(1.6)\n\nYi (5) * * *\n\nYi (0)\n\nYi (1)\n\nYi (2)\n\nYi (3)\n\nYi (4)\n\ni=1\n\nu1\n\nu2 + 1\nu1\n\nu2 + 1\nu1\n\nu1 + 1\nu2\n\nu1 + 1\nu2\n\nYi (10)\n\nu2\n\n***\n\nu1\n\ni=2\n\nu2\n\nu2\n\nu1 + u2 + 1\nu1 u2\n\nu1 + u2 + 1\nu1 u2\n\nu1\n\nu1\n\n***\n\nu2\n\nLet Y denote the smallest set of rational functions that contains all coordinate\nfunctions ui and is stable under \u03c4+ and \u03c4\u2212 . (This set can be viewed as the collection\nof all distinct variables in a Y -system of the corresponding type.) For example, in\ntype A2 ,\n\u001b\n\u001a\nu2 + 1 u1 + 1 u1 + u2 + 1\n,\n,\nY = u1 , u2 ,\nu1\nu2\nu1 u2\n(see (1.5)\u2013(1.6)). Our proof of Theorem 1.2 is based on establishing a bijective\ncorrespondence between the set Y and a certain subset \u03a6\u2265\u22121 of the root system \u03a6;\nunder this bijection, the involutions \u03c4+ and \u03c4\u2212 correspond to some piecewise-linear\nautomorphisms of the ambient vector space of \u03a6, which exhibit the desired periodicity properties. To be more precise, let us define\n\u03a6\u2265\u22121 = \u03a6>0 \u222a (\u2212\u03a0) ,\nwhere \u03a0 = {\u03b1i : i \u2208 I} \u2282 \u03a6 is the set of simple roots, and \u03a6>0 the set of positive\nroots of \u03a6. The case A2 of this definition is illustrated in Figure 1.\n\n\f4\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\n\u03b12\n\n\u2212\u03b11 \u001b\n\nJ\n]\nJ\n\n\u001e\nJ\nJ\nJ\n\nJq\nJ\nJ\n\n\u03b11 +\u03b12\n\n- \u03b11\nJ\nJ\nJ\nJ\n^ \u2212\u03b12\n\nFigure 1. The set \u03a6\u2265\u22121 in type A2\nLet Q = Z\u03a0 be the root lattice, and QR its ambient real vector space. For\n\u03b1 \u2208 QR , we denote by [\u03b1 : \u03b1i ] the coefficient of \u03b1i in the expansion of \u03b1 in the\nbasis \u03a0. Let \u03c4+ and \u03c4\u2212 denote the piecewise-linear automorphisms of QR given by\n\uf8f1\nP\n\uf8f2\u2212[\u03b1 : \u03b1i ] \u2212 j6=i aij max([\u03b1 : \u03b1j ], 0) if \u03b5(i) = \u03b5;\n(1.7)\n[\u03c4\u03b5 \u03b1 : \u03b1i ] =\n\uf8f3[\u03b1 : \u03b1 ]\notherwise.\ni\n\nThe reason we use the same symbols for the birational transformations (1.2) and\nthe piecewise-linear transformations (1.7) is that the latter can be viewed as the\ntropical specialization of the former. This means replacing the usual addition and\nmultiplication by their tropical versions\n(1.8)\n\na \u2295 b = max (a, b) ,\n\na \u2299 b=a+b ,\n\nand replacing the multiplicative unit 1 by 0.\nIt is easy to show (see Proposition 2.4) that each of the maps \u03c4\u00b1 defined by (1.7)\npreserves the subset \u03a6\u2265\u22121 .\nTheorem 1.4. There exists a unique bijection \u03b1 7\u2192 Y [\u03b1] between \u03a6\u2265\u22121 and Y\nsuch that Y [\u2212\u03b1i ] = ui for all i \u2208 I, and \u03c4\u00b1 (Y [\u03b1]) = Y [\u03c4\u00b1 (\u03b1)] for all \u03b1 \u2208 \u03a6\u2265\u22121 .\nPassing from Y to \u03a6\u2265\u22121 and from (1.2) to (1.7) can be viewed as a kind of\n\"linearization,\" with the important distinction that the action of \u03c4\u00b1 in QR given\nby (1.7) is piecewise-linear rather than linear. This \"tropicalization\" procedure\nappeared in some of our previous work [2, 3, 8], although there it was the birational\nversion that shed the light on the piecewise-linear one. In the present context, we\ngo in the opposite direction: we first prove the tropical version of Theorem 1.2 (see\nTheorem 2.6), and then obtain the original version by combining the tropical one\nwith Theorem 1.4.\nIn the process of proving Theorem 1.4, we find explicit expressions for the rational functions Y [\u03b1]. It turns out that these functions exhibit the Laurent phenomenon (cf. [9]), that is, all of them are Laurent polynomials in the variables ui .\nFurthermore, the denominators of these Laurent polynomials are all distinct, and\nare canonically in bijection with the elements of the set \u03a6\u2265\u22121 . More precisely, let\n\u03b1 7\u2192 \u03b1\u2228 denote the natural bijection between \u03a6 and the dual root system \u03a6\u2228 , and\nlet us abbreviate\nY [\u03b1\u2228 :\u03b1\u2228 ]\n\u2228\ni\nu\u03b1 =\nui\n.\ni\u2208I\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n5\n\nTheorem 1.5. For every root \u03b1 \u2208 \u03a6\u2265\u22121 , we have\nN [\u03b1]\n,\nu\u03b1\u2228\nwhere N [\u03b1] is a polynomial in the ui with positive integer coefficients and constant\nterm 1.\nY [\u03b1] =\n\n(1.9)\n\nTo illustrate Theorem 1.5: in type A2 , we have\nu2 + 1\n1\nY [\u03b11 ] =\nY [\u2212\u03b11 ] = u1 = \u22121\nu1\nu1\nY [\u2212\u03b12 ] = u2 =\n\n1\nu\u22121\n2\n\nY [\u03b12 ] =\n\nu1 + 1\nu2\n\nY [\u03b11 + \u03b12 ] =\n\nu1 + u2 + 1\nu1 u2\n\nIn any type, we have\nY [\u2212\u03b1i ] = ui ,\nY [\u03b1i ] = \u03c4\u03b5(i) ui =\n\nQ\n\nj6=i (uj\n\nN [\u2212\u03b1i ] = 1,\n\n+ 1)\u2212aij\n\nui\n\n,\n\nN [\u03b1i ] =\n\nY\n(uj + 1)\u2212aij .\nj6=i\n\nEach numerator N [\u03b1] in (1.9) can be expressed as a product of \"smaller\" polynomials, which are also labeled by roots from \u03a6\u2265\u22121 . These polynomials are defined\nas follows.\nTheorem 1.6. There exists a unique family (F [\u03b1])\u03b1\u2208\u03a6\u2265\u22121 of polynomials in the\nvariables ui (i \u2208 I) such that\n(i) F [\u2212\u03b1i ] = 1 for all i \u2208 I;\n(ii) for any \u03b1 \u2208 \u03a6\u2265\u22121 and any \u03b5 \u2208 {+, \u2212}, we have\nQ\n[\u03b1\u2228 :\u03b1\u2228\ni ]\n\u03b5(i)=\u2212\u03b5 (ui + 1)\n\u03c4\u03b5 (F [\u03b1]) = Q\n(1.10)\n* F [\u03c4\u2212\u03b5 (\u03b1)].\n\u2228\n\u2228\nmax([\u03b1 :\u03b1i ],0)\n\u03b5(i)=\u03b5 ui\nFurthermore, each F [\u03b1] is a polynomial in the ui with positive integer coefficients\nand constant term 1.\n\nWe call the polynomials F [\u03b1] described in Theorem 1.6 the Fibonacci polynomials\nof type \u03a6. The terminology comes from the fact that in the type A case, each of\nthese polynomials is a sum of a Fibonacci number of monomials; cf. Example 2.15.\nIn view of Theorem 1.4, every root \u03b1 \u2208 \u03a6\u2265\u22121 can be written as\n(1.11)\n\ndef\n\n\u03b1 = \u03b1(k; i) = (\u03c4\u2212 \u03c4+ )k (\u2212\u03b1i )\n\nfor some k \u2208 Z and i \u2208 I.\nTheorem 1.7. For \u03b1 = \u03b1(k; i) \u2208 \u03a6\u2265\u22121 , we have\nY\nN [\u03b1] =\n(1.12)\nF [\u03b1(\u2212k; j)]\u2212aij .\nj6=i\n\nWe conjecture that all polynomials F [\u03b1] are irreducible, so that (1.12) provides\nthe irreducible factorization of N [\u03b1].\nAmong the theorems stated above, the core result, which implies the rest (see\nSection 2.3), is Theorem 1.6. This theorem is proved in Section 2.4 according to\nthe following plan. We begin by reducing the problem to the simply-laced case\n\n\f6\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nby a standard \"folding\" argument. In the ADE case, the proof is obtained by\nexplicitly writing the monomial expansions of the polynomials F [\u03b1] and checking\nthat the polynomials thus defined satisfy the conditions in Theorem 1.6. This is\ndone in two steps. First, we give a uniform formula for the monomial expansion of\nF [\u03b1] whenever \u03b1 = \u03b1\u2228 is a positive root of \"classical type,\" i.e., all the coefficients\n[\u03b1 : \u03b1i ] are equal to 0, 1, or 2 (see (2.21)). This in particular covers the A and D\nseries of root systems. We compute the rest of the Fibonacci polynomials for the\nexceptional types E6 , E7 , and E8 using Maple (see the last part of Section 2.4). In\nfact, the computational resources of Maple (on a 16-bit processor) turned out to be\nbarely sufficient for handling the case of E8 ; it seems that for this type, it would\nbe next to impossible to prove Zamolodchikov's conjecture by direct calculations\nbased on iterations of the recurrence (1.1).\nWe next turn to the second group of our results, which concern a particular\nsimplicial complex \u2206(\u03a6) associated to the root system \u03a6. This complex has \u03a6\u2265\u22121\nas the set of vertices. To describe the faces of \u2206(\u03a6), we will need the notion of a\ncompatibility degree (\u03b1k\u03b2) of two roots \u03b1, \u03b2 \u2208 \u03a6\u2265\u22121 . We define\n(1.13)\n\n(\u03b1k\u03b2) = [Y [\u03b1] + 1]trop (\u03b2),\n\nwhere [Y [\u03b1] + 1]trop denotes the tropical specialization (cf. (1.8)) of the Laurent\npolynomial Y [\u03b1] + 1, which is then evaluated at the n-tuple (ui = [\u03b2 : \u03b1i ])i\u2208I .\nWe say that two vertices \u03b1 and \u03b2 are compatible if (\u03b1k\u03b2) = 0. The compatibility\ndegree can be given a simple alternative definition (see Proposition 3.1), which\nimplies, somewhat surprisingly, that the condition (\u03b1k\u03b2) = 0 is symmetric in \u03b1\nand \u03b2 (see Proposition 3.3). We then define the simplices of \u2206(\u03a6) as mutually\ncompatible subsets of \u03a6\u2265\u22121 . The maximal simplices of \u2206(\u03a6) are called the clusters\nassociated to \u03a6.\nTo illustrate, in type A2 , the values of (\u03b1k\u03b2) are given by the table\n\n\u2212\u03b11\n\u2212\u03b12\n\u03b11\n\u03b12\n\u03b11 + \u03b12\n\n\u2212\u03b11\n\n\u2212\u03b12\n\n\u03b11\n\n\u03b12\n\n\u03b11 +\u03b12\n\n0\n0\n1\n0\n1\n\n0\n0\n0\n1\n1\n\n1\n0\n0\n1\n0\n\n0\n1\n1\n0\n0\n\n1\n1\n0\n0\n0\n\nThe clusters of type A2 are thus given by the list\n{\u2212\u03b11 , \u03b12 }, {\u03b12 , \u03b11 + \u03b12 }, {\u03b11 + \u03b12 , \u03b11 }, {\u03b11 , \u2212\u03b12 }, {\u2212\u03b12 , \u2212\u03b11 }.\nNote that these are exactly the pairs of roots represented by adjacent vectors in\nFigure 1.\nTheorem 1.8. The complex \u2206(\u03a6) is pure of dimension n\u22121. In other words, all\nclusters are of the same size n. Moreover, each cluster is a Z-basis of the root\nlattice Q.\nWe obtain recurrence relations for the face numbers of \u2206(\u03a6), which enumerate\nsimplices of any given dimension (see Proposition 3.7). In particular, we compute\nexplicitly the total number of clusters.\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n7\n\nTheorem 1.9. For a root system \u03a6 of a Cartan-Killing type Xn , the total number\nof clusters is given by the formula\nn\nY\nei + h + 1\n(1.14)\n,\nN (Xn ) =\nei + 1\ni=1\nwhere e1 , . . . , en are the exponents of \u03a6, and h is the Coxeter number.\n\nExplicit expressions for the numbers N (Xn ) for all Cartan-Killing types Xn are\ngiven in Table 3 (Section 3). We are grateful to Fr\u00e9d\u00e9ric Chapoton who observed\nthat these expressions, which we obtained on a case by case basis, can be replaced\nby the unifying formula (1.14). F. Chapoton also brought to our attention that the\nnumbers in (1.14) appear in the study of non-crossing and non-nesting partitions\nby V. Reiner, C. Athanasiadis, and A. Postnikov [19, 1]. For the classical types An\nand Bn , a bijection between clusters and non-crossing partitions is established in\nSection 3.5.\nWe next turn to the geometric realization of \u2206(\u03a6). The reader is referred to [24]\nfor terminology and basic background on convex polytopes.\nTheorem 1.10. The simplicial cones R\u22650 C generated by all clusters C form a\ncomplete simplicial fan in the ambient real vector space QR : the interiors of these\ncones are mutually disjoint, and the union of these cones is the entire space QR .\nCorollary 1.11. The geometric realization of the complex \u2206(\u03a6) is an (n \u2212 1)dimensional sphere.\nConjecture 1.12. The simplicial fan in Theorem 1.10 is the normal fan of a simple\nn-dimensional convex polytope P (\u03a6).\nThe type A2 case is illustrated in Figure 2.\n\u03b12\n\n\u2212\u03b11 \u001b\n\n\u03b11 +\u03b12\n\u001e\nJ\n]\ns\nJ\n\u0011Q\nJ \u0011\nQ\n\u0011\nQ\n\u0011J\nQ\ns\nJ\n\u0011\nQs\nJs\n'$\ns\nJ\ns Jq\ns\nJ\nJs\n&%\nJ\ns\nJ \u0011\u0011\n\u0011J\n\u0011 J\n\u0011\nJ\n\u0011\nJ\n^ \u2212\u03b12\n\u0011\n\u0011\n\u0011\ns\n\u0011\n\n\u03b11\n\nFigure 2. The complex \u2206(\u03a6) and the polytope P (\u03a6) in type A2\nThe following is a weaker version of Conjecture 1.12.\nConjecture 1.13. The complex \u2206(\u03a6) viewed as a poset under reverse inclusion is\nthe face lattice of a simple n-dimensional convex polytope P (\u03a6).\n\n\f8\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nBy the Blind-Mani theorem (see, e.g., [24, Section 3.4]), the face lattice of a\nsimple polytope P is uniquely determined by the 1-skeleton (the edge graph) of P .\nIn our situation, the edge graph E(\u03a6) of the (conjectural) polytope P (\u03a6) can be\ndescribed as follows.\nDefinition 1.14. The exchange graph E(\u03a6) is an (unoriented) graph whose vertices are the clusters for the root system \u03a6, with two clusters joined by an edge\nwhenever their intersection is of cardinality n\u22121.\nThe following theorem is a corollary of Theorem 1.10.\nTheorem 1.15. For every cluster C and every element \u03b1 \u2208 C, there is a unique\ncluster C \u2032 such that C \u2229 C \u2032 = C \u2212 {\u03b1}. Thus, the exchange graph E(\u03a6) is regular\nof degree n: every vertex in E(\u03a6) is incident to precisely n edges.\nWe describe the poset \u2206(\u03a6) and the exchange graph E(\u03a6) in concrete combinatorial terms for all classical types. This description in particular implies Conjecture 1.13 for the types An and Bn ; the posets \u2206(\u03a6) and \u2206(\u03a6\u2228 ) are canonically\nisomorphic, so the statement for the type Cn follows as well. For the type An , the\ncorresponding poset \u2206(An ) can be identified with the poset of polygonal subdivisions of a regular convex (n + 3)-gon by non-crossing diagonals. This is known\nto be the face lattice of the Stasheff polytope, or associahedron (see [22], [16], [12,\nChapter 7]). For the type Bn , we identify \u2206(Bn ) with the sublattice of \u2206(A2n\u22121 )\nthat consists of centrally symmetric polygonal subdivisions of a regular convex\n2(n + 1)-gon by non-crossing diagonals. This is the face lattice of the type B associahedron introduced by R. Simion (see [20, Section 5.2] and [21]). Simion's construction is combinatorially equivalent [7] to the \"cyclohedron\" complex of R. Bott\nand C. Taubes [4]. Polytopal realizations of the cyclohedron were constructed explicitly by M. Markl [17] and R. Simion [21].\nAssociahedra of types A and B have a number of remarkable connections with\nalgebraic geometry [12], topology [22], knots and operads [4, 7], combinatorics [19],\netc. It would be interesting to extend these connections to the type D and the\nexceptional types.\nThe primary motivation for this investigation came from the theory of cluster\nalgebras, which we introduced in [8] as a device for studying dual canonical bases\nand total positivity in semisimple Lie groups. This connection remains behind the\nscene in the text of this paper, and will be brought to light in a forthcoming sequel\nto [8].\nThe general layout of the paper is as follows. The material related to Y -systems\nis treated in Section 2; in particular, Theorems 1.2, 1.4, 1.5, 1.6, and 1.7 are proved\nthere. Section 3 is devoted to the study of the complexes \u2206(\u03a6), including the proofs\nof Theorems 1.8, 1.9, and 1.10.\nAcknowledgments. We are grateful to Andr\u00e1s Szenes for introducing us to\nY -systems; to Alexander Barvinok, Satyan Devadoss, Mikhail Kapranov, Victor\nReiner, John Stembridge, and Roberto Tateo for bibliographical guidance; and to\nFr\u00e9d\u00e9ric Chapoton for pointing out the numerological connection between \u2206(\u03a6)\nand non-crossing/non-nesting partitions.\nOur work on the complexes \u2206(\u03a6) was influenced by Rodica Simion's beautiful\nconstruction [20, 21] of the type B associahedra (see Section 3.5). We dedicate this\npaper to Rodica's memory.\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n9\n\n2. Y -systems\n2.1. Root system preliminaries. We start by laying out the basic terminology\nand notation related to root systems, to be used throughout the paper; some of\nit has already appeared in the introduction. In what follows, A = (aij )i,j\u2208I is\nan indecomposable n \u00d7 n Cartan matrix of finite type, i.e., one of the matrices\nAn , Bn , . . . , G2 in the Cartan-Killing classification. Let \u03a6 be the corresponding\nrank n root system with the set of simple roots \u03a0 = {\u03b1i : i \u2208 I}. Let W be the\nWeyl group of \u03a6, and w\u25e6 the longest element of W .\nWe denote by \u03a6\u2228 the dual root system with the set of simple coroots \u03a0\u2228 = {\u03b1\u2228\ni :\ni \u2208 I}. The correspondence \u03b1i 7\u2192 \u03b1\u2228\ni extends uniquely to a W -equivariant bijection\n\u03b1 7\u2192 \u03b1\u2228 between \u03a6 and \u03a6\u2228 . Let h\u03b1\u2228 , \u03b2i denote the natural pairing \u03a6\u2228 \u00d7 \u03a6 \u2192 Z.\nWe adopt the convention aij = h\u03b1\u2228\ni , \u03b1j i.\nLet Q = Z\u03a0 denote the root lattice, Q+ = Z\u22650 \u03a0 \u2282 Q the additive semigroup\ngenerated by \u03a0, and QR the ambient real vector space. For every \u03b1 \u2208 QR , we\ndenote by [\u03b1 : \u03b1i ] the coefficient of \u03b1i in the expansion of \u03b1 in the basis of simple\nroots. In this notation, the action of simple reflections si \u2208 W in Q is given as\nfollows:\n(\nif i\u2032 6= i;\n[\u03b1 : \u03b1i\u2032 ]\n[si \u03b1 : \u03b1i\u2032 ] =\nP\n(2.1)\n\u2212[\u03b1 : \u03b1i ] \u2212 j6=i aij [\u03b1 : \u03b1j ] if i\u2032 = i.\n\nThe Coxeter graph associated to \u03a6 has the index set I as the set of vertices,\nwith i and j joined by an edge whenever aij aji > 0. Since we assume that A is\nindecomposable, the root system \u03a6 is irreducible, and the Coxeter graph I is a tree.\nTherefore, I is a bipartite graph. Let I+ and I\u2212 be the two parts of I; they are\ndetermined uniquely up to renaming. We write \u03b5(i) = \u03b5 for i \u2208 I\u03b5 .\nLet h denote the Coxeter number of \u03a6, i.e., the order of any Coxeter element\nin W . Recall that a Coxeter element is the product of all simple reflections si (for\ni \u2208 I) taken in an arbitrary order. Our favorite choice of a Coxeter element t will\nbe the following: take t = t\u2212 t+ , where\nY\nt\u00b1 =\n(2.2)\nsi .\ni\u2208I\u00b1\n\nNote that the order of factors in (2.2) does not matter because si and sj commute\nwhenever \u03b5(i) = \u03b5(j).\nLet us fix some reduced words i\u2212 and i+ for the elements t\u2212 and t+ . (Recall\nthat i = (i1 , . . . , il ) is called a reduced word for w \u2208 W if w = si1 * * * sil is a\nshortest-length factorization of w into simple reflections.)\nLemma 2.1. [5, Exercise V.\u00a76.2] The word\n(2.3)\n\ndef\n\ni\u25e6 = i\u2212 i+ i\u2212 * * * i\u2213 i\u00b1\n{z\n}\n|\nh\n\n(concatenation of h segments) is a reduced word for w\u25e6 .\nRegarding Lemma 2.1, recall that h is even for all types except An with n even;\nin the exceptional case of type A2e , we have h = 2e + 1.\nWe denote by \u03a6>0 the set of positive roots of \u03a6, and let\n\u03a6\u2265\u22121 = \u03a6>0 \u222a (\u2212\u03a0) .\n\n\f10\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\n2.2. Piecewise-linear version of a Y -system. For every\npiecewise-linear modification \u03c3i : Q \u2192 Q of a simple reflection\n(\n[\u03b1 : \u03b1i\u2032 ]\n[\u03c3i \u03b1 : \u03b1i\u2032 ] =\n(2.4)\nP\n\u2212[\u03b1 : \u03b1i ] \u2212 j6=i aij max([\u03b1 : \u03b1j ], 0)\n\ni \u2208 I, we define a\nsi by setting\nif i\u2032 6= i;\nif i\u2032 = i.\n\nProposition 2.2.\n\n1. Each map \u03c3i : Q \u2192 Q is an involution.\n2. If i and j are not adjacent in the Coxeter graph, then \u03c3i and \u03c3j commute\nwith each other. In particular, this is the case whenever \u03b5(i) = \u03b5(j).\n3. Each map \u03c3i preserves the set \u03a6\u2265\u22121 .\nProof. Parts 1 and 2 are immediate from the definition. To prove Part 3, notice\nthat for every i \u2208 I and \u03b1 \u2208 \u03a6\u2265\u22121 , we have\n(\n\u03b1\nif \u03b1 = \u2212\u03b1j 6= \u2212\u03b1i ;\n(2.5)\n\u03c3i (\u03b1) =\nsi (\u03b1) otherwise.\nExample 2.3. In type A2 (cf. Example 1.3), the actions of \u03c31 and \u03c32 on \u03a6\u2265\u22121 are\ngiven by\n(2.6)\n\n\u2212\u03b11\n\b\n\u03c32\n\n\u03c32\n\u03c31\n\u03c32\n\u03c31\n\u2212\u2192 \u2212\u03b12 .\n\u2212\u2192 \u03b12 \u2190\u2212\n\u2212\u2192 \u03b11 +\u03b12 \u2190\u2212\n\u2190\u2212\n\u2212\u2192 \u03b11 \u2190\u2212\n\b\n\u03c31\n\nBy analogy with (2.2), we introduce the piecewise-linear transformations \u03c4+ and\n\u03c4\u2212 of Q by setting\nY\n\u03c4\u00b1 =\n(2.7)\n\u03c3i ;\ni\u2208I\u00b1\n\nthis is well-defined in view of Proposition 2.2.2. This definition is of course equivalent to (1.7). The following properties are easily checked.\nProposition 2.4.\n1. Both transformations \u03c4+ and \u03c4\u2212 are involutions and preserve \u03a6\u2265\u22121 .\n2. We have \u03c4\u00b1 (\u03b1) = t\u00b1 (\u03b1) for any \u03b1 \u2208 Q+ .\n3. The bijection \u03b1 7\u2192 \u03b1\u2228 between \u03a6\u2265\u22121 and \u03a6\u2228\n\u2265\u22121 is \u03c4\u00b1 -equivariant.\nIt would be interesting to study the group of piecewise-linear transformations of\nQR generated by all the \u03c3i . In this paper, we focus our attention on the subgroup\nof this group generated by the involutions \u03c4\u2212 and \u03c4+ .\nFor k \u2208 Z and i \u2208 I, we abbreviate\n\u03b1(k; i) = (\u03c4\u2212 \u03c4+ )k (\u2212\u03b1i )\n(cf. (1.11)). In particular, \u03b1(0; i) = \u2212\u03b1i for all i and \u03b1(\u00b11; i) = \u03b1i for i \u2208 I\u2213 .\nLet i 7\u2192 i\u2217 denote the involution on I defined by w\u25e6 (\u03b1i ) = \u2212\u03b1i\u2217 . It is known that\nthis involution preserves each of the sets I+ and I\u2212 when h is even, and interchanges\nthem when h is odd.\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n11\n\nProposition 2.5.\n1. Suppose h = 2e is even. Then the map (k, i) 7\u2192 \u03b1(k; i) restricts to a bijection\n[0, e] \u00d7 I \u2192 \u03a6\u2265\u22121 .\nFurthermore, \u03b1(e + 1; i) = \u2212\u03b1i\u2217 for any i.\n2. Suppose h = 2e + 1 is odd. Then the map (k, i) 7\u2192 \u03b1(k; i) restricts to a\nbijection\nS\n([0, e + 1] \u00d7 I\u2212 ) ([0, e] \u00d7 I+ ) \u2192 \u03a6\u2265\u22121 .\n\nFurthermore, \u03b1(e + 2; i) = \u2212\u03b1i\u2217 for i \u2208 I\u2212 , and \u03b1(e + 1; i) = \u2212\u03b1i\u2217 for i \u2208 I+ .\n\nTo illustrate Part 2 of Proposition 2.5, consider type A2 (cf. (2.6)). Then \u03c4\u2212 \u03c4+ =\n\u03c32 \u03c31 acts on \u03a6\u2265\u22121 by\n\u2212\u03b11\n\n\u2212\u2192\n\n\u03b11 + \u03b12\n\n\u2212\u2192\n\n\u2212\u03b12\n\n\u2191\n\n(2.8)\n\n\u03b11\n\n\u2193\n\u2190\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\u2212\n\u2212\n\n\u03b12 .\n\nWe thus have\n\n(2.9)\n\n\u03b1(0; 1) = \u2212\u03b11\n\n\u03b1(0; 2) = \u2212\u03b12\n\n\u03b1(1; 1) = \u03b11 + \u03b12\n\n\u03b1(1; 2) = \u03b12\n\n\u03b1(2; 1) = \u2212\u03b12\n\n\u03b1(2; 2) = \u03b11\n\n\u03b1(3; 1) = \u03b12\n\n\u03b1(3; 2) = \u2212\u03b11 .\n\nTo illustrate Part 1 of Proposition 2.5: in type A3 , with the standard numbering\nof roots, we have\n\n(2.10)\n\n\u03b1(0; 1) = \u2212\u03b11\n\n\u03b1(0; 2) = \u2212\u03b12\n\n\u03b1(0; 3) = \u2212\u03b13\n\n\u03b1(1; 1) = \u03b11 + \u03b12\n\n\u03b1(1; 2) = \u03b12\n\n\u03b1(1; 3) = \u03b12 + \u03b13\n\n\u03b1(2; 1) = \u03b13\n\n\u03b1(2; 2) = \u03b11 + \u03b12 + \u03b13\n\n\u03b1(2; 3) = \u03b11\n\n\u03b1(3; 1) = \u2212\u03b13\n\n\u03b1(3; 2) = \u2212\u03b12\n\n\u03b1(3; 3) = \u2212\u03b11 .\n\nProof. We shall use the following well known fact: for every reduced word i =\n(i1 , . . . , im ) of w\u25e6 , the sequence of roots \u03b1(k) = si1 * * * sik\u22121 \u03b1ik , for k = 1, 2, . . . , m,\nis a permutation of \u03a6>0 (in particular, m = |\u03a6>0 |). Let i = i\u25e6 be the reduced\nword defined in (2.3). Direct check shows that in the case when h = 2e is even, the\ncorresponding sequence of positive roots \u03b1(k) has the form\n\u03b1(1; 1), . . . , \u03b1(1; n), \u03b1(2; 1), . . . , \u03b1(2; n), . . . , \u03b1(e; 1), . . . , \u03b1(e; n).\nThis implies the first statement in Part 1, and also shows that\n(\nt\u2212 (t+ t\u2212 )e\u22121 (\u03b1i ) if i \u2208 I+ ;\n\u03b1(e; i) =\n(t\u2212 t+ )e\u22121 (\u03b1i )\nif i \u2208 I\u2212\n(recall that t\u2212 and t+ are defined by (2.2)). Then, for i \u2208 I+ , we have\n\u03b1(e + 1; i) =\n=\n\n\u03c4\u2212 \u03c4+ t\u2212 (t+ t\u2212 )e\u22121 (\u03b1i ) = \u03c4\u2212 \u03c4+ t\u2212 (t+ t\u2212 )e\u22121 w\u25e6 (\u2212\u03b1i\u2217 )\n\u03c4\u2212 \u03c4+ t+ (\u2212\u03b1i\u2217 ) = \u2212\u03b1i\u2217 ,\n\n\f12\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nwhereas for i \u2208 I\u2212 , we have\n\u03b1(e + 1; i) =\n=\n\n\u03c4\u2212 \u03c4+ (t\u2212 t+ )e\u22121 (\u03b1i ) = \u03c4\u2212 \u03c4+ (t\u2212 t+ )e\u22121 w\u25e6 (\u2212\u03b1i\u2217 )\n\u03c4\u2212 \u03c4+ t+ t\u2212 (\u2212\u03b1i\u2217 ) = \u2212\u03b1i\u2217 .\n\nThis proves the second statement in Part 1.\nThe proof of Part 2 is similar.\n\n\u0003\n\nAs an immediate corollary of Proposition 2.5, we obtain the following tropical\nversion of Theorem 1.2. Let D denote the group of permutations of \u03a6\u2265\u22121 generated\nby \u03c4\u2212 and \u03c4+ .\nTheorem 2.6.\n1. Every D-orbit in \u03a6\u2265\u22121 has a nonempty intersection with \u2212\u03a0. More specifically, the correspondence \u03a9 7\u2192 \u03a9 \u2229 (\u2212\u03a0) is a bijection between the D-orbits\nin \u03a6\u2265\u22121 and the h\u2212w\u25e6 i-orbits in (\u2212\u03a0).\n2. The order of \u03c4\u2212 \u03c4+ in D is equal to (h + 2)/2 if w\u25e6 = \u22121, and is equal to h + 2\notherwise. Accordingly, D is the dihedral group of order (h + 2) or 2(h + 2).\nTo illustrate, consider the case of type A2 (cf. (2.6), (2.8)). Then D is the\ndihedral group of order 10, given by\n2\n2\n= \u03c4+\n= (\u03c4\u2212 \u03c4+ )5 = 1i .\nD = h\u03c4+ , \u03c4\u2212 : \u03c4\u2212\n\n2.3. Theorem 1.6 implies Zamolodchikov's conjecture. In this section, we\nshow that Theorem 1.6 implies Theorems 1.1, 1.2, 1.4, 1.5, and 1.7. Thus, we\nassume the existence of a family of Fibonacci polynomials (F [\u03b1])\u03b1\u2208\u03a6\u2265\u22121 in the\nvariables ui (i \u2208 I) satisfying the conditions in Theorem 1.6.\nAs explained in the introduction, Theorem 1.1 is a corollary of Theorem 1.2. In\nturn, Theorem 1.2 is obtained by combining Theorem 1.4 with Theorem 2.6.\nAs for Theorems 1.4, 1.5 and 1.7, we are going to obtain them simultaneously, as\nparts of a single package. Namely, we will define the polynomials N [\u03b1] by (1.12),\nthen define the Laurent polynomials Y [\u03b1] by (1.9), and then show that these Y [\u03b1]\nsatisfy the conditions in Theorems 1.4.\nOur first task is to prove that the correspondence \u03b1 7\u2192 N [\u03b1] is well defined, i.e.,\nthe right-hand side of (1.12) depends only on \u03b1, not on the particular choice of k\nand i such that \u03b1 = \u03b1(k; i). To this end, for every k \u2208 Z and i \u2208 I, let us denote\n\u03a8(k; i) = {(\u03b1(\u2212k; j), \u2212aij ) : j \u2208 I \u2212 {i}, aij 6= 0} \u2282 \u03a6\u2265\u22121 \u00d7 Z>0 .\nThis definition is given with (1.12) in view: note that the latter can be restated as\nY\n(2.11)\nF [\u03b2]d .\nN [\u03b1(k; i)] =\n(\u03b2,d)\u2208\u03a8(k;i)\n\nLemma 2.7.\n1. The set \u03a8(k; i) depends only on the root \u03b1 = \u03b1(k; i), hence it can and will be\ndenoted by \u03a8(\u03b1).\n2. For every \u03b1 \u2208 \u03a6\u2265\u22121 and every sign \u03b5, we have\n(2.12)\n\n\u03a8(\u03c4\u03b5 \u03b1) = {(\u03c4\u2212\u03b5 \u03b2, d) : (\u03b2, d) \u2208 \u03a8(\u03b1)} .\n\n3. For every \u03b1 \u2208 \u03a6\u2265\u22121 , we have\nX\n(2.13)\nd\u03b2 \u2228 = t\u2212 \u03b1\u2228 + t+ \u03b1\u2228 .\n(\u03b2,d)\u2208\u03a8(\u03b1)\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n13\n\nProof. Parts 1 and 2 follow by routine inspection from Proposition 2.5. To prove\nPart 3, we first check that it holds for \u03b1 = \u2213\u03b1i for some i \u2208 I. Indeed, we have\n\u03a8(\u2213\u03b1i ) = {(\u2213\u03b1j , \u2212aij ) : j \u2208 I \u2212 {i}, aij 6= 0} .\nTherefore\n\u2228\n\u2228\n\u2228\nt\u2212 (\u2213\u03b1\u2228\ni ) + t+ (\u2213\u03b1i ) = \u00b1\u03b1i \u2213 (\u03b1i \u2212\n\nX\n\naij \u03b1\u2228\nj)=\n\nj6=i\n\nX\n\nd\u03b2 \u2228 ,\n\n(\u03b2,d)\u2208\u03a8(\u2213\u03b1i )\n\nas claimed. It remains to show that if (2.13) holds for some positive root \u03b1, then\nit also holds for \u03c4\u00b1 \u03b1. To see this, we notice that, by Proposition 2.4.2, we have\nt\u00b1 \u03b2 \u2228 = \u03c4\u00b1 \u03b2 \u2228 for \u03b2 \u2208 \u03a6\u22650 . Using (2.12), we then obtain\nX\nX\nd\u03b2 \u2228 = \u03b1\u2228 + t\u2212\u03b5 t\u03b5 \u03b1\u2228 = (t\u2212 + t+ )\u03c4\u03b5 \u03b1\u2228 ,\nd\u03b2 \u2228 = t\u2212\u03b5\n(\u03b2,d)\u2208\u03a8(\u03c4\u03b5 \u03b1)\n\n(\u03b2,d)\u2208\u03a8(\u03b1)\n\nas desired.\n\n\u0003\n\nBy Lemma 2.7.1, the polynomials N [\u03b1] are well defined by the formula\nY\nF [\u03b2]d\nN [\u03b1] =\n(\u03b2,d)\u2208\u03a8(\u03b1)\n\n(cf. (2.11)), for every \u03b1 \u2208 \u03a6\u2265\u22121 . We then set\nQ\n(2.14)\n\nY [\u03b1] =\n\nd\n(\u03b2,d)\u2208\u03a8(\u03b1) F [\u03b2]\n\u2228\nu\u03b1\n\n.\n\nIn particular, Y [\u2212\u03b1i ] = ui for all i. Since all the Laurent polynomials Y [\u03b1] defined\nby (2.14) have different denominators, we conclude that the correspondence \u03b1 7\u2192\nY [\u03b1] is injective. To complete the proof of Theorems 1.4, 1.5 and 1.7, it remains to\nverify the relation \u03c4\u00b1 (Y [\u03b1]) = Y [\u03c4\u00b1 (\u03b1)] for \u03b1 \u2208 \u03a6\u2265\u22121 .\nFor any sign \u03b5, we introduce the notation\nQ\n[\u03b2 \u2228 :\u03b1\u2228\nj ]\nj\u2208I\u2212\u03b5 (uj + 1)\nC\u03b5 (\u03b2) = Q\nmax([\u03b2 \u2228 :\u03b1\u2228\ni ],0)\ni\u2208I\u03b5 ui\nand use it to rewrite (1.10) as\n\n\u03c4\u03b5 (F [\u03b1]) = C\u03b5 (\u03b1)F [\u03c4\u2212\u03b5 (\u03b1)] .\nTogether with (2.14) and (2.12), this implies\nQ\nd\nd\nN [\u03c4\u03b5 \u03b1]\n(\u03b2,d)\u2208\u03a8(\u03b1) C\u03b5 (\u03b2) F [\u03c4\u2212\u03b5 (\u03b2)]\n=\n\u03c4\u03b5 (Y [\u03b1]) =\n\u2228\n\u03b1\n\u03c4\u03b5 (u )\n\u03c4\u03b5 (u\u03b1\u2228 )\nThus, it remains to verify the identity\n(2.15)\n\nY\n\n(\u03b2,d)\u2208\u03a8(\u03b1)\n\n\u2228\n\nC\u03b5 (\u03b2)d =\n\n\u03c4\u03b5 (u\u03b1 )\n.\nu\u03c4\u03b5 \u03b1\u2228\n\nY\n\n(\u03b2,d)\u2208\u03a8(\u03b1)\n\nC\u03b5 (\u03b2)d .\n\n\f14\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nUsing (1.2), (1.7), (2.1), and (2.2), we calculate the right-hand side of (2.15) as\nfollows:\nP\nQ\nQ\n[\u03b1\u2228 :\u03b1\u2228\n\u2228\n\u2212 i6=j aij [\u03b1\u2228 :\u03b1\u2228\ni ]\ni ]\n\u03c4\u03b5 (u\u03b1 )\nj\u2208I\u2212\u03b5 (uj + 1)\ni\u2208I\u2212\u03b5 ui\n=\nQ\nQ\n[\u03b1\u2228 :\u03b1\u2228\n[\u03c4\u03b5 \u03b1\u2228 :\u03b1\u2228\ni ]\ni ]\nu\u03c4\u03b5 \u03b1\u2228\ni\u2208I\u03b5 ui\ni\u2208I ui\nQ\n[t\u2212 \u03b1\u2228 +t+ \u03b1\u2228 :\u03b1\u2228\nj ]\nj\u2208I\u2212\u03b5 (uj + 1)\n=\n(2.16)\n.\nQ\n[\u03b1\u2228 +\u03c4\u03b5 \u03b1\u2228 :\u03b1\u2228\ni ]\ni\u2208I\u03b5 ui\nOn the other hand, the left-hand side of (2.15) is given by\nP\n\u2228\n\u2228\nQ\n(\u03b2,d)\u2208\u03a8(\u03b1) d [\u03b2 :\u03b1j ]\nY\n(u\n+\n1)\nj\nj\u2208I\n\u2212\u03b5\nd\nP\n(2.17)\n.\nC\u03b5 (\u03b2) = Q\n\u2228\n\u2228\n(\u03b2,d)\u2208\u03a8(\u03b1) d max([\u03b2 :\u03b1i ],0)\n(\u03b2,d)\u2208\u03a8(\u03b1)\ni\u2208I\u03b5 ui\n\nThe expressions (2.16) and (2.17) are indeed equal, for the following reasons. Their\nnumerators are equal by virtue of (2.13). If \u03b1 is a positive root, then the equality\nof denominators follows again from (2.13) (note that all the roots \u03b2 are positive as\nwell), whereas if \u03b1 \u2208 \u2212\u03a0, then both denominators are equal to 1.\nThis completes the derivation of Theorems 1.4, 1.5 and 1.7 (which in turn imply\nTheorems 1.1 and 1.2) from Theorem 1.6.\nRemark 2.8. The Laurent polynomial Y [\u03b1] + 1 has a factorization similar to the\nfactorization of Y [\u03b1] given by (2.14):\n(2.18)\n\nY [\u03b1] + 1 = Q\n\nF [\u03c4+ \u03b1]F [\u03c4\u2212 \u03b1]\nmax([\u03b1\u2228 :\u03b1\u2228\ni ],0)\n\ni\u2208I ui\n\n.\n\nThis can be deduced from Theorem 1.6 by an argument similar to the one given\nabove.\n2.4. Fibonacci polynomials. In this section we prove Theorem 1.6. We proceed\nin three steps.\nStep 1. Reduction to the simply-laced case. This is done by means of the well\nknown folding procedure-cf., e.g., [10, 1.87], although we use a different convention\n(see (2.20) below). Let \u03a6\u0303 be a simply laced irreducible root system (i.e., one of type\n \u0303 the set of simple roots \u03a0\u0303, etc. Suppose\nAn , Dn , E6 , E7 , or E8 ) with the index set I,\n\u03c1 is an automorphism of the Coxeter graph I \u0303 that preserves the parts I \u0303+ and I \u0303\u2212 .\n \u0303\n \u0303 and let \u03c0 : I \u0303 \u2192 I be the canonical\nLet I = I/h\u03c1i\nbe the set of \u03c1-orbits in I,\nprojection. We denote by the same symbol \u03c0 the projection of polynomial rings\n \u0303 \u2212\u2192 Z[ui : i \u2208 I]\nZ[u\u0129 : \u0129 \u2208 I]\n(2.19)\nu\u0129 7\u2212\u2192 u\u03c0(\u0129) .\nThe \"folded\" Cartan matrix A = (aij )i,j\u2208I is defined as follows: for i \u2208 I, pick some\n\u0129 \u2208 I \u0303 such that \u03c0(\u0129) = i, and set (\u2212aij ) for j 6= i to be the number of indices j\u0303 \u2208 I \u0303\n \u0303 It is known (and easy to check) that\nsuch that \u03c0(j\u0303) = j, and j\u0303 is adjacent to \u0129 in I.\nA is of finite type, and that all non-simply-laced indecomposable Cartan matrices\ncan be obtained this way:\n(2.20)\n\nA2n\u22121 \u2192 Bn ,\n\nDn+1 \u2192 Cn ,\n\nE6 \u2192 F4 ,\n\nD4 \u2192 G2 .\n\nThe mapping \u03a0\u0303\u2228 \u2192 \u03a0\u2228 sending each \u03b1\u2228\nto \u03b1\u2228\nextends by linearity to a surjection\n\u0129\n\u03c0(\u0129)\n\u03a6\u0303\u2228 \u2192 \u03a6\u2228 , which we will also denote by \u03c0. With even more abuse of notation, we\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n15\n\nalso denote by \u03c0 the surjection \u03a6\u0303 \u2192 \u03a6 such that (\u03c0(\u03b1\u0303))\u2228 = \u03c0(\u03b1\u0303\u2228 ). Note that\n\u03c1 extends naturally to an automorphism of the root system \u03a6\u0303, and the fibers of\nthe projection \u03c0 : \u03a6\u0303 \u2192 \u03a6 are the \u03c1-orbits on \u03a6\u0303. Also, \u03c0 restricts to a surjection\n\u03a6\u0303\u2265\u22121 \u2192 \u03a6\u2265\u22121 , and we have \u03c0 \u25e6 \u03c4\u0303\u00b1 = \u03c4\u00b1 \u25e6 \u03c0.\nThe following proposition follows at once from the above description.\nProposition 2.9. Suppose that a family of polynomials (F [\u03b1\u0303])\u03b1\u0303\u2208\u03a6\u0303\u2265\u22121 in the vari \u0303 satisfies the conditions in Theorem 1.6 for a simply laced root\nables u\u0129 (\u0129 \u2208 I)\nsystem \u03a6\u0303. Let \u03a6 be the \"folding\" of \u03a6\u0303, as described above. Then the polynomials (F [\u03b1])\u03b1\u2208\u03a6\u2265\u22121 in the variables ui (i \u2208 I) given by F [\u03b1] = \u03c0(F [\u03b1\u0303]) (cf. (2.19)),\nwhere \u03b1\u0303 \u2208 \u03a6\u0303\u2265\u22121 is any root such that \u03c0(\u03b1\u0303) = \u03b1, are well-defined, and satisfy the\nconditions in Theorem 1.6.\nThus, it is enough to calculate the Fibonacci polynomials of types ADE, and\nverify that they have the desired properties. For the other types, these polynomials\ncan be obtained by simply identifying the variables u\u0129 which fold into the same\nvariable ui .\nStep 2. Types A and D. We will now give an explicit formula for the Fibonacci\npolynomials F [\u03b1] in the case when \u03a6 is the root system of type An or Dn . Recall\nthat these systems have the property that [\u03b1 : \u03b1i ] \u2264 2 for every \u03b1 \u2208 \u03a6>0 and\nevery i \u2208 I.PLet us fix a positive root \u03b1 and abbreviate ai = [\u03b1 : \u03b1i ]. We call a\nvector \u03b3 = i ci \u03b1i of the root lattice \u03b1-acceptable if it satisfies the following three\nconditions:\n(1) 0 \u2264 ci \u2264 ai for all i;\n(2) ci + cj \u2264 2 for any adjacent vertices i and j;\n(3) there is no simple path (ordinary or closed) (i0 , i1 , * * * , im ), m \u2265 1, with\nc0 = c1 = * * * = cm = 1 and a0 = am = 1.\nIn condition 3 above, by a simple path we mean any path in the Coxeter graph\nwhose all vertices are distinct, except\nQ that we allow for i0 = im .\nAs before, we abbreviate u\u03b3 = i uci i .\nProposition 2.10. Theorem 1.6Pholds when \u03a6 is of the type An or Dn . In this\ncase, for every positive root \u03b1 = ai \u03b1i , we have\nX\nF [\u03b1] =\n(2.21)\n2e(\u03b3;\u03b1) u\u03b3 ,\n\u03b3\n\nwhere the sum is over all \u03b1-acceptable \u03b3 \u2208 Q, and e(\u03b3; \u03b1) is the number of connected\ncomponents of the set {i \u2208 I : ci = 1} that are contained in {i \u2208 I : ai = 2}.\nTo give one example, in type D4 with the labeling\nq3\n1q 2\b\nq \b ,\nHHq\n4\nwe have\nX\nX\nF (\u03b11 + 2\u03b12 + \u03b13 + \u03b14 ) = u1 u3 u4 + u22 +\nui uj +\nui + 2u2 + 1.\n1\u2264i<j\u22644\n\ni6=2\n\nProof. All we need to do is to verify that the polynomials given by (2.21) (together\nwith F [\u2212\u03b1i ] = 1 for all i \u2208 I) satisfy the relation (1.10) in Theorem 1.6.\n\n\f16\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nLet us consider a more general situation. Let I be the vertex set of an arbitrary\nfinite bipartite graph (without loops and multiple edges); we will write i \u2194 j to\ndenote that two vertices i, j \u2208 I are adjacent to each P\nother. Let Q be a free\nZ-module with a chosen basis (\u03b1i )i\u2208I . A vector \u03b1 =\ni\u2208I ai \u03b1i \u2208 Q is called\n2-restricted if 0 \u2264 ai \u2264 2 for all i \u2208 I.\nLemma 2.11. Let \u03b1 be a 2-restricted vector, and let F [\u03b1] denote the polynomial\nin the variables ui (i \u2208 I) defined by (2.21). Then\nX\nY\nP\nF [\u03b1] =\n2e(\u03b3;\u03b1) u\u03b3\n(2.22)\n(uj + 1)max(aj \u2212 i\u2194j ci ,0) ,\n\u03b3\n\nj\u2208I\u2212\n\nP\nwhere the sum is over all \u03b1-acceptable integer vectors \u03b3 = ci \u03b1i such that\nX\n(2.23)\nci .\ncj = 0 whenever j \u2208 I\u2212 and aj >\ni\u2194j\n\nProof. The proof is based on regrouping the summands in (2.21) according to the\nprojection that is defined on the set of \u03b1-acceptable vectors \u03b3 as follows: it replaces\neach coordinate cj that violates the condition (2.23) by 0.\nThe\nP equivalence of (2.21) and (2.22) is then verified as follows. Suppose that\n\u03b3=\nci \u03b1i is an\n\u2208 I\u2212 is\nP \u03b1-acceptable integer vector. Suppose furthermore that jP\nsuch that aj > i\u2194j ci . It is easy to check that, once the values of aj and i\u2194j ci\nhave been fixed, the possible choices of cj are determined as shown in the first three\ncolumns of Table 1. Comparing the last two columns completes the verification. \u0003\naj\n1\n1\n2\n2\n2\n2\n2\n\nP\n\ni\u2194j ci\n\n0\n0\n0\n0\n0\n1\n1\n\nreplacing cj by 0 results in\ndividing 2e(\u03b3;\u03b1) u\u03b3 by:\n1\nuj\n1\n2uj\nu2j\n1\nuj\n\ncj\n0\n1\n0\n1\n2\n0\n1\n\n(uj + 1)max(aj \u2212\n1 + uj\n\nP\n\ni\u2194j\n\nci ,0)\n\n(1 + uj )2\n1 + uj\n\nTable 1. Proof of Lemma 2.11\nIt will\nP be convenient to restate Lemma 2.11 as follows. For an integer vector\n\u03b3+ = i\u2208I+ ci \u03b1i satisfying the condition\n0 \u2264 ci \u2264 ai for all i \u2208 I+ ,\n\n(2.24)\n\nwe define the polynomial H[\u03b1 : \u03b3+ ] in the variables uj (j \u2208 I\u2212 ) by\nX\n(2.25)\n2e(\u03b3+ +\u03b3\u2212 ;\u03b1) u\u03b3\u2212 ,\nH[\u03b1 : \u03b3+ ] =\n\u03b3\u2212\n\nP\nwhere the sum is over all vectors \u03b3\u2212 =\nj\u2208I\u2212 cj \u03b1j such that (\u03b3+ + \u03b3\u2212 ) is \u03b1P\nacceptable, and cj = 0 whenever aj > i\u2194j ci . Then\nY\nX\nP\nu\u03b3+ H[\u03b1 : \u03b3+ ]\nF [\u03b1] =\n(2.26)\n(uj + 1)max(aj \u2212 i\u2194j ci ,0) ,\n\u03b3+\n\nj\u2208I\u2212\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n17\n\nP\nwhere the sum is over all integer vectors \u03b3+ = i\u2208I+ ci \u03b1i satisfying (2.24).\nP\nLemma\nP 2.12. Suppose that both \u03b1 = i\u2208I ai \u03b1i and \u03c4\u2212 \u03b1 are 2-restricted. Denote\n\u03b1+ = i\u2208I+ ai \u03b1i . Then H[\u03b1 : \u03b3+ ] = H[\u03c4\u2212 \u03b1 : \u03b1+ \u2212 \u03b3+ ] for any integer vector \u03b3+\nsatisfying (2.24).\nProof. We will first prove that the sets of monomials u\u03b3\u2212 that contribute to\nH[\u03b1 : \u03b3+ ] and H[\u03c4\u2212 \u03b1 : \u03b1+ \u2212 \u03b3+ ] with positive coefficients are the same, and then\ncheck the equality ofPtheir coefficients. P\nFor the first task, we need to show that if\ninteger vectors \u03b1 = i\u2208I ai \u03b1i and \u03b3 = i\u2208I ci \u03b1i satisfy the conditions\nP\n(0) 0 \u2264 ai \u2264 2 for i \u2208 I, and 0 \u2264 \u2212aj + i\u2194j ai \u2264 2 for j \u2208 I\u2212 ;\n(1) 0 \u2264 ci \u2264 ai for i \u2208 I;\n(2) ci + cj \u2264 2 for any adjacent i and j;\n(3) there is no simple path (i0 , . . . , im ), m \u2265 1, with c0 = * * * = cm = 1 and\na0 = am = 1;\nP\n(4) if cj > 0 and j \u2208 I\u2212 , then aj \u2264 i\u2194j ci ,\nP\nthenP\nthe same conditions are satisfied for the vectors \u03b1\u0303 = \u03c4\u2212 \u03b1 = i\u2208I \u00e3i \u03b1i and\n\u03b3\u0303 = i\u2208I c\u0303i \u03b1i , where\n\n(2.27)\n\nfor i \u2208 I+ ;\nP\n\u00e3j = \u2212aj + i\u2194j ai for j \u2208 I\u2212 ;\n\u00e3i = ai\n\nc\u0303i = ai \u2212 ci for i \u2208 I+ ;\n\nc\u0303j = cj for j \u2208 I\u2212 .\n\nWe do not have to prove the converse implication since the map (\u03b1, \u03b3) 7\u2192 (\u03b1\u0303, \u03b3\u0303) is\ninvolutive.\nHere is the crucial part of the required verification: we claim that conditions\n(0)-(4) leave only the five possibilities shown in Table 2 for the vicinity of a point\nj \u2208 I\u2212 such that cj > 0. (We omit the pairs of the form (ai , ci ) = (0, 0) since they\nwill be of no relevance in the arguments below.) To prove this, we first note that\nby (4), ci \u2265 1 for some i \u2194 j. It then follows from (2) that cj = 1, and furthermore\nci \u2264 1 for all i \u2194 j. By (3), if aj = 1, then (ai , ci ) 6= (1, 1) for i \u2194 j; and if aj = 2,\nthen there is at most one index i such that i \u2194 j and (ai , ci ) = (1, 1). Combining\n(0), (1) and (4), we obtain the chain of inequalities\nP\nP\n1 \u2264 cj \u2264 aj \u2264 i\u2194j ci \u2264 i\u2194j ai \u2264 aj + 2\nwhich in particular imply that there can be at most two indices i such that i \u2194 j\nand ai > ci . An easy inspection now shows that all these restrictions combined do\nindeed leave only the five possibilities in Table 2.\n\u0001\n(aj , cj )\n(ai , ci ) i\u2194j\n(1,1)\n(2, 1)\n(1,1)\n(2, 1), (1, 0)\n(2,1)\n(2, 1), (1, 1)\n(2,1)\n(2, 1), (2, 1)\n(2,1) (2, 1), (1, 1), (1, 0)\n\n\u0001\n(\u00e3j , c\u0303j )\n(\u00e3i , c\u0303i ) i\u2194j\n(1,1)\n(2, 1)\n(2,1)\n(2, 1), (1, 1)\n(1,1)\n(2, 1), (1, 0)\n(2,1)\n(2, 1), (2, 1)\n(2,1)\n(2, 1), (1, 0), (1, 1)\n\nTable 2. Proof of Lemma 2.12\nConversely, if we assume that \u03b1 and \u03b3 satisfy (0) and 0 \u2264 ci \u2264 ai for i \u2208 I+ ,\nthen the restrictions in Table 2 imply the rest of (1) as well as (2) and (4). These\n\n\f18\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nrestrictions are evidently preserved under the transformation (2.27): compare the\nleft and the right halves of Table 2. It only remains to show the following: if (\u03b1, \u03b3)\nand (\u03b1\u0303, \u03b3\u0303) satisfy (0), (1), (2), (4) and the restrictions in Table 2 but (\u03b1\u0303, \u03b3\u0303) violates\nthe only non-local condition (3), then (\u03b1, \u03b3) must also violate (3).\nNote that in each of the five cases, condition (3) is satisfied by (\u03b1\u0303, \u03b3\u0303) in the\nimmediate vicinity of the vertex j. It follows that (3) could only be violated by\na path that has at least one non-terminal vertex i \u2208 I+ (then necessarily \u00e3i = 2\nand c\u0303i = 1). It is immediate from Table 2 that the segments of this path that\nlie between such vertices remain intact under the involution (\u03b1, \u03b3) \u2194 (\u03b1\u0303, \u03b3\u0303); i.e.,\nai = \u00e3i = 2 and ci = c\u0303i = 1 holds throughout these segments. The possibilities\nat the ends of the path are then examined one by one with the help of Table 2; in\neach case, we verify that condition (3) is violated by (\u03b1, \u03b3), and we are done.\nTo complete the proof of Lemma 2.12, we need to check the equality of the\ncoefficients in the polynomials H[\u03b1 : \u03b3+ ] and H[\u03c4\u2212 \u03b1 : \u03b1+ \u2212 \u03b3+ ]. In other words,\nwe need to show that (0)\u2013(4) implies e(\u03b3; \u03b1) = e(\u03b3\u0303; \u03b1\u0303). (Recall that e(\u03b3; \u03b1) was\ndefined in Proposition 2.10.) For this, we note that ai = 2, ci = 1 is equivalent to\n\u00e3i = 2, c\u0303i = 1 for i \u2208 I+ ; and if a vertex j \u2208 I\u2212 belongs to a connected component\nin question, then we must be in the situation described in row 4 of Table 2, so the\ntransformation (\u03b1, \u03b3) 7\u2192 (\u03b1\u0303, \u03b3\u0303) does not change the vicinity of j.\n\u0003\nWith Lemmas 2.11 and 2.12 under our belt, the proof of Proposition 2.10 is\nnow completed as follows. Interchanging I+ and I\u2212 if necessary, it suffices to check\n(1.10) with \u03b5 = +. Since (2.21) gives in particular F [\u03b1i ] = ui + 1, (1.10) checks for\n\u03b1 = \u00b1\u03b1i , i.e., when one of \u03b1 and \u03c4\u2212 \u03b1 may be negative. It remains to verify (1.10)\nwhen \u03b5 = +, both roots \u03b1 and \u03c4\u2212 \u03b1 are positive, and the polynomials F [\u03b1] and\nF [\u03c4\u2212 \u03b1] are given by (2.21). Note also that when \u03a6 is simply-laced, the dual root\nsystem is canonically identified with \u03a6 by a linear isomorphism of ambient spaces;\nso we can replace each coefficient [\u03b1\u2228 : \u03b1\u2228\ni ] appearing in (1.10) by [\u03b1 : \u03b1i ] = ai .\nUsing (2.26) and Lemma 2.12, we obtain:\n\u0010Y\n\ni\u2208I+\n\n=\n\nX\n\u03b3+\n\n=\n\nX\n\nuai i\n\n\u0011\u0010 Y\n\nj\u2208I\u2212\n\n\u0011\n(uj + 1)\u2212aj \u03c4+ (F [\u03b1])\n\n\u0010Y\n\u0011 Y\nP\nH[\u03b1 : \u03b3+ ]\nuiai \u2212ci\n(uj + 1)max(0,\u2212aj + i\u2194j ci )\ni\u2208I+\n\nj\u2208I\u2212\n\nH[\u03c4\u2212 \u03b1 : \u03b1+ \u2212 \u03b3+ ] u\u03b1+ \u2212\u03b3+\n\n\u03b3+\n\n= F [\u03c4\u2212 \u03b1]\n\nY\n\n(uj + 1)max(\u00e3j \u2212\n\nj\u2208I\u2212\n\n(here we used notation (2.27)). Proposition 2.10 is proved.\n\nP\n\ni\u2194j\n\nc\u0303i ,0)\n\n\u0003\n\nRemark 2.13. We note that formula (2.21) also holds for the Fibonacci polynomial F [\u03b1] of an arbitrary 2-restricted root \u03b1 in an exceptional root system of type\nE6 , E7 , or E8 . The proof remains unchanged; the only additional ingredient is\nthe statement, easily verifiable by a direct computation, that any such root can be\nobtained from a root of the form \u2212\u03b1i , i \u2208 I, by a sequence of transformations \u03c4\u00b1 ,\nso that all intermediate roots are also 2-restricted.\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n19\n\nFormula (2.21) becomes much simpler in the special case when a positive root \u03b1\nis multiplicity-free, i.e., [\u03b1 : \u03b1i ] = 1 for all i. Let us denote\nSupp(\u03b1) = {i \u2208 I : [\u03b1 : \u03b1i ] 6= 0} .\n\n(2.28)\n\nWe call a subset \u03a9 \u2282 I totally disconnected if \u03a9 contains no two indices that are\nadjacent in the Coxeter graph. As a special case of (2.21), we obtain the following.\nProposition 2.14. For a multiplicity-free positive root \u03b1, we have\nXY\nF [\u03b1] =\n(2.29)\nui ,\n\u03a9 i\u2208\u03a9\n\nwhere the sum is over all totally disconnected subsets \u03a9 \u2282 Supp(\u03b1).\nExample 2.15. In the type An case, we can take I = [1, n] = {1, . . . , n}, with i\nand j adjacent whenever |i \u2212 j| = 1. Every positive root is multiplicity-free, and\ntheir supports are all intervals [a, b] \u2282 [1, n]. Thus, we have\nX Y\nX\n\u03b1i ] = F [a, b] =\n(2.30)\nui ,\nF[\ni\u2208[a,b]\n\n\u03a9\u2282[a,b] i\u2208\u03a9\n\nthe sum over totally disconnected subsets \u03a9 \u2282 [a, b]. For example, for n = 3, the\nFibonacci polynomials are given by\nF [1, 1] = u1 +1,\nF [2, 2] = u2 +1,\nF [3, 3] = u3 +1,\n\nF [1, 2] = u1 +u2 +1,\nF [2, 3] = u2 +u3 +1,\n\nF [1, 3] = u1 u3 +u1 +u2 +u3 +1.\n\nWhen all the ui are set to 1, the polynomials F [a, b] specialize to Fibonacci numbers,\nwhich explains our choice of the name.\nStep 3. Exceptional types. To complete the proof of Theorem 1.6, it remains to\nconsider the types E6 , E7 and E8 . In each of these cases we used (1.10) to recursively compute all Fibonacci polynomials F [\u03b1] with the help of a Maple program.\nSince some of the expressions involved are very large (for example, for the highest\nroot \u03b1max in type E8 , the polynomial F [\u03b1max ](u1 , . . . , u8 ) has 26908 terms in its\nmonomial expansion, and its largest coefficient is 3396), one needs an efficient way\nto organize these computations.\nWe introduce the variables vi = ui + 1, for i \u2208 I. Suppose that the polynomial\nF [\u03b1], for some root \u03b1 \u2208 \u03a6\u2265\u22121 , has already been computed. (As initial values, we\ncan take \u03b1 = \u2212\u03b1i , i \u2208 I, with F [\u2212\u03b1i ] = 1.) For a sign \u03b5, let us express F [\u03b1] as a\npolynomial in the variables\n(2.31)\n\n(ui : i \u2208 I\u03b5 ) \u222a (vi : i \u2208 I\u2212\u03b5 ).\n\nIn these variables, \u03c4\u01eb becomes a (Laurent) monomial transformation; in particular,\nit does not change the number of terms in the monomial expansion of F [\u03b1]. Using\nthe recursion (1.10), rewritten in the form\nQ\n[\u03b1\u2228 :\u03b1\u2228\ni ]\n\u03b5(i)=\u03b5 ui\n(2.32)\n* \u03c4\u03b5 (F [\u03b1]),\nF [\u03c4\u2212\u03b5 (\u03b1)] = Q\n[\u03b1\u2228 :\u03b1\u2228\ni ]\n\u03b5(i)=\u2212\u03b5 vi\nwe compute F [\u03c4\u2212\u03b5 (\u03b1)] as a function, indeed a polynomial, in the variables (2.31).\nWe then make the substitution vi \u2190 ui + 1 for all i \u2208 I\u2212\u03b5 to express F [\u03c4\u2212\u03b5 (\u03b1)] in\nterms of the original variables (ui )i\u2208I , and record the result in our files. Next, we\n\n\f20\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nsubstitute ui \u2190 vi \u2212 1 for all i \u2208 I\u03b5 , thus expressing F [\u03c4\u2212\u03b5 (\u03b1)] as a polynomial in\nthe variables\n(ui : i \u2208 I\u2212\u03b5 ) \u222a (vi : i \u2208 I\u03b5 ).\nWe then reset \u03b5 := \u2212\u03b5 and \u03b1 := \u03c4\u2212\u03b5 (\u03b1), completing the loop. The steps described\nabove in this paragraph are repeated until we arrive at \u03b1 = \u2212\u03b1i , for some i \u2208 I.\nTaking as initial values for \u03b1 all possible negative simple roots, we can compute all\npolynomials F [\u03b1], \u03b1 \u2208 \u03a6\u2265\u22121 .\nTo check the validity of Theorem 1.6 for a given root system \u03a6, we need to verify\nthat\n\u2022 every F [\u03b1] is a polynomial;\n\u2022 when expressed in the variables (ui )i\u2208I , each F [\u03b1] has nonnegative integer\ncoefficients and constant term 1;\n\u2022 each time the process arrives at \u03b1 = \u2212\u03b1i , it returns F [\u03b1] = 1.\nThe algorithm described above does indeed verify these properties for the types E6 ,\nE7 and E8 . This completes the proof of Theorem 1.6.\n3. Generalized assohiahedra\nThroughout this section, we retain the terminology and notation from the previous sections, with one important exception: we drop the assumption that the\nCartan matrix A is indecomposable. Thus, the corresponding (reduced finite) root\nsystem \u03a6 is no longer assumed to be irreducible, and its Coxeter graph can be a\nforest, rather than a tree. We are in fact forced to pass to this more general setting because most of the proofs in this section are based on passing from \u03a6 to a\nproper subsystem of \u03a6 which may not be irreducible even if \u03a6 is. For every subset\nJ \u2282 I, let \u03a6(J) denote the root subsystem in \u03a6 spanned by the set of simple roots\n{\u03b1i : i \u2208 J}. If I1 , . . . , Ir are the connected components of I, then \u03a6 is the disjoint\nunion of irreducible root systems \u03a6(I1 ), . . . , \u03a6(Ir ), and all results of the previous\nsections extend in an obvious way to this more general setting. In particular, we\ncan still subdivide I into the disjoint union of two totally disconnected subsets\nI+ and I\u2212 (by doing this independently for each connected component of I), and\nconsider the corresponding piecewise-linear involutions \u03c4+ and \u03c4\u2212 of the set \u03a6\u2265\u22121 .\nTheorem 1.4 holds verbatim. We note that if \u03b1 \u2208 \u03a6\u2265\u22121 belongs to an irreducible\nsubsystem \u03a6(Ik ), then the corresponding Laurent polynomial Y [\u03b1] involves only\nvariables ui for i \u2208 Ik .\n3.1. The compatibility degree. We define the function\n\u03a6\u2265\u22121 \u00d7 \u03a6\u2265\u22121\n(\u03b1, \u03b2)\n\n\u2192\n\nZ\u22650\n\n7\u2192 (\u03b1k\u03b2) ,\n\ncalled the compatibility degree (of \u03b1 and \u03b2), by\n(\u03b1k\u03b2) = [Y [\u03b1] + 1]trop (\u03b2)\n(cf. (1.13)). As before, this notation means evaluating the \"tropical specialization\"\nof the Laurent polynomial Y [\u03b1] + 1 (obtained by replacing ordinary addition and\nmultiplication by the operations (1.8)) at the tuple (ui = [\u03b2 : \u03b1i ])i\u2208I . By virtue of\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n21\n\nits definition, this function is uniquely characterized by the following two properties:\n(3.1)\n(3.2)\n\n(\u2212\u03b1i k\u03b2) = max ([\u03b2 : \u03b1i ], 0),\n(\u03c4\u03b5 \u03b1k\u03c4\u03b5 \u03b2) = (\u03b1k\u03b2),\n\nfor any \u03b1, \u03b2 \u2208 \u03a6\u2265\u22121 , any i \u2208 I, and any sign \u03b5.\nThe next proposition gives an unexpectedly simple explicit formula for the compatibility degree. This formula involves the perfect bilinear pairing\nQ\u2228 \u00d7 Q \u2192\n(\u03be, \u03b3)\n7\u2192\n\nZ\n{\u03be, \u03b3}\n\n(recall that Q is the root lattice, and Q\u2228 is the root lattice for the dual root system)\ndefined by\nX\n{\u03be, \u03b3} =\n(3.3)\n\u03b5(i)[\u03be : \u03b1\u2228\ni ][\u03b3 : \u03b1i ] .\ni\u2208I\n\nProposition 3.1. The compatibility degree (\u03b1k\u03b2) is given by\n(3.4)\n\n(\u03b1k\u03b2) = max({\u03b1\u2228 , \u03c4+ \u03b2}, {\u03c4+ \u03b1\u2228 , \u03b2}, 0) .\n\nAlternatively,\n(3.5)\n\n(\u03b1k\u03b2) = max(\u2212{\u03c4\u2212 \u03b1\u2228 , \u03b2}, \u2212{\u03b1\u2228 , \u03c4\u2212 \u03b2}, 0) .\n\nProof. First let us show that (3.4) and (3.5) agree with each other, i.e., define the\nsame function \u03a6\u2265\u22121 \u00d7 \u03a6\u2265\u22121 \u2192 Z\u22650 . To do this, we note that the pairing {*, *}\nsatisfies the identity\n!\nX\nX\n(3.6)\naij \u03bei \u03b3j = \u2212{t\u2212\u03b5 \u03be, \u03b3}\n{\u03be, t\u03b5 \u03b3} = \u2212\u03b5\n\u03bei \u03b3i +\ni\u2208I\n\n\u03b5(i)=\u03b5=\u2212\u03b5(j)\n\nfor any sign \u03b5, any \u03be \u2208 Q\u2228 and any \u03b3 \u2208 Q, where we abbreviate \u03bei = [\u03be : \u03b1\u2228\ni ] and\n\u03b3i = [\u03b3 : \u03b1i ] (this follows from (3.3) and (1.7)). Since t\u00b1 agrees with \u03c4\u00b1 on positive\nroots and coroots (see Proposition 2.4.2), we conclude that (3.4) and (3.5) agree\nwith each other on \u03a6>0 \u00d7 \u03a6>0 . It remains to treat the case when at least one of \u03b1\nand \u03b2 belongs to \u2212\u03a0. If say \u03b1 = \u2212\u03b1i with i \u2208 I+ then we have\nX\n{\u03b1\u2228 , \u03c4+ \u03b2} = [\u03b2 : \u03b1i ] +\naij max([\u03b2 : \u03b1j ], 0) \u2264 [\u03b2 : \u03b1i ] = {\u03c4+ \u03b1\u2228 , \u03b2}\nj6=i\n\nand\n\u2212{\u03b1\u2228 , \u03c4\u2212 \u03b2} = [\u03b2 : \u03b1i ] = \u2212{\u03c4\u2212 \u03b1\u2228 , \u03b2};\nthus, (3.4) and (3.5) agree in this case as well. The cases when \u03b1 = \u2212\u03b1i with\ni \u2208 I\u2212 , or \u03b2 \u2208 \u2212\u03a0 are handled in the same way.\nTo complete the proof of Proposition 3.1, note first that both (3.4) and (3.5)\nagree with (3.1) (we just demonstrated this for \u03b1 = \u2212\u03b1i with i \u2208 I+ ; the case\ni \u2208 I\u2212 is totally similar). On the other hand, (3.4) (resp., (3.5)) makes it obvious\nthat (\u03b1k\u03b2) is \u03c4+ -invariant (resp., \u03c4\u2212 -invariant), and we are done.\n\u0003\nRemark 3.2. Comparing (3.4) and (3.5), we see that the compatibility degree\n(\u03b1k\u03b2) does not depend on the choice of the sign function \u03b5 : I \u2192 {\u00b11}.\nThe following proposition summarizes some properties of (\u03b1k\u03b2).\n\n\f22\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nProposition 3.3.\n1. We have (\u03b1k\u03b2) = (\u03b2 \u2228 k\u03b1\u2228 ) for every \u03b1, \u03b2 \u2208 \u03a6\u2265\u22121 .\nIn particular, if \u03a6 is simply-laced, then (\u03b1k\u03b2) = (\u03b2k\u03b1).\n2. If (\u03b1k\u03b2) = 0, then (\u03b2k\u03b1) = 0.\n3. If \u03b1 and \u03b2 belong to \u03a6(J)\u2265\u22121 for some proper subset J \u2282 I then their compatibility degree with respect to the root subsystem \u03a6(J) is equal to (\u03b1k\u03b2).\nProof. Parts (1) and (3) are immediate from (3.4); to verify (3) in the only\nnontrivial case where both \u03b1 and \u03b2 are positive roots, expand the terms in (3.4)\nusing (3.6). To show (2), recall the following well known property of root systems:\nthere is a linear isomorphism between the dual root lattices Q and Q\u2228 under which\nevery coroot \u03b1\u2228 becomes a positive rational multiple of the corresponding root \u03b1.\nThe definition (3.3) implies that under this identification, {*, *} becomes a symmetric\nbilinear form on Q. It follows that {\u03b1\u2228 , \u03c4+ \u03b2} and {\u03c4+ \u03b2 \u2228 , \u03b1} (resp., {\u03c4+ \u03b1\u2228 , \u03b2} and\n{\u03b2 \u2228 , \u03c4+ \u03b1}) are of the same sign. In view of (3.4), we conclude that\n(\u03b1k\u03b2) = 0 \u21d4 max({\u03b1\u2228 , \u03c4+ \u03b2}, {\u03c4+ \u03b1\u2228 , \u03b2}) \u2264 0\n\u21d4 max({\u03c4+ \u03b2 \u2228 , \u03b1}, {\u03b2 \u2228 , \u03c4+ \u03b1}) \u2264 0 \u21d4 (\u03b2k\u03b1) = 0,\nas claimed.\n\n\u0003\n\n3.2. Compatible subsets and clusters. We say that two roots \u03b1, \u03b2 \u2208 \u03a6\u2265\u22121 are\ncompatible if (\u03b1k\u03b2) = 0. In view of Proposition 3.3.2, the compatibility relation is\nsymmetric. By (3.2), both \u03c4+ and \u03c4\u2212 preserve compatibility.\nDefinition 3.4. A subset of \u03a6\u2265\u22121 is called compatible if it consists of mutually\ncompatible elements. The (root) clusters associated to a root system \u03a6 are the\nmaximal (by inclusion) compatible subsets of \u03a6\u2265\u22121 .\nThe following proposition will allow us to establish properties of compatible\nsubsets and clusters using induction on the rank n = |I| of the root system.\nProposition 3.5.\n1. Both \u03c4+ and \u03c4\u2212 take compatible subsets to compatible subsets and clusters to\nclusters.\n2. If I1 , . . . , Ir \u2282 I are the connected components of the Coxeter graph,\nF then\nF the\ncompatible subsets (resp., clusters) for \u03a6 are the disjoint unions C1 * * * Cr ,\nwhere each Ck is a compatible subset (resp., cluster) for \u03a6(Ik ).\n3. For every i \u2208 I, the correspondence C 7\u2192 C \u2212 {\u2212\u03b1i } is a bijection between\nthe set of all compatible subsets (resp., clusters) for \u03a6 that contain \u2212\u03b1i and\nthe set of all compatible subsets (resp., clusters) for \u03a6(I \u2212 {i}).\nProof. Part 1 follows from the fact that \u03c4+ and \u03c4\u2212 preserve compatibility. Part 2\nfollows from the fact that \u03c4+ and \u03c4\u2212 preserve each set \u03a6(Ik )\u2265\u22121 . Part 3 follows\nfrom (3.1).\n\u0003\nFor a compatible subset C, we set\nS\u2212 (C) = {i \u2208 I : \u2212\u03b1i \u2208 C} ,\nand call S\u2212 (C) the negative support of C. We say that C is positive if S\u2212 (C) = \u2205,\ni.e., if C consists of positive roots only. The following proposition is obtained by\niterating Proposition 3.5.3.\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n23\n\nProposition 3.6. For every subset J \u2282 I, the correspondence C 7\u2192 C\u2212{\u2212\u03b1i : i \u2208 J}\nis a bijection between the set of all compatible subsets (resp., clusters) for \u03a6 with\nnegative support J and the set of all positive compatible subsets (resp., clusters) for\n\u03a6(I \u2212 J).\nWe are now ready to prove the purity property for clusters.\nProof of Theorem 1.8. We need to show that every cluster C for \u03a6 is a Z-basis\nof the root lattice Q. In view of Proposition 3.6, it suffices to prove this in the\ncase when C is positive. Combining Propositions 3.5.1 and 2.4.2, we see that both\ncollections t+ (C) and t\u2212 (C) are also clusters. Obviously, each of them is a Z-basis\nof Q if and only if this is true for C. Iterating this construction if necessary, we will\narrive at a cluster C \u2032 which is no longer positive; this follows from Theorem 2.6.1.\nNow it suffices to prove that C \u2032 is a Z-basis of Q. Again using Proposition 3.6,\nit is enough to show this for the positive part of C \u2032 , which is a cluster for a root\nsubsystem of smaller rank. Induction on the rank completes the proof.\n\u0003\n3.3. Counting compatible subsets and clusters. Let \u03a6 be a root system of\nrank n. For k = 0, . . . , n, let fk (\u03a6) denote the number of compatible k-subsets\nof \u03a6\u2265\u22121 ; in particular, fn (\u03a6) is the number of clusters associated to \u03a6. We have\nf0 (\u03a6) = 1, and f1 (\u03a6) = |\u03a6\u2265\u22121 |; if \u03a6 is irreducible, then the latter number is equal\nto |\u03a6\u2265\u22121 | = n(h + 2)/2, where h is the Coxeter number of \u03a6. Let\nX\nf (\u03a6) =\nfk (\u03a6)xk\n0\u2264k\u2264n\n\nbe the corresponding generating function.\n\nProposition 3.7.\n1. We have f (\u03a61 \u00d7 \u03a62 ) = f (\u03a61 )f (\u03a62 ).\n2. If \u03a6 is irreducible, then, for every k \u2265 1, we have\nh+2X\nfk\u22121 (\u03a6(I \u2212 {i})) .\nfk (\u03a6) =\n2k\ni\u2208I\n\nEquivalently,\n\ndf (\u03a6)\nh+2 X\n=\nf (\u03a6(I \u2212 {i})) .\ndx\n2\ni\u2208I\n\nProof. Part 1 follows at once from Proposition 3.5.2. To prove Part 2, we count\nin two different ways the number of pairs (\u03b1, S), where S \u2282 \u03a6\u2265\u22121 is a compatible\nk-subset, and \u03b1 \u2208 S. On one hand, the number of pairs in question is kfk (\u03a6).\nOn the other hand, combining Proposition 2.5/Theorem 2.6, formula (3.1), and\nProposition 3.5 (Parts 1 and 3), we conclude that the roots \u03b1 belonging to each\nD-orbit \u03a9 in \u03a6\u2265\u22121 contribute\nX\nh+2\nfk\u22121 (\u03a6(I \u2212 {i}))\n2\ni\u2208I:\u2212\u03b1i \u2208\u03a9\n\nto the count, implying the claim.\n\n\u0003\n\nProposition 3.7 provides a recursive way to compute the numbers fk (\u03a6). It can\nalso be used to obtain explicit formulas for fn (\u03a6), the total number of clusters.\nWhen \u03a6 is of some Cartan-Killing type Xn , we shall write N (Xn ) instead of fn (\u03a6).\n\n\f24\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nProposition 3.8. For every irreducible root system \u03a6, say of type Xn , the corresponding number of clusters N (Xn ) is given in Table 3.\nXn\n\nAn\n\nN (Xn )\n\n2n+2\n1\nn+2 n+1\n\n\u0001\n\nBn , Cn\n\u0001\n2n\n\nDn\n\nE6\n\u0001\n\n3n\u22122 2n\u22122\nn\nn\u22121\n\nn\n\nE7\n\nE8\n\nF4\n\n833 4160 25080 105\n\nG2\n8\n\nTable 3. Counting the clusters\n\nSince the number of clusters in type An is a Catalan number, the numbers N (Xn )\ncan be regarded as generalizations of the Catalan numbers to arbitrary Dynkin\ndiagrams. Another generalization appears in Proposition 3.9/Table 4 below.\nProof. We will present the proof for the type An ; other types are treated in\na totally similar way. Let us\u0001 abbreviate an = N (An ). We need to show that\n2k\n1\nan = cn+1 , where ck = k+1\nk denotes the kth Catalan number.\nProposition 3.7 produces the recursion\nn\n\n(3.7)\n\nan =\n\nn+3X\nai\u22121 an\u2212i ,\n2n i=1\n\nfor n \u2265 1. All we need to do is to check that the sequence an = cn+1 satisfies (3.7),\ntogether with the initial condition a0 = 1. In other words, we need to show that\nthe Catalan numbers satisfy\nn\n\nn+3X\nci cn+1\u2212i .\n2n i=1\nPn+1\nWith the help of the well known identity i=0 ci cn+1\u2212i = cn+2 , this is transformed\ninto cn+1 = n+3\n2n (cn+2 \u2212 2cn+1 ), which is easily checked using the formula for cn . \u0003\ncn+1 =\n\nProof of Theorem 1.9. Formula (1.14) follows from Proposition 3.8 by a case by\ncase inspection (the definition of the exponents ei and their values for all irreducible\nroot systems can be found in [5]).\n\u0003\nThe appearance of exponents in the formula (1.14) for the number of clusters is\na mystery to us at the moment. To add to this mystery, a similar expression can\nbe given for the number N + (Xn ) of positive clusters.\nProposition 3.9. For every Cartan-Killing type Xn , the number of positive clusters is given by\n(3.8)\n\nN + (Xn ) =\n\nn\nY\nei + h \u2212 1\n\ni=1\n\nei + 1\n\n,\n\nwhere e1 , . . . , en are the exponents of the root system of type Xn , and h is the\nCoxeter number. Explicit formulas are given in Table 4.\nProof. For each subset J \u2282 I, let N (J) (resp., N + (J)) denote the number of\nclusters (resp., positive clusters) for the root system \u03a6(J). By Proposition 3.6, we\nhave\nX\nN (I) =\n(3.9)\nN + (J) .\nJ\u2282I\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\nXn\nN (Xn )\n\nAn\n1\nn+1\n\n\u0001\n2n\nn\n\nBn , Cn\n\u0001\n2n\u22121\nn\n\nDn\n3n\u22124\nn\n\nE6\n\n\u0001\n2n\u22123\nn\u22121\n\nE7\n\nE8\n\n418 2431 17342\n\n25\n\nF4\n\nG2\n\n66\n\n5\n\nTable 4. Counting the positive clusters\n\nBy the inclusion-exclusion principle, this implies\nX\nN + (I) =\n(3.10)\n(\u22121)|I\u2212J| N (J) .\nJ\u2282I\n\nSubstituting into the right-hand side the data from Table 3, we can calculate\nN + (Xn ) for all types, and verify the formula (3.8) by a case by case inspection. To\nillustrate, consider the case of type An (other cases are treated in a similar way).\nIn that case, we can take I = [1, n], and (3.10) becomes\nX\n(3.11)\n(\u22121)|I\u2212J| cJ ,\nN + (I) =\nJ\u2282[1,n]\n\nwhere cJ denotes the product of the Catalan numbers c|Ji |+1 over all connected\ncomponents Ji of J. Let us encode each J \u2282 [1, n], say of cardinality n \u2212 k, by a\nsequence (j0 , . . . , jk ) of positive integers adding up to n + 1, as follows:\n[1, n] \u2212 J = { j0 , j0 + j1 , . . . , j0 + * * * + jk\u22121 }.\nThen cJ = cj0 * * * cjk , and therefore (3.11) can be rewritten as\nN + ([1, n]) =\n\nn\nX\n\nk=0\n\n(\u22121)k\n\nX\n\ncj0 * * * cjk .\n\nj0 +***+jk =n+1\nji >0\n\nP\nLet C = C(t) = j\u22650 cj tj = 1 + t + 2t2 + * * * be the generating function for the\nCatalan numbers; it is uniquely determined by the equation C = 1 + tC 2 . We have\nX\nX\nC \u22121\nN + ([1, n])tn = \u2212t\u22121\n(1 \u2212 C)k+1 =\n=C;\ntC\nn\u22650\n\nk\u22650\n\n+\n\nso N ([1, n]) = cn , as needed.\n\n\u0003\n\nNeedless to say, it would be nice to find a unified explanation of (1.14) and (3.8).\n3.4. Cluster expansions.\nDefinition 3.10. A cluster expansion of a vector \u03b3 in the root lattice Q is a way\nto express \u03b3 as\nX\n\u03b3=\n(3.12)\nm\u03b1 \u03b1 ,\n\u03b1\u2208\u03a6\u2265\u22121\n\nwhere all m\u03b1 are nonnegative integers, and m\u03b1 m\u03b2 = 0 whenever \u03b1 and \u03b2 are not\ncompatible. In other words, a cluster expansion is an expansion into a sum of\npairwise compatible roots in \u03a6\u2265\u22121 .\nTheorem 3.11. Every element of the root lattice has a unique cluster expansion.\n\n\f26\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nProof. Our proof follows the same strategy as the proof of Theorem 1.8 given in\nSection 3.2, although this time, we need a little bit more preparation. For \u03b3 \u2208 Q,\nset\nS+ (\u03b3) = {i \u2208 I : [\u03b3 : \u03b1i ] > 0},\nS\u2212 (\u03b3) = {i \u2208 I : [\u03b3 : \u03b1i ] < 0} .\nIn particular, for a positive root \u03b1, we have S+ (\u03b1) = Supp(\u03b1) (cf. (2.28)).\nThe following lemma is an easy consequence of (3.1).\nLemma 3.12. Suppose that \u03b1 \u2208 \u03a6\u2265\u22121 occurs in a cluster expansion of \u03b3, that is,\nm\u03b1 > 0 in (3.12). Then either \u03b1 is a positive root with Supp(\u03b1) \u2282 S+ (\u03b3), or else\n\u03b1 = \u2212\u03b1i for some i \u2208 S\u2212 (\u03b3). In particular, if \u03b3 \u2208 Q+ , then a cluster expansion of\n\u03b3 may only involve positive roots.\nLet us denote\n\u03b3 (+) =\n\nX\n\nmax([\u03b3 : \u03b1i ], 0)\u03b1i =\n\ni\u2208I\n\nX\n\n[\u03b3 : \u03b1i ]\u03b1i .\n\ni\u2208S+ (\u03b3)\n\nThe next lemma follows at once from Lemma 3.12.\nLemma 3.13. A vector \u03b3 \u2208 Q has a unique cluster expansion if and only if \u03b3 (+)\nhas a unique cluster expansion with respect to the root system \u03a6(S+ (\u03b3)).\nIn view of Lemma 3.13, it suffices to prove Theorem 3.11 for \u03b3 \u2208 Q+ . Lemma 3.12\nimplies in particular that the statement holds for \u03b3 = 0, so we can assume that\n\u03b3 6= 0. We can also assume without loss of generality that \u03a6 is irreducible (cf.\nProposition 3.5.2). Let \u03b5 \u2208 {+, \u2212}. Combining Propositions 2.4.2 and 3.5.1, we\nconclude that\nX\n\u03b3=\nm\u03b1 \u03b1\n\u03b1\u2208\u03a6\u2265\u22121\n\nis a cluster expansion of \u03b3 if and only if\nX\nt\u03b5 \u03b3 =\n\nm\u03b1 \u03c4\u03b5 \u03b1\n\n\u03b1\u2208\u03a6\u2265\u22121\n\nis a cluster expansion of t\u03b5 \u03b3. Thus, \u03b3 has a unique cluster expansion if and only if\nt\u03b5 \u03b3 has.\nTo complete the proof, note that some product of the transformations t+ and\nt\u2212 must move \u03b3 outside Q+ . Indeed, w\u25e6 \u03b3 \u2208 \u2212Q+ , and w\u25e6 can be written as such\na product by Lemma 2.1. Using this fact, we can assume without loss of generality\nthat already say t+ \u03b3 \u2208\n/ Q+ (while \u03b3 \u2208 Q+ ). By Lemma 3.13, the statement that\n\u03b3 has a unique cluster expansion follows from the same property for the vector\n(t+ \u03b3)(+) , which lies in a root lattice of smaller rank. The proof of Theorem 3.11 is\nnow completed by induction on the rank.\n\u0003\nProof of Theorem 1.10. Theorem 1.10 is essentially a direct corollary of Theorem 3.11. We need to show two things:\n(i) no two of the cones R\u22650 C generated by clusters have a common interior point;\n(ii) the union of these cones is the entire space QR .\nTo show (i), assume on the contrary that two of the cones R\u22650 C have a common\ninterior point. Since the rational vector space QQ is dense in QR , it follows that\nthere is a common interior point in QQ . Multiplying if necessary by a suitable\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n27\n\npositive integer, we conclude that there is also a common interior point in Q. Since\nwe have already proved that every cluster is a Z-basis of Q, the latter statement\ncontradicts the uniqueness of a cluster expansion in Theorem 3.11.\nTo show (ii), note that the existence of a cluster expansion in Theorem 3.11\nimplies that the union of the cones R\u22650 C contains Q. Since this union is closed\nin QR and is stable under multiplication by positive real numbers, it is the entire\nspace QR , and we are done.\n\u0003\n3.5. Compatible subsets and clusters for the classical types.\nType An . We use the standard labeling of the simple roots by the set I = [1, n] =\n{1, . . . , n}. Thus, the Coxeter graph is the chain with the vertices 1, . . . , n, and the\npositive roots are given by \u03b1ij = \u03b1i + \u03b1i+1 + * * * + \u03b1j , for 1 \u2264 i \u2264 j \u2264 n. For\ni \u2208 [1, n], we set \u03b5(i) = (\u22121)i\u22121 .\nThe cardinality of the set \u03a6\u2265\u22121 is equal to\nl(w\u25e6 ) + n =\n\nn(n + 3)\nn(n + 1)\n+n=\n.\n2\n2\n\nThis number is also the cardinality of the set of diagonals in a convex (n + 3)-gon.\nWe shall identify these two sets as follows. (Refer to Figure 4.)\nLet P1 , . . . , Pn+3 be the vertices of a regular convex (n + 3)-gon, labeled counterclockwise. For 1 \u2264 i \u2264 n+1\n2 , we identify the root \u2212\u03b12i\u22121 \u2208 \u03a6\u2265\u22121 with the\ndiagonal [Pi , Pn+3\u2212i ]; for 1 \u2264 i \u2264 n2 , we identify the root \u2212\u03b12i with the diagonal\n[Pi+1 , Pn+3\u2212i ]. These diagonals form a \"snake\" shown in Figure 3. To identify the\nremaining diagonals (not belonging to the snake) with positive roots, we associate\neach \u03b1ij with the unique diagonal that crosses the diagonals \u2212\u03b1i , \u2212\u03b1i+1 , . . . , \u2212\u03b1j\nand does not cross any other diagonal \u2212\u03b1k on the snake. (From this point on, we\nshall use the term \"cross\" to mean \"intersect inside the polygon.\")\nP5\nP4\nr\nr\nHH\n@\nHH\n@\n\u2212\u03b15 HH\n@\nHH @\nH\nH@\nH\n\u2212\u03b14\nHr P3\n@\n\nr\nP6 P\nPP\nPP\nPP\n\u2212\u03b13\nPP\nPP\nPP\nPP\nPP\n\u2212\u03b1\n2\nPr P2\nP7 rH\n@HH\n@ HH\nHH\n@\n\u2212\u03b11\nHH\n@\nHH\n@\nHr\n@r\nP8\nP1\nFigure 3. The \"snake\" in type A5\n\n\f28\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nP4\nr\n\nP5\n\nP3\nr\n\n\u03b11 + \u03b12\nr\n\u2212\u03b11\n\n\u2212\u03b12\n\n\u03b11\n\nr\nP1\n\n\u03b12\n\nr\nP2\n\nFigure 4. Labelling of diagonals in type A2\nUnder the identification described above, all notions related to compatible subsets and clusters of type An can be translated into the language of plane geometry.\nThe following proposition is checked by direct inspection.\nProposition 3.14. Let \u03a6 be a root system of type An .\n1. The transformation \u03c4+ (resp., \u03c4\u2212 ) acts in \u03a6\u2265\u22121 by the orthogonal reflection\nof the (n + 3)-gon that sends each vertex Pi to Pn+4\u2212i (resp., to Pn+3\u2212i ,\nwith the convention P0 = Pn+3 ). Thus, \u03c4\u2212 \u03c4+ (resp., \u03c4+ \u03c4\u2212 ) acts by clockwise\n2\u03c0\n(resp., counter-clockwise) rotation by n+3\n.\n2. For \u03b1, \u03b2 \u2208 \u03a6\u2265\u22121 , the compatibility degree (\u03b1k\u03b2) is equal to 1 if the diagonals\n\u03b1 and \u03b2 cross each other, and 0 otherwise.\n3. Compatible sets are collections of mutually non-crossing diagonals. Thus,\nclusters are in bijection with triangulations of the (n + 3)-gon by non-crossing\ndiagonals (and therefore with non-crossing partitions of [1, n + 1]; see, e.g.,\n[20, 5.1]).\n4. Two triangulations are joined by an edge in the exchange graph if and only\nif they are obtained from each other by a flip which replaces a diagonal in a\nquadrilateral formed by two triangles of the triangulation by another diagonal\nof the same quadrilateral.\n(Recall that according to Definition 1.14, the vertices of the exchange graph are\nthe clusters, and two of them are connected by an edge if they intersect by n\u2212 1\nelements.)\nThe description of the exchange graph in Proposition 3.14 implies Conjecture 1.13\nfor the type An . It shows that the polytope in question is the Stasheff polytope, or\nassociahedron (see [22], [16], [12, Chapter 7]).\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n29\n\nTypes Bn and Cn . Let \u03a6 be a root system of type Bn , and \u03a6\u2228 the dual root\nsystem of type Cn . To describe compatible subsets for \u03a6 and \u03a6\u2228 , we employ the\nfolding procedure A2n\u22121 \u2192 Bn discussed at the beginning of Section 2.4. Let \u03a6\u0303 be\na root system of type A2n\u22121 , and let \u03c1 be the automorphism of \u03a6\u0303 that sends each\nsimple root \u03b1\u0303i to \u03b1\u03032n\u2212i . Then each of the sets \u03a6\u2265\u22121 and \u03a6\u2228\n\u2265\u22121 can be identified\nwith the set of \u03c1-orbits in \u03a6\u0303\u2265\u22121 . This identification induces the labeling of simple\nroots of type Bn by [1, n] and also the choice of a sign function \u03b5: thus, a simple\nroot \u03b1i in \u03a6 corresponds to the \u03c1-orbit of \u03b1\u0303i , and \u03b5(i) = (\u22121)i\u22121 .\nWe represent the elements of \u03a6\u0303\u2265\u22121 as diagonals of the regular (2n + 2)-gon,\nas described above in our discussion of the type A case. Then \u03c1 is geometrically\nrepresented by the central symmetry (or, equivalently, the 180\u25e6 rotation) of the\ndef\n\npolygon, which sends each vertex P = P\u0129 to the antipodal vertex \u2212P = Phn+1+\u0129i ;\nhere hmi denotes the element of [1, 2n + 2] congruent to m modulo 2n + 2. We shall\nrefer to the diagonals that join antipodal vertices as diameters. It follows that one\ncan represent an element of \u03a6\u2265\u22121 (resp., \u03a6\u2228\n\u2265\u22121 ) either as a diameter [P, \u2212P ], or as as\nan unordered pair of centrally symmetric non-diameter diagonals {[P, Q], [\u2212P, \u2212Q]}\nof the (2n + 2)-gon. In particular, each of the roots \u2212\u03b1i (resp., \u2212\u03b1\u2228\ni ) for i =\n1, . . . , n \u2212 1 is identified with the pair of diagonals representing \u2212\u03b1\u0303i and \u2212\u03b1\u03032n\u2212i ,\nwhereas \u2212\u03b1n (resp., \u2212\u03b1\u2228\nn ) is identified with the diameter representing \u2212\u03b1\u0303n .\nThe case n = 3 of this construction is illustrated in Figure 5.\nProposition 3.14 implies the following.\nProposition 3.15. Let \u03a6 be a root system of type Bn , and \u03a6\u2228 the dual root system\nof type Cn .\n1. The transformations \u03c4+ , \u03c4\u2212 and their compositions have the same geometric\nmeaning as in Proposition 3.14.1.\n2. For \u03b1, \u03b2 \u2208 \u03a6\u2265\u22121 , the compatibility degree (\u03b1k\u03b2) = (\u03b2 \u2228 k\u03b1\u2228 ) (cf. Proposition 3.3.1) has the following geometric meaning: if [P, Q] is one of the diagonals representing \u03b1, then (\u03b1k\u03b2) is equal to the number of crossings of [P, Q]\nby the diagonals representing \u03b2.\n3. The clusters for type Bn or Cn are in bijection with centrally symmetric triangulations of a regular (2n + 2)-gon by non-crossing diagonals.\n4. Two centrally symmetric triangulations are joined by an edge in the exchange\ngraph E(\u03a6) (or E(\u03a6\u2228 )) if and only if they are obtained from each other either\nby a flip involving two diameters (see Proposition 3.14.4), or by a pair of\ncentrally symmetric flips.\nThe above description of the exchange graph of type B shows that the corresponding simplicial complex \u2206(\u03a6) is identical to Simion's type B associahedron (see\n[20, Section 5.2] and [21]). The centrally symmetric triangulations that label its vertices (and our clusters) are in bijection with noncrossing partitions of type B defined\nby V. Reiner [19]. As shown by S. Devadoss [7], Simion's construction is combinatorially equivalent to the \"cyclohedron\" complex of R. Bott and C. Taubes [4].\nThis implies Conjecture 1.13 for the types Bn and Cn , since the cyclohedron can\nbe realized as a convex polytope (see M. Markl [17] or R. Simion [21]).\nThe number of centrally symmetric triangulations\nof a regular (2n + 2)-gon by\n\u0001\nnon-crossing diagonals is equal to (n + 1)cn = 2n\n,\nin\nagreement with the type Bn\nn\nentry in Table 3. Indeed, any such triangulation involves precisely one diameter;\nwe have n + 1 choices for it, and cn ways to complete a triangulation thereafter.\n\n\f30\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\n\u2212P1\nP4\nr\nr\nHH\n@\nHH\n@\nH\n\u2212\u03b11 H\n@\nHH @\nHH@\nH@\n\u2212\u03b12\nHr P3\n\nr\n\u2212P2 P\nPP\nPP\nPP\n\u2212\u03b13\nPP\nPP\nPP\nPP\nPP\n\u2212\u03b12\nr\nPr P2\n\u2212P3 H\n@H\n@HH\n@ HH\nHH \u2212\u03b11\n@\nH\n@\nHH\n@r\nHr\n\u2212P4\nP1\ntype B root\n\ntype C root\n\ndiameter or pair of diagonals\n\n\u03b11\n\n\u03b1\u2228\n1\n\n[\u00b1P2 , \u2213P4 ]\n\n\u03b12\n\n\u03b1\u2228\n2\n\n[\u00b1P1 , \u2213P2 ]\n\n\u03b11 + \u03b12\n\n\u2228\n\u03b1\u2228\n1 + \u03b12\n\n[\u00b1P2 , \u00b1P4 ]\n\n\u03b12 + 2\u03b13\n\n\u2228\n\u03b1\u2228\n2 + \u03b13\n\n\u03b11 + \u03b12 + 2\u03b13\n\n\u03b1\u2228\n1\n\n+\n\n\u03b1\u2228\n2\n\n+\n\n[\u00b1P1 , \u00b1P3 ]\n\u03b1\u2228\n3\n\n[\u00b1P3 , \u2213P4 ]\n\n\u03b11 + 2\u03b12 + 2\u03b13\n\n\u2228\n\u2228\n\u03b1\u2228\n1 + 2\u03b12 + \u03b13\n\n[\u00b1P1 , \u00b1P4 ]\n\n\u03b13\n\n\u03b1\u2228\n3\n\n[P3 , \u2212P3 ]\n\n\u03b12 + \u03b13\n\n\u2228\n2\u03b1\u2228\n2 + \u03b13\n\n[P1 , \u2212P1 ]\n\n\u03b11 + \u03b12 + \u03b13\n\n\u2228\n\u2228\n2\u03b1\u2228\n1 + 2\u03b12 + \u03b13\n\n[P4 , \u2212P4 ]\n\nFigure 5. Representing the roots in \u03a6\u2265\u22121 for the types B3 and C3\nType Dn . Let \u03a6 be a root system of type Dn . We use the following numbering\nof simple roots: the indices 1, . . . , n \u2212 2 form a chain in the Coxeter graph I, while\nboth n \u2212 1 and n are adjacent to n \u2212 2. (See Figure 6.) We also use the following\nsign function: \u03b5(i) = (\u22121)i\u22121 for i \u2208 [1, n \u2212 1], and \u03b5(n) = (\u22121)n .\n1r\n\n2r\n\nr\n\nr\n\nr\n\nr\n\nr n\u22121\n\b\b\nn\u22122\b\nr\nH\nHHr\nn\n\nFigure 6. Coxeter graph of type Dn\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n31\n\nThe folding Dn \u2192 Cn\u22121 motivates our choice of a geometric realization of \u03a6\u2265\u22121 .\nThus, we have the canonical surjection \u03c0 : \u03a6\u2265\u22121 \u2192 \u03a6\u2032\u2265\u22121 , where \u03a6\u2032 is the root\nsystem of type Bn\u22121 . Let \u03b11 , . . . , \u03b1n be the simple roots of \u03a6, and \u03b1\u20321 , . . . , \u03b1\u2032n\u22121\nthe simple roots of \u03a6\u2032 . The projection \u03c0 is two-to-one over the n-element subset\nPn\u22121 \u2032\n\u2032\nD = {\u2212\u03b1\u2032n\u22121 ,\nj=i \u03b1j (1 \u2264 i \u2264 n \u2212 1)} \u2282 \u03a6\u2265\u22121 ,\n\nand one-to-one over its complement \u03a6\u2032\u2265\u22121 \u2212 D.\nAs before, we identify \u03a6\u2032\u2265\u22121 with the set of diameters [P, \u2212P ] and unordered\npairs of centrally symmetric non-diameter diagonals {[P, Q], [\u2212P, \u2212Q]} in a regular\n2n-gon. Under this identification, D becomes the set of diameters. Motivated by\nthe above description of the projection \u03c0 : \u03a6\u2265\u22121 \u2192 \u03a6\u2032\u2265\u22121 , we shall identify \u03a6\u2265\u22121\nwith the disjoint union \u03a6\u2032\u2265\u22121 \u222a D\u2032 , where D\u2032 is an additional set of n elements\n[P, \u2212P ]\u2032 associated with the diameters of the 2n-gon. It is convenient to think that\neach diameter in \u03a6\u2265\u22121 is colored in one of two different colors.\nTo specify the bijection between \u03a6\u2265\u22121 and \u03a6\u2032\u2265\u22121 \u222a D\u2032 , we have to make a\nchoice: for every \u03b1\u2032 \u2208 D, we must decide which of the two roots \u03b1 in \u03c0 \u22121 (\u03b1\u2032 ) is\nto be identified with the diameter [P, \u2212P ] representing \u03b1\u2032 ; the remaining element\nof \u03c0 \u22121 (\u03b1\u2032 ) will then be identified with [P, \u2212P ]\u2032 \u2208 D\u2032 . Our choice is the following:\ntake \u03b1 = \u2212\u03b1n for \u03b1\u2032 = \u2212\u03b1\u2032n\u22121 , and \u03b1 = \u03b1i + * * * + \u03b1n\u22121 for \u03b1\u2032 = \u03b1\u2032i + * * * + \u03b1\u2032n\u22121 .\nThe case n = 4 of this construction is illustrated in Figure 7.\nThe following type Dn counterpart of Propositions 3.14\u20133.15 is verified by a\ndirect inspection.\nProposition 3.16. Let \u03a6 be a root system of type Dn .\n1. The transformations \u03c4+ and \u03c4\u2212 of \u03a6\u2265\u22121 are realized by the same reflections\nas in Propositions 3.14.1 and 3.15.1, with the following modification: \u03c4(\u22121)n\ninvolves changing the colors of all diameters.\n2. For \u03b1, \u03b2 \u2208 \u03a6\u2265\u22121 , the compatibility degree (\u03b1k\u03b2) = (\u03b2k\u03b1) has the following\ngeometric meaning:\n\u2022 if \u03b1 \u2208\n/ D\u222aD\u2032 , \u03b2 \u2208\n/ D\u222aD\u2032 , then (\u03b1k\u03b2) is the same as in Proposition 3.15.2;\n\u2022 if, say, \u03b1 \u2208 D \u222aD\u2032 , \u03b2 \u2208\n/ D \u222aD\u2032 , then (\u03b1k\u03b2) = 1 if the diameter representing\n\u03b1 crosses both diagonals representing \u03b2; otherwise, (\u03b1k\u03b2) = 0;\n\u2022 if \u03b1, \u03b2 \u2208 D or \u03b1, \u03b2 \u2208 D\u2032 , then (\u03b1k\u03b2) = 0;\n\u2022 if \u03b1 \u2208 D and \u03b2 \u2208 D\u2032 , then (\u03b1k\u03b2) = 1 if the diameters representing \u03b1 and\n\u03b2 are different; otherwise, (\u03b1k\u03b2) = 0.\n3. The clusters for type Dn are in bijection with centrally symmetric colored\ntriangulations of the regular 2n-gon which fit the following description (see\nFigure 8):\n\u2022 each triangulation is made of non-diameter diagonals together with at\nleast two colored diameters (that is, elements of either D or D\u2032 );\n\u2022 the diagonals making up a triangulation do not have common internal\npoints, except for diameters of the same color crossing at the center, or\ndiameters of different color connecting the same antipodal points.\n4. Two triangulations of the kind described in Part 3 above are joined by an edge\nin the exchange graph E(\u03a6) if and only if they are obtained from each other\nby one of the \"type D flips\" shown in Figure 9:\n(a) a pair of centrally symmetric flips (cf. Proposition 3.14.4);\n(b) a flip involving two diameters of different colors;\n(c) a \"hexagonal flip\" exchanging a diameter with a pair of diagonals.\n\n\f32\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nReferences\n[1] C. Athanasiadis, On noncrossing and nonnesting partitions for classical reflection groups,\nElectron. J. Combin. 5 (1998), Research Paper 42, 16 pp. (electronic).\n[2] A. Berenstein, S. Fomin and A. Zelevinsky, Parametrizations of canonical bases and totally\npositive matrices, Adv. Math. 122 (1996), 49\u2013149.\n[3] A. Berenstein and A. Zelevinsky, Tensor product multiplicities, canonical bases and totally\npositive varieties, Invent. Math. 143 (2001), 77\u2013128.\n[4] R. Bott and C. Taubes, On the self-linking of knots. Topology and physics, J. Math. Phys.\n35 (1994), no. 10, 5247\u20135287.\n[5] N. Bourbaki, Groupes et alg\u00e8bres de Lie, Ch. IV-VI, Hermann, Paris, 1968.\n[6] R. Caracciolo, F. Gliozzi, and R. Tateo, A topological invariant of RG flows in 2D integrable\nquantum field theories, Internat. J. Modern Phys. B 13 (1999), no. 24-25, 2927\u20132932.\n[7] S. L. Devadoss, A space of cyclohedra, preprint math.QA/0102166.\n[8] S. Fomin and A. Zelevinsky, Cluster algebras I: Foundations, J. Amer. Math. Soc., to appear.\n[9] S. Fomin and A. Zelevinsky, The Laurent phenomenon, Adv. in Appl. Math., to appear.\n[10] L. Frappat, A. Sciarrino, and P. Sorba, Dictionary on Lie algebras and superalgebras, Academic Press, San Diego, CA, 2000.\n[11] E. Frenkel and A. Szenes, Thermodynamic Bethe ansatz and dilogarithm identities. I, Math.\nRes. Lett. 2 (1995), no. 6, 677\u2013693.\n[12] I. Gelfand, M. Kapranov, and A. Zelevinsky, Discriminants, Resultants and Multidimensional Determinants, Birkh\u00e4user Boston, 1994, 523 pp.\n[13] F. Gliozzi and R. Tateo, Thermodynamic Bethe ansatz and three-fold triangulations, Internat. J. Modern Phys. A 11 (1996), no. 22, 4051\u20134064.\n[14] A. Kuniba and T. Nakanishi, Spectra in conformal field theories from the Rogers dilogarithm, Modern Phys. Lett. A 7 (1992), no. 37, 3487\u20133494.\n[15] A. Kuniba, T. Nakanishi, and J. Suzuki, Functional relations in solvable lattice models. I.\nFunctional relations and representation theory, Internat. J. Modern Phys. A 9 (1994), no. 30,\n5215\u20135266.\n[16] C. W. Lee, The associahedron and triangulations of the n-gon, European J. Combin. 10\n(1989), no. 6, 551\u2013560.\n[17] M. Markl, Simplex, associahedron, and cyclohedron, Contemp. Math. 227 (1999), 235\u2013265.\n[18] F. Ravanini, A. Valleriani, and R. Tateo, Dynkin TBAs, Internat. J. Modern Phys. A 8\n(1993), no. 10, 1707\u20131727.\n[19] V. Reiner, Non-crossing partitions for classical reflection groups, Discrete Math. 177 (1997),\n195\u2013222.\n[20] R. Simion, Noncrossing partitions, Discrete Math. 217 (2000), no. 1-3, 367\u2013409.\n[21] R. Simion, A type-B associahedron, Adv. in Appl. Math., to appear.\n[22] J. D. Stasheff, Homotopy associativity of H-spaces. I, II, Trans. Amer. Math. Soc. 108\n(1963), 275\u2013292, 293\u2013312.\n[23] Al. B. Zamolodchikov, On the thermodynamic Bethe ansatz equations for reflectionless\nADE scattering theories, Phys. Lett. B 253 (1991), 391\u2013394.\n[24] G. M. Ziegler, Lectures on polytopes, Springer-Verlag, New York, 1995.\nDepartment of Mathematics, University of Michigan, Ann Arbor, MI 48109, USA\nE-mail address: fomin@umich.edu\nDepartment of Mathematics, Northeastern University, Boston, MA 02115\nE-mail address: andrei@neu.edu\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\n\u2212P1\nP4\nr\nr\nHH\n@\nHH\n@\n\u2212\u03b11 HH\n@\nHH @\nHH@\nH@\n\u2212\u03b12\nHr P3\n\nrP\n\u2212P2 P\nP PP\nP\nPP\nP\nPPP\nP\nPPP\u2212\u03b14\nP\nPPP\nP PP\n\u2212\u03b1P\n3 P\nPP\nP\nPPP\nP\nPPP\n\u2212\u03b1\n2\nP\nPPr P2\nr\n\u2212P3 H\n@HH\n@ HH\n@\nHH\n\u2212\u03b11\n@\nHH\n@\nHH\n@r\nHr\n\u2212P4\nP1\ntype B root\n\ntype D root\n\ndiameter or pair of diagonals\n\n\u2212\u03b11\n\n\u2212\u03b11\n\n[\u00b1P1 , \u2213P3 ]\n\n\u2212\u03b12\n\n\u2212\u03b12\n\n[\u00b1P2 , \u2213P3 ]\n\n\u03b11\n\n\u03b11\n\n[\u00b1P2 , \u2213P4 ]\n\n\u03b12\n\n\u03b12\n\n[\u00b1P1 , \u2213P2 ]\n\n\u03b11 + \u03b12\n\n\u03b11 + \u03b12\n\n[\u00b1P2 , \u00b1P4 ]\n\n\u03b12 + 2\u03b13\n\n\u03b12 + \u03b13 + \u03b14\n\n[\u00b1P1 , \u00b1P3 ]\n\n\u03b11 + \u03b12 + 2\u03b13\n\n\u03b11 + \u03b12 + \u03b13 + \u03b14\n\n[\u00b1P3 , \u2213P4 ]\n\n\u03b11 + 2\u03b12 + 2\u03b13\n\n\u03b11 + 2\u03b12 + \u03b13 + \u03b14\n\n[\u00b1P1 , \u00b1P4 ]\n\n\u2212\u03b13\n\n\u2212\u03b14\n\n[P2 , \u2212P2 ]\n\n\u2212\u03b13\n\n[P2 , \u2212P2 ]\u2032\n\n\u03b13\n\n[P3 , \u2212P3 ]\n\n\u03b14\n\n[P3 , \u2212P3 ]\u2032\n\n\u03b12 + \u03b13\n\n[P1 , \u2212P1 ]\n\n\u03b12 + \u03b14\n\n[P1 , \u2212P1 ]\u2032\n\n\u03b11 + \u03b12 + \u03b13\n\n[P4 , \u2212P4 ]\n\n\u03b11 + \u03b12 + \u03b14\n\n[P4 , \u2212P4 ]\n\n\u03b13\n\n\u03b12 + \u03b13\n\n\u03b11 + \u03b12 + \u03b13\n\nFigure 7. Representing the roots in \u03a6\u2265\u22121 for the type D4\n\n33\n\n\f34\n\nSERGEY FOMIN AND ANDREI ZELEVINSKY\n\nA\nAr\n\u0001\n\u0001\n\nr\nr\nA Q\nA\n\u0001Q\n\u0001 A Q A\nA QQA\n\u0001\nA\nQ\nAr\n\u0001r\nQ\nA\n\u0001\nA Q\n\u0001\nA Q A\nA QQA \u0001\nAr\u0001\nQ\nAr\n\nr\nr\n\u0011\n\u0001\n\u0011 \u0001A\n\u0001 \u0011 \u0001 A\nA\n\u0001\u0011\u0011 \u0001\nAr\n\u0001r\u0011\n\u0001\n\u0011\nA\n\u0001\n\u0011 \u0001\nA\n\u0001 \u0011 \u0001\nA \u0001\u0011\u0011 \u0001\nAr\u0011\nr\u0001\n\u0001\n\nA\nAr\n\u0001\n\u0001\n\nr\nr\n\u0001AQQ\nA\n\u0001\nQ A\nQ A\nAA\n\u0001\nQ\n\u0001r\nAr\nQ\nA\nA\nQ\nA Q\n\u0001\nA Q\n\u0001\nAA\nA QQ \u0001\nAAr\u0001\nAr\nQ\n\nr\nr\n\u0011\n\u0001\n\u0011 \u0001A\n\u0001 \u0011\nA\n\u0001\u0001\n\u0001\u0011\u0011\nA\n\u0001r\u0011\nAr\n\u0001\n\u0001\n\u0011\nA\n\u0011 \u0001\n\u0011 \u0001\nA\n\u0001\u0001\nA \u0011\u0011 \u0001\n\u0001\nAr\u0001\u0011\nr\u0001\n\nr\n\u0001\u0001A\n\u0001 A\n\u0001\u0001\u0001\n\u0001\nA\n\u0001r\nAr\n\u0001\u0001\nA\n\u0001\n\u0001\nA\n\u0001\n\u0001\u0001\u0001\nA \u0001\n\u0001\nA\u0001\u0001r\u0001\n\u0001\nr\n\nr\nr\n\u0001AQ\nA\nAA Q\n\u0001 A Q A\nAAA Q A\n\u0001\nQ\n\u0001r\nAr\nQ\nAAA\nQ\nA\nA Q\n\u0001\nA Q AAA\n\u0001\nA QQ A \u0001\nAAr\u0001\nAr\nQ\n\nr\nr\n\u0011A\n\u0001\n\u0011\n\u0001 \u0011\nA\n\u0011\n\u0001\u0011\nA\n\u0011\n\u0001r\nAr\n\u0011\nA\n\u0011 \u0001\n\u0011 \u0001\nA\nA \u0011\u0011 \u0001\nA\u0011\nr\nr\u0001\n\nr\nr\n\u0001AAA\nA\n\u0001 A\nA\nAAA\n\u0001\nA\nAA\n\u0001r\nAr\nAA\nA\n\u0001\nA\n\u0001\nAAA\nA \u0001\nA\nAA\u0001\nAr\nr\n\nr\nr\n\u0001QQ\nA\n\u0001\nQ A\nQ A\n\u0001\nQ\n\u0001r\nAr\nQ\nQ\nA Q\n\u0001\nA Q\n\u0001\nA QQ \u0001\nAr\nQr\u0001\n\nr\nr\n\u0011\n\u0001\n\u0011 \u0001\u0001A\n\u0001 \u0011 \u0001 A\n\u0001\u0001\n\u0001\u0011\u0011\nA\n\u0011\n\u0001r\nAr\n\u0001\n\u0001\n\u0001\u0001\n\u0011\nA\n\u0011 \u0001\nA\n\u0001\u0001\u0001 \u0011 \u0001\nA \u0001\u0011\u0011 \u0001\n\u0001r\u0001\nA\u0001\u0011\nr\u0001\n\nr\n\u0001A\n\nr\n\u0001\u0001A\n\n\u0001\n\u0001r\nA\nA\n\n\u0001\n\u0001r\nA\nA\n\nr\n\u0001A\n\u0001 A\n\nA \u0001\nAr\u0001\nr\n\u0001A\n\u0001\n\nA \u0001\nA\u0001\n\u0001A\n\u0001 A\n\nAA\n\nr\n\u0001A\n\u0001 A\n\nA \u0001\nA\u0001\nr\n\n\u0001\n\nr\n\u0001A\nA\n\nA\u0001A\u0001\nA\nAr\u0001\u0001\n\u0001\n\u0001\n\n\u0001\u0001\n\nAA\n\n\u0001\nAA\u0001\nr\n\nr\n\n\u0001r\nA\n\n\u0001\n\u0001\nA\nA\n\nr\n\u0001A\n\nA\u0001r\n\nA\nA\n\u0001\n\u0001\n\nA\u0001\n\u0001A\n\n\u0001\n\u0001\nA\nA\n\nA\u0001r\n\nA\nA\n\u0001\n\u0001\n\nAr\n\u0001\n\n\u0001r\nA\n\n\u0001\n\u0001\n\nr\n\u0001AA\nAA\n\n\u0001\u0001\n\nA\nA\n\nA\n\n\u0001\n\u0001\n\n\u0001A\u0001A\nA\nA\n\n\u0001\nAr\u0001\u0001\n\nA \u0001r\n\nAr\n\u0001\n\nFigure 8. Triangulations representing the clusters of type D3\n\n\fY -SYSTEMS AND GENERALIZED ASSOCIAHEDRA\n\nr\nr\nHH\n@\nHH @\nHH@\nH\nrP\nHr\n@\nPP\nPP\nPP\nPPP\nPP\nPP\nPP\nPPP\nPP\nrH\nPr\n@HH\n@ HH\nHH\n@\nHr\n@r\nr\n\n6\n(a)\n?\n\n\br\n@\n\b\n\b\n@\n\b\n\b\n@\n\b\n\b\nrP\n@r\n\b\nPP\nPP\nPP\nPPP\nPP\nPP\nPP\nPPP\nPP\nr\nPr\n\b\n@\n\b\n\b\n@\n\b\b\n@\n\b\b\nr\n@r\b\n\n(b)\n\u001b-\n\nr\nr\nHH\n@\nHH @\nHH@\nH\nr\n@r\nH\nP\nPP\n\u0010\u0010\n\u0010\nPP\n\u0010\nP \u0010\u0010\n\u0010\u0010 PPP\n\u0010\n\u0010\nPP\nr \u0010\n\u0010\nPr\nH\n@HH\n@ HH\nHH\n@\nHr\n@r\n6\n(c)\n?\n\nrH\nr\nB HH @\nB\nHH@\nB\nH@\nH\nrP\nB\nHr\n@\nPP\n\u0010\u0010\nB\n\u0010\nPP B \u0010\u0010\nP\u0010\n\u0010\u0010 PPP\n\u0010\n\u0010\nPP\nB\nrH\u0010\n\u0010\nPr\nB\nB\n@HH\nB\n@ HH\nHH B\n@\nHBr\n@r\n\nFigure 9. Flips of type D\n\n35\n\n\f"}