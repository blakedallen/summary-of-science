{"id": "http://arxiv.org/abs/1006.4810v1", "guidislink": true, "updated": "2010-06-24T15:10:03Z", "updated_parsed": [2010, 6, 24, 15, 10, 3, 3, 175, 0], "published": "2010-06-24T15:10:03Z", "published_parsed": [2010, 6, 24, 15, 10, 3, 3, 175, 0], "title": "From monoids to hyperstructures: in search of an absolute arithmetic", "title_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1006.5253%2C1006.1081%2C1006.5269%2C1006.1809%2C1006.0935%2C1006.1548%2C1006.3816%2C1006.2613%2C1006.0487%2C1006.1769%2C1006.3148%2C1006.4830%2C1006.5097%2C1006.3221%2C1006.2864%2C1006.2467%2C1006.4134%2C1006.4717%2C1006.0007%2C1006.3037%2C1006.4526%2C1006.4908%2C1006.1145%2C1006.2588%2C1006.4704%2C1006.3851%2C1006.3105%2C1006.4826%2C1006.1266%2C1006.5244%2C1006.0255%2C1006.3479%2C1006.1601%2C1006.1283%2C1006.3979%2C1006.1750%2C1006.4810%2C1006.3265%2C1006.2647%2C1006.5729%2C1006.5272%2C1006.0472%2C1006.1318%2C1006.2497%2C1006.4252%2C1006.4477%2C1006.0690%2C1006.2617%2C1006.1076%2C1006.1198%2C1006.5946%2C1006.4507%2C1006.2987%2C1006.0522%2C1006.4950%2C1006.4058%2C1006.3239%2C1006.0962%2C1006.3968%2C1006.3390%2C1006.4899%2C1006.5716%2C1006.4722%2C1006.5876%2C1006.5605%2C1006.1730%2C1006.4635%2C1006.4239%2C1006.3461%2C1006.4727%2C1006.3688%2C1006.2421%2C1006.3911%2C1006.3211%2C1006.1428%2C1006.0349%2C1006.5052%2C1006.4133%2C1006.4884%2C1006.2225%2C1006.4333%2C1006.4094%2C1006.5332%2C1006.5312%2C1006.4291%2C1006.0620%2C1006.5494%2C1006.2234%2C1006.5740%2C1006.4651%2C1006.1294%2C1006.0040%2C1006.3810%2C1006.1221%2C1006.2703%2C1006.2127%2C1006.3830%2C1006.0653%2C1006.1696%2C1006.3589%2C1006.1330&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "From monoids to hyperstructures: in search of an absolute arithmetic"}, "summary": "We show that the trace formula interpretation of the explicit formulas\nexpresses the counting function N(q) of the hypothetical curve C associated to\nthe Riemann zeta function, as an intersection number involving the scaling\naction on the adele class space. Then, we discuss the algebraic structure of\nthe adele class space both as a monoid and as a hyperring. We construct an\nextension R^{convex} of the hyperfield S of signs, which is the hyperfield\nanalogue of the semifield R_+^{max} of tropical geometry, admitting a one\nparameter group of automorphisms fixing S. Finally, we develop function theory\nover Spec(S) and we show how to recover the field of real numbers from a purely\nalgebraic construction, as the function theory over Spec(S).", "summary_detail": {"type": "text/plain", "language": null, "base": "http://export.arxiv.org/api/query?search_query=&id_list=1006.5253%2C1006.1081%2C1006.5269%2C1006.1809%2C1006.0935%2C1006.1548%2C1006.3816%2C1006.2613%2C1006.0487%2C1006.1769%2C1006.3148%2C1006.4830%2C1006.5097%2C1006.3221%2C1006.2864%2C1006.2467%2C1006.4134%2C1006.4717%2C1006.0007%2C1006.3037%2C1006.4526%2C1006.4908%2C1006.1145%2C1006.2588%2C1006.4704%2C1006.3851%2C1006.3105%2C1006.4826%2C1006.1266%2C1006.5244%2C1006.0255%2C1006.3479%2C1006.1601%2C1006.1283%2C1006.3979%2C1006.1750%2C1006.4810%2C1006.3265%2C1006.2647%2C1006.5729%2C1006.5272%2C1006.0472%2C1006.1318%2C1006.2497%2C1006.4252%2C1006.4477%2C1006.0690%2C1006.2617%2C1006.1076%2C1006.1198%2C1006.5946%2C1006.4507%2C1006.2987%2C1006.0522%2C1006.4950%2C1006.4058%2C1006.3239%2C1006.0962%2C1006.3968%2C1006.3390%2C1006.4899%2C1006.5716%2C1006.4722%2C1006.5876%2C1006.5605%2C1006.1730%2C1006.4635%2C1006.4239%2C1006.3461%2C1006.4727%2C1006.3688%2C1006.2421%2C1006.3911%2C1006.3211%2C1006.1428%2C1006.0349%2C1006.5052%2C1006.4133%2C1006.4884%2C1006.2225%2C1006.4333%2C1006.4094%2C1006.5332%2C1006.5312%2C1006.4291%2C1006.0620%2C1006.5494%2C1006.2234%2C1006.5740%2C1006.4651%2C1006.1294%2C1006.0040%2C1006.3810%2C1006.1221%2C1006.2703%2C1006.2127%2C1006.3830%2C1006.0653%2C1006.1696%2C1006.3589%2C1006.1330&start=0&max_results=1000&sortBy=relevance&sortOrder=descending", "value": "We show that the trace formula interpretation of the explicit formulas\nexpresses the counting function N(q) of the hypothetical curve C associated to\nthe Riemann zeta function, as an intersection number involving the scaling\naction on the adele class space. Then, we discuss the algebraic structure of\nthe adele class space both as a monoid and as a hyperring. We construct an\nextension R^{convex} of the hyperfield S of signs, which is the hyperfield\nanalogue of the semifield R_+^{max} of tropical geometry, admitting a one\nparameter group of automorphisms fixing S. Finally, we develop function theory\nover Spec(S) and we show how to recover the field of real numbers from a purely\nalgebraic construction, as the function theory over Spec(S)."}, "authors": ["Alain Connes", "Caterina Consani"], "author_detail": {"name": "Caterina Consani"}, "author": "Caterina Consani", "arxiv_comment": "43 pages, 1 figure", "links": [{"href": "http://arxiv.org/abs/1006.4810v1", "rel": "alternate", "type": "text/html"}, {"title": "pdf", "href": "http://arxiv.org/pdf/1006.4810v1", "rel": "related", "type": "application/pdf"}], "arxiv_primary_category": {"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom"}, "tags": [{"term": "math.AG", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "math.NT", "scheme": "http://arxiv.org/schemas/atom", "label": null}, {"term": "14A15, 14G10, 11G40", "scheme": "http://arxiv.org/schemas/atom", "label": null}], "pdf_url": "http://arxiv.org/pdf/1006.4810v1", "affiliation": "None", "arxiv_url": "http://arxiv.org/abs/1006.4810v1", "journal_reference": null, "doi": null, "fulltext": "arXiv:1006.4810v1 [math.AG] 24 Jun 2010\n\nFROM MONOIDS TO HYPERSTRUCTURES: IN SEARCH OF\nAN ABSOLUTE ARITHMETIC.\nALAIN CONNES AND CATERINA CONSANI\n\nAbstract. We show that the trace formula interpretation of the explicit formulas expresses the counting function N (q) of the hypothetical curve C associated to the Riemann zeta function, as an intersection number involving the\nscaling action on the ad\u00e8le class space. Then, we discuss the algebraic structure\nof the ad\u00e8le class space both as a monoid and as a hyperring. We construct an\nextension Rconvex of the hyperfield S of signs, which is the hyperfield analogue\nof tropical geometry, admitting a one parameter group\nof the semifield Rmax\n+\nof automorphisms fixing S. Finally, we develop function theory over Spec K\nand we show how to recover the field of real numbers from a purely algebraic\nconstruction, as the function theory over Spec S.\n\nContents\n1. Introduction\n2. From the counting function to the ad\u00e8le class space\n2.1. The counting function of C = Spec Z\n2.2. Explicit formulas\n3. The geometry of monoids\n3.1. The Mo-scheme P1F1\n3.2. The monoid M = AK /K\u00d7 of ad\u00e8le classes\n3.3. The sheaf \u03a9 of half-densities on P1F1 (M )\n3.4. Spectral realization on H 1 (P1F1 , \u03a9)\n4. Hyperstructures\n4.1. Hypergroups and hyperrings\n4.2. K, S and the ad\u00e8le class space HK = AK /K\u00d7\n4.3. Extensions of K and incidence groups\n5. The hyperfield Rconvex\n5.1. Sign-convex subsets of R\n5.2. Construction of Rconvex\n5.3. The hyperfields S[G]\n6. Function theory for hyperrings\n6.1. Coproducts and homomorphisms to hyperrings\n6.2. Hyperoperations on functions\n7. Functions on Spec (K)\n7.1. Functions on Spec (K): the fiber over {0}\n7.2. Functions on Spec (K): the fiber over {p}\n2000 Mathematics Subject Classification. 14A15, 14G10, 11G40.\nKey words and phrases. Hyperfields and hyperrings, ad\u00e8le class space.\nThe authors are partially supported by the NSF grant DMS-FRG-0652164.\n1\n\n2\n5\n5\n7\n10\n12\n12\n12\n13\n14\n14\n15\n16\n17\n17\n20\n22\n22\n23\n24\n25\n25\n31\n\n\f8. Functions on Spec (S)\n8.1. Description of Hom(Z[T ], S)\n8.2. Operations on functions on Spec (S)\n9. The hyperring of ad\u00e8le classes and its arithmetic\n9.1. The space of closed prime ideals of HK\n9.2. The groupoid of prime elements of HK\n9.3. The groupoid of loops and P (HK ) in characteristic p 6= 0\nReferences\n\n32\n33\n34\n39\n40\n40\n40\n42\n\n1. Introduction\nThe geometry of algebraic curves underlying the structure of global fields of positive\ncharacteristic has shown its crucial role in the process of solving several fundamental\nquestions in number theory. Furthermore, some combinatorial formulas, such as the\nequation supplying the cardinality of the set of rational points of a Grassmannian\nover a finite field Fq , are known to be rational expressions keeping a meaningful\nand interesting value also when q = 1. These results motivate the search for a\nmathematical object which is expected to be a non-trivial limit of Galois fields Fq ,\nfor q = 1. The goal is to define an analogue, for number fields, of the geometry\nunderlying the arithmetic theory of the function fields. Inspired by this problem\nand by the pioneering work of R. Steinberg and J. Tits, C. Soul\u00e9 has associated a\nzeta function to any sufficiently regular counting-type function N (q), by considering\nthe following limit\n\u03b6N (s) := lim Z(q, q \u2212s )(q \u2212 1)N (1)\nq\u21921\n\ns \u2208 R.\n\n(1)\n\nHere, Z(q, q \u2212s ) denotes the evaluation, at T = q \u2212s , of the Hasse-Weil zeta function\n\uf8eb\n\uf8f6\nr\nX\nT\nZ(q, T ) = exp \uf8ed\n(2)\nN (q r ) \uf8f8 .\nr\nr\u22651\n\nFor the consistency of the formula (1), one requires that the counting function N (q)\nis defined for all real numbers q \u2265 1 and not only for prime integers powers as for\nthe counting function in (2). For many simple examples of algebraic varieties, like\nthe projective spaces, the function N (q) is known to extend unambiguously to all\nreal positive numbers. The associated zeta function \u03b6N (s) is easy to compute and\nit produces the expected outcome. For a projective line, for example, one finds\n1\n. Another case which is easy to handle and also carries a richer\n\u03b6N (s) = s(s\u22121)\ngeometric structure is provided by a Chevalley group scheme. The study of these\nvarieties has shown that these schemes are endowed with a basic (combinatorial)\nskeleton structure and, in [5], we proved that they are varieties over F1 , as defined\nby Soul\u00e9 in [30].\nTo proceed further, it is natural to wonder on the existence of a suitably defined\ncurve C = Spec Z over F1 , whose zeta function \u03b6C (s) agrees with the complete\nRiemann zeta function \u03b6Q (s) = \u03c0 \u2212s/2 \u0393(s/2)\u03b6(s) (cf. also [25] and [27]). Following\nthe interpretation of N (1) given in [30], this value should coincide with the Euler\ncharacteristic of the curve C. However, since C should have infinite genus, one\ndeduces that N (1) = \u2212\u221e, in apparent contradiction with the expected positivity\n2\n\n\fof N (q), for q > 1. This result also prevents one to use the limit definition (1). In\n[6], we have shown how to solve these difficulties by replacing the limit definition (1)\nwith an integral formula and by computing explicitly the distribution N (q) which\nfulfills the expected positivity, for q > 1, and the divergence at q = 1.\nIn section 2 of this paper, we show how to implement the trace formula understanding of the explicit formulas in number-theory, to express the counting function N (q)\nas an intersection number involving the scaling action of the id\u00e8le class group on\nthe ad\u00e8le class space. This description is the natural corollary of an earlier result\nproved by the first author of this paper in [4] (and motivated by [17]), showing\nthat the Riemann-Weil explicit formulas inherit a trace formula meaning when one\ndevelops analysis on the noncommutative space of the ad\u00e8le classes (we also refer\nto [9], [12] and [28] for further work on the same topic).\nIn [4], as well as in the above papers, the ad\u00e8le class space AK /K\u00d7 of a global field\nK has been studied as a noncommutative space. Only very recently (cf. [8]), we\nhave been successful to associate an algebraic structure to AK /K\u00d7 using which this\nspace finally reveals its deeper nature of a hyperring of functions, likewise the spacetime geometry in quantum field theory which manifests itself through functional\nanalysis. The hyperring structure of AK /K\u00d7 has fully emerged by combining the\nfollowing two properties:\n\u2212 AK /K\u00d7 is a commutative monoid, so that one may apply to this space the\ngeometry of monoids of K. Kato and A. Deitmar.\n\u2212 AK /K\u00d7 is a hyperring over the Krasner hyperfield K = {0, 1}.\nIn section 3, we describe the first structure associated to this space. In particular,\nwe overview several of our recent results (cf. [6]) showing that the natural monoidal\nstructure on the ad\u00e8le class space, when combined with one of the simplest examples\nof monoidal schemes i.e. the projective line P1F1 , provides a geometric framework\nto understand conceptually the spectral realization of the zeros of L-functions, the\nfunctional equation and the explicit formulas. All these highly non-trivial statements appear naturally by simply computing the cohomology of a natural sheaf \u03a9\nof functions on the set of rational points of the monoidal scheme P1F1 on the monoid\nM = AK /K\u00d7 of ad\u00e8le classes. The sheaf \u03a9 is a sheaf of complex vector spaces\nover the geometric realization of the functor associated to the projective line. It\nis a striking fact that despite the apparent simplicity of the construction of P1F1\nthe computation of H 0 (P1F1 , \u03a9), already yields the graph of the Fourier transform.\nThe cohomology H 0 (P1F1 , \u03a9) is given, up to a finite dimensional space, by the graph\nof the Fourier transform acting on the co-invariants for the action of K\u00d7 on the\nBruhat-Schwartz space S(AK ). Moreover, the spectrum of the natural action of the\nid\u00e8le class group CK on the cohomology H 1 (P1F1 , \u03a9) provides the spectral realization\nof the zeros of Hecke L-functions.\nIn section 9, we review the hyperring structure associated to the ad\u00e8le class space.\nIn [8], we proved that the ad\u00e8le class space possesses a rich additive structure\nwhich plays an essential role to provide the correct arithmetic setup on this space\nand to obtain, in positive characteristic, a canonical identification of the groupoid\nof prime elements of the hyperring AK /K\u00d7 with the loop groupoid of the maximal\nabelian cover of the algebraic curve underlying the arithmetic of the function field\nK. It is an interesting coincidence that the first summary on hyperring theory, due\nto M. Krasner (cf. [23]), appeared in the same proceeding volume together with\n3\n\n\fthe seminal paper of J. Tits [32] where he introduced \"le corps de caract\u00e9ristique\nun\". The distinction between the algebraic structure that Tits proposed as the\ndegenerate case of Fq for q = 1, i.e. \"le corps form\u00e9 du seul \u00e9l\u00e9ment 1 = 0\", and\nthe Krasner hyperfield K = {0, 1} is simply that in K one keeps the distinction\n1 6= 0, while recording the degeneracy by allowing the sum 1 + 1 to be maximally\nambiguous.\nIn section 4, we recall some of our results contained in [8] showing, for instance,\nthat in spite of the apparent naivety of the definition of the Krasner hyperfield K,\nthe classification of its finite extensions is equivalent to a deep open question in\nclassical projective geometry.\nWhen K is a number field, there is a basic main question that needs to be addressed,\nnamely the search for a substitute, in characteristic zero, of the algebraic closure F\u0304q\nof the field of constants of a function field and the understanding of its role in the\ngeometric construction of the curve associated to that field. In section 5, we show\nthat the hyperfield S = {\u22121, 0, 1} of signs admits an infinite hyperfield extension\nRconvex which is obtained from R by suitably altering the rule of addition. This\nextension has characteristic one (i.e. x + x = x for all x \u2208 Rconvex ) and it contains\nS as the smallest sub-hyperfield. The group of automorphisms Aut(Rconvex ) is the\nmultiplicative group of non-zero real numbers acting on the hyperfield Rconvex by\nexponentiation. This group plays the role of the cyclic group generated by the\nFrobenius automorphism acting on F\u0304p , in characteristic p > 1.\nIn section 6, we develop the generalities of the study of the function theory on\nthe affine spectrum Spec (R) of a hyperring R. The novelty (and subtlety) with\nrespect to the classical case of (commutative) rings arises from the failure in this\nframework, of the isomorphism (holding for rings)\nHom(Z[T ], R) \u2243 R.\nIn the classical case, the above isomorphism provides one with an identification\nof the elements of R with functions on Spec (R), understood as morphisms to the\naffine line D = Spec (Z[T ]). In the context of hyperrings, we define the functions\non Spec (R) as the elements of the set D(R) = Hom(Z[T ], R). We implement the\nnatural coproduct structures on the Hopf algebra H = Z[T ] (corresponding to the\naddition: \u2206+ (T ) = T \u2297 1 + 1 \u2297 T and the multiplication \u2206\u00d7 (T ) = T \u2297 T ) to define\noperations on functions on Spec (R). In sections 7 and 8, we investigate the outcoming hyperstructures on D(K) and D(S). The natural morphism from D to Spec Z\ndetermines a restriction map \u03c0 : D(K) = Spec (Z[T ]) \u2192 Hom(Z, K) = Spec (Z).\nThen, one sees that the two hyperoperations of addition and multiplication on D(K)\ntake place fiber-wise i.e. within each fiber \u03c0 \u22121 (p), p \u2208 Spec (Z). Theorem 7.13 asserts that, for a finite and proper prime p, the hyperstructure on the fiber \u03c0 \u22121 (p)\ncoincides with the quotient hyperring structure on the orbit-set \u03a9/Aut(\u03a9), where\n\u03a9 is an algebraic closure of the field of fractions Fp (T ). Theorem 7.1 states that\nthe fiber over the generic point of Spec (Z) contains the quotient hyperstructure\nQ\u0304/Aut(Q\u0304) where Q\u0304 is the algebraic closure of Q, although the operations involving\nthe generic point are more subtle: cf. Theorems 7.2 and 7.7.\nWe expect that a similar development will hold when the Hopf algebra Z[T ] is\nreplaced by the Hopf algebra of a Chevalley group.\nIn section 8, we show that the hyperstructure D(S) defines a slight refinement of\nthe field R of real numbers. To each element \u03c6 \u2208 D(S) corresponds a real number\n4\n\n\fRe(\u03c6) \u2208 [\u2212\u221e, \u221e] given as a Dedekind cut. The map Re : Dfinite (S) \u2192 R is\na surjective homomorphism whose kernel is an ideal isomorphic to S. A slight\ndifference between the real numbers and the subset Dfinite (S) of the finite elements\nof D(S) only occurs over real algebraic numbers which have three representatives\ngiven by the three homomorphisms:\nZ[T ] \u2192 S,\n\nP (T ) 7\u2192 lim sign P (\u03b1 + t\u01eb) , t \u2208 {\u22121, 0, 1}.\n\u01eb\u21920+\n\nThe richness and complexity of the structure of functions on hyperring spectra, even\nin the simplest examples of Spec (K) and Spec (S), together with the construction\nof the hyperfield Rconvex , are both clear indications of the existence of an interesting\nand yet unexplored arithmetic theory which has just started to emerge from the\nbasic principles outlined in this work.\n2. From the counting function to the ad\u00e8le class space\nIn this section we show that the trace formula interpretation of the explicit formulas\nexpresses the counting function N (q), of the hypothetical curve C associated to the\ncomplete Riemann zeta function, as an intersection number involving the scaling\naction of the id\u00e8le class group on the ad\u00e8le class space.\n2.1. The counting function of C = Spec Z. As explained in the introduction,\nit is natural to wonder on the existence of a suitably defined \"curve\" C = Spec Z\nover F1 , whose zeta function \u03b6C (s) is the complete Riemann zeta function \u03b6Q (s) =\n\u03c0 \u2212s/2 \u0393(s/2)\u03b6(s) (cf. also [27]). To by-pass the difficulty inherent to the definition\n(1), when N (1) = \u2212\u221e, one works with the logarithmic derivative\n\u2202s \u03b6N (s)\n= \u2212 lim F (q, s)\nq\u21921\n\u03b6N (s)\n\n(3)\n\nwhere\nX\n\nF (q, s) = \u2212\u2202s\n\nr\u22651\n\nN (q r )\n\nq \u2212rs\n.\nr\n\n(4)\n\nThen one finds (cf. [6] Lemma 2.1), under suitable regularity conditions on N (u),\nthat\nLemma 2.1. With the above notations and for Re(s) large enough, one has\nZ \u221e\nlim F (q, s) =\nN (u)u\u2212s d\u2217 u , d\u2217 u = du/u\nq\u21921\n\n(5)\n\n1\n\nand\n\u2202s \u03b6N (s)\n=\u2212\n\u03b6N (s)\n\nZ\n\n\u221e\n\nN (u) u\u2212s d\u2217 u .\n\n(6)\n\n1\n\nThe integral equation (6) is more manageable and general than the limit formula\n(1). It produces a precise description of the counting function NC (q) = N (q)\nassociated to C. In fact, (6) shows in this case that\nZ \u221e\n\u2202s \u03b6Q (s)\n=\u2212\nN (u) u\u2212s d\u2217 u .\n(7)\n\u03b6Q (s)\n1\n5\n\n\fTo determine explicitly N (u), one uses the Euler product for \u03b6Q (s) and when\nRe(s) > 1, one derives\nZ \u221e\n\u221e\n\u2202s \u03b6Q (s) X\n\u039b(n)n\u2212s +\n\u03ba(u) u\u2212s d\u2217 u .\n(8)\n=\n\u2212\n\u03b6Q (s)\n1\nn=1\nHere, \u039b(n) is the von-Mangoldt function taking the value log p at prime powers pl\nand zero otherwise. \u03ba(u) is the distribution defined, for any test function f , as\nZ \u221e\nZ \u221e 2\nu f (u) \u2212 f (1) \u2217\n1\n\u03ba(u)f (u)d\u2217 u =\nd u + cf (1) ,\nc = (log \u03c0 + \u03b3) (9)\n2\u22121\nu\n2\n1\n1\nwhere \u03b3 = \u2212\u0393\u2032 (1) is the Euler constant. The distribution \u03ba(u) is positive on (1, \u221e)\n2\nwhere, by construction, it is given by \u03ba(u) = u2u\u22121 . Hence, we deduce that the\ncounting function N (q) of the hypothetical curve C over F1 , is the distribution\ndefined by the sum of \u03ba(q) and a discrete term given by the derivative taken in the\nsense of distributions, of the function1\nX\n\u03c6(u) =\nn \u039b(n).\n(10)\nn<u\n\nIndeed, since d\u2217 u = du\nu , one has for any test function f ,\n\u0012\n\u0013\nZ \u221e\nZ \u221e\nX\nd\nf (u)\nf (u)\n\u03c6(u) d\u2217 u =\nd\u03c6(u) =\n\u039b(n)f (n).\ndu\nu\n1\n1\nThus one can write (8) as\n\u2212\n\n\u2202s \u03b6Q (s)\n=\n\u03b6Q (s)\n\nZ\n\n1\n\n\u221e\n\n\u0012\n\n\u0013\nd\n\u03c6(u) + \u03ba(u) u\u2212s d\u2217 u.\ndu\n\n(11)\n\nIf one compares the equations (11) and (7), one derives the following formula for\nN (u)\nd\n\u03c6(u) + \u03ba(u).\n(12)\nN (u) =\ndu\nOne can then use the explicit formulas to express \u03c6(u) in terms of the set Z of nontrivial zeros of the Riemann zeta function. One has the formula (cf. [20], Chapter\nIV, Theorems 28 and 29) valid for u > 1 (and not a prime power)\nu2 X\nu\u03c1+1\n\u03c6(u) =\n\u2212\n+ a(u).\n(13)\norder(\u03c1)\n2\n\u03c1+1\n\u03c1\u2208Z\n\nHere, one sets\n\n\u03b6 \u2032 (\u22121)\n1\n.\n(14)\na(u) = ArcTanh( ) \u2212\nu\n\u03b6(\u22121)\nNotice that the sum over Z in (13) has to be taken in a symmetric manner to ensure\nthe convergence, i.e. as a limit of the partial sums over the symmetric set Zm of\nfirst 2m zeros. When one differentiates (13) in a formal way, the term in a(u) gives\nd\n1\n.\na(u) =\ndu\n1 \u2212 u2\nHence, at the formal level i.e. by disregarding the principal value, one obtains\nd\na(u) + \u03ba(u) = 1.\ndu\n1the value at the points of discontinuity does not affect the distribution\n6\n\n\fThus, after a formal differentiation of (13), one deduces\nX\nd\n\u03c6(u) + \u03ba(u) \u223c u \u2212\norder(\u03c1) u\u03c1 + 1.\nN (u) =\ndu\n\n(15)\n\n\u03c1\u2208Z\n\nNotice that in the above formal computations we have neglected to consider the\nprincipal value for the distribution \u03ba(u). By taking this into account, we obtain\nthe following more precise result (for the proof we refer to [6], Theorem 2.2)\nTheorem 2.2. The tempered distribution N (u) satisfying the equation\nZ \u221e\n\u2202s \u03b6Q (s)\n=\nN (u) u\u2212s d\u2217 u\n\u2212\n\u03b6Q (s)\n1\nis positive on (1, \u221e) and on [1, \u221e) is given by\n\uf8eb\n\uf8f6\nu\u03c1+1 \uf8f8\nd \uf8edX\n+1\norder(\u03c1)\nN (u) = u \u2212\ndu\n\u03c1+1\n\n(16)\n\n\u03c1\u2208Z\n\nwhere the derivative is taken in the sense of distributions, and the value at u = 1\nX\nu\u03c1+1\nof the term \u03c9(u) =\norder(\u03c1)\nis given by\n\u03c1+1\n\u03c1\u2208Z\n\n\u03c9(1) =\n\nX\n\n\u03c1\u2208Z\n\norder(\u03c1)\n\n1 \u03b3\nlog 4\u03c0 \u03b6 \u2032 (\u22121)\n1\n= + +\n\u2212\n.\n\u03c1+1\n2 2\n2\n\u03b6(\u22121)\n\n(17)\n\nThis result supplies a strong indication on the coherence of the quest for an arithmetic theory over F1 . For an irreducible, smooth and projective algebraic curve X\nover a prime field Fp , the counting function is of the form\nX\n#X(Fq ) = N (q) = q \u2212\n\u03b1r + 1,\nq = pr\n\u03b1\n\nwhere the numbers \u03b1's are the complex roots of the characteristic polynomial of\nthe Frobenius endomorphism acting on the \u00e9tale cohomology H 1 (X \u2297 F\u0304p , Ql ) of\nthe curve (l 6= p). By writing these roots in the form \u03b1 = p\u03c1 , for \u03c1 a zero of the\nHasse-Weil zeta function of X, the above equality reads as\nX\n#X(Fq ) = N (q) = q \u2212\norder(\u03c1) q \u03c1 + 1.\n(18)\n\u03c1\n\nThe equations (16) and (18) are now completely identical, except for the fact that\nin (18) the values of q are restricted to the discrete set of powers of p and that (18)\ninvolves only a finite sum, which allows one to differentiate term by term.\n2.2. Explicit formulas. Equation (13) is a typical application of the RiemannWeil explicit formulas. These formulas become natural when lifted to the id\u00e8le class\ngroup. In this section we show that, even if a definition of the hypothetical curve\nC is at this time still out of reach, its counterpart, through the application of the\nclass-field theory isomorphism, can be realized by a space of adelic nature and in\nagreement with some earlier constructions of Connes, Consani and Marcolli: cf. [9],\n[10] and [11].\n7\n\n\fWe start by considering the explicit formulas in the following concrete form (cf. [3]).\nLet F (u) be a function defined on [1, \u221e) and such that F (u) = O(u\u22121/2\u2212\u01eb ). Then\none sets\nZ \u221e\nF (u) us\u22121 du.\n\n\u03a6(s) =\n\n(19)\n\n1\n\nThe explicit formula takes the following form\nZ \u221e\nX\n1\n(u\u22121/2 + u\u22123/2 )F (u)du \u2212\norder(\u03c1)\u03a6(\u03c1 \u2212 ) =\n2\n1\n\n(20)\n\n\u03c1\u2208Z\n\n=\n\n\u221e\nXX\n\nlog p p\u2212m/2 F (pm ) + (\n\np m=1\n\nlog \u03c0\n\u03b3\n+\n)F (1) +\n2\n2\n\nZ\n\n1\n\n\u221e 3/2\n\nt\n\nF (t) \u2212 F (1)\ndt.\nt(t2 \u2212 1)\n\nWe apply this formula with the function Fx determined by the conditions\n3\n\nFx (u) = u 2 for u \u2208 [1, x] , Fx (u) = 0 for u > x.\n\n(21)\n\nThen, we obtain\n\u03a6x (s) =\n\nZ\n\n\u221e\n\nFx (u) u\n\ns\u22121\n\n1\n\ndu =\n\nZ\n\nx\n\n3\n\nu 2 us\u22121 du =\n\n1\n\n1\nx3/2+s\n\u2212\n.\n3/2 + s 3/2 + s\n\n(22)\n\nThus, it follows that\n1\nx2\n1\n1\n1\nx1+\u03c1\n1\n\u03a6x ( ) =\n\u2212 , \u03a6x (\u2212 ) = x \u2212 1 , \u03a6x (\u03c1 \u2212 ) =\n\u2212\n.\n2\n2\n2\n2\n2\n1+\u03c1 1+\u03c1\nThe left-hand side of the explicit formula (20) gives, up to a constant\nX\nx1+\u03c1\nx2\n+x\u2212\n.\norder(\u03c1)\nJ(x) =\n2\n1+\u03c1\n\n(23)\n\n(24)\n\n\u03c1\u2208Z\n\nThe first term on the right-hand side of (20) gives\nX\n\u03c6(x) =\nn \u039b(n)\n\n(25)\n\nn<x\n\nwhile the integral on the right-hand side of (20) gives\nZ \u221e 3/2\nt F (t) \u2212 F (1)\n1\ndt = x \u2212 ArcTanh( ) + constant.\n2 \u2212 1)\nt(t\nx\n1\nThus the explicit formula (20) is transformed into the equality\nX\nx2 X\n1\nx1+\u03c1\nn \u039b(n) =\n\u2212\n+ ArcTanh( ) + constant.\norder(\u03c1)\n2\n1+\u03c1\nx\nn<x\n\n(26)\n\n(27)\n\n\u03c1\u2208Z\n\nThis formula is the same as (13). We refer to [20] for a precise justification of\nthe analytic steps. It follows that the left-hand side (24) of the explicit formula\ngives a natural primitive J(x) of the counting function N (x). It is thus natural to\ndifferentiate formally the family of functions Fx with respect to x and see what the\nright-hand side of the explicit formula is transformed into. By construction, one\nhas, for u \u2265 1\n3\nFx (u) = u 2 Y (u \u2212 x)\nwhere Y is the characteristic function of the interval (\u2212\u221e, 0]. The derivative of\nY (s) is \u2212\u03b4(s). Thus, at the formal level, one derives\n3\n\n\u2202x Fx = u 2 \u03b4(u \u2212 x).\n8\n\n\fIn fact, it is more convenient to rewrite the explicit formula (20) in terms of the\n1\nfunction g(u) = u\u2212 2 F (u). One then lets\nZ \u221e\n\u011d(s) =\ng(u) us d\u2217 u.\n(28)\n1\n\nThe explicit formula then takes the form\nX\n\u011d(0) + \u011d(1) \u2212\norder(\u03c1)\u011d(\u03c1)\n\n(29)\n\n\u03c1\u2208Z\n\n=\n\n\u221e\nXX\np\n\n\u03b3\nlog \u03c0\nlog p g(p ) + ( +\n)g(1) +\n2\n2\nm=1\nm\n\nZ\n\n1\n\n\u221e 2\n\nt g(t) \u2212 g(1) \u2217\nd t.\nt2 \u2212 1\n\nThe function gx (u) corresponding to \u2202x Fx is just gx (u) = u\u03b4x (u) and it is characterized, as a distribution, by its evaluation on test functions b(x). This gives\nZ\nb(u)gx (u)d\u2217 u = b(x).\n(30)\nNext, we show how to implement the trace formula interpretation of the explicit\nformulas to describe the counting function N (u) as an intersection number. First we\nnotice that the above explicit formula is a special case of the Weil explicit formulas.\nQ\nOne lets K be a global field, \u03b1 a nontrivial character of AK /K and \u03b1 =\n\u03b1v its\nlocal factors. Let h \u2208 S(CK ) have compact support. Then\nX Z \u2032 h(u\u22121 )\nX X\nd\u2217 u\n(31)\n\u0125(\u03c7\u0303, \u03c1) =\n\u0125(0) + \u0125(1) \u2212\n\u2217 |1 \u2212 u|\nK\nv\nv\nZ\u03c7\u0303\n\u03c7\u2208Cd\nK,1\n\nR\u2032\n\nR\nwhere\nis normalized by \u03b1v and \u0125(\u03c7, z) = h(u) \u03c7(u) |u|z d\u2217 u. These formulas\nbecome a trace formula whose geometric side is of the form\n\u0012Z\n\u0013 XZ\nh(u\u22121 ) \u2217\n\u2217\nTrdistr\nd u.\n(32)\nh(u)\u03b8(u)d u =\n|1 \u2212 u|\nK\u2217\nv\nv\nHere \u03b8(u)\u03be(x) = \u03be(u\u22121 x) is the scaling action of the id\u00e8le class group CK on the\nad\u00e8le class space M = AK /K\u2217 . The subgroups K\u2217v \u2282 CK appear as isotropy groups.\nh(u\u22121 )\nOne can understand why the terms\noccur in the trace formula by computing\n|1 \u2212 u|\nformally as follows the trace of the scaling operator T = \u03b8(u\u22121 )\nZ\nT \u03be(x) = \u03be(ux) = k(x, y)\u03be(y)dy ,\ngiven by the distribution kernel k(x, y) = \u03b4(ux \u2212 y),\nZ\nZ\nZ\n1\n1\nTrdistr (T ) = k(x, x) dx = \u03b4(ux \u2212 x) dx =\n.\n\u03b4(z) dz =\n|u \u2212 1|\n|u \u2212 1|\nWe refer to [4], [28] and [12] for the detailed treatment. We apply (32) by taking\nK = Q and the function h of the form h(u) = g(|u|) where the support of the\nfunction g is contained in (1, \u221e). On the left hand side of (32) one first performs\nthe integration in the kernel CQ,1 of the module CQ \u2192 R\u2217+ . At the geometric level,\nthis corresponds to taking the quotient of M by the action of CQ,1 . We denote by \u03b8u\nthe scaling action on this quotient. By construction this action only depends upon\n|u| \u2208 R\u2217+ . The equality (30) means that when we consider the distributional trace of\n9\n\n\fan expression of the form\ntrace of \u03b8x since\n\nR\n\ngx (u)\u03b8u d\u2217 u we are in fact just taking the distributional\nZ\ngx (u)\u03b8u d\u2217 u = \u03b8x\n(33)\n\nthus we are simply considering an intersection number. We now look at the right\nhand side of (32), i.e. at the terms\nZ \u2032\nh(u\u22121 ) \u2217\nd u.\n(34)\n|1 \u2212 u|\nK\u2217\nv\nSince h(u) = g(|u|) and the support of the function g is contained in (1, \u221e), one\nsees that the integral (34) can be restricted in all cases to the unit ball {u ; |u| < 1}\nof the local field Kv . In particular, for the finite places one has |1 \u2212 u| = 1, thus for\neach finite prime p \u2208 Z one has\nZ \u2032\n\u221e\nX\nh(u\u22121 ) \u2217\nd u=\nlog p g(pm ).\n(35)\n|1 \u2212 u|\nQ\u2217\np\nm=1\nAt the archimedean place one has instead\n\u0012\n1\n1\n1\n+\n2 1 \u2212 u1\n1+\n\n1\nu\n\n\u0013\n\n=\n\nu2\n.\nu2 \u2212 1\n\nThe above equation is applied for u > 1, in which case one can write equivalently\n\u0012\n\u0013\nu2\n1\n1\n1\n=\n+\n.\n(36)\n2 |1 \u2212 u\u22121 | |1 + u\u22121 |\nu2 \u2212 1\nThus, the term corresponding to (34) yields the distribution \u03ba(u) of (9).\nIn section 9, we shall re-consider the fixed points for the action of the id\u00e8le class\ngroup CK on M = AK /K\u2217 . This set is the union of the prime ideals pv = {x \u2208\nM | xv = 0}, as v varies among the places of the global field K.\n3. The geometry of monoids\nWe denote by Mo the category of commutative 'pointed' monoids (M, 0), where M\nis a semigroup with a commutative multiplicative operation and an identity element\n1. The element 0 \u2208 M is absorbing for M , i.e. it satisfies: 0x = x0 = 0, \u2200x \u2208 M .\nThe morphisms in Mo are unital homomorphisms of pointed monoids \u03c6 : (M, 0) \u2192\n(N, 0), thus satisfying the conditions \u03c6(1M ) = 1N and \u03c6(0) = 0.\nThe theory of Mo-schemes as in our earlier papers [6] and [7] develops, in parallel with the classical theory of Z-schemes as in [14], the notion of a scheme as\ncovariant functor from Mo to the category of sets. This approach is based on the\nearlier geometric theories over monoids developed by K. Kato [22], A. Deitmar [13],\nN. Kurokawa, H. Ochiai, M. Wakayama [26], B. T\u00f6en and M. Vaqui\u00e9 [33].\nSeveral basic notions holding for (commutative) rings and their geometric counterparts naturally generalize to pointed monoids. From the algebraic side, we recall\nthat an ideal I of a monoid M is a subset I \u2282 M such that 0 \u2208 I and it satisfies\nthe property:\nx \u2208 I =\u21d2 xy \u2208 I , \u2200y \u2208 M .\n(37)\nc\nIn particular, an ideal p \u2282 M is said to be prime if its complement p = M \\ p is a\nnon-empty multiplicative subset of M , i.e. if the following condition is satisfied:\nx\u2208\n/ p, y \u2208\n/ p =\u21d2 xy \u2208\n/ p.\n10\n\n(38)\n\n\fThe complement pM = (M \u00d7 )c of the invertible elements of M is the largest prime\nideal.\nFrom the geometric side, we recall that a geometric monoidal space is a pair (X, OX )\nwhere\n\u2022 X is a topological space\n\u2022 OX is a sheaf of monoids.\nThe notions of a morphism (of monoidal spaces) as well as those of a prime spectrum\nSpec M and of a geometric scheme are adapted directly from the classical ones (cf.\n[13]). The topology on Spec M admits a basis of open subsets of the following type\n(as f varies in M )\nD(f ) = {p \u2208 Spec M | f \u2208\n/ p}.\nBy definition, an Mo-functor is a covariant functor from Mo to the category of sets.\nA morphism of Mo-functors, \u03c6 : X \u2192 Y , is a natural transformation and as such\nit determines (a family of) maps of sets\n\u03c6M : X(M ) \u2192 Y (M ) , \u2200M \u2208 obj(Mo)\ncompatible with any homomorphism \u03c1 : M \u2192 M \u2032 in Mo.\nA new and interesting property fulfilled by any Mo-functor is that of being automatically local (cf. [7] \u00a7 3.4.1). Thus, the only requirement that an Mo-functor has to\nsatisfy to define an Mo-scheme is to admit an open covering of affine sub-functors.\nWe recall that a sub-functor Y of an Mo-functor X (i.e. Y (M ) \u2282 X(M ) for every\nobject M of Mo) is said to be open in X if for every morphism \u03c6 : Spec (M ) \u2192 X\nof Mo-functors, there exists an ideal I \u2282 M such that for every object N of Mo\nand every \u03c1 \u2208 Spec (M )(N ) = HomMo (M, N ) one has:\n\u03c6(\u03c1) \u2208 Y (N ) \u2282 X(N ) \u21d4 \u03c1(I)N = N.\nLet X be an Mo-functor. A family {X\u03b1 } of sub-functors of X determines a covering of X if S\nfor every abelian group H, the following equality (of sets) is fulfilled:\nX(F1 [H]) = \u03b1 X\u03b1 (F1 [H]).\nAny Mo-scheme has an uniquely associated geometric realization (cf. [7] \u00a7 3.4.5).\nThis is a geometric monoidal space whose construction presents several analogies\nwith the geometric realization of a Z-scheme but also a few new interesting features\nspecifically inherent to the discussion with monoids. The most important (new)\nproperty states that the full sub-category of the abelian groups inside Mo, whose\nobjects replace the fields within Mo, admits the final object F1 = F1 [{1}] (cf. [7]\n\u00a7 3.4.5). This fact implies a remarkable simplification in the description of the\ngeometric realization of an Mo-scheme as stated by the following\nTheorem 3.1. The geometric space |X| associated to an Mo-scheme X is characterized by the property\nX(M ) = Hom(Spec M, |X|) , \u2200M \u2208 obj(Mo).\nThe set underlying |X| is canonically identified with X(F1 ). The topology of |X| is\ndetermined by the open subfunctors of X and the structure sheaf by the morphisms\nto the affine line D, i.e. the functor D(M ) = M for all M \u2208 obj(Mo).\nWe refer to [7] Theorem 3.34 for the detailed statement and proof.\n11\n\n\fThe following canonical projection map describes a new feature of Mo-schemes\nwhich does not hold in general for Z-schemes. For an Mo-scheme X and for all\nM \u2208 obj(Mo) we define\n\u03c0M : X(M ) \u2192 |X| , \u03c0M (\u03c6) = \u03c6(pM ) , \u2200\u03c6 \u2208 HomMo (Spec (M ), |X|)\n\n(39)\n\nwhere pM is the largest prime ideal of M . Then, for any open subset U of |X| =\nX(F1 ) with associated sub-functor U \u2282 X one has\n\u22121\nU (M ) = \u03c0M\n(U ) \u2282 X(M ).\n\n(40)\n\n3.1. The Mo-scheme P1F1 . A basic fundamental example of an Mo-scheme is the\nprojective line P1F1 over F1 . We review shortly its description. As Mo-functor, P1F1\nis defined by\n(41)\nP1F1 (M ) = M \u222aM \u00d7 M, \u2200 M \u2208 obj(Mo)\n`\nwhere the gluing map on the disjoint union M M \u2261 M \u00d7 {1, 2} is given by the\nequivalence relation (x, 1) \u223c (x\u22121 , 2), \u2200 x \u2208 M \u00d7 .\nThe topological space P1F1 of its geometric realization (cf. [13], [6]) has three points\nP1F1 = {0, u, \u221e} , {0} = {0} , {u} = P1F1 , {\u221e} = {\u221e}.\n\n(42)\n\nThere are three open sets U\u00b1 and U = U+ \u2229 U\u2212 in P1F1\nU+ = P1F1 \\{\u221e} , U\u2212 = P1F1 \\{0} , U = U+ \u2229 U\u2212 .\n\n(43)\n\n3.2. The monoid M = AK /K\u00d7 of ad\u00e8le classes. Let K be a global field. The\nproduct in the ring of ad\u00e8les over K, descends to the quotient AK /K\u00d7 to define a\nnatural structure of (commutative) monoid\nM = AK /K\u00d7 ,\n\nK\u00d7 = GL1 (K).\n\n(44)\n\u00d7\n\nThe group CK of id\u00e8le classes is interpreted as the group M of the invertible\nelements of the monoid M . The canonical projection (39) for the Mo-scheme P1F1\ndetermines in particular the map (M = AK /K\u00d7 )\n\u03c0M : P1F1 (M ) = M \u222aM \u00d7 M \u2192 P1F1 .\n\n(45)\n\n\u03c0M associates the point u \u2208 P1F1 to each element of M \u00d7 = CK and either 0 or \u221e\nto the other elements of P1F1 (M ). We define the projective ad\u00e8le class space to be\nthe set P1F1 (M ) = M \u222aM \u00d7 M .\n3.3. The sheaf \u03a9 of half-densities on P1F1 (M ). To define a natural space S(M )\nof functions on the quotient space M = AK /K\u00d7 one considers the space of coinvariants for the action of K\u00d7 on the Bruhat-Schwartz space S(AK ) of complexvalued functions on the ad\u00e8les of K. This action is described explicitly by fq (x) =\nf (qx), \u2200x \u2208 AK , q \u2208 K\u00d7 . More precisely, one starts with the exact sequence\n\u01eb\n\n0 \u2192 S(AK )0 \u2192 S(AK ) \u2192 C \u2295 C[1] \u2192 0\nassociated to the kernel of the K\u00d7 -invariant linear map \u01eb(f ) = (f (0),\nC \u2295 C[1] and then one sets\n\n(46)\nR\n\nf (x)dx) \u2208\n\nS(M ) := S0 (M ) \u2295 C \u2295 C[1] , S0 (M ) := S(AK )0 /{f \u2212 fq }\n\n(47)\n\nAK\n\nwhere {f \u2212 fq } denotes the closure of the sub-space of S(AK )0 generated by the\ndifferences f \u2212 fq , with q \u2208 K\u00d7 .\n12\n\n\fWe now introduce the functions on the projective ad\u00e8le class space P1F1 (M ). The\nfollowing space of sections determines uniquely a sheaf \u03a9 on P1F1 , the restriction\nmaps are defined in (49) here below\n\u0393(U+ , \u03a9) = S(M )\n\u0393(U\u2212 , \u03a9) = S(M )\n\u0393(U+ \u2229 U\u2212 , \u03a9) = S\u221e (CK )\nwhere S(CK ) is the Bruhat-Schwartz space over CK . For a number field K, S\u221e (CK )\nis defined as follows\n\\\nS\u221e (CK ) =\n\u03bc\u03b2 S(CK ) = {f \u2208 S(CK ) | \u03bc\u03b2 (f ) \u2208 S(CK ) , \u2200\u03b2 \u2208 R}.\n(48)\n\u03b2\u2208R\n\nHere, \u03bc \u2208 C(CK ) denotes the module \u03bc : CK \u2192 R\u2217+ , \u03bc\u03b2 (g) = \u03bc(g)\u03b2 . When K is\na global field of positive characteristic, S\u221e (CK ) is the space of Schwartz functions\non CK with compact support (cf. [12] Definition 4.107 and [28]). The natural\nrestriction maps \u0393(U\u00b1 , \u03a9) \u2192 \u0393(U+ \u2229 U\u2212 , \u03a9) vanish on the components C \u2295 C[1] of\nS(M ), while on S0 (M ) they are defined as follows:\nX\n(Res f )(g) =\nf (qg) , \u2200f \u2208 S0 (M ) \u2282 \u0393(U+ , \u03a9)\nq\u2208K\u00d7\n\n(Res h)(g) =\n\n|g|\u22121\n\nX\n\nh(qg \u22121 ) , \u2200h \u2208 S0 (M ) \u2282 \u0393(U\u2212 , \u03a9).\n\n(49)\n\nq\u2208K\u00d7\n\n3.4. Spectral realization on H 1 (P1F1 , \u03a9). The following formulas define an action\nof CK on the sheaf \u03a9. For \u03bb \u2208 CK , define\n= f (\u03bb\u22121 x) , \u2200f \u2208 \u0393(U+ , \u03a9)\n= |\u03bb|f (\u03bbx) , \u2200f \u2208 \u0393(U\u2212 , \u03a9)\n\n\u03b8+ (\u03bb)f (x)\n\u03b8\u2212 (\u03bb)f (x)\n\n\u03b8(\u03bb)f (x) = f (\u03bb\u22121 x) , \u2200f \u2208 \u0393(U+ \u2229 U\u2212 , \u03a9).\n\u0012\n\u0013\n0 1\nThe generator w =\nof the Weyl group W \u2282 PGL2 acts on CK by the\n1 0\nw\n\u22121\nautomorphism g 7\u2192 g = g , \u2200g \u2208 CK and this action defines the semi-direct\nproduct N = CK \u22ca W . Moreover, w acts on P1F1 by exchanging 0 and \u221e. The\naction of w on the sheaf \u03a9 is given by:\nw# f\n\n=\n\nf \u2208 \u0393(U\u2212 , \u03a9) , \u2200f \u2208 \u0393(U+ , \u03a9)\n\n#\n\n=\n\nf \u2208 \u0393(U+ , \u03a9) , \u2200f \u2208 \u0393(U\u2212 , \u03a9)\n\nw f\n#\n\nw f (g) =\n\n|g|\u22121 f (g \u22121 ) , \u2200f \u2208 \u0393(U+ \u2229 U\u2212 , \u03a9).\n\n(50)\n\nThis action defines the morphism of sheaves w# : \u03a9 \u2192 w\u2217 \u03a9. The following result\nis proven in [6] (cf. Proposition 5.4)\nProposition 3.2. There exists a unique action of N = CK \u22ca W on the sheaf\n\u03a9 which agrees with (50) on W and restricts on CK to the (twist) representation\n\u03b8[\u2212 21 ] := \u03b8 \u2297 \u03bc\u22121/2 , where \u03bc\u22121/2 is seen as representation of CK .\nThe \u010cech complex of the covering U = {U\u00b1 } of P1F1 has two terms\nC0\nC\n\n1\n\n= \u0393(U+ , \u03a9) \u00d7 \u0393(U\u2212 , \u03a9)\n= \u0393(U+ \u2229 U\u2212 , \u03a9).\n13\n\n\fWe introduce the following map \u03a3 : S0 (M ) \u2192 S\u221e (CK ), \u03a3(f )(x) =\nThen, the co-boundary \u2202 : C 0 \u2192 C 1 is given by\n\nP\n\nq\u2208K\u00d7\n\n\u2202(f, h)(g) = \u03a3(f )(g) \u2212 |g|\u22121 \u03a3(h)(g \u22121 ).\n\nf (qx).\n(51)\n\nLet \u03b1 be a non-trivial character of the additive group AK /K. The lattice K \u2282 AK\ncoincides with its own dual. The Fourier transform on S(AK )0\nZ\nF (f )(a) = f (x)\u03b1(ax)dx\n(52)\nbecomes canonically defined modulo the subspace {f \u2212 fq }. For a proof of the\nfollowing statement we refer to [6] (cf. Lemma 5.3 and Theorem 5.5)\nTheorem 3.3. The kernel of the co-boundary map \u2202 : C 0 \u2192 C 1 coincides with the\ngraph of the Fourier transform\nH 0 (P1F1 , \u03a9) = {(f, F (f )) | f \u2208 S(AK )0 /{f \u2212 fq }} \u2295 C\u22952 \u2295 (C[1])\u22952 .\n\u03b8[\u2212 12 ]\n\n1\n\n(53)\n\n(P1F1 , \u03a9)\n\nof CK on H\ndetermines the spectral realization of\nThe representation\nthe zeros of the L-functions. This representation is invariant under the symmetry\n\u03c7(g) 7\u2192 \u03c7(g \u22121 ) of the group of Gr\u00f6ssencharakters of the global field K.\n4. Hyperstructures\nIn this section we briefly recall the results of [8] showing that the notion of hyperring\nintroduced by M. Krasner allows one to understand the algebraic structure of the\nad\u00e8le class space HK = AK /K\u00d7 of a global field K.\n4.1. Hypergroups and hyperrings. We start by reviewing the notion of a canonical hypergroup (H, +). For our applications it will be enough to consider the commutative case and we denote by + the hyper-composition law in H. The novelty\nis that for hypergroups such as H the sum x + y of two elements in H is no longer\na single element of H but a non-empty subset of H. It is customary to define a\nhyper-operation on H as a map\n+ : H \u00d7 H \u2192 P(H)\u2217\ntaking values into the set P(H)\u2217 of all non-empty subsets of H. One uses the\nnotation \u2200A, B \u2286 H, A + B := {\u222a(a + b) |a \u2208 A, b \u2208 B}. The definition of a\ncommutative canonical hypergroup requires that H has a neutral element 0 \u2208 H\n(i.e. an additive identity) and that the following axioms apply:\n(1) x + y = y + x,\n\n\u2200x, y \u2208 H\n\n(2) (x + y) + z = x + (y + z),\n(3) 0 + x = x = x + 0,\n\n\u2200x, y, z \u2208 H\n\n\u2200x \u2208 H\n\n(4) \u2200x \u2208 H \u2203! y(= \u2212x) \u2208 H\n\ns.t. 0 \u2208 x + y\n\n(5) x \u2208 y + z =\u21d2 z \u2208 x \u2212 y.\nProperty (5) is usually called reversibility.\nLemma 4.1. Let (G, *) be a commutative group, and let K \u2282 Aut(G) be a subgroup of the group of automorphisms of G. Then the following operation defines a\nstructure of hypergroup on the set H = {K(g)|g \u2208 G} of the orbits of the action of\nK on G:\nK(g1 ) * K(g2 ) := (Kg1 * Kg2 )/K.\n(54)\n14\n\n\fThe notion of a hyperring (cf. [23], [24]) is the natural generalization of the classical\nnotion of a ring, obtained by replacing a classical additive law by a hyperaddition.\nMore precisely, a hyperring (R, +, *) is a non-empty set R endowed with a hyperaddition + and a multiplicative operation * satisfying the following properties:\n(a) (R, +) is a commutative canonical hypergroup\n(b) (R, *) is a monoid with multiplicative identity 1\n(c) \u2200r, s, t \u2208 R: r(s + t) = rs + rt and (s + t)r = sr + tr\n(d) \u2200r \u2208 R: r * 0 = 0 * r = 0, i.e. 0 \u2208 R is an absorbing element\n(e) 0 6= 1.\nLet (R1 , +1 , *1 ), (R2 , +2 , *2 ) be two hyperrings. A map f : R1 \u2192 R2 is called a\nhomomorphism of hyperrings if the following conditions are satisfied\n(1) f (a +1 b) \u2286 f (a) +2 f (b), \u2200a, b \u2208 R1\n(2) f (a *1 b) = f (a) *2 f (b), \u2200a, b \u2208 R1 .\n4.2. K, S and the ad\u00e8le class space HK = AK /K\u00d7 . A hyperring (R, +, *) is\ncalled a hyperfield if (R\\{0}, *) is a group. The most basic example of a hyperfield is\nthe Krasner hyperfield K = ({0, 1}, +, *) with additive neutral element 0, satisfying\nthe hyper-rule: 1 + 1 = {0, 1} and with the usual multiplication, with identity\n1. Likewise F2 encodes the arithmetic of even and odd numbers, K encodes the\narithmetic of zero and non-zero numbers. The hyperfield K is the natural extension,\nin the category of hyperrings, of the commutative (pointed) monoid F1 , i.e. (K, *) =\nF1 .\nAnother interesting example of basic hyperstructure is the hyperfield of signs S =\n({0, \u00b11}, +, *) where the hyper-addition is given by the \"rule of signs\"\n1 + 1 = 1 , \u22121 \u2212 1 = \u22121 , 1 \u2212 1 = \u22121 + 1 = {\u22121, 0, 1}\n\n(55)\n\nand where the usual multiplication is also given by the rule of multiplication of\nsigns. S encodes the arithmetic of the signs of numbers and it is the natural\nextension, in the category of hyperrings, of the commutative (pointed) monoid F12 ,\ni.e. (S, *) = F12 .\nThere is a unique hyperring homomorphism \u03c3 : Z \u2192 S, \u03c3(n) = sign(n), \u2200n 6= 0,\n\u03c3(0) = 0. Moreover, the absolute value determines a canonical surjective homomorphism of hyperfields \u03c0 : S \u2192 K. Then, by using the composite homomorphism\nh = \u03c0 \u25e6 \u03c3, one can perform the extension of scalars from Z to K and show that for\nany commutative ring R containing Q as a subfield, one obtains the isomorphisms\nR \u2297Z K = R/Q\u00d7 and R \u2297Z S = R/Q\u00d7\n+ (cf. [8] Proposition 6.1).\nLet R be a commutative ring and let G \u2282 R\u00d7 be a subgroup of its multiplicative\ngroup. Then the following operations define a hyperring structure on the set R/G\nof orbits for the action of G on R by multiplication\n\u2022 Hyperaddition\nx + y := (xG + yG) /G , \u2200x, y \u2208 R/G\n\u2022 Multiplication\nxG * yG = xyG , \u2200x, y \u2208 R/G.\nIn particular, one may start with a field K and consider the hyperring K/K \u00d7 . This\nway, one obtains a hyperstructure whose underlying set is made by two classes i.e.\n15\n\n\fthe class of 0 and that of 1. It is easy to see that if K has more than two elements,\nthen K/K \u00d7 is isomorphic to the Krasner hyperfield K .\nIn general, a hyperring need not contain K as a sub-hyperfield. For quotient hyperrings, like the ones we have introduced right above, there is a precise condition\nthat ensures the occurrence of this case (cf. [8] Proposition 2.6)\nTheorem 4.2. Let R is a commutative ring and G \u2282 R\u00d7 a proper subgroup of\nthe multiplicative group of units of R, then, the hyperring R/G contains K as a\nsub-hyperfield if and only if {0} \u222a G is a subfield of R.\nSince the ad\u00e8le class space HK = AK /K\u00d7 of a global field K is the quotient of the\ncommutative ring R = AK by G = K\u00d7 and {0} \u222a G = K is a subfield of R = AK ,\none obtains\nCorollary 4.3. The ad\u00e8le class space HK = AK /K\u00d7 of a global field K is a hyperring extension of K.\nIt is elementary to prove that for any ring R, the map\n\u03c6 : Spec (R) \u2192 Hom(R, K) ,\n\n\u03c6(p) = \u03c6p\n\n\u03c6p (x) = 0 , \u2200x \u2208 p , \u03c6p (x) = 1 , \u2200x \u2208\n/p\ndetermines a natural bijection of sets. This fact shows that the hyperfield K plays,\namong hyperrings, the equivalent role of the monoid F1 among monoids (cf. [7]\nProposition 3.32).\n4.3. Extensions of K and incidence groups. In this section we outline several\nresults which show that the structure of hyperfield and hyperring extensions of K\nis intimately connected to the geometric notion of incidence group of Ellers and\nKarzel (cf. [15]). We refer to \u00a73 of [8] to read more details and for the proofs.\nThere is a canonical correspondence, originally established by Prenowitz in [29],\nbetween K-vector spaces E and projective geometries (P, L) in which every line\nhas at least 4 points. The line passing through two distinct points x, y of P := E\\{0}\nis defined by\nL(x, y) = (x + y) \u222a {x, y}.\nConversely, the hyper-addition in E := P \u222a {0} is defined by the rule\nx + y = L(x, y) \\ {x, y},\n\nif x 6= y,\n\nx + x = {0, x}.\n\nIf a group G is the set of points of a projective geometry, then G is called a twosided incidence group if the left and the right translations by G are automorphisms\nof the geometry.\nLet H \u2283 K be a hyperfield extension of K and let (P, L) be the associated geometry.\nThen, the multiplicative group H\u00d7 , endowed with the geometry (P, L), is a twosided incidence group. Conversely, let G be a two-sided incidence group. Then,\nthere exists a unique hyperfield extension H \u2283 K such that H = G \u222a {0}.\nThe classification of Desarguesian commutative incidence groups due to H. Karzel\n(cf. [21]) applies to commutative hyperfield extensions H of K such that dimK H >\n3. Let H \u2283 K be a commutative hyperfield extension of K. Assume that the\ngeometry associated to the K-vector space H is Desarguesian (this condition is\nautomatic if dimK H > 3) and of dimension at least 2. Then, there exists a unique\npair (F, K) of a commutative field F and a subfield K \u2282 F such that\nH = F/K \u00d7 .\n16\n\n\fIn view of the result just stated, the classification of all finite, commutative hyperfield extensions of K reduces to the determination of non-Desarguesian, finite\nprojective planes with a simply transitive abelian group of collineations. More precisely, if H \u2283 K is a finite commutative hyperfield extension of K, then, one of the\nfollowing cases occurs:\n(1) H = K[G], for a finite abelian group G.\n(2) There exists a finite field extension Fq \u2282 Fqm of a finite field Fq such that\nH = Fqm /F\u00d7\nq .\n(3) There exists a finite, non-Desarguesian projective plane P and a simply transitive abelian group G of collineations of P, such that G is the commutative incidence\ngroup associated to H.\nThere are no known examples of finite, commutative hyperfield extensions H \u2283 K\nproducing projective planes as in case (3). In fact, there is a conjecture based on\nsome results of A. Wagner (cf. [1], [34], [35]) stating that such case cannot occur.\nM. Hall proved two results (cf. [18]) which imply the following conclusions:\n\u2022 Assume that H\u00d7 is cyclic. Let n+1 be the cardinality of each line of the geometry.\nThen for each prime divisor of n, the map x 7\u2192 xp is an automorphism of H \u2283 K.\n\u2022 There exists an infinite hyperfield extension H \u2283 K whose geometry is nonDesarguesian and H\u00d7 \u2243 Z.\nLet H \u2283 K be a commutative hyperring extension of K. Assume that H has no\nzero divisors and that dimK H > 3. Then, there exists a unique pair (A, K) of a\ncommutative integral domain A and a subfield K \u2282 A such that\nH = A/K \u00d7 .\nLet Aj (j = 1, 2) be commutative algebras over two fields Kj 6= F2 and let\n\u03c1 : A1 /K1\u00d7 \u2192 A2 /K2\u00d7\nbe a homomorphism of hyperrings. Assume that the range of \u03c1 is of K-dimension\nat least 3, then \u03c1 is induced by a unique ring homomorphism \u03c1\u0303 : A1 \u2192 A2 such\nthat \u03b1 = \u03c1\u0303|K1 is a field inclusion \u03b1 : K1 \u2192 K2 . These results show that, in higher\nrank, the category of hyperring extensions of K is the category of algebras over\nfields with twisted morphisms.\n5. The hyperfield Rconvex\nIn this section we prove that the set of the real numbers is endowed with a natural\nstructure of hyperfield extension Rconvex of the hyperfield of signs S. It turns out\nthat the hyperstructure on Rconvex is a refinement of the algebraic structure on the\nsemi-field Rmax\ncommonly used in idempotent analysis and tropical geometry. The\n+\nhyperfield Rconvex has characteristic one and it comes equipped with a one parameter group of automorphisms which plays the role of the Frobenius in characteristic\none.\n5.1. Sign-convex subsets of R. The sign of a real number determines a canonical\nsurjective map\n\uf8f1\nif r = 0;\n\uf8f2 0,\n1,\nfor r > 0;\nsign : R \u2192 {0, \u00b11}, sign (r) =\n(56)\n\uf8f3\n\u22121, for r < 0.\n17\n\n\f\u03a6HyL\n\n0 -\u00a5\n\n0\n\n0 \u00a5\n\u03a6HxL\n\nFigure 1. The set \u03c6(c(x, y)) for x < 0, y > \u2212x.\nFor any pair of real numbers x, y \u2208 R, we set\nc(x, y) = {\u03b1x + \u03b2y | \u03b1 > 0, \u03b2 > 0, sign (\u03b1x + \u03b2y) = \u03b1 sign (x) + \u03b2 sign (y)}. (57)\nDefinition 5.1. A subset C \u2282 R is said to be sign-convex if \u2200x, y \u2208 C one has\nc(x, y) \u2282 C.\nWe fix a homeomorphism \u03c6 : (0, \u221e) \u2192 {ei\u03b8 | \u03b8 \u2208 (0, \u03c0)} of the positive real line with\nthe upper-half unit circle in C, such that limx\u21920 \u03c6(x) = \u22121 and limx\u2192\u221e \u03c6(x) = 1.\nWe let U = {0} \u222a {z \u2208 C | |z| = 1, z \u2208\n/ R} and we extend uniquely \u03c6 to a bijection\n\u223c\n\u03c6 : R \u2192 U by setting:\n\u03c6(x) = \u2212\u03c6(\u2212x) , \u2200x 6= 0 , \u03c6(0) = 0.\nFor instance one can take\n\u03c6(x) = sign (x)ei\u03b8(x) , \u03b8(x) =\n\n(58)\n\n\u03c0\n.\n1 + x2\n\nLemma 5.2. For all x, y \u2208 R one has\n\u00d7\nz \u2208 c(x, y) \u21d4 \u03c6(z) \u2208 R\u00d7\n+ \u03c6(x) + R+ \u03c6(y).\n\n(59)\n\nProof. For x = 0, one has c(0, y) = {y}, \u2200y \u2208 R and (59) holds. If y = 0, one\nconcludes in a similar way. Thus we can assume x 6= 0 6= y. Next, we show that\n0 \u2208 c(x, y) \u21d4 y = \u2212x.\n\n(60)\n\nIf 0 \u2208 c(x, y), then there exist \u03b1 > 0, \u03b2 > 0 such that \u03b1x + \u03b2y = 0 and \u03b1 sign (x) +\n\u03b2 sign (y) = 0. This implies \u03b1 = \u03b2 and y = \u2212x. Conversely, if y = \u2212x one has\n0 = x + y and 0 = sign (x) + sign (y) so that 0 \u2208 c(x, y).\n\u00d7\nSince 0 \u2208 R\u00d7\n+ \u03c6(x) + R+ \u03c6(y) if and only if y = \u2212x, this proves that (59) holds for\nz = 0. We can then assume that x, y, z are all different from 0. If 0 < x < y both\nsides of (59) give the interval (x, y) and one gets (59) when x and y have the same\nsign. For x < 0 and y > 0 there are three possible cases and using (57) one gets\n18\n\n\f\u2022 If \u2212x < y then c(x, y) = (x, 0) \u222a (y, \u221e).\n\u2022 If \u2212x = y then c(x, y) = {x, 0, y}.\n\u2022 If \u2212x > y then c(x, y) = (\u2212\u221e, x) \u222a (0, y).\nThus (59) can be checked directly in each case: cf. Figure 1.\n\n\u0003\n\nA subset \u0393 \u2282 C is called a convex cone if \u0393 is stable both for addition and for the\naction of R\u00d7\n+ on \u0393 by multiplication. For any subset X \u2282 C, the convex cone \u0393(X)\ngenerated by X verifies the equality\n\u0393(X)\\{0} = {\u03b1x + \u03b2y , \u03b1 > 0, \u03b2 > 0, x, y \u2208 X}\\{0}.\n\n(61)\n\nIt may happen that 0 \u2208 \u0393(X) cannot be written as a sum of two elements of R\u00d7\n+ X,\nbut it is always possible to write 0 as a sum of three elements of R\u00d7\nX.\n+\nNext results shows that sign-convex subsets of R are determined by convex-cones\nin C.\nCorollary 5.3. Let \u03c6 be as in (58) and C \u2282 R. The following conditions are\nequivalent:\n\u2022 C is sign-convex.\n\u2022 C = \u03c6\u22121 (\u0393) where \u0393 be the cone generated by \u03c6(C).\n\u2022 There exists a convex cone \u0393 \u2282 C such that C = \u03c6\u22121 (\u0393).\nProof. Let C \u2282 R be sign-convex. Let \u0393 = \u0393(\u03c6(C)) be the cone generated by \u03c6(C).\nBy (61) any non-zero element of \u0393 is of the form\n\u03be = \u03b1\u03c6(x) + \u03b2\u03c6(y),\n\nfor some \u03b1 > 0, \u03b2 > 0, x, y \u2208 C.\n\n(62)\n\nThus, by applying Lemma 5.2, one has 0 6= \u03be = \u03c6(z) \u2208 \u0393 =\u21d2 z \u2208 C, for z 6= 0. If\n0 \u2208 \u0393, then there exist three elements x, y, z of C and three positive real numbers\n\u03b1, \u03b2, \u03b3 > 0 such that \u03b1\u03c6(x) + \u03b2\u03c6(y) + \u03b3\u03c6(z) = 0. Since C is sign convex, Lemma\n5.2 shows that there exists a \u2208 C, with \u2212a \u2208 C so that 0 \u2208 c(a, \u2212a) \u2282 C.\nIf C = \u03c6\u22121 (\u0393) for some convex cone \u0393 \u2282 C, then, it follows again from Lemma 5.2\nthat C is sign-convex.\n\u0003\nIf C \u2282 R is sign-convex then the two subsets C \u00b1 = C \u2229 \u00b1(0, \u221e) \u2282 R are convex\ni.e. they are intervals, but the converse of this statement fails. If C is sign-convex,\nso is C \u222a {0}. Moreover, set aside R, the only sign-convex subsets C \u2282 R which\ncontain a pair x, \u2212x, for some x > 0 are of the following types\n\u2022 Cx = {\u2212x, 0, x}\n\u2022 Cx+ = [\u2212x, 0] \u222a [x, \u221e)\n\u2022 Cx\u2212 = (\u2212\u221e, \u2212x] \u222a [0, x].\nLemma 5.4. Let C \u2282 R be sign-convex and x \u2208\n/ C. Then the smallest sign-convex\nset containing x and C is the set\nC \u2032 = {x} \u222a C \u222ay\u2208C c(x, y).\nProof. Since any sign-convex subset containing x and C contains C \u2032 , and since C \u2032\ncontains x and C, it suffices to show that C \u2032 is sign-convex. This follows from\nCorollary 5.3.\n\u0003\n19\n\n\fLemma 5.5. For all x, y, z \u2208 R one has\n[\n\u00d7\n\u00d7\nc(u, z) \u21d4 \u03c6(t) \u2208 R\u00d7\nt\u2208\n+ \u03c6(x) + R+ \u03c6(y) + R+ \u03c6(z).\n\n(63)\n\nu\u2208c(x,y)\n\n\u00d7\n\u00d7\n\u00d7\nProof. By Lemma 5.2 one has \u03c6(t) \u2208 R\u00d7\n+ (R+ \u03c6(x) + R+ \u03c6(y)) + R+ \u03c6(z) for any\nt \u2208 \u222au\u2208c(x,y) c(u, z). Conversely, let t \u2208 R be such that\n\n\u03c6(t) = \u03bb1 \u03c6(x) + \u03bb2 \u03c6(y) + \u03bb3 \u03c6(z) , \u03bbi > 0 .\nLet \u03b1 = \u03bb1 \u03c6(x) + \u03bb2 \u03c6(y). If there exists \u03bb > 0 such that \u03bb\u03b1 \u2208 U (cf. (58)) then\n\u00d7\nthere exists u \u2208 R with \u03c6(u) = \u03bb\u03b1 \u2208 R\u00d7\n+ \u03c6(x) + R+ \u03c6(y). Thus by Lemma 5.2 one\nhas u \u2208 c(x, y) and since\n\u00d7\n\u03c6(t) = \u03bb\u22121 \u03c6(u) + \u03bb3 \u03c6(z) \u2208 R\u00d7\n+ \u03c6(u) + R+ \u03c6(z)\n\none gets t \u2208 c(u, z) \u2282 \u222av\u2208c(x,y) c(v, z) as required. Otherwise one has \u03b1 \u2208 R, \u03b1 6= 0.\nOne has \u03c6(x) \u2208\n/ {0, \u00b1\u03c6(y)}. Let \u01eb = sign (\u03b1) \u2208 {\u22121, 1}. Then there exists an open\nneighborhood V of \u01eb in the unit circle such that\n\u00d7\nV \u2282 R\u00d7\n+ \u03c6(x) + R+ \u03c6(y).\n\n(64)\n\nOne has \u03c6(t) = \u03b1 + \u03bb3 \u03c6(z) by construction, and since \u03c6(z) 6= \u01eb it follows that \u03c6(t)\nis in the interior of the short interval between \u01eb and \u03c6(z) on the unit circle. Thus\nthere exists v \u2208 V , v 6= \u01eb such that \u03c6(t) is in the interior of the short interval\nbetween v and \u03c6(z) on the unit circle. Let u \u2208 R such that v = \u03c6(u), then by (64)\nand Lemma 5.2, one has u \u2208 c(x, y). Moreover since \u03c6(t) is in the interior of the\nshort interval between \u03c6(u) and \u03c6(z) one has t \u2208 c(u, z) again by Lemma 5.2. \u0003\n5.2. Construction of Rconvex . We now use the preliminary results of the previous\nsubsection to construct the hyperfield extension Rconvex of S.\nTheorem 5.6. On the set R there exists a unique structure of hyperfield Rconvex =\n(R, +c , *), where \u2200x, y \u2208 R one sets x +c y = c(x, y) i.e.\nx +c y := {\u03b1x + \u03b2y | \u03b1 > 0, \u03b2 > 0, sign (\u03b1x + \u03b2y) = \u03b1 sign (x) + \u03b2 sign (y)} (65)\nand where the multiplication * is the classical one. The hyperaddition +c on Rconvex\nis uniquely determined by the properties:\n(1) x +c y = (x, y)\n\n\u2200 y>x>0\n\n(2) S \u2282 Rconvex as a sub-hyperfield.\nProof. The operation x +c y = c(x, y) is commutative by construction. For x = 0\none has\n0 +c y = {\u03b2y | \u03b2 > 0, sign (\u03b2y) = \u03b2 sign (y)} = {y}.\nThus 0 is a neutral element. By (60), one has 0 \u2208 x +c y \u21d4 y = \u2212x. Note that one\nhas\nx +c (\u2212x) = {\u2212x, 0, x} , \u2200x \u2208 R\n(66)\nand also\nx +c x = {x} , \u2200x \u2208 R.\n\n(67)\n\nMoreover, we claim that for any real number a one has\na(x +c y) = ax +c ay.\n20\n\n(68)\n\n\fThis holds for a = 0. For a > 0 the statement follows from (65), by using the\nequality sign (az) = sign (z) which is valid for all z \u2208 R. The claim holds also for\na < 0, in fact it follows by applying (65) and sign (az) = \u2212sign (z) for all z \u2208 R.\nThe associativity of the hyper-addition +c follows from Lemma 5.5 which shows\nthat (x +c y) +c z = \u222au\u2208c(x,y) c(u, z) is symmetric in x, y, z. Now, we prove the\nreversibility of the hyper-addition +c . By Lemma 5.2 one has\n\u00d7\n\u00d7\n\u2212z \u2208 x +c y \u21d4 0 \u2208 R\u00d7\n+ \u03c6(x) + R+ \u03c6(y) + R+ \u03c6(z).\n\nSince this equivalent condition is symmetric in x, y, z we obtain the reversibility.\nTo prove the uniqueness of Rconvex it is enough to determine the hypersum 1 +c x \u2282\nR assuming x \u2208\n/ {0, \u00b11}. For x > 0, this is the interval between 1 and x. Assume\nthen x < 0. For y < 0, one has using reversibility,\ny \u2208 1 +c x \u21d4 x \u2208 y \u2212c 1 \u21d4 \u2212x \u2208 \u2212y +c 1 = {\u2212\u03bby + (1 \u2212 \u03bb)|\u03bb \u2208 (0, 1)}.\nThus, for x < 0, we know the description the intersection (1 +c x) \u2229 (\u2212\u221e, 0), i.e.\nif |x| < 1, it is the interval (x, 0) and if |x| > 1 it is (\u2212\u221e, x). By applying the\ndistributivity we know, for x < 0, that (\u22121 \u2212c x) \u2229 (0, \u221e) = \u2212 ((1 +c x) \u2229 (\u2212\u221e, 0)),\nand hence this determines t(\u22121 \u2212c x) \u2229 (0, \u221e) for t > 0. Taking t = \u22121/x > 0, this\ndetermines (1/x +c 1) \u2229 (0, \u221e) which gives\nif |x| < 1 : t(\u2212(x, 0)) = t(0, \u2212x) = (0, 1)\nif |x| > 1 : t(\u2212(\u2212\u221e, x)) = t(\u2212x, \u221e) = (1, \u221e).\nThus, for x < 0 we get, replacing x by 1/x,\n|x| < 1, x < 0 \u21d2 1 +c x = (x, 0) \u222a (1, \u221e)\n|x| > 1, x < 0 \u21d2 1 +c x = (\u2212\u221e, x) \u222a (0, 1)\nwhich gives the required uniqueness.\n\n\u0003\n\nProposition 5.7. Let Aut(Rconvex ) be the group of automorphisms of the hyperfield Rconvex . The following map defines an isomorphism of (multiplicative) groups\n\u223c\nR\u00d7 \u2192 Aut(Rconvex ), \u03bb 7\u2192 \u03b8\u03bb , where\n\u03b8\u03bb (x) = x\u03bb\n\n\u2200x > 0,\n\n\u03b8\u03bb (x) = x , \u2200x \u2208 S \u2282 Rconvex .\n\n(69)\n\nProof. Let first check that (69) defines an automorphism \u03b8\u03bb \u2208 Aut(Rconvex ). Since\n\u03b8\u03bb is compatible with the product, one just needs to show the compatibility with\nthe hyperaddition +c . This can be checked directly. Let then \u03b1 \u2208 Aut(Rconvex )\nbe an automorphism. Since \u22121 is the unique additive inverse of 1, one gets that\n\u03b1(x) = x , \u2200x \u2208 S \u2282 Rconvex . Since the subgroup R\u00d7\n+ of the multiplicative group is\nthe subgroup of squares, it is preserved globally by \u03b1 and thus \u03b1 defines a group\nautomorphism of R\u00d7\n+ . Furthermore, since \u03b1 is compatible with the hyperaddition\n\u03bb\nits restriction to R\u00d7\n+ is monotonic and hence it is given by \u03b1(x) = x for some\n\u03bb \u2208 R\u00d7 .\n\u0003\nRemark 5.8. There is no intermediate sub-hyperfield S \u2282 F \u2282 Rconvex , since for\n\u03be\u2208\n/ {0, \u00b11}, one would have \u00b1\u03be > 0 and then 1 + \u03be would contain an open interval\ngenerating the multiplicative group (one has \u22121 \u2208 F ).\n21\n\n\f5.3. The hyperfields S[G]. In this section we show how to extend the construction of Rconvex to a functor G 7\u2192 S[G] from the category of totally ordered nondiscrete abelian groups to hyperfield extensions of S. For K-vector spaces E with\ndimK (E) = 2, Remark 3.7 of [8] shows a simple \"set-theoretic\" construction of\nthis functor since in that case there is a single line in the corresponding geometry.\nWe first describe an analogous construction for a S-vector space, starting with an\nordered set G such that (a, b, c \u2208 G)\n\u2200a < b, \u2203c, a < c < b,\n\nG has no minimal or maximal element.\n\nOn the set\nS(G) := \u2212G\nwe define the hyperaddition as follows:\n\na\na\n{0}\nG\n\nx > 0, y > 0, x 6= y\n\nx + y := {z| inf(x, y) < z < sup(x, y)}\n\nx=y>0\n\nx + x := x\n\nx>0\n\n(70)\n\n(71)\n\nx + (\u2212x) := {0, \u00b1x}\n\nx > 0, y < 0, x > \u2212y\n\nx + y := {z|z > x} \u222a \u2212{t|t < |y|}.\n\nThen, we extend this hyperaddition uniquely using the rule \u2212(a + b) = \u2212a \u2212 b, 0 +\nx = x + 0 = x.\nProposition 5.9. (S(G), +) is a S-vector space.\nThe main point in the proof of the above proposition is to check the associativity\nand then to note that all ordered configurations which occur in S(G) also occur in\nRconvex . Thus the associativity follows from that case using the condition (70) to\nobtain the symmetry of (x + y) + z in x, y, z.\nTheorem 5.10. Let G be a totally ordered commutative group fulfilling (70), then\nS(G) is a hyperfield extension of S.\nProof. It follows from the above proposition that S(G) is a hypergroup. Moreover\nthe operation x \u2192 \u2212x is an automorphism of S(G). We denote G as a multiplicative\ngroup. The multiplication La by a fixed element a \u2208 G preserves the order and\nhence it is compatible with the hyperaddition La (x + y) := La (x) + La (y). This\nshows that if one endows S(G) with the product of G satisfying (\u22121)2 = 1, then\nwe get a hyperfield. One has 1 + 1 = 1 and \u22121 + 1 = {0, \u00b11}, thus S(G) contains\nthe hyperfield of signs S.\n\u0003\nBy applying this result to G = R\u00d7\n+ (\u223c R) as ordered multiplicative group, one then\ngets a canonical isomorphism\nconvex\nS(R\u00d7\n.\n+) \u2243 R\n\n(72)\n\n6. Function theory for hyperrings\nWe recall that a function on a scheme X, viewed as a covariant Z-functor X :\nRing \u2192 Sets, is a morphism of Z-functors f : X \u2192 D, where D is the functor\naffine line D = spec(Z[T ]), with geometric scheme Spec (Z[T ]) (cf. [14] Chapter I\nand [6]). When X = Spec (R), with R \u2208 obj(Ring) (i.e. R a commutative ring with\nunit), one derives a natural identification of functions on X with elements of the\nring R\nHomRing (Z[T ], R) \u2243 R.\n(73)\n22\n\n\fIn the category of hyperrings, the identification (73) no longer holds in general.\nIndeed, K has only two elements while HomHring (Z[T ], K) \u2243 Spec (Z[T ]) is countably infinite (cf. [8] Proposition 2.13). In the following sections we take up the\nstudy of function theory on the spaces Spec K and Spec S i.e. we describe the sets\nD(K) = HomHring (Z[T ], K) and of D(S) = HomHring (Z[T ], S) together with the\nhyperoperations coming from addition and multiplication of functions.\n6.1. Coproducts and homomorphisms to hyperrings. Let H be a commutative ring with unit, and let \u2206 : H \u2192 H \u2297Z H be a coproduct. Given two ring\nhomomorphisms \u03c6j : H \u2192 R (j = 1, 2) to a commutative ring R, the composition\n\u03c6 = (\u03c61 \u2297\u03c62 )\u25e6\u2206 defines a ring homomorphism \u03c6 : H \u2192 R. When R is a hyperring,\none introduces the following notion\nDefinition 6.1. Let (H, \u2206) be a commutative ring with a coproduct and let R be\na hyperring. Let \u03c6j \u2208 HomHring (H, R), j = 1, 2. One defines\nX\n\u03c61 (x(1) )\u03c62 (x(2) ),\n\u03c61 \u22c6\u2206 \u03c62 = {\u03c6 \u2208 HomHring (H, R)|\u03c6(x) \u2208\nX\nx(1) \u2297 x(2) }. (74)\nfor all decompositions \u2206(x) =\n\nIn general, for x \u2208 H, there are several ways to write\nX\n\u2206(x) =\nx(1) \u2297 x(2)\n\n(75)\nP\n\nwhich represent the same element of H\u2297H. The condition \u03c6(x) \u2208\n\u03c61 (x(1) )\u03c62 (x(2) )\nhas to hold for all these decompositions. In general, \u03c61 \u22c6\u2206 \u03c62 can be empty or it\nmay contain several elements. When \u03c61 \u22c6\u2206 \u03c62 = {\u03c6} is made by a single element\nwe simply write \u03c61 \u22c6\u2206 \u03c62 = \u03c6.\nThe canonical homomorphism Z \u2192 H induces a restriction homomorphism\n\u03c0 : Hom(H, R) \u2192 Hom(Z, R).\n\n(76)\n\nThe following lemma shows that \u03c61 \u22c6\u2206 \u03c62 is empty when the restrictions \u03c0(\u03c6j ) =\n\u03c6j |Z are distinct.\nLemma 6.2. Let (H, \u2206) be a commutative ring with a coproduct and let R be a\nhyperring. Let \u03c6j \u2208 HomHring (H, R), j = 1, 2. If \u03c6 \u2208 \u03c61 \u22c6\u2206 \u03c62 , then\n\u03c6|Z = \u03c61 |Z = \u03c62 |Z .\n\n(77)\n\nProof. One has \u2206(1) = 1 \u2297 1 and thus \u2206(nm) = n \u2297 m , \u2200n, m \u2208 Z. Taking n = 1,\n(74) gives \u03c6(m) = \u03c62 (m) for all m \u2208 Z so that \u03c6|Z = \u03c62 |Z and similarly taking\nm = 1 we get \u03c6|Z = \u03c61 |Z .\n\u0003\nLemma 6.3. Let \u03c6 \u2208 \u03c61 \u22c6\u2206 \u03c62 and let Jj = Ker(\u03c6j ) (j = 1, 2) be the associated\nideals of H = Z[T ]. Then, one has\n\u03c6(x) = 0\n\n\u2200x with \u2206x \u2208 J1 \u2297 H + H \u2297 J2 .\n\nProof. Write a decomposition of the form\nX\nX\n\u2206x =\nxi \u2297 Hi +\nHk\u2032 \u2297 x\u2032k ,\n\n(78)\n\nxi \u2208 J1 , x\u2032k \u2208 J2 .\n\nThen one has\n\n\u03c6(x) \u2208\n\nX\n\n\u03c61 (xi )\u03c62 (Hi ) +\n23\n\nX\n\n\u03c61 (Hk\u2032 )\u03c62 (x\u2032k ) = 0.\n\u0003\n\n\fLet Jj be ideals in H. The subset J = J1 \u2297 H + H \u2297 J2 of H \u2297 H is an ideal of\nH \u2297 H and we set\nJ1 \u22c6\u2206 J2 = {x \u2208 H|\u2206x \u2208 J}.\n(79)\nSince \u2206 is a ring homomorphism, J1 \u22c6\u2206 J2 is an ideal of H.\nLemma 6.4. For any \u03c6 \u2208 \u03c61 \u22c6\u2206 \u03c62 , one has Ker(\u03c61 ) \u22c6\u2206 Ker(\u03c62 ) \u2282 Ker(\u03c6).\nProof. Let Jj = Ker(\u03c6j ) (j = 1, 2). For \u2206x \u2208 J = J1 \u22c6\u2206 J2 it follows from (78)\nthat \u03c6(x) = 0.\n\u0003\n6.2. Hyperoperations on functions. The above results allow one to define the\nalgebraic structure on functions, i.e. on the elements of D(R) = Hom(Z[T ], R).\nHere we use the 2 coproducts on H = Z[T ] which are uniquely defined by\n\u2206+ (T ) = T \u2297 1 + 1 \u2297 T \u2208 H \u2297 H\n\n(80)\n\n\u2206\u00d7 (T ) = T \u2297 T \u2208 H \u2297 H.\n\n(81)\n\nand\nDefinition 6.5. Let R be a hyperring and \u03c6j \u2208 Hom(Z[T ], R) be two functions.\nLet \u2206\u2217 be either \u2206+ or \u2206\u00d7 . One sets\nX\n\u03c61 (x(1) )\u03c62 (x(2) )}\n(82)\n\u03c61 \u22c6\u2206\u2217 \u03c62 = {\u03c6 \u2208 Hom(Z[T ], R)|\u03c6(x) \u2208\nP\nfor any decomposition \u2206\u2217 x = x(1) \u2297 x(2) .\nWe now give a general construction of the elements \u03c6 \u2208 \u03c61 \u22c6\u2206 \u03c62 .\n\nLemma 6.6. Let A be a ring and let G \u2282 A\u00d7 be a subgroup of the units of A.\nWe denote by R = A/G the quotient hyperring and we let \u01eb : A \u2192 A/G the\nprojection map. For a \u2208 A, let \u03c6\u0303a : Z[T ] \u2192 A be the ring homomorphism given by\n\u03c6\u0303a (p(T )) = p(a) and we let\n\u03c6a : Z[T ] \u2192 A/G\n\n\u03c6a = \u01eb \u25e6 \u03c6\u0303a\n\n(83)\n\u2217\n\nto be the composite homomorphism (of hyperrings). Let \u2206 : Z[T ] \u2192 Z[T ] \u2297Z Z[T ]\nbe a coproduct and m : A \u2297 A \u2192 A the multiplication map. For a, b \u2208 A, we let\nc \u2208 A be\nc = \u03c8(T ) , \u03c8 = m \u25e6 (\u03c6\u0303a \u2297 \u03c6\u0303b ) \u25e6 \u2206\u2217 : Z[T ] \u2192 A.\n(84)\nP\nThen, for any decomposition \u2206\u2217 p = p(1) \u2297 p(2) , one has\nX\n\u03c6c (p(T )) \u2208\n\u03c6a (p(1) )\u03c6b (p(2) ).\n(85)\n\nProof. P\nNotice that \u03c8 is determined by \u03c8(T ) = c, thus \u03c8 = \u03c6\u0303c and \u03c6c = \u01eb \u25e6 \u03c8. If\n\u2206\u2217 p = p(1) \u2297 p(2) one gets, by (84)\nX\n\u03c8(p) =\n\u03c6\u0303a (p(1) )\u03c6\u0303b (p(2) ) \u2208 A.\n(86)\nP\nP\nSince \u01eb( xi ) \u2208\n\u01eb(xi ) for any xi \u2208 A, one obtains\nX\n\u03c6c (p) \u2208\n\u03c6a (p(1) )\u03c6b (p(2) )\n(87)\nas required.\n\n\u0003\n\nLemma 6.7. With the notations of Lemma 6.6 and for any a, b \u2208 A, one has\n\u03c6a+b \u2208 \u03c6a \u22c6\u2206+ \u03c6b\n\n(88)\n\n\u03c6ab \u2208 \u03c6a \u22c6\u2206\u00d7 \u03c6b .\n\n(89)\n\n24\n\n\fProof. By applying Lemma 6.6 to the coproduct \u2206\u2217 = \u2206+ resp. \u2206\u2217 = \u2206\u00d7 , one\ngets c = a + b, resp. c = ab.\n\u0003\n7. Functions on Spec (K)\nIn this section we study the set of functions on Spec (K) with their hyperoperations.\nThe map \u03c0 : Hom(Z[T ], K) \u2192 Hom(Z, K) (cf. (76)) maps these functions to Spec Z\nand we know (cf. Lemma 6.2) that the hyperoperations in D(K) = Hom(Z[T ], K)\noccur fiberwise. We shall thus describe separately these hyperoperations within\nelements of the same fiber \u03c0 \u22121 (p), p \u2208 Spec Z (here, \u03c0 \u22121 (p) refers to \u03c0 \u22121 (\u03b1), for\n\u03b1 : Z \u2192 K, i.e. we identify p \u2208 Spec (Z) with the kernel of a homomorphism \u03b1).\n7.1. Functions on Spec (K): the fiber over {0}. In the following, we consider\nthe fiber of \u03c0 over the generic point {0} of Spec Z. Let \u03c6 \u2208 Hom(Z[T ], K), then\n\u03c6 \u2208 \u03c0 \u22121 ({0}) if and only if \u03c6(n) = 1 for all n \u2208 Z, n 6= 0. In turn, this holds if\nand only if \u03c6 is the restriction to Z[T ] of an element of Hom(Q[T ], K). This means\nthat when \u03c6 \u2208 \u03c0 \u22121 ({0}), one can extend \u03c6 to a homomorphism \u03c6\u0303 : Q[T ] \u2192 K by\nsetting\n\u03c6\u0303(p(T )) = \u03c6(np(T ))\n\n\u2200n 6= 0, np \u2208 Z[T ].\n\n(90)\n\nBy taking a common multiple of the denominators appearing in the coefficients of\np(T ) \u2208 Q[T ], one sees that the definition of \u03c6\u0303 is independent of n and determines\na multiplicative map. One also has\n\u03c6\u0303(p1 + p2 ) = \u03c6(np1 + np2 ) \u2208 \u03c6(np1 ) + \u03c6(np2 ) = \u03c6\u0303(p1 ) + \u03c6\u0303(p2 ).\nThus, one obtains the identification\n\u03c0 \u22121 ({0}) = Hom(Q[T ], K) = Spec Q[T ].\n\n(91)\n\nP\n\nMoreover, if \u2206p = p(1) \u2297 p(2) holds in the extension of the coproduct to Q[T ] \u2192\nQ[T ] \u2297 Q[T ], one can find nj \u2208 Z \\ {0} (j = 1, 2) such that the equality\nX\n\u2206(n1 n2 p) =\nn1 p(1) \u2297 n2 p(2)\n\nonly involves elements of Z[T ]. This shows that one can set \u03c61 \u22c6\u2206\u2217 \u03c62 as in (82) by\nimplementing Q[T ] rather than Z[T ] in Definition 6.5.\n7.1.1. Hyperoperations on non-generic points. We denote by \u03b4 the generic point\nof Spec Q[T ] = \u03c0 \u22121 ({0}) and we first determine the two hyperoperations on the\ncomplement X = \u03c0 \u22121 ({0}) \\ {\u03b4} of \u03b4 in Spec Q[T ]. This complement is the set of\nnon-zero prime ideals of Q[T ]. We identify X with the quotient of the field of the\nalgebraic numbers Q\u0304 \u2282 C by the action of the Galois group AutQ (Q\u0304):\nX = \u03c0 \u22121 ({0}) \\ {\u03b4} \u2243 Q\u0304/Aut(Q\u0304).\n\n(92)\n\nTo a non-zero prime ideal p of Q[T ] one associates the roots in Q\u0304 of a generator of\np. These roots form an orbit for the action of Aut(Q\u0304).\nTheorem 7.1. The hyperoperations \u03c61 \u22c6\u2206\u2217 \u03c62 (\u2217 = +, \u00d7) of sum and product on\nX = \u03c0 \u22121 ({0}) \\ {\u03b4} coincide with the hyper-addition and hyper-multiplication on\nthe hyperstructure Q\u0304/Aut(Q\u0304).\n25\n\n\fProof. Let \u03c6j \u2208 Hom(Z[T ], K) (j = 1, 2) be associated to the prime polynomials\nqj \u2208 Z[T ], i.e. Ker(\u03c6\u0303j ) \u2282 Q[T ] is generated by qj . Let \u03b1 \u2208 Z(q1 ) (resp. \u03b2 \u2208 Z(q2 ))\nbe a zero of q1 (resp. q2 ). By Lemma 6.7 (here applied to A = Q\u0304 and G = Q\u0304\u00d7 ),\nthe homomorphism \u03c6 \u2208 Hom(Z[T ], K) defined by\n\u03c6(P (T )) = P (\u03b1 + \u03b2)G \u2208 Q\u0304/Q\u0304\u00d7 \u2243 K\nbelongs to \u03c61 \u22c6\u2206+ \u03c62 . A similar result holds for \u03b1\u03b2 and \u2206\u00d7 . It remains to show\nthat all elements of \u03c61 \u22c6\u2206\u2217 \u03c62 are of this type. We first consider the addition, i.e.\nthe set \u03c61 \u22c6\u2206+ \u03c62 . Let q \u2208 Q[T ] be the monic polynomial\nQ whose roots (in Q\u0304) are all\nthe \u03b1 + \u03b2, with \u03b1 \u2208 Z(q1 ) and \u03b2 \u2208 Z(q2 ), i.e. q(T ) = \u03b1\u2208Z(q1 ), \u03b2\u2208Z(q2 ) (T \u2212 \u03b1 \u2212 \u03b2).\nLet n a non-zero integer such that nq(T ) \u2208 Z[T ]. Then, it is enough to show that\nnq(T ) \u2208 Ker(\u03c6) for any \u03c6 \u2208 \u03c61 \u22c6\u2206+ \u03c62 . In fact, by applying Lemma 6.4 it is\nenough to show that\n(93)\nnq(T ) \u2208 Ker(\u03c61 ) \u22c6\u2206\u2217 Ker(\u03c62 )\n\u2217\n+\nfor \u2206 = \u2206 . The polynomial nq(T ) is given, up to a multiplicative constant, by\nthe resultant (cf. [2], A IV, 6) of q1 and q2 :\nq(Z) = ResultantT (q1 (T ), q2 (Z \u2212 T )).\n\n(94)\n\nIn particular, the polynomial q(X + Y ) is the resultant\nq(X + Y ) = ResultantT (q1 (X \u2212 T ), q2 (Y + T )).\n\n(95)\n\nIt follows from [2], A IV, 6, Remark 4, by evaluation at T = 0, that there exist\npolynomials A(X, Y ) and B(X, Y ) with rational coefficients such that\nq(X + Y ) = q1 (X)A(X, Y ) + q2 (Y )B(X, Y ).\nThen (93) for \u2206 = \u2206+ easily follows.\nOne proceeds similarly with the second co-product \u2206\u00d7 . The polynomial q is the\nmonic polynomial Q\nwhose roots (in Q\u0304) are the \u03b1\u03b2 for \u03b1 \u2208 Z(q1 ), \u03b2 \u2208 Z(q2 ) as\nabove, i.e. q(T ) = \u03b1\u2208Z(q1 ), \u03b2\u2208Z(q2 ) (T \u2212 \u03b1\u03b2). If \u03b2 = 0, then (81) shows that the\npolynomial q(T ) = T belongs to Ker(\u03c61 ) \u22c6\u2206\u00d7 Ker(\u03c62 ). Thus we can assume that\nthe roots of q2 (T ) are all non-zero. The polynomial q is then, up to a multiplicative\nconstant, the resultant\n\u2217\n\nq(Z) = ResultantT (q1 (T ), T mq2 (Z/T ))\n\n(96)\n\nwhere m is the degree of q2 . In particular, the polynomial q(XY ) is the resultant\nq(XY ) = ResultantT (q1 (XT ), T mq2 (Y /T )).\n\n(97)\n\nThen, it follows from [2], A IV, 6, Remark 4, by evaluation at T = 1, that there\nexist polynomials A(X, Y ) and B(X, Y ) with rational coefficients such that\nq(XY ) = q1 (X)A(X, Y ) + q2 (Y )B(X, Y ).\nThis implies (93) for \u2206\u2217 = \u2206\u00d7 .\n\n\u0003\n\n7.1.2. Hyperaddition with the generic point. In this subsection we determine the\nhyperaddition law with the generic point \u03b4 \u2208 Spec (Q[T ]). We shall make use, as\nbefore, of the identification X = \u03c0 \u22121 ({0}) \\ {\u03b4} \u2243 Q\u0304/Aut(Q\u0304).\nTheorem 7.2. In the fiber \u03c0 \u22121 ({0}) = Hom(Q[T ], K) = Spec Q[T ], the hyperaddition with the generic point \u03b4 is given as follows\n\u2022 \u03b4 \u22c6\u2206+ \u03b4 = \u03c0 \u22121 ({0}).\n26\n\n\f\u2022 \u03b4 \u22c6\u2206+ \u03b1 = \u03c0 \u22121 ({0}),\n\u2022 \u03b4 \u22c6\u2206+ \u03b1 = \u03b4,\n\n\u2200\u03b1 \u2208 Q\u0304 \\ Q.\n\n\u2200\u03b1 \u2208 Q.\n\nProof. Let A = C and G = C\u00d7 . Then, with the notations of Lemma 6.6, one has\n\u03b4 = \u03c6a , \u2200a \u2208 C \\ Q\u0304.\n\n(98)\n\n\u22121\n\nThus Lemma 6.7 shows that \u03b4 \u22c6\u2206+ \u03b4 = \u03c0 ({0}) since any complex number can be\nwritten as the sum of two transcendental numbers. The same lemma also shows\nthat \u03b4 \u22c6\u2206+ \u03b1 contains \u03b4 for any \u03b1 \u2208 Q\u0304. The second and third equalities follow from\nLemmas 7.4 and 7.5 proven below.\n\u0003\nLemma 7.3. Let a(T ) be an irreducible polynomial in Q[T ] of degree > 1 and let\nJ \u2282 Q[T ] be the prime ideal generated by a(T ) in Q[T ]. Let P (T ) be a polynomial\nin Q[T ]. Let\nX\nP (X + Y ) =\nAj (X)Bj (Y ) , Aj , Bj \u2208 Q[T ]\n(99)\nbe a decomposition of \u2206+ (P ). Then, if the degree of P is strictly positive there exist\nat least two indices j in the decomposition (99) such that Aj 6= 0 and Bj \u2208\n/ J.\nIf P is a constant polynomial and i = 1 is the only index in (99) for which Ai 6= 0\nand Bi \u2208\n/ J, then A1 (X) = d is a non-zero constant polynomial and a(T ) divides\ndB1 (T ) \u2212 c.\n\nProof. Let assume first that P is non-constant. Also, let assume that only B1 does\nnot belong to the prime ideal J generated by a(T ) in Q[T ]. Let \u03b1l \u2208 Q\u0304, (l = 1, 2)\nbe two distinct roots of a(T ). Since Bj (\u03b1l ) = 0 for j 6= 1, one has, using (99)\nP (X + \u03b1l ) = A1 (X)B1 (\u03b1l ) , l = 1, 2.\nIt follows that B1 (\u03b1l ) 6= 0 and that\nP (X + \u03b11 )/B1 (\u03b11 ) = P (X + \u03b12 )/B1 (\u03b12 )\nso that\nP (X + \u03b11 \u2212 \u03b12 ) = \u03bbP (X) , \u03bb = B1 (\u03b11 )/B1 (\u03b12 ).\nBut since \u03b11 \u2212 \u03b12 6= 0 and \u03bb 6= 0 this yields infinitely many zeros for P , thus we\nderive a contradiction.\nAssume now that P = c is constant and i = 1 is the only index in (99) for which\nAi 6= 0 and Bi \u2208\n/ J. Let \u03b1 \u2208 Q\u0304 be a root of a(T ). Then (99) implies that\nc = A1 (X)B1 (\u03b1).\nThus A1 (X) = d is a non-zero constant. Hence B1 (\u03b1) = c/d is independent of the\nchoice of \u03b1 and dB1 (T ) \u2212 c is divisible by a(T ).\n\u0003\nLet a(T ) be an irreducible polynomial in Q[T ], we set\n\u03c8a = \u03c6\u03b1 , \u2200\u03b1 \u2208 Q\u0304 , a(\u03b1) = 0.\n\n(100)\n\nLemma 7.4. Let a(T ) be an irreducible polynomial in Q[T ] of degree > 1. Then\n\u03b4 \u22c6\u2206+ \u03c8a = \u03c0 \u22121 (0).\n\n(101)\n\nProof. Let \u03c6 \u2208 \u03c0 \u22121 (0). In order to show that \u03c6 \u2208 \u03b4 \u22c6\u2206+ \u03c8a , we need to prove that\nfor any polynomial P \u2208 Q[T ] and any decomposition as (99) one has\nX\n\u03c6(P ) \u2208\n\u03b4(Aj )\u03c8a (Bj ).\n(102)\n27\n\n\fIf there are two indices i for which Ai 6= 0, Bi \u2208\n/ J, then (102) follows from\n\u03c8a (Bi ) = 1 and \u03b4(Ai ) = 1 since we then derive\nX\n\u03b4(Aj )\u03c8a (Bj ) = {0, 1}.\n(103)\n\nThus Lemma 7.3 shows that (102) holds when P is non-constant. If P = c 6= 0 is\nconstant and i = 1 is the only index i for which Ai 6= 0, Bi \u2208\n/ J then by applying\nLemma 7.3 we get that A1 (X) = d is a constant and a(T ) divides dB1 (T ) \u2212 c, thus\n\u03c8a (B1 ) = \u03c8a (dB1 ) = \u03c8a (c) and both sides of (102) are equal to {1}. Finally if\nP = 0 then either Bj \u2208 J for all j with Aj 6= 0 or there are two indices j for which\nAj 6= 0 and Bj \u2208\n/ J. In both cases on has (102). The inclusion \u03b4 \u22c6\u2206+ \u03c8a \u2282 \u03c0 \u22121 (0)\nfollows from Lemma 6.2.\n\u0003\nLemma 7.5. Let a(T ) be a polynomial in Q[T ] of degree 1. Then\n\u03b4 \u22c6\u2206+ \u03c8a = \u03b4.\n\nProof. Let a(T ) = mT \u2212 n where m 6= 0 and m, n \u2208 Z. Let \u03c6 \u2208 \u03b4 \u22c6\u2206+ \u03c8a , we want\nto show that \u03c6(P ) = 1 for any polynomial P (T ) 6= 0. Using the Taylor expansion\nn\n, we have\nof P at Y = m\nP (X + Y ) = P (X +\n\nn\nn\n) + D(X, Y )(Y \u2212 )\nm\nm\n\nwith D(X, Y ) \u2208 Q[X, Y ]. By multiplying both sides of the above equality by a\nnon-zero integer k to get rid of the denominators, we obtain an equality of the form\ndP (X + Y ) = A(X) + E(X, Y )a(Y )\nwhere A and E have both integral coefficients. Then, the definition of \u03b4 \u22c6\u2206+ \u03c8a\nshows that\n\u03c6(P ) = \u03c6(kP ) \u2208 \u03b4(A) = {1}.\nThus \u03c6(P ) = 1 for any polynomial P (T ) 6= 0 and \u03c6 = \u03b4.\n\n\u0003\n\nRemark 7.6. By Theorem 7.1, the hyperaddition in X = \u03c0 \u22121 ({0}) \\ {\u03b4} defines\na canonical hypergroup. Using Theorem 7.2, one checks that the presence of the\ngeneric element \u03b4 does not spoil the associativity. Indeed, the sum (x \u22c6\u2206+ y) \u22c6\u2206+ z\nof three elements one of which is \u03b4 is equal to \u03c0 \u22121 (0), unless the two remaining\nelements are in Q, in which case the sum is equal to \u03b4. Note also that one has\nx \u22c6\u2206+ y \u2282 Q only if x and y are in Q. However the reversibility property for\nhypergroups no longer holds since for \u03b1 \u2208 Q and \u03b2 \u2208 Q\u0304 \\ Q one has\n\u03b1\u2208\u03b4\u2212\u03b2, \u03b2 \u2208\n/ \u03b4 \u2212 \u03b1.\n7.1.3. Hyper-multiplication with the generic point. We shall keep using the identification (92). Note that 0 is an absorbing element for the hyperoperation \u22c6\u2206\u00d7 .\nTheorem 7.7. In the fiber \u03c0 \u22121 ({0}) = Hom(Q[T ], K) = Spec Q[T ], the hypermultiplication with the generic point \u03b4 is given by\n\u2022 \u03b4 \u22c6\u2206\u00d7 \u03b4 = \u03c0 \u22121 (0) \\ {0}.\n\u2022 \u03b4 \u22c6\u2206\u00d7 \u03b1 = \u03c0 \u22121 (0) \\ {0}, \u2200\u03b1 \u2208 Q\u0304 \u03b1n \u2208\n/ Q, \u2200n > 0.\n\u2022 \u03b4 \u22c6\u2206\u00d7 \u03b1 = {\u03b4}, \u2200\u03b1 \u2208 Q\u0304, \u03b1 6= 0, \u03b1n \u2208\n/ Q for some n > 0.\n28\n\n\fProof. Let A = C and G = C\u00d7 . Then, with the notations of Lemma 6.6, one has\n(98). Lemma 6.7 implies the first equality since any non-zero complex number can\nbe written as the product of two transcendental numbers. The same lemma also\nshows that \u03b4 \u22c6\u2206\u00d7 \u03b1 contains \u03b4 for any non-zero \u03b1. The second and third equalities\nfollow from Lemmas 7.10 and 7.11 here below.\n\u0003\nLemma 7.8. Let a(T ) be an irreducible polynomial in Q[T ] which admits two nonzero roots \u03b11 , \u03b12 \u2208 Q\u0304 whose ratio is not a root of unity and let J \u2282 Q[T ] be the\nprime ideal generated by a(T ) in Q[T ]. Let P (T ) be a polynomial in Q[T ]. Let\nX\nP (XY ) =\nAj (X)Bj (Y ) , Aj , Bj \u2208 Q[T ]\n(104)\nbe a decomposition of \u2206\u00d7 (P ). If P 6= 0 has a non-zero root, then there exist at\nleast two indices j in the decomposition (104) such that Aj 6= 0 and Bj \u2208\n/ J.\nIf P = cT n , c \u2208 Q and i = 1 is the only index for which Ai 6= 0, Bi \u2208\n/ J in (104),\nthen A1 (X) = dX n , with d \u2208 Q and a(T ) divides dB1 (T ) \u2212 cT n .\n\nProof. Assume first that P has a non-zero root. We also assume that A1 6= 0 and\nonly B1 does not belong to the prime ideal J generated by a(T ) in Q[T ]. Let \u03b1l ,\nl = 1, 2, be two distinct non-zero roots of a(T ) whose ratio is not a root of unity.\nSince Bj (\u03b1l ) = 0 for j 6= 1, one has\nP (X\u03b1l ) = A1 (X)B1 (\u03b1l ) , l = 1, 2.\nThen, it follows that B1 (\u03b1l ) 6= 0 and\nP (X\u03b11 )/B1 (\u03b11 ) = P (X\u03b12 )/B1 (\u03b12 )\nso that\nP (X\u03b11 /\u03b12 ) = \u03bbP (X) , \u03bb = B1 (\u03b11 )/B1 (\u03b12 ).\nBut since \u03b11 /\u03b12 is not a root of unity, \u03bb 6= 0 and P has a non-zero root, this\nargument yields infinitely many zeros for P , thus it produces a contradiction.\nAssume now that P = cT n , for c \u2208 Q and that i = 1 is the only index i in the\ndecomposition (104) of P (XY ) for which Ai 6= 0 and Bi \u2208\n/ J. Let \u03b1 \u2208 Q\u0304, \u03b1 6= 0 be\na root of a(T ). Then (104) implies that\ncX n \u03b1n = A1 (X)B1 (\u03b1).\nThus A1 (X) = dX n where d 6= 0, d \u2208 Q. Hence B1 (\u03b1) = c\u03b1n /d and dB1 (T ) \u2212 cT n\nis divisible by a(T ) since it vanishes on all roots of a(T ).\n\u0003\nLemma 7.9. Let a(T ) be an irreducible polynomial in Q[T ] which admits two nonzero roots \u03b11 , \u03b12 \u2208 Q\u0304 whose ratio is not a root of unity. Then (cf. (100))\n\u03b4 \u22c6\u2206\u00d7 \u03c8a = \u03c0 \u22121 (0) \\ {0}.\n\n(105)\n\nProof. Let \u03c6 \u2208 \u03c0 \u22121 (0) with \u03c6 6= \u03c8T . We show that for any P \u2208 Q[T ] and any\ndecomposition (104), one has\nX\n\u03c6(P ) \u2208\n\u03b4(Aj )\u03c8a (Bj ).\n(106)\n\nWe first assume that P admits a non-zero root. By Lemma 7.8 there are at least\ntwo indices i = 1, 2 for which Ai 6= 0, Bi \u2208\n/ J. Thus \u03b4(Ai ) = 1, \u03c8a (Bi ) = 1 and so\nX\n\u03b4(Aj )\u03c8a (Bj ) = {0, 1}.\n(107)\nThe remaining polynomials P (T ) have only the zero root T = 0 and thus they are\nof the form cT n where c \u2208 Q. For c = 0, Lemma 7.8 shows that either all Bi \u2208 J\n29\n\n\for there are at least two indices i = 1, 2 for which Ai 6= 0, Bi \u2208\n/ J. Thus in this\ncase (106) holds. We can thus assume c 6= 0. Since \u03c6 6= \u03c8T one has \u03c6(P ) = 1. We\nprove that the right hand side of (106) always contains 1. This statement holds\nwhen there are at least two indices i for which Ai 6= 0, Bi \u2208\n/ J. By Lemma 7.8, if\ni = 1 is the only index i for which Ai 6= 0, Bi \u2208\n/ J then A1 (X) = dX n , where d 6= 0\nand a(T ) divides dB1 (T ) \u2212 cT n . It is enough to show that \u03c8a (B1 ) = 1. From the\ninclusion \u03c8a (x + y) \u2282 \u03c8a (x) + \u03c8a (y) and the equality\n\u03c8a (dB1 (T ) \u2212 cT n ) = 0\nit follows\n\u03c8a (B1 ) = \u03c8a (dB1 ) = \u03c8a (cT n ) = 1.\nFinally, note that 0 does not belong to \u03b4 \u22c6\u2206\u00d7 \u03c8a since \u03c8T (T ) = 0 while \u2206\u00d7 (T ) =\nT \u2297 T and \u03b4(T ) = \u03c8a (T ) = 1.\n\u0003\nLemma 7.10. Let a(T ) be an irreducible polynomial in Q[T ] not proportional to T ,\nsuch that the ratio of any two roots \u03b11 , \u03b12 \u2208 Q\u0304 of a(T ) is a root of unity. Let P (T )\nbe an irreducible polynomial in Q[T ]. Then P (T ) has a multiple M (T ) = C(T )P (T )\nsuch that \u2206\u00d7 (M ) admits a decomposition\nM (XY ) = A(X)B(Y ) + D(X, Y )a(Y )\n\n(108)\n\nwhere A 6= 0 and B is not divisible by a.\nProof. One has (\u03b11 /\u03b12 )n = 1 for a suitable n and all roots of a(T ). Thus \u03b1n =\n\u03bb \u2208 Q for all roots \u03b1 of a. This shows that a(T ) is an irreducible factor of T n \u2212 \u03bb.\nLet N \u2208 Q[T ] and consider the polynomial H(T ) = N (T n ). Next we show that\none has a decomposition\nH(XY ) = A(X) + D(X, Y )a(Y ).\n\n(109)\n\nWe let A(X) = N (X n \u03bb) and note that K(X, Y ) = H(XY ) \u2212 N (X n \u03bb) vanishes\nwhen Y n = \u03bb and hence when Y is a root of a(Y ). Thus K(X, Y ) is divisible by\na(Y ) and it can be written in the form D(X, Y )a(Y ); this proves (109). It remains\nto show that any irreducible polynomial P (T ) has a multiple H(T ) = C(T )P (T )\nof the form H(T ) = N (T n ). Let\nY\nP (T ) = c (T \u2212 \u03b1k )\nk\n\nbe the factorization of P (T ) in Q\u0304[T ]. Let\nH(T ) = N (T n ) , N (T ) = c\n\nY\n(T \u2212 \u03b1nk ).\nk\n\nThen N (T ) \u2208 Q[T ] and P divides H. This provides the required conclusion.\n\n\u0003\n\nLemma 7.11. Let a(T ) be an irreducible polynomial in Q[T ] not proportional to\nT , such that the ratio of any two roots \u03b11 , \u03b12 of a(T ) is a root of unity. Then\n\u03b4 \u22c6\u2206\u00d7 \u03c8a = \u03b4.\n\n(110)\n\nProof. Let \u03c6 \u2208 \u03b4 \u22c6\u2206\u00d7 \u03c8a . Let P (T ) be an irreducible polynomial in Q[T ]. We want\nto show that \u03c6(P ) = 1. By Lemma 7.10, P (T ) has a multiple M (T ) = C(T )P (T )\nfulfilling (108). Then\n\u03c6(M ) \u2208 \u03b4(A)\u03c8a (B) = 1\n30\n\n\fthus \u03c6(M ) = 1 and \u03c6(P ) = 1. This shows that only \u03b4 may belong to \u03b4 \u22c6\u2206\u00d7 \u03c8a and\nthis is the case as follows from the proof of Theorem 7.7.\n\u0003\nRemark 7.12. By Theorem 7.1, the hypermultiplication in \u03c0 \u22121 ({0})\\{0, \u03b4} defines\na canonical hypergroup. Using Theorem 7.7 one checks that the presence of the\ngeneric element \u03b4 does not spoil the associativity. Indeed the product (x\u22c6\u2206\u00d7 y)\u22c6\u2206\u00d7 z\nof three non-zero elements one of which is \u03b4 is equal to \u03c0 \u22121 (0) \\ {0} unless the two\nremaining elements are in Qroot = {\u03b1 | \u2203n, \u03b1n \u2208 Q} and in that case the product is\nequal to \u03b4. Note that one has x \u22c6\u2206\u00d7 y \u2282 Qroot only if x and y are in Qroot . However\nthe reversibility property for hypergroups no longer holds.\n7.2. Functions on Spec (K): the fiber over {p}. Let p be a prime integer. In\nthis section we compute the hyper-addition and the hyper-multiplication in the\nfiber \u03c0 \u22121 (p) of \u03c0 : Hom(Z[T ], K) \u2192 Hom(Z, K). We let \u03a9 be an algebraic closure\nof the field of fractions Fp (T ).\nTheorem 7.13. The following map determines a bijection of \u03a9/Aut(\u03a9) with the\nfiber \u03c0 \u22121 (p) \u2282 Hom(Z[T ], K)\n\u03b1 \u2208 \u03a9 7\u2192 \u03c6\u03b1 , \u03c6\u03b1 (P (T )) = P (\u03b1)\u03a9\u00d7 \u2208 \u03a9/\u03a9\u00d7 \u2243 K.\n\n(111)\n\n\u22121\n\nThe hyperoperations \u03c61 \u22c6\u2206\u2217 \u03c62 (\u2217 = +, \u00d7) on the fiber \u03c0 (p) coincide with the\nhyper-addition and hyper-multiplication of the hyperstructure \u03a9/Aut(\u03a9).\nProof. For \u03b1 \u2208 \u03a9 one has by construction \u03c6\u03b1 \u2208 \u03c0 \u22121 (p) \u2282 Hom(Z[T ], K). Conversely, let \u03c6 \u2208 \u03c0 \u22121 (p), then the kernel of \u03c6 determines a prime ideal J \u2282 Fp [T ].\nIf J = {0}, then \u03c6 = \u03c6\u03b1 for any \u03b1 \u2208 \u03a9 \\ F\u0304p . By [2] Proposition 9 (Chapter V,\n\u00a7XIV, AV 112), the group Aut(\u03a9) acts transitively on the complement \u03a9 \\ F\u0304p of\nthe algebraic closure of Fp . If J 6= {0}, then it is generated by an irreducible (separable) polynomial a(T ) \u2208 Fp [T ] and \u03c6 = \u03c6\u03b1 for any root of a(T ) in F\u0304p \u2282 \u03a9. The\nset of roots of a(T ) in F\u0304p \u2282 \u03a9 is a single orbit of the action of Aut(F\u0304p ) and hence\nof Aut(\u03a9) (cf. [2] Corollary 1, Chapter V, \u00a7XIV, AV 111). This proves the first\nstatement. The proof of Theorem 7.1, with Fp [T ] in place of Q[T ] shows that the\nhyper-operations \u03c61 \u22c6\u2206\u2217 \u03c62 (\u2217 = +, \u00d7) of sum and product on the complement of the\ngeneric point in \u03c0 \u22121 (p) coincide with the hyper-addition and hyper-multiplication\non the hyperstructure F\u0304p /Aut(F\u0304p ). It remains to determine these operations when\nthe generic point \u03b4p is involved. It follows from Lemma 6.7 applied to K \u2243 \u03a9/\u03a9\u00d7\nthat\n\u03b4p \u22c6\u2206+ \u03b4p = \u03c0 \u22121 (p).\nThe end of the proof then follows from Lemma 7.15 and Lemma 7.17.\n\n\u0003\n\nWe now use the existence of enough \"additive\" polynomials in characteristic p (cf.\n[16]).\nLemma 7.14. Let a(T ) \u2208 Fp [T ] be an irreducible polynomial of degree n > 0. Let\nm\nSm (T ) = T p \u2212 T , with n|m. Then, there exists B(T ) \u2208 Fp [T ] such that\nSm (Y ) = B(Y )a(Y )\n\n(112)\n\nSm (X + Y ) = Sm (X) + B(Y )a(Y ).\n\n(113)\n\nProof. Every root of a(T ) in F\u0304p is a root of Sm (T ), thus a divides Sm . The second\nstatement follows from the equality Sm (X + Y ) = Sm (X) + Sm (Y ).\n\u0003\n31\n\n\fLemma 7.15. Let a(T ) \u2208 Fp [T ] be an irreducible polynomial of degree n > 0. Then\n\u03b4p \u22c6\u2206+ \u03c8a = \u03b4p .\nProof. Let P (T ) \u2208 Fp [T ] be an irreducible polynomial of degree k and let \u03c6 \u2208\n\u03b4p \u22c6\u2206+ \u03c8a . Then we show that \u03c6(P ) = 1. By Lemma 7.14, Sm is a multiple of P for\nany integer multiple m of the degree k of P . By taking m = kn and using Lemma\n7.14, we obtain\n\u2206+ (Sm ) = Sm \u2297 1 + 1 \u2297 Ba, \u03c6(Sm ) \u2208 \u03b4p (Sm )\u03c8a (1) + \u03b4p (1)\u03c8a (Ba) = {1}.\nSince P divides Sm , one gets \u03c6(P ) = 1. This shows that only \u03b4p can belong to\n\u03b4p \u22c6\u2206+ \u03c8a . Finally we prove that \u03b4p \u22c6\u2206+ \u03c8a \u220b \u03b4p . This follows from Lemma 6.7\napplied to \u03a9/\u03a9\u00d7 \u2243 K, since \u03b4p = \u03c6\u03b3 for any \u03b3 \u2208 \u03a9 \\ F\u0304p and \u03c8a = \u03c6\u03b1 for any root\n\u03b1 of a.\n\u0003\nLemma 7.16. Let a(T ) \u2208 Fp [T ] be an irreducible polynomial of degree n > 0,\nk\nnot proportional to T . Let Uk (T ) = T p \u22121 \u2212 1, with n|k. Then, there exists\nB(T ) \u2208 Fp [T ] such that\nUk (Y ) = B(Y )a(Y )\n(114)\nk\n\nUk (XY ) = Uk (X)Y p\n\n\u22121\n\n+ B(Y )a(Y ).\n\n(115)\n\nProof. Every root of a(T ) in F\u0304p is a root of Uk and thus a divides Uk . The second\nstatement follows from the equality\nk\n\n(XY )p\n\n\u22121\n\nk\n\n\u2212 1 = (X p\n\n\u22121\n\nk\n\n\u2212 1)Y p\n\n\u22121\n\nk\n\n+ (Y p\n\n\u22121\n\n\u2212 1).\n\u0003\n\nLemma 7.17. Let a(T ) \u2208 Fp [T ] be an irreducible polynomial of degree n > 0, not\nproportional to T . Then\n\u03b4p \u22c6\u2206\u00d7 \u03c8a = \u03b4p .\nProof. Let P (T ) \u2208 Fp [T ] be an irreducible polynomial not proportional to T . Then,\nby taking for k a common multiple of n and of the degree of P , one gets from (112)\nthat Uk (T ) is a multiple of P (T ) and it fulfills (115). Let \u03c6 \u2208 \u03b4p \u22c6\u2206\u00d7 \u03c6a . We show\nthat \u03c6(P ) = 1. It is enough to prove that \u03c6(Uk ) = 1. From (115), it follows that\nk\n\n\u2206\u00d7 (Uk ) = Uk \u2297 T p\n\n\u22121\n\nk\n\n+ 1 \u2297 Ba, \u03c6(Uk ) \u2208 \u03b4p (Uk )\u03c8a (T p\n\n\u22121\n\n) + \u03b4p (1)\u03c8a (Ba) = 1.\n\n\u00d7\n\nOne has \u2206 (T ) = T \u2297 T and thus \u03c6(T ) \u2208 \u03b4p (T )\u03c8a (T ) = {1} so that \u03c6(T ) = 1 and\none gets \u03c6 = \u03b4p . Since Lemma 6.7 shows that \u03b4p \u2208 \u03b4p \u22c6\u2206\u00d7 \u03c8a , one gets the required\nconclusion.\n\u0003\n8. Functions on Spec (S)\nWe recall that S = {\u00b11, 0} is the hyperfield of signs. We start by describing the\nfunctor Hom(*, S) on ordinary rings. We let\n||:S\u2192K\n\n(116)\n\nbe the homomorphism absolute value. Thus, for a given (commutative) ring A and\nan element \u03c6 \u2208 Hom(A, S), one has: | | \u25e6 \u03c6 = |\u03c6| \u2208 Hom(A, K). This composite\nmap is determined by its kernel which is a prime ideal of A. We recall (cf. [8]\nProposition 2.11) the following result\n32\n\n\fProposition 8.1. An element \u03c6 \u2208 Hom(A, S) is determined by\na) its kernel Ker(\u03c6) \u2208 Spec (A)\nb) a total order on the field of fractions of A/\u2118, \u2118 = Ker(\u03c6).\nNote that given a prime ideal \u2118 \u2282 A and a total order on the field F of fractions\nof A/\u2118, the corresponding homomorphism \u03c6 \u2208 Hom(A, S) is the composite\n\u03c6 : A \u2192 A/\u2118 \u2192 F \u2192 F/F+\u00d7 \u2243 S.\n\u22121\n\nThe kernel of \u03c6 is \u2118 and \u03c6\n\n(117)\n\n(1) determines the order on F .\n\n8.1. Description of Hom(Z[T ], S). Notice that since 1 + 1 = 1 in S, the set\nHom(Z, S) contains only one element which corresponds to Ker(\u03c6) = (0) (here\nA = Z) and the usual order on Q. We call this element \u03c6 the sign. Thus, for\n\u03c6 \u2208 Hom(Z[T ], S) = D(S) a function over Spec (S), the restriction of \u03c6 to Z is\nequal to the sign and there is a unique extension \u03c6\u0303 of \u03c6 to Hom(Q[T ], S) given by\n\u03c6\u0303(p(T )) = \u03c6(np(T )),\n\nn > 0, np(T ) \u2208 Z[T ].\n\n(118)\n\nThis construction determines an identification Hom(Z[T ], S) \u2243 Hom(Q[T ], S). The\nfunctions on Spec (S) are thus determined by elements of Hom(Q[T ], S), i.e. by\na) a prime ideal J \u2282 Q[T ]\nb) a total order on the field of fractions of Q[T ]/J.\nThe description of the set Hom(Q[T ], S) is given in [8] Proposition 2.12.\nProposition 8.2. The elements of D(S) = Hom(Z[T ], S) are described by\n\u03c9\u03bb (P (T )) = Sign(P (\u03bb)) , \u2200\u03bb \u2208 [\u2212\u221e, \u221e]\n\n(119)\n\nand, for \u03bb \u2208 Q\u0304 \u2229 R, by the two elements\n\u03c9\u03bb\u00b1 (P (T )) = lim Sign(P (\u03bb \u00b1 \u01eb)).\n\u01eb\u21920+\n\n(120)\n\nOne has the natural map\nRe : Hom(Q[T ], S) \u2192 [\u2212\u221e, \u221e]\n\n(121)\n\nRe(\u03c6) = sup{a \u2208 Q, \u03c6(T \u2212 a) = 1} \u2208 [\u2212\u221e, \u221e].\n\n(122)\n\ndefined by\nThe set of rational numbers involved in (122) is a Dedekind cut (with a possible\nlargest element). One thus gets\n\u03c6(T \u2212 a) = 1, \u2200a < Re(\u03c6) , \u03c6(T \u2212 a) = \u22121, \u2200a > Re(\u03c6).\n\n(123)\n\nCorollary 8.3. (1) Let \u03c6 \u2208 Hom(Q[T ], S). If Ker(\u03c6) =\n6 (0) is generated by the\nprime polynomial q(T ), then Re(\u03c6) = \u03b1 \u2208 R is a root of q(\u03b1) = 0, and \u03c6 = \u03c9\u03b1 .\n(2) There is only one \u03c6 \u2208 Hom(Q[T ], S) such that Re(\u03c6) = +\u221e (resp. \u2212\u221e) and it\nis given by\n\u03c6(p(T )) = lim Sign(p(\u03b1))\n\u03b1\u2192\u221e\n\n(resp.\n\nlim Sign(p(\u03b1))).\n\n\u03b1\u2192\u2212\u221e\n\n(124)\n\n(3) If \u03bb \u2208 R \\ Q\u0304, then \u03c9\u03bb is the only element \u03c8 such that Re(\u03c8) = \u03bb.\n(4) If Re(\u03c6) = \u03b1 \u2208 Q\u0304 and Ker(\u03c6) = (0), then \u03c6 = \u03c9\u03b1s where s = \u03c6(q) \u2208 {\u00b11} and\nq \u2208 Q[T ] is an irreducible polynomial such that q(\u03b1) = 0 and q \u2032 (\u03b1) > 0.\n33\n\n\fProof. All statements are straightforward consequences of the concrete description\nof the elements of Hom(Q[T ], S) given in Proposition 8.2. Next, we shall explain\nbriefly how the above statements can be proven directly using [2] Chapter VI.\n(1) When Ker(\u03c6) 6= (0), the quotient F = Q[T ]/Ker(\u03c6) is a finite extension of Q\nand a total order on F is necessarily archimedean and hence it is given by an order\nembedding F \u2282 R i.e. the map P (T ) 7\u2192 P (\u03b1), where \u03b1 is a real root of q(T ). One\nthen gets \u03c6 = \u03c9\u03b1 and Re(\u03c6) = \u03b1.\n(2) If Re(\u03c6) = +\u221e, one has T \u2265 n for all n \u2208 N for the corresponding order on\nQ[T ] and the proof of Proposition 4 of [2] A.VI.24 shows that (124) holds.\n(3), (4) Assume that Re(\u03c6) = \u03b1 \u2208 R and Ker(\u03c6) = (0). Then, by Proposition 8.2\none gets a total order on the field Q(T ) of rational fractions and for some n \u2208 N\none has \u2212n < T < n. Thus, all polynomials p(T ) are finite, i.e. they belong to an\ninterval [\u2212m, m] for some finite m. If all fractions p(T )/q(T ) are finite, then the\norder on Q(T ) is archimedean and thus one derives an order embedding Q(T ) \u2192 R\nwhich shows that \u03c6 = \u03c9\u03b1 , \u03b1 = Re(\u03c6). Since p(T ) is finite, this can fail only when\nsome q(T ) 6= 0 is infinitesimal\n\u00b1 q(T ) < 1/n\n\n\u2200n \u2208 N.\n\nThus the statements (3), (4) follow from the next lemma.\n\n(125)\n\u0003\n\nLemma 8.4. Let \u2264 be a total order on Q[T ] such that T is finite. Let J be the set\nof polynomials q(T ) \u2208 Q[T ] fulfilling (125). Then\n\u2022 J is a prime ideal\n\u2022 The sign of p \u2208\n/ J only depends upon the class of p in the quotient Q[T ]/J and\nthere exists a real root \u03b1 of the monic polynomial a(T ) generating J such that\np > 0 \u21d0\u21d2 p(\u03b1) > 0 , \u2200p \u2208\n/ J.\n\n(126)\n\n\u2022 The total order \u2264 is uniquely determined by \u03b1 and the sign of a(T ).\nProof. Since p(T ) is finite, \u2200p(T ), J is an ideal. Moreover, if qj (T ) > 1/nj one has\nq1 (T )q2 (T ) > 1/n1 n2 and one derives that J c = Q[T ] \\ J is multiplicative, thus J\nis prime.\nNext we show that the total order of Q[T ] defines a total ordering on the quotient\nQ[T ]/J. This follows by noticing that if p(T ) > 0 in Q[T ] and p(T ) \u2208\n/ J, then\np(T ) + r(T ) > 0 for any r(T ) \u2208 J. Indeed, since p \u2208\n/ J, one has p(T ) > 1/n for\nsome n \u2208 N, but then since \u2212r < 1/n, one derives p + r > 0. Thus, one gets a total\norder on Q[T ]/J. As in the proof of (1) in Corollary 8.3, this order is archimedean\nand thus it is produced by an algebraic number \u03b1, root of the generator a(T ) of\nthe prime ideal J. Thus (126) follows. Let p(T ) \u2208 Q[T ], then there exists a unique\nn such that p \u2208 J n , p \u2208\n/ J n+1 . On has p = an A where A \u2208\n/ J. Since A \u2208\n/ J, the\nsign of A is given by the sign of A(\u03b1) 6= 0. Thus the sign of p is determined by the\nsign of a.\n\u0003\n8.2. Operations on functions on Spec (S). We now investigate the hyper-structure\non the set of functions on Spec (S). We consider the finite functions, i.e. the elements of\nDfinite (S) = {\u03c6 \u2208 Hom(Q[T ], S) | Re(\u03c6) \u2208 R}.\n(127)\nLet F = R(\u01eb) be the ordered field of rational fractions in \u01eb, with \u01eb > 0 and infinitesimal. In particular, the sign of a polynomial p(\u01eb) = ak \u01ebk + ak+1 \u01ebk+1 + * * * + an \u01ebn\n34\n\n\fis given by the sign (ak ) i.e. by the limit\nlim sign (p(\u01eb)).\n\n\u01eb\u21920+\n\n(128)\n\nAny finite function \u03c6 with Re(\u03c6) = \u03b1 can be obtained as the composite\n\u03c1\n\nQ[T ] \u2192 F \u2192 F/F+\u00d7 \u2243 S ,\n\n\u03c1(T ) = \u03b1 + t\u01eb\n\n(129)\n\nfor some t \u2208 R.\nLemma 8.5. Let \u03c61 , \u03c62 \u2208 Hom(Q[T ], S) be two finite functions with Re(\u03c6j ) \u2208 R,\nj = 1, 2. Then\n(1) \u03c61 \u2217\u2206+ \u03c62 and \u03c61 \u2217\u2206\u00d7 \u03c62 are non-empty sets.\n(2) Re(\u03c6) = Re(\u03c61 ) + Re(\u03c62 ),\n(3) Re(\u03c6) = Re(\u03c61 )Re(\u03c62 ),\n\n\u2200\u03c6 \u2208 \u03c61 \u2217\u2206+ \u03c62 .\n\n\u2200\u03c6 \u2208 \u03c61 \u2217\u2206\u00d7 \u03c62 .\n\nProof. Lemmas 6.7 and (129) ensure that \u03c61 \u2217\u2206+ \u03c62 and \u03c61 \u2217\u2206\u00d7 \u03c62 are non-empty\nsets. For j = 1, 2, let \u03b1j = Re(\u03c6j ). Let \u03c6 \u2208 \u03c61 \u2217\u2206+ \u03c62 . For aj \u2208 Q, one has\n\u2206+ (T \u2212 a1 \u2212 a2 ) = (T \u2212 a1 ) \u2297 1 + 1 \u2297 (T \u2212 a2 ) so that\n\u03c6(T \u2212 a1 \u2212 a2 ) \u2208 \u03c61 (T \u2212 a1 )\u03c62 (1) + \u03c61 (1)\u03c62 (T \u2212 a2 )\n\n(130)\n\nBy applying (123), the above inclusion shows that if aj < \u03b1j then \u03c6(T \u2212a1 \u2212a2 ) = 1\nand a1 + a2 \u2264 Re(\u03c6). Similarly, if aj > \u03b1j , one gets that \u03c6(T \u2212 a1 \u2212 a2 ) = \u22121 and\na1 + a2 \u2265 Re(\u03c6). This shows that Re(\u03c6) = \u03b11 + \u03b12 and (2) follows.\nLet \u03c6 \u2208 \u03c61 \u2217\u2206\u00d7 \u03c62 . For a, b \u2208 Q, one has\n\u2206\u00d7 (T \u2212 ab) = T \u2297 T \u2212 ab = (T \u2212 a) \u2297 T + a \u2297 (T \u2212 b).\nThus\n\u03c6(T \u2212 ab) \u2208 \u03c61 (T \u2212 a)\u03c62 (T ) + \u03c61 (a)\u03c62 (T \u2212 b).\n(131)\nTo prove (3), we first assume that \u03b1j = Re(\u03c6j ) > 0. This implies \u03c6j (T ) = 1. Thus,\nfor 0 < a < \u03b11 , 0 < b < \u03b12 , one gets \u03c6(T \u2212ab) \u2208 \u03c61 (T \u2212a)\u03c62 (T )+\u03c61 (a)\u03c62 (T \u2212b) =\n1*1+1*1 = 1. Similarly, for \u03b11 < a, \u03b12 < b, one gets in the same way \u03c6(T \u2212ab) = \u22121.\nThus, one derives Re(\u03c6) = \u03b11 \u03b12 when \u03b1j > 0. One can check easily that the same\nresult holds when \u03b1j 6= 0. Indeed, one can change the signs using the automorphism\n\u03c3 \u2208 Aut(Q[T ]), \u03c3(T ) = \u2212T . This way one obtains\nRe(\u03c6\u03c3 ) = \u2212Re(\u03c6)\n\n(132)\n\n\u03c3\n\nwhere \u03c6 = \u03c6 \u25e6 \u03c3, for \u03c6 \u2208 Hom(Q[T ], S). Moreover it follows from\n\u2206\u00d7 \u25e6 \u03c3 = (\u03c3 \u2297 id) \u25e6 \u2206\u00d7 = (id \u2297 \u03c3) \u25e6 \u2206\u00d7\n\n(133)\n\nthat\n\u03c6\u03c31 \u2217\u2206\u00d7 \u03c62 = (\u03c61 \u2217\u2206\u00d7 \u03c62 )\u03c3 .\n(134)\nWe still have to consider the case when one of the \u03b1j 's vanishes. Assume \u03b11 = 0.\nIf \u03c61 (T ) = 0, then for any \u03c6 \u2208 \u03c61 \u2217\u2206\u00d7 \u03c62 one has \u03c6(T ) = 0 since \u2206\u00d7 (T ) = T \u2297 T .\nThis shows that 0 = \u03c90 is an absorbing element. Then, by using the above change\nof signs automorphism (if needed), it is enough to consider the case \u03c61 = \u03c90+ and\n\u03c62 (T ) = 1. One then obtains \u03b12 \u2265 0. Let b \u2208 Q, b > \u03b12 and c > 0. Let a > 0,\nab < c. Then, by applying (131) we conclude\n\u03c6(T \u2212 ab) \u2208 \u03c61 (T \u2212 a)\u03c62 (T ) + \u03c61 (a)\u03c62 (T \u2212 b) = \u22121.\nThus, one gets \u03c6(T \u2212 c) = \u22121. By (123) this gives c \u2265 Re(\u03c6) and since c >\n0 is arbitrary, one gets Re(\u03c6) \u2264 0. But since \u03c62 (T ) = 1 one obtains \u03c6(T ) \u2208\n35\n\n\f\u03c61 (T )\u03c62 (T ) = 1 for any \u03c6 \u2208 \u03c61 \u2217\u2206\u00d7 \u03c62 . This implies Re(\u03c6) \u2265 0 and one then\nderives Re(\u03c6) = 0. Then, (3) follows.\n\u0003\nLemma 8.6. Let \u03c61 , \u03c62 \u2208 Hom(Q[T ], S), with \u03b1j = Re(\u03c6j ) \u2208 R (j = 1, 2) and\nassume \u03b11 \u2208\n/ Q\u0304. Then\n(1) \u03c61 \u2217\u2206+ \u03c62 = Re\u22121 (\u03b11 + \u03b12 ).\n(2) If \u03b12 6= 0, one has \u03c61 \u2217\u2206\u00d7 \u03c62 = Re\u22121 (\u03b11 \u03b12 ).\n(3) If \u03b12 = 0, one has \u03c61 \u2217\u2206\u00d7 \u03c62 = \u03c90s where s = sign (\u03b11 )\u03c62 (T ).\nProof. Lemma 8.5 determines \u03c61 \u2217\u2206+ \u03c62 (resp. \u03c61 \u2217\u2206\u00d7 \u03c62 ) if \u03b11 + \u03b12 \u2208\n/ Q\u0304 (resp.\n\u03b11 \u03b12 \u2208\n/ Q\u0304), since in that case Re\u22121 (\u03b11 + \u03b12 ) (resp. Re\u22121 (\u03b11 \u03b12 )) is reduced to a\nsingle element. To show (1) we can thus assume that \u03b11 + \u03b12 \u2208 Q\u0304. Then \u03b1j \u2208\n/ Q\u0304\nand \u03c6j can be written in the form (129) for any choice of t. One can then use\nLemma 6.7 to show that the three \u03c6's with Re(\u03c6) = \u03b11 + \u03b12 are in \u03c61 \u2217\u2206+ \u03c62 .\nA similar argument applies to show (2), since one can choose tj \u2208 R such that\np(T ) 7\u2192 sign (p((\u03b11 + t1 \u01eb)(\u03b12 + t2 \u01eb)) yields any given element of Re\u22121 (\u03b11 \u03b12 ).\nFinally, to prove (3) we note that if \u03b12 = 0 then \u03c6 \u2208 \u03c61 \u2217\u2206\u00d7 \u03c62 is determined by\n\u03c6(T ) \u2208 S and this is given by \u03c61 (T )\u03c62 (T ) = sign (\u03b11 )\u03c62 (T ).\n\u0003\nLemma 8.6 determines the hyperoperations except when both \u03b1j \u2208 Q\u0304. To discuss\nthoroughly the case \u03b1j \u2208 Q\u0304, we first need to state the following two lemmas.\nLemma 8.7. Let A(X, Y ) \u2208 Q[X, Y ] and let \u03b1j \u2208 R such that A(\u03b11 , \u03b12 ) > 0.\nThen, there exist polynomials Lj \u2208 Q[X] and Rj \u2208 Q[Y ] such that\nX\nA(X, Y ) =\nLj (X)Rj (Y ), Lj (\u03b11 ) > 0, Rj (\u03b12 ) > 0.\n(135)\nProof. One has\n\nX\nan,m X n Y m ,\nan,m \u03b1n1 \u03b1m\n2 > 0.\nP\nP\n\u01ebn,m > 0 and write\n> 0 such that \u03be = an,m \u03b1n1 \u03b1m\n2 \u2212\nX\nA(X, Y ) =\n(an,m X n Y m \u2212 an,m \u03b1n1 \u03b1m\n2 + \u01ebn,m ) + \u03be.\nA(X, Y ) =\n\nWe take \u01ebn,m\n\nX\n\nThis shows that it is enough to prove the lemma in the special case\nA(X, Y ) = aX n Y m \u2212 b , a\u03b1n1 \u03b1m\n2 > b.\nIn this case one can find \u03bb, \u03bc \u2208 Q such that\n\nn\nm\na(\u03b1n1 \u2212 \u03bb) > 0 , (\u03b1m\n2 \u2212 \u03bc) > 0 , A(\u03b11 , \u03b12 ) > a(\u03b11 \u2212 \u03bb)(\u03b12 \u2212 \u03bc).\n\nIndeed, this follows by using \u03bb = \u03b1n1 \u2212 \u01eb1 , \u03bc = \u03b1m\n2 \u2212 \u01eb2 and taking \u01ebj with a\u01eb1 > 0\nand \u01eb2 > 0 small enough so that\na\u01eb1 \u01eb2 < A(\u03b11 , \u03b12 ).\nOne has the decomposition (135)\na(X n \u2212 \u03bb)(Y m \u2212 \u03bc) = L1 (X)R1 (Y ) , L1 (\u03b11 ) > 0 , R1 (\u03b12 ) > 0 .\nIt is thus enough to look at the remainder\nA1 (X, Y ) = A(X, Y ) \u2212 a(X n \u2212 \u03bb)(Y m \u2212 \u03bc).\nThen, A1 (X, Y ) is a polynomial of the form\nA1 (X, Y ) = \u03b1X n + \u03b2Y m + \u03b4 , A1 (\u03b11 , \u03b12 ) = \u03b1\u03b1n1 + \u03b2\u03b1m\n2 + \u03b4 > 0.\n36\n\n\fThus, one derives the description\nA1 (X, Y ) = (\u03b1(X n \u2212 \u03b1n1 ) + \u03b41 ) + (\u03b2(Y m \u2212 \u03b1m\n2 ) + \u03b42 ) , \u03b4j > 0.\nwhich is of the form (135) since\nA1 (X, Y ) = L2 (X) + R2 (Y ) , L2 (\u03b11 ) > 0 , R2 (\u03b12 ) > 0.\n\u0003\nLemma 8.8. Let p1 and p2 be two irreducible polynomials in Q[T ]. Then a polynomial p(X, Y ) belongs to the ideal\nJ = {p1 (X)A(X, Y ) + p2 (Y )B(X, Y ) | A, B \u2208 Q[X, Y ]} \u2282 Q[X, Y ]\n\n(136)\n\nif and only if p(\u03b1, \u03b2) = 0, \u2200 \u03b1 \u2208 Z(p1 ), \u03b2 \u2208 Z(p2 ).\nProof. By the Nullstellensatz, it is enough to show that Q[X, Y ]/J is a reduced\nalgebra. By construction Q[X, Y ]/J \u2243 Q[X]/(p1 ) \u2297 Q[Y ]/(p2 ) and since pj is\nirreducible, this is the tensor product of two fields, hence it is reduced.\n\u0003\nProposition 8.9. The hyperaddition \u22c6\u2206+ on functions \u03c6 \u2208 Hom(Q[T ], S) satisfying the condition Re(\u03c6) \u2208 Q\u0304 \u2229 R coincide with the hyperaddition in S \u00d7 (Q\u0304 \u2229 R).\nProof. We first consider the case \u03c6j = \u03c9\u03b1j . Then, by applying Lemma 6.4 one gets\nthat \u03c9\u03b11 +\u03b12 is the only element in \u03c61 \u2217\u2206+ \u03c62 , since its kernel is non trivial. Using\n(129) one gets, with \u03b1 = \u03b11 + \u03b12\n\u03c9\u03b1+1 + \u03c9\u03b1\u22122 = {\u03c9\u03b1 , \u03c9\u03b1+ , \u03c9\u03b1\u2212 }, \u03c9\u03b1+ \u2208 \u03c9\u03b11 + \u03c9\u03b1+2 ,\n\n\u03c9\u03b1+ \u2208 \u03c9\u03b1+1 + \u03c9\u03b1+2 .\n\n(137)\n\nWe need to show that there are no other solutions in the last two cases. Let pj (T ) \u2208\nQ[T ] (j = 1, 2) be two irreducible polynomials with pj (\u03b1j ) = 0 and p\u2032j (\u03b1j ) > 0. In\ngeneral, the polynomial q(Z) obtained in (94), i.e. as the resultant in the variable\nT of p1 (T ) and\nQp2 (Z \u2212 T ), may have \u03b11 + \u03b12 as a multiple root. We replace q by the\nproduct\np\n=\nqj of the irreducible factors qj which appear in the decomposition\nQ n\nq = qj j of q as a product of powers of prime factors. By construction \u03b11 + \u03b12\nis a simple root of p and by multiplying by a non-zero scalar (if necessary) we can\nassume\np\u2032 (\u03b11 + \u03b12 ) > 0.\n(138)\nBy applying Lemma 8.8 we deduce a decomposition\np(X + Y ) = p1 (X)A(X, Y ) + p2 (Y )B(X, Y ).\n\n(139)\n\nWe want to show in this generality that\nA(\u03b11 , \u03b12 ) > 0,\n\nB(\u03b11 , \u03b12 ) > 0.\n\n(140)\n\nWe can differentiate (139) with respect to X and get\np\u2032 (X + Y ) = p\u20321 (X)A(X, Y ) + p1 (X)\u2202X A(X, Y ) + p2 (Y )\u2202X B(X, Y )\nand then take X = \u03b11 and Y = \u03b12 to get\np\u2032 (\u03b11 + \u03b12 ) = p\u20321 (\u03b11 )A(\u03b11 , \u03b12 ).\nThus, since p\u2032 (\u03b11 + \u03b12 ) > 0 and p\u2032j (\u03b1j ) > 0, we obtain A(\u03b11 , \u03b12 ) > 0. The same\nargument applies to B(\u03b11 , \u03b12 ) using \u2202Y . Lemmas 8.7, (140) and (139) thus give a\ndecomposition\nX\nX\np(X + Y ) = p1 (X)\nAj (X)Bj (Y ) + p2 (Y )\nCj (X)Dj (Y )\n(141)\n37\n\n\fwith\nAj (\u03b11 ) > 0, Bj (\u03b12 ) > 0, Cj (\u03b11 ) > 0, Dj (\u03b12 ) > 0.\nThis implies, using Re(\u03c6j ) = \u03b1j , that\n\u03c61 (Aj ) = 1, \u03c62 (Bj ) = 1, \u03c61 (Cj ) = 1, \u03c62 (Dj ) = 1.\nBy using (141) we get\n\u03c6(p) \u2208 \u03c61 (p1 ) + \u03c62 (p2 ) , \u2200\u03c6 \u2208 \u03c61 \u2217\u2206+ \u03c62\nand by Corollary 8.3 (4), one concludes\n\u03c9\u03b1+1 + \u03c9\u03b1+2 = \u03c9\u03b1+ .\n\n\u03c9\u03b11 + \u03c9\u03b1+2 = \u03c9\u03b1+ ,\n\nThis completes the table of hyperaddition.\n\n\u0003\n\nProposition 8.10. The hypermultiplication \u22c6\u2206\u00d7 on functions \u03c6 \u2208 Hom(Q[T ], S)\nsuch that Re(\u03c6) \u2208 Q\u0304 \u2229 R is given, for \u03b1j 6= 0 (j = 1, 2), by\n\u03c9\u03b1s11 \u22c6\u2206\u00d7 \u03c9\u03b1s22 = {\u03c9\u03b1s 1 \u03b12 | s \u2208 sign (\u03b12 )s1 + sign (\u03b11 )s2 \u2282 S} , \u2200sj \u2208 S.\n\n(142)\n\nFor \u03b11 = 0 and any value of \u03b12 \u2208 Q\u0304 \u2229 R, one has\n\u03c90s1 \u22c6\u2206\u00d7 \u03c9\u03b1s22 = \u03c90s , s = s1 \u03c9\u03b1s22 (T ).\n\n(143)\n\ns\n\u03c9\u03b1jj\n\nProof. By representing\nin the form (129), one gets that all elements of the right\nhand side of (142) belong to the left hand side. To obtain the other inclusion, we\nfirst assume that \u03b1j > 0. We proceed as in the proof of Proposition 8.9 and obtain a\npolynomial with simple roots which admits as roots all the products g1 (\u03b11 )g2 (\u03b12 )\nof the conjugates of the \u03b1j . By using the same notation as before, one gets a\ndecomposition\np(XY ) = p1 (X)A(X, Y ) + p2 (Y )B(X, Y ).\n(144)\nSince \u03b1j > 0, the same proof using differentiation shows that (140) holds. One\nthen gets\n\u03c6(p) \u2208 \u03c61 (p1 ) + \u03c62 (p2 ) , \u2200\u03c6 \u2208 \u03c61 \u2217\u2206\u00d7 \u03c62\nwhich shows the required conclusion. By using (134), one then obtains the general\ncase, when \u03b1j 6= 0 have arbitrary signs. Finally (143) follows from \u2206\u00d7 (T ) =\nT \u2297 T.\n\u0003\nIncidentally, we note that the product A1 \u00d7 A2 of two canonical hypergroups\n(A1 , +1 ) and (A2 , +2 ) endowed with the hyperaddition\n(\u03be1 , \u03be2 ) + (\u03b71 , \u03b72 ) = {(\u03b1, \u03b2), \u03b1 \u2208 \u03be1 +1 \u03b71 , \u03b2 \u2208 \u03be2 +2 \u03b72 }\n\n(145)\n\nis a canonical hypergroup.\nLemma 8.11. Let A be an abelian group, and B \u2282 A be a subgroup. Let C be the\nquotient of the product A \u00d7 S by the equivalence relation\n(\u03b1, s) \u223c (\u03b1, 0)\n\n\u2200\u03b1 \u2208\n/ B.\n\n(146)\n\nWe let \u01eb : A \u00d7 S \u2192 C be the quotient map and endow A \u00d7 S with the hyperaddition\n(145). Then, with the following hyperlaw, C is a canonical hypergroup:\nx + y = {\u01eb(\u03be + \u03b7), \u01eb(\u03be) = x, \u01eb(\u03b7) = y}.\n38\n\n(147)\n\n\fProof. For x = (\u03b1, s) and y = (\u03b2, t), the only case when one needs to take the union\non representatives \u03be with \u01eb(\u03be) = x and \u03b7 with \u01eb(\u03b7) = y is when both \u03b1, \u03b2 \u2208\n/ B but\n\u03b1 + \u03b2 \u2208 B. Note also that for the equivalence relation (146) the subset\n\u222a (\u03be + \u03b7),\n\n\u01eb(\u03be) = x, \u01eb(\u03b7) = y\n\n(148)\n\nis saturated. Indeed, if \u03b1 + \u03b2 \u2208 B there is nothing to prove since the equivalence\nis trivial. Thus one can assume \u03b1 + \u03b2 \u2208\n/ B and say \u03b1 \u2208\n/ B. Then, one can choose\n\u03be = (\u03b1, s) with all values s \u2208 S so that the whole fiber above \u03b1 + \u03b2 appears in \u03be + \u03b7.\nThis produces the associativity of the hyperaddition in C = (A \u00d7 S)/ \u223c (cf. (146))\nby using the associativity in A \u00d7 S. The uniqueness of the additive inverse follows\nfrom \u01eb(\u03be) = 0 =\u21d2 \u03be = 0. Finally, the reversibility property follows from (148) by\nusing (146).\n\u0003\nWe denote by A \u00d7B c S the canonical hypergroup obtained from Lemma 8.11.\nTheorem 8.12. The functions Dfinite (S) form under hyperaddition \u22c6\u2206+ a canonical\nhypergroup isomorphic to R \u00d7Q\u0304c S.\n\u00d7\nThe subset Dfinite\n(S) = {\u03c6 \u2208 Dfinite (S)|Re(\u03c6) 6= 0}, with the hypermultiplication\n\u22c6\u2206\u00d7 is a canonical hypergroup isomorphic to R\u00d7 \u00d7Q\u0304c S.\nProof. The first statement is obtained using Lemma 8.6 (1) and Proposition 8.9.\nTo show the second statement, we introduce the map\n\u00d7\n\u03c3 : Dfinite\n(S) \u2192 R\u00d7 \u00d7Q\u0304c S,\n\n\u03c3(\u03c9\u03b1s ) = (\u03b1, sign (\u03b1)s).\n\nThen, Lemma 8.6 (2) and (142) show that \u03c3 is an isomorphism.\n\n(149)\n\u0003\n\n0\nRemark 8.13. The set Dfinite\n(S) = {\u03c6 \u2208 Dfinite (S)|Re(\u03c6) = 0} forms an ideal of\n0\nthe hyperstructure Dfinite (S) with Dfinite\n(S) \u2243 S. The quotient hyperstructure is\nisomorphic to the field of real numbers:\n\nDfinite (S)/S \u2243 R.\n\n(150)\n\n9. The hyperring of ad\u00e8le classes and its arithmetic\nThe theory of hyperrings allows one to understand the additive structure of the\nmultiplicative monoid AK /K\u00d7 of ad\u00e8le classes of a global field K and to obtain a\nnew algebraic understanding of the ad\u00e8le class space as a K-algebra. Indeed, by\nTheorem 4.2 and Corollary 4.3, the quotient HK = AK /K\u00d7 of the commutative ring\nAK by the action by multiplication of K\u00d7 , is a hyperring and the Krasner hyperfield\nK is embedded in HK . In short, HK is the K-algebra HK = AK \u2297K K, obtained by\nextension of scalars using the unique homomorphism K \u2192 K.\nIn this section we shall review the most important arithmetic properties of the\nhyperring HK . The set P (HK ) of the prime elements of the hyperring HK inherits\na natural structure of groupoid with the product given by multiplication and units\nthe set of places of K. The id\u00e8le class group CK = H\u00d7\nK acts by multiplication on\nP (HK ). For a global field of positive characteristic, the action of the units H\u00d7\nK on\nthe prime elements of HK corresponds, by class-field theory, to the action of the\nabelianized Weil group on the space of valuations of the maximal abelian extension\nof K, i.e. on the space of the (closed) points of the corresponding projective tower\nof algebraic curves. This construction determines the maximal abelian cover of the\nprojective algebraic curve with function field K. Then, the sub-groupoid of loops of\n39\n\n\fthe fundamental groupoid associated to the afore mentioned tower is equivariantly\nisomorphic to P (HK ).\nWhen char(K) = 0, the above geometric interpretation is no longer available. On\nthe other hand, the arithmetic of the hyperring HK continues to hold and the\ngroupoid P (HK ) appears to be a natural substitute for the above groupoid of loops\nsince it also supports an interpretation of the explicit formulas of Riemann-Weil.\n9.1. The space of closed prime ideals of HK . Let K be a global field and \u03a3(K)\nthe set of places of K. The one-to-one correspondence between subsets Z \u2282 \u03a3(K)\nand closed ideals of AK (for the locally compact topology) given by\nZ 7\u2192 JZ = {x = (xv ) \u2208 AK | xw = 0 , \u2200w \u2208 Z}.\n\n(151)\n\ndetermines, when Z = {w} (w \u2208 \u03a3(K)), a one-to-one relation between the places\nof K and the prime, closed ideals of the hyperring HK = AK /K\u00d7\n\u03a3(K) \u220b w \u2194 pw = {x \u2208 HK | xw = 0} \u2282 Spec (HK ).\n\n(152)\n\nNotice that the ideal pw is well defined since the condition for an ad\u00e8le to vanish\nat a place is invariant under multiplication by elements in K\u00d7 .\nThe additive structure of HK plays a key role in the above relation since when\nviewed as a multiplicative monoid, the ad\u00e8le class space AK /K\u00d7 has many more\nprime ideals than when it is viewed as a K-algebra. In fact, in a monoid any union\nof prime ideals is still a prime ideal and this fact implies that all subsets of the set\nof places determine a prime ideal of the monoid of ad\u00e8le classes.\n9.2. The groupoid of prime elements of HK . In a hyperring R, an element\na \u2208 R is said to be prime if the ideal aR is a prime ideal. Let P (HK ) be the set\nof prime elements of the hyperring HK = AK /K\u00d7 . Each prime element a \u2208 P (HK )\ndetermines a principal, prime ideal p = aHK \u2282 HK . The following result establishes\na precise description of such ideals of HK . We refer to [8] Theorem 7.9 for further\ndetails.\nTheorem 9.1. 1) Any principal prime ideal J = aHK of HK is equal to pw for a\nunique place w \u2208 \u03a3(K).\n\u00d7\n2) The group CK = A\u00d7\nacts transitively on the generators of the principal\nK /K\nprime ideal pw .\n\n3) The isotropy subgroup of any generator of the prime ideal pw is K\u00d7\nw \u2282 CK .\nLet s : P (HK ) \u2192 \u03a3K be the map that associates to a prime element a \u2208 HK the\nunique place w such that pw = aHK . Then P (HK ) with range and source maps\nequal to s and partial product given by the product in the hyperring HK , is a\ngroupoid. The product of two prime elements is a prime element only when the two\nfactors generate the same ideal, i.e. sit over the same place. Moreover over each\nplace v there exists a unique idempotent pv \u2208 P (HK ) (i.e. p2v = pv ).\n9.3. The groupoid of loops and P (HK ) in characteristic p 6= 0. Let K be a\nglobal field of characteristic p > 0 i.e. a function field over a constant field Fq \u2282 K.\nWe fix a separable closure K\u0304 of K and let Kab \u2282 K\u0304 be the maximal abelian extension\nof K. Let F\u0304q \u2282 K\u0304 be the algebraic closure of Fq . We denote by W ab \u2282 Gal(Kab : K)\nthe abelianized Weil group, i.e. the subgroup of elements of Gal(Kab : K) whose\nrestriction to F\u0304q is an integral power of the Frobenius.\n40\n\n\fLet Val(Kab ) be the space of all valuations of Kab . By restriction to K \u2282 Kab one\nobtains a natural map\np : Val(Kab ) \u2192 \u03a3(K) , p(v) = v|K .\nab\n\n(153)\n\nab\n\nBy construction, the action of Gal(K : K) on Val(K ) preserves the map p.\nLet w \u2208 \u03a3(K). Then, it follows from standard results of class-field theory that the\nabelianized Weil group W ab acts transitively on the fiber p\u22121 (w) of p and that the\nisotropy subgroup of an element in the fiber p\u22121 (w) coincides with the abelianized\nlocal Weil group Wwab \u2282 W ab .\nWe now implement the geometric language. Given an extension F\u0304q \u2282 E of transcendence degree 1, it is a well-known fact that the space Val(E) of valuations of\nE coincides with the set of (closed) points of the unique projective nonsingular\nalgebraic curve with function field E. Moreover, one also knows (cf. [19] Corollary\n6.12) that the category of nonsingular projective algebraic curves and dominant\nmorphisms is equivalent to the category of function fields of dimension one over F\u0304q .\nOne also knows that the maximal abelian extension Kab of K is an inductive limit of\nextensions E of F\u0304q of transcendence degree 1. Thus the space Val(Kab ) of valuations\nof Kab , endowed with the action of the abelianized Weil group W ab \u2282 Gal(Kab : K),\ninherits the structure of a projective limit of projective nonsingular curves. This\nconstruction determines the maximal abelian cover \u03c0 : X ab \u2192 X of the non singular\nprojective curve X over Fq with function field K.\nLet \u03c0 : X\u0303 \u2192 X be a Galois covering of X with Galois group W . The fundamental\ngroupoid of \u03c0 is by definition the quotient \u03a01 = (X\u0303 \u00d7 X\u0303)/W of X\u0303 \u00d7 X\u0303 by the\ndiagonal action of W on the self-product. The (canonical) range and source maps:\nr and s are defined by the two projections\nr(x\u0303, \u1ef9) = x , s(x\u0303, \u1ef9) = y.\n\n(154)\n\nLet us consider the subgroupoid of loops i.e.\n\u03a0\u20321 = {\u03b3 \u2208 \u03a01 | r(\u03b3) = s(\u03b3)}.\n\n(155)\n\nEach fiber of the natural projection r = s : \u03a0\u20321 \u2192 X is a group. Moreover, if W is\nan abelian group one defines the following natural action of W on \u03a0\u20321\nw * (x\u0303, \u1ef9) = (wx\u0303, \u1ef9) = (x\u0303, w\u22121 \u1ef9).\n\n(156)\n\nab\n\nWe consider the maximal abelian cover \u03c0 : X \u2192 X of the non singular projective\ncurve X over Fq with function field K. We view X as a scheme over Fq . In this\ncase, we let W = W ab \u2282 Gal(Kab : K) be the abelianized Weil group. Even though\n\u2032\nthe maximal abelian cover \u03c0 : X ab \u2192 X is ramified, its loop groupoid \u03a0ab\n1 (X)\nab\nab\ncontinues to make sense. Since the two projections from X \u00d7 X to X are\n\u2032\nab\nW -invariant, \u03a0ab\n\u00d7X X ab by the\n1 (X) is the quotient of the fibered product X\nab\ndiagonal action of W . We identify the closed points of X \u00d7X X ab with pairs of\nvaluations of Kab whose restrictions to K are the same. The following refinement\nof Proposition 8.13 of [10] holds\nTheorem 9.2. Let K be a global field of characteristic p 6= 0, and let X be the\ncorresponding non-singular projective algebraic curve over Fq .\n\u2032\n\u2022 The loop groupoid \u03a0ab\n1 (X) is canonically isomorphic to the groupoid P (HK ) of\nprime elements of the hyperring HK = AK /K\u00d7 .\n41\n\n\f\u2032\n\u2022 The above isomorphism \u03a0ab\n1 (X) \u2243 P (HK ) is equivariant for the action of W on\nab\n\u2032\n\u03a01 (X) and the action of the units H\u00d7\nK = CK on prime elements by multiplication.\n\nReferences\n[1] A. Beutelspacher, Projective planes. Handbook of incidence geometry, 107\u2013136, NorthHolland, Amsterdam, 1995.\n[2] N. Bourbaki, Algebra II. Chapters 4\u20137. Translated from the 1981 French edition by P. M.\nCohn and J. Howie. Reprint of the 1990 English edition. Elements of Mathematics (Berlin).\nSpringer-Verlag, Berlin, 2003.\n[3] P. Cartier, Analyse num\u00e9rique d'un probl\u00e8me de valeurs propres a haute pr\u00e9cision, applications aux fonctions automorphes, Preprint IHES, (1978).\n[4] A. Connes, Trace formula in noncommutative geometry and the zeros of the Riemann zeta\nfunction, Selecta Math. (N.S.) 5 (1999), no. 1, 29\u2013106.\n[5] A. Connes, C. Consani, On the notion of geometry over F1 , to appear in Journal of Algebraic\nGeometry; arXiv08092926v2 [mathAG].\n[6] A. Connes, C. Consani, Schemes over F1 and zeta functions, to appear in Compositio Mathematica; arXiv:0903.2024v3 [mathAG,NT].\n[7] A. Connes, C. Consani, Characteristic 1, entropy and the absolute point, to appear in the Proceedings of the 21st JAMI Conference, Baltimore 2009, JHUP; arXiv:0911.3537v1 [mathAG].\n[8] A. Connes, C. Consani, The hyperring of ad\u00e8le classes, to appear in Journal of Number\nTheory; arXiv:1001.4260 [mathAG,NT].\n[9] A. Connes, C. Consani, M. Marcolli, Noncommutative geometry and motives: the thermodynamics of endomotives, Advances in Math. 214 (2) (2007), 761\u2013831.\n[10] A. Connes, C. Consani, M. Marcolli, The Weil proof and the geometry of the adeles class\nspace, in \"Algebra, Arithmetic and Geometry \u2013 Manin Festschrift\", Progress in Mathematics,\nBirkh\u00e4user (2010).\n[11] A. Connes, C. Consani, M. Marcolli, Fun with F1 , Journal of Number Theory 129 (2009)\n1532\u20131561.\n[12] A. Connes, M. Marcolli, Noncommutative Geometry, Quantum Fields, and Motives, Colloquium Publications, Vol.55, American Mathematical Society, 2008.\n[13] A. Deitmar, Schemes over F1, in Number Fields and Function Fields\u2013Two Parallel Worlds.\nEd. by G. van der Geer, B. Moonen, R. Schoof. Progr. in Math, vol. 239, 2005.\n[14] M. Demazure, P. Gabriel, Groupes alg\u00e9briques, Masson & CIE, \u00c9diteur Paris 1970.\n[15] E. Ellers, H. Karzel, Involutorische Geometrien. (German) Abh. Math. Sem. Univ. Hamburg\n25 1961 93\u2013104.\n[16] D. Goss, Basic Structures of Function Field Arithmetic. Ergebnisse der Mathematik und\nihrer Grenzgebiete (3) [Results in Mathematics and Related Areas (3)], 35. Springer-Verlag,\nBerlin, 1996. xiv+422 pp.\n[17] V. Guillemin, Lectures on spectral theory of elliptic operators, Duke Math. J., Vol. 44, 3\n(1977), 485\u2013517.\n[18] M. Hall, Cyclic projective planes. Duke Math. J. 14, (1947), 1079\u20131090\n[19] R. Hartshorne Algebraic Geometry, Graduate Texts in Mathematics 52, Springer-Verlag, New\nYork Heidelberg Berlin 1977.\n[20] A. Ingham, The distribution of prime numbers With a foreword by R. C. Vaughan. Cambridge\nMathematical Library. Cambridge University Press, Cambridge, 1990. xx+114 pp.\n[21] H. Karzel, Bericht \u00fcber projektive Inzidenzgruppen. (German) Jber. Deutsch. Math.-Verein.\n67 1964/1965 Abt. 1, 58\u201392.\n[22] K. Kato, Toric Singularities American Journal of Mathematics, Vol. 116, No. 5 (Oct., 1994),\n1073\u20131099.\n[23] M. Krasner, Approximation des corps valu\u00e9s complets de caract\u00e9ristique p 6= 0 par ceux de\ncaract\u00e9ristique 0, (French) 1957 Colloque d'alg\u00e8bre sup\u00e9rieure, tenu \u00e0 Bruxelles du 19 au\n22 d\u00e9cembre 1956 pp. 129\u2013206 Centre Belge de Recherches Math\u00e9matiques \u00c9tablissements\nCeuterick, Louvain; Librairie Gauthier-Villars, Paris.\n[24] M. Krasner, A class of hyperrings and hyperfields. Internat. J. Math. Math. Sci. 6 (1983),\nno. 2, 307\u2013311.\n[25] N. Kurokawa, Multiple zeta functions: an example. in Zeta functions in geometry (Tokyo,\n1990), Adv. Stud. Pure Math., 21, Kinokuniya, Tokyo, 1992, pp. 219\u2013226.\n42\n\n\f[26] N. Kurokawa, H. Ochiai, A. Wakayama, Absolute Derivations and Zeta Functions Documenta\nMath. Extra Volume: Kazuya Kato's Fiftieth Birthday (2003) 565\u2013584.\n[27] Y. I. Manin, Lectures on zeta functions and motives (according to Deninger and Kurokawa)\nColumbia University Number-Theory Seminar (1992), Ast\u00e9risque No. 228 (1995), 4, 121\u2013163.\n[28] R. Meyer, On a representation of the idele class group related to primes and zeros of Lfunctions. Duke Math. J. Vol.127 (2005), N.3, 519\u2013595.\n[29] W. Prenowitz, Projective Geometries as Multigroups American Journal of Mathematics, Vol.\n65, No. 2 (1943), pp. 235\u2013256.\n[30] C. Soul\u00e9, Les vari\u00e9t\u00e9s sur le corps \u00e0 un \u00e9l\u00e9ment. Mosc. Math. J. 4 (2004), no. 1, 217\u2013244.\n[31] K. Thas, D. Zagier, Finite projective planes, Fermat curves, and Gaussian periods. J. Eur.\nMath. Soc. (JEMS) 10 (2008), no. 1, 173\u2013190.\n[32] J. Tits, Sur les analogues alg\u00e9briques des groupes semi-simples complexes. Colloque d'alg\u00e8bre\nsup\u00e9rieure, tenu \u00e0 Bruxelles du 19 au 22 d\u00e9cembre 1956, Centre Belge de Recherches\nMath\u00e9matiques \u00c9tablissements Ceuterick, Louvain; Librairie Gauthier-Villars, Paris (1957),\n261\u2013289.\n[33] B. T\u00f6en, M. Vaqui\u00e9, Au dessous de Spec(Z). J. K-Theory 3 (3) (2009), 437\u2013500.\n[34] A. Wagner, On perspectivities of finite projective planes. Math. Z 71 (1959), 113\u2013123.\n[35] A. Wagner, On collineation groups of projective spaces. I. Math. Z. 76 (1961), 411\u2013426.\n[36] A. Weil, Sur la th\u00e9orie du corps de classes J. math. Soc. Japan, t. 3, 1951, 1\u201335.\nA. Connes: Coll\u00e8ge de France, 3, rue d'Ulm, Paris, F-75005 France, I.H.E.S. and Vanderbilt University\nE-mail address: alain@connes.org\nC. Consani: Mathematics Department, Johns Hopkins University, Baltimore, MD 21218\nUSA\nE-mail address: kc@math.jhu.edu\n\n43\n\n\f"}