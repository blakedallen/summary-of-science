<PAPER>
  <S sid="0">A Program For Aligning Sentences In Bilingual Corpora</S>
  <ABSTRACT>
    <S sid="1" ssid="1">Researchers in both machine translation (e.g., Brown et al. 1990) and bilingual lexicography (e.g., Klavans and Tzoukermann 1990) have recently become interested in studying bilingual corpora, bodies of text such as the Canadian Hansards (parliamentary proceedings), which are available in multiple languages (such as French and English).</S>
    <S sid="2" ssid="2">One useful step is to align the sentences, that is, to identify correspondences between sentences in one language and sentences in the other language.</S>
    <S sid="3" ssid="3">This paper will describe a method and a program (align) for aligning sentences based on a simple statistical model of character lengths.</S>
    <S sid="4" ssid="4">The program uses the fact that longer sentences in one language tend to be translated into longer sentences in the other language, and that shorter sentences tend to be translated into shorter sentences.</S>
    <S sid="5" ssid="5">A probabilistic score is assigned to each proposed correspondence of sentences, based on the scaled difference of lengths of the two sentences (in characters) and the variance of this difference.</S>
    <S sid="6" ssid="6">This probabilistic score is used in a dynamic programming framework to find the maximum likelihood alignment of sentences.</S>
    <S sid="7" ssid="7">It is remarkable that such a simple approach works as well as it does.</S>
    <S sid="8" ssid="8">An evaluation was performed based on a trilingual corpus of economic reports issued by the Union Bank of Switzerland (UBS) in English, French, and German.</S>
    <S sid="9" ssid="9">The method correctly aligned all but 4% of the sentences.</S>
    <S sid="10" ssid="10">Moreover, it is possible to extract a large subcorpus that has a much smaller error rate.</S>
    <S sid="11" ssid="11">By selecting the best-scoring 80% of the alignments, the error rate is reduced from 4% to 0.7%.</S>
    <S sid="12" ssid="12">There were more errors on the English&#8212;French subcorpus than on the English&#8212;German subcorpus, showing that error rates will depend on the corpus considered; however, both were small enough to hope that the method will be useful for many language pairs.</S>
    <S sid="13" ssid="13">To further research on bilingual corpora, a much larger sample of Canadian Hansards (approximately 90 million words, half in English and and half in French) has been aligned with the and will be available through the Data Collection Initiative of the Association for Computational Linguistics (ACL/DCI).</S>
    <S sid="14" ssid="14">In addition, in order to facilitate replication of the an appendix is provided with detailed c-code of the more difficult core of the program.</S>
  </ABSTRACT>
  <SECTION title="AT&amp;T Bell Laboratories AT&amp;T Bell Laboratories" number="1">
    <S sid="15" ssid="1">Researchers in both machine translation (e.g., Brown et al. 1990) and bilingual lexicography (e.g., Klavans and Tzoukermann 1990) have recently become interested in studying bilingual corpora, bodies of text such as the Canadian Hansards (parliamentary proceedings), which are available in multiple languages (such as French and English).</S>
    <S sid="16" ssid="2">One useful step is to align the sentences, that is, to identify correspondences between sentences in one language and sentences in the other language.</S>
    <S sid="17" ssid="3">This paper will describe a method and a program (align) for aligning sentences based on a simple statistical model of character lengths.</S>
    <S sid="18" ssid="4">The program uses the fact that longer sentences in one language tend to be translated into longer sentences in the other language, and that shorter sentences tend to be translated into shorter sentences.</S>
    <S sid="19" ssid="5">A probabilistic score is assigned to each proposed correspondence of sentences, based on the scaled difference of lengths of the two sentences (in characters) and the variance of this difference.</S>
    <S sid="20" ssid="6">This probabilistic score is used in a dynamic programming framework to find the maximum likelihood alignment of sentences.</S>
    <S sid="21" ssid="7">It is remarkable that such a simple approach works as well as it does.</S>
    <S sid="22" ssid="8">An evaluation was performed based on a trilingual corpus of economic reports issued by the Union Bank of Switzerland (UBS) in English, French, and German.</S>
    <S sid="23" ssid="9">The method correctly aligned all but 4% of the sentences.</S>
    <S sid="24" ssid="10">Moreover, it is possible to extract a large subcorpus that has a much smaller error rate.</S>
    <S sid="25" ssid="11">By selecting the best-scoring 80% of the alignments, the error rate is reduced from 4% to 0.7%.</S>
    <S sid="26" ssid="12">There were more errors on the English&#8212;French subcorpus than on the English&#8212;German subcorpus, showing that error rates will depend on the corpus considered; however, both were small enough to hope that the method will be useful for many language pairs.</S>
    <S sid="27" ssid="13">To further research on bilingual corpora, a much larger sample of Canadian Hansards (approximately 90 million words, half in English and and half in French) has been aligned with the align program and will be available through the Data Collection Initiative of the Association for Computational Linguistics (ACL/DCI).</S>
    <S sid="28" ssid="14">In addition, in order to facilitate replication of the align program, an appendix is provided with detailed c-code of the more difficult core of the align program.</S>
  </SECTION>
  <SECTION title="1." number="2">
    <S sid="29" ssid="1">Researchers in both machine translation (e.g., Brown et al. 1990) and bilingual lexicography (e.g., Klavans and Tzoukermann 1990) have recently become interested in studying bilingual corpora, bodies of text such as the Canadian Hansards (parliamentary debates), which are available in multiple languages (such as French and English).</S>
    <S sid="30" ssid="2">The sentence alignment task is to identify correspondences between sentences in one Input to alignment program.</S>
    <S sid="31" ssid="3">English French According to our survey, 1988 sales of mineral water and soft drinks were much higher than in 1987, reflecting the growing popularity of these products.</S>
    <S sid="32" ssid="4">Cola drink manufacturers in particular achieved aboveaverage growth rates.</S>
    <S sid="33" ssid="5">The higher turnover was largely due to an increase in the sales volume.</S>
    <S sid="34" ssid="6">Employment and investment levels also climbed.</S>
    <S sid="35" ssid="7">Following a two-year transitional period, the new Foodstuffs Ordinance for Mineral Water came into effect on April 1, 1988.</S>
    <S sid="36" ssid="8">Specifically, it contains more stringent requirements regarding quality consistency and purity guarantees.</S>
    <S sid="37" ssid="9">Quant aux eaux minerales et aux limonades, elles rencontrent toujours plus d'adeptes.</S>
    <S sid="38" ssid="10">En effet, notre sondage fait ressortir des ventes nettement superieures a celles de 1987, pour les boissons a base de cola notamment.</S>
    <S sid="39" ssid="11">La progression des chiffres d'affaires resulte en grande partie de l'accroissement du volume des ventes.</S>
    <S sid="40" ssid="12">L'emploi et les investissements ont egalement augment&amp; La nouvelle ordonnance federale sur les denrees alimentaires concernant entre autres les eaux minerales, entr&#233;e en vigueur le ler avril 1988 apres une periode transitoire de deux ans, exige surtout une plus grande constance dans la qualite et une garantie de la purete. language and sentences in the other language.</S>
    <S sid="41" ssid="13">This task is a first step toward the more ambitious task finding correspondences among words.1 The input is a pair of texts such as Table 1.</S>
    <S sid="42" ssid="14">The output identifies the alignment between sentences.</S>
    <S sid="43" ssid="15">Most English sentences match exactly one French sentence, but it is possible for an English sentence to match two or more French sentences.</S>
    <S sid="44" ssid="16">The first two English sentences in Table 2 illustrate a particularly hard case where two English sentences align to two French sentences.</S>
    <S sid="45" ssid="17">No smaller alignments are possible because the clause &amp;quot;... sales ... were higher... &amp;quot; in the first English sentence corresponds to (part of) the second French sentence.</S>
    <S sid="46" ssid="18">The next two alignments below illustrate the more typical case where one English sentence aligns with exactly one French sentence.</S>
    <S sid="47" ssid="19">The final alignment matches two English sentences to a single French sentence.</S>
    <S sid="48" ssid="20">These alignments agreed with the results produced by a human judge.</S>
    <S sid="49" ssid="21">Aligning sentences is just a first step toward constructing a probabilistic dictionary (Table 3) for use in aligning words in machine translation (Brown et al. 1990), or for constructing a bilingual concordance (Table 4) for use in lexicography (Klavans and Tzoukermann 1990).</S>
    <S sid="50" ssid="22">Although there has been some previous work on the sentence alignment (e.g., Brown, Lai, and Mercer 1991 [at IBM], Kay and Roscheisen [this issue; at Xerox], and Catizone, Russell, and Warwick, in press Eat ISSCO], the alignment task remains a significant obstacle preventing many potential users from reaping many of the benefits of bilingual corpora, because the proposed solutions are often unavailable, unreliable, and/ or computationally prohibitive.</S>
    <S sid="51" ssid="23">Most of the previous work on sentence alignment has yet to be published.</S>
    <S sid="52" ssid="24">Kay's draft (Kay and Roscheisen; this issue), for example, was written more than two years ago and is still unpublished.</S>
    <S sid="53" ssid="25">Similarly the IBM work is also several years old, but not the le 0.610 the la 0.178 the l' 0.083 the les 0.023 the ce 0.013 the il 0.012 the de 0.009 the a 0.007 the que 0.007 very well documented in the published literature; consequently, there has been a lot of unnecessary subsequent work at ISSCO and elsewhere.2 The method we describe has the same sentence-length basis as does that of Brown, Lai, and Mercer, while the two differ considerably from the lexical approaches tried by Kay and Roscheisen and by Catizone, Russell, and Warwick.</S>
    <S sid="54" ssid="26">The feasibility of other methods has varied greatly.</S>
    <S sid="55" ssid="27">Kay's approach is apparently quite slow.</S>
    <S sid="56" ssid="28">At least, with the currently inefficient implementation, it might take hours 2 After we finished most of this work, it came to our attention that the IBM MT group has at least four papers that mention sentence alignment.</S>
    <S sid="57" ssid="29">(Brown et al. 1988a,b) start from a set of aligned sentences, suggesting that they had a solution to the sentence alignment problem back in 1988.</S>
    <S sid="58" ssid="30">Brown et al. (1990) mention that sentence lengths formed the basis of their method.</S>
    <S sid="59" ssid="31">The draft by Brown, Lai, and Mercer (1991) describes their process without giving equations.</S>
    <S sid="60" ssid="32">According to our survey, 1988 sales of mineral water and soft drinks were much higher than in 1987, reflecting the growing popularity of these products.</S>
    <S sid="61" ssid="33">Cola drink manufacturers in particular achieved above-average growth rates.</S>
    <S sid="62" ssid="34">The higher turnover was largely due to an increase in the sales volume.</S>
    <S sid="63" ssid="35">Quant aux eaux minerales et aux limonades, elles rencontrent toujours plus d'adeptes.</S>
    <S sid="64" ssid="36">En effet, notre sondage fait ressortir des ventes nettement superieures a celles de 1987, pour les boissons a base de cola notamment.</S>
    <S sid="65" ssid="37">La progression des chiffres d'affaires resulte en grande partie de l'accroissement du volume des ventes.</S>
    <S sid="66" ssid="38">Employment and investment levels also L'emploi et les investissements ont egaleclimbed. ment augmente.</S>
    <S sid="67" ssid="39">Following a two-year transitional period, the new Foodstuffs Ordinance for Mineral Water came into effect on April 1, 1988.</S>
    <S sid="68" ssid="40">Specifically, it contains more stringent requirements regarding quality consistency and purity guarantees.</S>
    <S sid="69" ssid="41">La nouvelle ordonnance federale sur les denrees alimentaires concernant entre autres les eaux minerales, entr&#233;e en vigueur le ler avril 1988 apres une periode transitoire de deux ans, exige surtout une plus grande constance dans la qualite et une garantie de la purete.</S>
    <S sid="70" ssid="42">A bilingual concordance. bank/banque (&amp;quot;money&amp;quot; sense) it could also be a place where we would have a ftre le lieu oii se retrouverait une espece de f finance (mr. wilson) and the governor of the es finances ( m . wilson ) et le gouverneur de la reduced by over 800 per cent in one week through us de 800 p. 100 en une semaine A cause d'une bank of experts.</S>
    <S sid="71" ssid="43">SENT i know several people who a banque d' experts.</S>
    <S sid="72" ssid="44">SENT je connais plusieurs pers bank of canada have frequently on behalf of the ca banque du canada ont frequemment utilise au co bank action.</S>
    <S sid="73" ssid="45">SENT there was a haberdasher who wou banque.</S>
    <S sid="74" ssid="46">SENT voila un chemisier qui aurait appr bank/banc (&amp;quot;place&amp;quot; sense) h a forum.</S>
    <S sid="75" ssid="47">SENT such was the case in the georges entre les etats-unis et le canada a propos du han i did.</S>
    <S sid="76" ssid="48">SENT he said the nose and tail of the gouvernement avait cede les extremites du he fishing privileges on the nose and tail of the les privileges de peche aux extremites du bank issue which was settled between canada and th banc de george.</S>
    <S sid="77" ssid="49">SENT c'est dans le but de re bank were surrendered by this government.</S>
    <S sid="78" ssid="50">SENT th banc.</S>
    <S sid="79" ssid="51">SENT en fait, lors des negociations de 1 bank went down the tube before we even negotiated banc ont ete liquid&amp; avant meme qu' on ai to align a single Scientific American article (Kay, personal communication).</S>
    <S sid="80" ssid="52">It ought to be possible to achieve fairly reasonable results with much less computation.</S>
    <S sid="81" ssid="53">The IBM algorithm is much more efficient since they were able to extract nearly 3 million pairs of sentences from Hansard materials in 10 days of running time on an IBM Model 3090 mainframe computer with access to 16 megabytes of virtual memory (Brown, Lai, and Mercer 1991).</S>
    <S sid="82" ssid="54">The evaluation of results has been absent or rudimentary.</S>
    <S sid="83" ssid="55">Kay gives positive examples of the alignment process, but no counts of error rates.</S>
    <S sid="84" ssid="56">Brown, Lai, and Mercer (1991) report that they achieve a 0.6% error rate when the algorithm suggests aligning one sentence with one sentence.</S>
    <S sid="85" ssid="57">However, they do not characterize its performance overall or on the more difficult cases.</S>
    <S sid="86" ssid="58">Since the research community has not had access to a practical sentence alignment program, we thought that it would be helpful to describe such a program (align) and to evaluate its results.</S>
    <S sid="87" ssid="59">In addition, a large sample of Canadian Hansards (approximately 90 million words, half in French and half in English) has been aligned with the align program and has been made available to the general research community through the Data Collection Initiative of the Association for Computational Linguistics (ACL/DCI).</S>
    <S sid="88" ssid="60">In order to facilitate replication of the align program, an appendix is provided with detailed c-code of the more difficult core of the align program.</S>
    <S sid="89" ssid="61">The align program is based on a very simple statistical model of character lengths.</S>
    <S sid="90" ssid="62">The model makes use of the fact that longer sentences in one language tend to be translated into longer sentences in the other language, and that shorter sentences tend to be translated into shorter sentences.</S>
    <S sid="91" ssid="63">A probabilistic score is assigned to each pair of proposed sentence pairs, based on the ratio of lengths of the two sentences (in characters) and the variance of this ratio.</S>
    <S sid="92" ssid="64">This probabilistic score is used in a dynamic programming framework in order to find the maximum likelihood alignment of sentences.</S>
    <S sid="93" ssid="65">It is remarkable that such a simple approach can work as well as it does.</S>
    <S sid="94" ssid="66">An evaluation was performed based on a trilingual corpus of 15 economic reports issued by the Union Bank of Switzerland (UBS) in English, French, and German (14,680 words, 725 sentences, and 188 paragraphs in English and corresponding numbers in the other two languages).</S>
    <S sid="95" ssid="67">The method correctly aligned all but 4% of the sentences.</S>
    <S sid="96" ssid="68">Moreover, it is possible to extract a large subcorpus that has a much smaller error rate.</S>
    <S sid="97" ssid="69">By selecting the best-scoring 80% of the alignments, the error rate is reduced from 4% to 0.7%.</S>
    <S sid="98" ssid="70">There were more errors on the English&#8212;French subcorpus than on the English&#8212;German subcorpus, showing that error rates will depend on the corpus considered; however, both were small enough for us to hope that the method will be useful for many language pairs.</S>
    <S sid="99" ssid="71">We believe that the error rate is considerably lower in the Canadian Hansards because the translations are more literal.</S>
  </SECTION>
  <SECTION title="2." number="3">
    <S sid="100" ssid="1">The sentence alignment program is a two-step process.</S>
    <S sid="101" ssid="2">First paragraphs are aligned, and then sentences within a paragraph are aligned.</S>
    <S sid="102" ssid="3">It is fairly easy to align paragraphs in our trilingual corpus of Swiss banking reports since the boundaries are usually clearly marked.</S>
    <S sid="103" ssid="4">However, there are some short headings and signatures that can be confused with paragraphs.</S>
    <S sid="104" ssid="5">Moreover, these short &amp;quot;pseudo-paragraphs&amp;quot; are not always translated into all languages.</S>
    <S sid="105" ssid="6">On a corpus this small the paragraphs could have been aligned by hand.</S>
    <S sid="106" ssid="7">It turns out that &amp;quot;pseudo-paragraphs&amp;quot; usually have fewer than 50 characters and that real paragraphs usually have more than 100 characters.</S>
    <S sid="107" ssid="8">We used this fact to align the paragraphs automatically, checking the result by hand.</S>
    <S sid="108" ssid="9">The procedure correctly aligned all of the English and German paragraphs.</S>
    <S sid="109" ssid="10">However, one of the French documents was badly translated and could not be aligned because of the omission of one long paragraph and the duplication of a short one.</S>
    <S sid="110" ssid="11">This document was excluded for the purposes of the remainder of this experiment.</S>
    <S sid="111" ssid="12">We will show below that paragraph alignment is an important step, so it is fortunate that it is not particularly difficult.</S>
    <S sid="112" ssid="13">In aligning the Hansards, we found that paragraphs were often already aligned.</S>
    <S sid="113" ssid="14">For robustness, we decided to align paragraphs within certain fairly reliable regions (denoted by certain Hansard-specific formatting conventions) using the same method as that described below for aligning sentences within each paragraph.</S>
  </SECTION>
  <SECTION title="3." number="4">
    <S sid="114" ssid="1">Now, let us consider how sentences can be aligned within a paragraph.</S>
    <S sid="115" ssid="2">The program makes use of the fact that longer sentences in one language tend to be translated into longer sentences in the other language, and that shorter sentences tend to be translated into shorter sentences.3 A probabilistic score is assigned to each proposed pair of sentences, based on the ratio of lengths of the two sentences (in characters) and the variance of this ratio.</S>
    <S sid="116" ssid="3">This probabilistic score is used in a dynamic programming framework in order to find the maximum likelihood alignment of sentences.</S>
    <S sid="117" ssid="4">The fol3 We will have little to say about how sentence boundaries are identified.</S>
    <S sid="118" ssid="5">Identifying sentence boundaries is not always as easy as it might appear for reasons described in Liberman and Church (in press).</S>
    <S sid="119" ssid="6">It would be much easier if periods were always used to mark sentence boundaries; but unfortunately, many periods have other purposes.</S>
    <S sid="120" ssid="7">In the Brown Corpus, for example, only 90% of the periods are used to mark sentence boundaries; the remaining 10% appear in numerical expressions, abbreviations, and so forth.</S>
    <S sid="121" ssid="8">In the Wall Street Journal, there is even more discussion of dollar amounts and percentages, as well as more use of abbreviated titles such as Mr.; consequently, only 53% of the periods in the Wall Street Journal are used to identify sentence boundaries.</S>
    <S sid="122" ssid="9">For the UBS data, a simple set of heuristics were used to identify sentences boundaries.</S>
    <S sid="123" ssid="10">The dataset was sufficiently small that it was possible to correct the remaining mistakes by hand.</S>
    <S sid="124" ssid="11">For a larger dataset, such as the Canadian Hansards, it was not possible to check the results by hand.</S>
    <S sid="125" ssid="12">We used the same procedure that is used in Church (1988).</S>
    <S sid="126" ssid="13">This procedure was developed by Kathryn Baker (unpublished).</S>
    <S sid="127" ssid="14">Paragraph lengths are highly correlated.</S>
    <S sid="128" ssid="15">The horizontal axis shows the length of English paragraphs, while the vertical scale shows the lengths of the corresponding German paragraphs.</S>
    <S sid="129" ssid="16">Note that the correlation is quite large (.991). lowing striking figure could easily lead one to this approach.</S>
    <S sid="130" ssid="17">Figure 1 shows that the lengths (in characters) of English and German paragraphs are highly correlated (.991).</S>
    <S sid="131" ssid="18">Dynamic programming is often used to align two sequences of symbols in a variety of settings, such as genetic code sequences from different species, speech sequences from different speakers, gas chromatograph sequences from different compounds, and geologic sequences from different locations (Sankoff and Kruskal 1983).</S>
    <S sid="132" ssid="19">We could expect these matching techniques to be useful, as long as the order of the sentences does not differ too radically between the two languages.</S>
    <S sid="133" ssid="20">Details of the alignment techniques differ considerably from one application to another, but all use a distance measure to compare two individual elements within the sequences and a dynamic programming algorithm to minimize the total distances between aligned elements within two sequences.</S>
    <S sid="134" ssid="21">We have found that the sentence alignment problem fits fairly well into this framework, though it is necessary to introduce a fairly interesting innovation into the structure of the distance measure.</S>
    <S sid="135" ssid="22">Kruskal and Liberman (1983) describe distance measures as belonging to one of two classes: trace and time-warp.</S>
    <S sid="136" ssid="23">The difference becomes important when a single element of one sequence is being matched with multiple elements from the other.</S>
    <S sid="137" ssid="24">In trace applications, such as genetic code matching, the single element is matched with just one of the multiple elements, and all of the others will be ignored.</S>
    <S sid="138" ssid="25">In contrast, in time-warp applications such as speech template matching, the single element is matched with each of the multiple elements, and the single element will be used in multiple matches.</S>
    <S sid="139" ssid="26">Interestingly enough, our application does not fit into either of Kruskal and Liberman's classes because our distance measure needs to compare the single element with an aggregate of the multiple elements.</S>
  </SECTION>
  <SECTION title="4." number="5">
    <S sid="140" ssid="1">It is convenient for the distance measure to be based on a probabilistic model so that information can be combined in a consistent way.</S>
    <S sid="141" ssid="2">Our distance measure is an estimate of &#8212; log Prob(match j 6), where 6 depends on h and /2, the lengths of the two portions of text under consideration.</S>
    <S sid="142" ssid="3">The log is introduced here so that adding distances will produce desirable results.</S>
    <S sid="143" ssid="4">This distance measure is based on the assumption that each character in one language, L1, gives rise to a random number of characters in the other language, L2.</S>
    <S sid="144" ssid="5">We assume these random variables are independent and identically distributed with a normal distribution.</S>
    <S sid="145" ssid="6">The model is then specified by the mean, c, and variance, s2, of this distribution. c is the expected number of characters in L2 per character in L1, and s2 is the variance of the number of characters in L2 per character in L1.</S>
    <S sid="146" ssid="7">We define 6 to be (12 &#8212; lic)/V/i s2 so that it has a normal distribution with mean zero and variance one (at least when the two portions of text under consideration actually do happen to be translations of one another).</S>
    <S sid="147" ssid="8">Figure 2 is a check on the assumption that 6 is normally distributed.</S>
    <S sid="148" ssid="9">The figure is constructed using the parameters c and s2 estimated for the program.</S>
    <S sid="149" ssid="10">Variance is modeled proportional to length.</S>
    <S sid="150" ssid="11">The horizontal axis plots the length of English paragraphs, while the vertical axis shows the square of the difference of English and German lengths, an estimate of variance.</S>
    <S sid="151" ssid="12">The plot indicates that variance increases with length, as predicted by the model.</S>
    <S sid="152" ssid="13">The line shows the result of a robust regression analysis.</S>
    <S sid="153" ssid="14">Five extreme points lying above the top of this figure have been suppressed since they did not contribute to the robust regression.</S>
    <S sid="154" ssid="15">The parameters c and s2 are determined empirically from the UBS data.</S>
    <S sid="155" ssid="16">We could estimate c by counting the number of characters in German paragraphs then dividing by the number of characters in corresponding English paragraphs.</S>
    <S sid="156" ssid="17">We obtain 81105/73481 1.1.</S>
    <S sid="157" ssid="18">The same calculation on French and English paragraphs yields c 72302/68450 1.06 as the expected number of French characters per English character.</S>
    <S sid="158" ssid="19">As will be explained later, performance does not seem to be very sensitive to these precise language-dependent quantities, and therefore we simply assume the language-independent value c 1, which simplifies the program considerably.</S>
    <S sid="159" ssid="20">This value would clearly be inappropriate for English&#8212;Chinese alignment, but it seems likely to be useful for most pairs of European languages. s2 is estimated from Figure 3.</S>
    <S sid="160" ssid="21">The model assumes that s2 is proportional to length.</S>
    <S sid="161" ssid="22">The constant of proportionality is determined by the slope of the robust regression line shown in the figure.</S>
    <S sid="162" ssid="23">The result for English&#8212;German is s2 = 7.3, and for English&#8212; French is s2 5.6.</S>
    <S sid="163" ssid="24">Again, we will see that the difference in the two slopes is not too important.</S>
    <S sid="164" ssid="25">Therefore, we can combine the data across languages, and adopt the simpler language-independent estimate s2 6.8, which is what is actually used in the program.</S>
    <S sid="165" ssid="26">We now appeal to Bayes Theorem to estimate Prob(match I S) as a constant times Prob(S I match) Prob(match).</S>
    <S sid="166" ssid="27">The constant can be ignored since it will be the same for where Prob(I6I) is the probability that a random variable, z, with a standardized (mean zero, variance one) normal distribution, has magnitude at least as large as 161.</S>
    <S sid="167" ssid="28">That is, The program computes 6 directly from the lengths of the two portions of text, /1 and /2, and the two parameters, c and s2.</S>
    <S sid="168" ssid="29">That is, 6 = (12 - lic)/ Vlis2.</S>
    <S sid="169" ssid="30">Then, Prob(I6I) is computed by integrating a standard normal distribution (with mean zero and variance one).</S>
    <S sid="170" ssid="31">Many statistics textbooks include a table for computing this.</S>
    <S sid="171" ssid="32">The code in the appendix uses the pnorm function, which is based on an approximation described by Abramowitz and Stegun (1964; p. 932, equation 26.2.17).</S>
    <S sid="172" ssid="33">The prior probability of a match, Prob(match), is fit with the values in Table 5, which were determined from the hand-marked UBS data.</S>
    <S sid="173" ssid="34">We have found that a sentence in one language normally matches exactly one sentence in the other language (1-1).</S>
    <S sid="174" ssid="35">Three additional possibilities are also considered: 1-0 (including 0-1), 2-1 (including 1-2), and 2-2.</S>
    <S sid="175" ssid="36">Table 5 shows all four possibilities.</S>
    <S sid="176" ssid="37">This completes the discussion of the distance measure.</S>
    <S sid="177" ssid="38">Prob(match I 6) is computed as an (irrelevant) constant times Prob(6 I match)Prob(match).</S>
    <S sid="178" ssid="39">Prob(match) is computed using the values in Table 5.</S>
    <S sid="179" ssid="40">Prob(6 I match) is computed by assuming that Prob(6 I match) -= 2(1 - Prob(I61)), where Prob(16I) has a standard normal distribution.</S>
    <S sid="180" ssid="41">We first calculate 6 as (12 - /ic)/ V/is2 and then Prob(I61) is computed by integrating a standard normal distribution.</S>
    <S sid="181" ssid="42">See the c-function two_side_distance in the appendix for an example of a c-code implementation of these calculations.</S>
    <S sid="182" ssid="43">The distance function d, represented in the program as two_side_clistance, is defined in a general way to allow for insertions, deletion, substitution, etc.</S>
    <S sid="183" ssid="44">The function takes four arguments: xl, yi, X2, Y2.</S>
  </SECTION>
  <SECTION title="5." number="6">
    <S sid="184" ssid="1">The algorithm is summarized in the following recursion equation.</S>
    <S sid="185" ssid="2">Let si, i = 1 &#8226; &#8226; &#8226; I, be the sentences of one language, and ti, j = 1- &#8226; &#8226; J, be the translations of those sentences in the other language.</S>
    <S sid="186" ssid="3">Let d be the distance function described in the previous section, and let D(i, j) be the minimum distance between sentences s1, &#8226; &#8226; &#8226; si and their translations , &#8226; &#8226; &#8226; ti, under the maximum likelihood alignment.</S>
    <S sid="187" ssid="4">D(i,j) is computed by minimizing over six cases (substitution, deletion, insertion, contraction, expansion, and merger) which, in effect, impose a set of slope constraints.</S>
    <S sid="188" ssid="5">That is, D(i,j) is defined by the following recurrence with the initial condition D(i, j) = 0.</S>
  </SECTION>
  <SECTION title="6." number="7">
    <S sid="189" ssid="1">To evaluate align, its results were compared with a human alignment.</S>
    <S sid="190" ssid="2">All of the UBS sentences were aligned by a primary judge, a native speaker of English with a reading knowledge of French and German.</S>
    <S sid="191" ssid="3">Two additional judges, a native speaker of French and a native speaker of German, respectively, were used to check the primary judge on 43 of the more difficult paragraphs having 230 sentences (out of 118 total paragraphs with 725 sentences).</S>
    <S sid="192" ssid="4">Both of the additional judges were also fluent in English, having spent the last few years living and working in the United States, though they were both more comfortable with their native language than with English.</S>
    <S sid="193" ssid="5">The materials were prepared in order to make the task somewhat less tedious for the judges.</S>
    <S sid="194" ssid="6">Each paragraph was printed in three columns, one for each of the three languages: English, French, and German.</S>
    <S sid="195" ssid="7">Blank lines were inserted between sentences.</S>
    <S sid="196" ssid="8">The judges were asked to draw lines between matching sentences.</S>
    <S sid="197" ssid="9">The judges were also permitted to draw a line between a sentence and &amp;quot;null&amp;quot; if they thought that the sentence was not translated.</S>
    <S sid="198" ssid="10">For the purposes of this evaluation, two sentences were defined to &amp;quot;match&amp;quot; if they shared a common clause.</S>
    <S sid="199" ssid="11">(In a few cases, a pair of sentences shared only a phrase or a word, rather than a clause; these sentences did not count as a &amp;quot;match&amp;quot; for the purposes of this experiment.)</S>
    <S sid="200" ssid="12">After checking the primary judge with the other two judges, it was decided that the primary judge's results were sufficiently reliable that they could be used as a standard for evaluating the program.</S>
    <S sid="201" ssid="13">The primary judge made only two mistakes on the 43 hard paragraphs (one French mistake and one German mistake), whereas the program made 44 errors on the same materials.</S>
    <S sid="202" ssid="14">Since the primary judge's error rate is so much lower than that of the program, it was decided that we needn't be concerned with the primary judge's error rate.</S>
    <S sid="203" ssid="15">If the program and the judge disagree, we can assume that the program is probably wrong.</S>
    <S sid="204" ssid="16">The 43 &amp;quot;hard&amp;quot; paragraphs were selected by looking for sentences that mapped to something other than themselves after going through both German and French.</S>
    <S sid="205" ssid="17">Specifically, for each English sentence, we attempted to find the corresponding German sentences, and then for each of them, we attempted to find the corresponding French sentences, and then we attempted to find the corresponding English sentences, which should hopefully get us back to where we started.</S>
    <S sid="206" ssid="18">The 43 paragraphs included all sentences in which this process could not be completed around the loop.</S>
    <S sid="207" ssid="19">This relatively small group of paragraphs (23% of all paragraphs) contained a relatively large fraction of the program's errors (82%).</S>
    <S sid="208" ssid="20">Thus, there seems to be some verification that this trilingual criterion does in fact succeed in distinguishing more difficult paragraphs from less difficult ones.</S>
    <S sid="209" ssid="21">There are three pairs of languages: English-German, English-French, and FrenchGerman.</S>
    <S sid="210" ssid="22">We will report on just the first two.</S>
    <S sid="211" ssid="23">(The third pair is probably dependent on the first two.)</S>
    <S sid="212" ssid="24">Errors are reported with respect to the judge's responses.</S>
    <S sid="213" ssid="25">That is, for each of the &amp;quot;matches&amp;quot; that the primary judge found, we report the program as correct if it found the &amp;quot;match&amp;quot; and incorrect if it didn't.</S>
    <S sid="214" ssid="26">This procedure is better than comparing on the basis of alignments proposed by the algorithm for two reasons.</S>
    <S sid="215" ssid="27">First, it makes the trial &amp;quot;blind,&amp;quot; that is, the judge does not know the algorithm's result when judging.</S>
    <S sid="216" ssid="28">Second, it allows comparison of results for different algorithms on a common basis.</S>
    <S sid="217" ssid="29">The program made 36 errors out of 621 total alignments (5.8%) for English-French and 19 errors out of 695 (2.7%) alignments for English-German.</S>
    <S sid="218" ssid="30">Overall, there were 55 errors out of a total of 1316 alignments (4.2%).</S>
    <S sid="219" ssid="31">The higher error rate for EnglishFrench alignments may result from the German being the original, so that the English and German differ by one translation, while the English and French differ by two translations.</S>
    <S sid="220" ssid="32">Table 6 breaks down the errors by category, illustrating that complex matches are more difficult.</S>
    <S sid="221" ssid="33">1-1 alignments are by far the easiest.</S>
    <S sid="222" ssid="34">The 2-1 alignments, which come next, have four times the error rate for 1-1.</S>
    <S sid="223" ssid="35">The 2-2 alignments are harder still, but a majority of the alignments are found.</S>
    <S sid="224" ssid="36">The 3-1 and 3-2 alignments are not even considered by the algorithm, so naturally all three instances of these are counted as errors.</S>
    <S sid="225" ssid="37">The most embarrassing category is 1-0, which was never handled correctly.</S>
    <S sid="226" ssid="38">In addition, when the algorithm assigns a sentence to the 1-0 category, it is also always wrong.</S>
    <S sid="227" ssid="39">Clearly, more work is needed to deal with the 1-0 category.</S>
    <S sid="228" ssid="40">It may be necessary to consider language-specific methods in order to deal adequately with this case.</S>
    <S sid="229" ssid="41">Since the algorithm achieves substantially better performance on the 1-1 regions, one interpretation of these results is that the overall low error rate is due to the high frequency of 1-1 alignments in English-French and English-German translations.</S>
    <S sid="230" ssid="42">Translations to linguistically more different languages, such as Hebrew or Japanese, might encounter a higher proportion of hard matches.</S>
    <S sid="231" ssid="43">We investigated the possible dependence of the error rate on four variables: We used logistic regression (Hosmer and Lemeshow 1989) to see how well each of the four variables predicted the errors.</S>
    <S sid="232" ssid="44">The coefficients and their standard deviations are shown in Table 7.</S>
    <S sid="233" ssid="45">Apparently, the distance measure is the most useful predictor, as indicated by the last column.</S>
    <S sid="234" ssid="46">In fact, none of the other three factors was found to contribute significantly beyond the effect of the distance measure, indicating that the distance measure is already doing an excellent job, and we should not expect much improvement if we were to try to augment the measure to take these additional factors into account.</S>
    <S sid="235" ssid="47">The fact that the score is such a good predictor of performance can be used to extract a large subcorpus that has a much smaller error rate.</S>
    <S sid="236" ssid="48">By selecting the best scoring 80% of the alignments, the error rate can be reduced from 4% to 0.7%.</S>
    <S sid="237" ssid="49">In general, we can trade off the size of the subcorpus and the accuracy by setting a threshold, and rejecting alignments with a score above this threshold.</S>
    <S sid="238" ssid="50">Figure 4 examines this trade-off in more detail.</S>
    <S sid="239" ssid="51">Less formal tests of the error rate in the Hansards suggest that the overall error rate is about 2%, while the error rate for the easy 80% of the sentences is about 0.4%.</S>
    <S sid="240" ssid="52">Apparently the Hansard translations are more literal than the UBS reports.</S>
    <S sid="241" ssid="53">It took 20 hours of real time on a sun 4 to align 367 days of Hansards, or 3.3 minutes per Hansard-day.</S>
    <S sid="242" ssid="54">The 367 days of Hansards contained about 890,000 sentences or about 37 million &amp;quot;words&amp;quot; (tokens).</S>
    <S sid="243" ssid="55">About half of the computer time is spent identifying tokens, sentences, and paragraphs, and about half of the time is spent in the align program itself.</S>
    <S sid="244" ssid="56">The overall error, 4.2%, that we get on the UBS corpus is considerably higher than the 0.6% error reported by Brown, Lai, and Mercer (1991).</S>
    <S sid="245" ssid="57">However, a direct comparison is misleading because of the differences in corpora and the differences in sampling.</S>
    <S sid="246" ssid="58">We have observed that the Hansards are much easier than the UBS.</S>
    <S sid="247" ssid="59">Our error rate drops by about 50% in that case.</S>
    <S sid="248" ssid="60">Aligning the UBS French and English texts is more difficult than aligning the English and German, because the French and English Extracting a subcorpus with lower error rate.</S>
    <S sid="249" ssid="61">The fact that the score is such a good predictor of performance can be used to extract a large subcorpus that has a much smaller error rate.</S>
    <S sid="250" ssid="62">In general, we can trade off the size of the subcorpus and the accuracy by setting a threshold and rejecting alignments with a score above this threshold.</S>
    <S sid="251" ssid="63">The horizontal axis shows the size of the subcorpus, and the vertical axis shows the corresponding error rate.</S>
    <S sid="252" ssid="64">An error rate of about 2/3% can be obtained by selecting a threshold that would retain approximately 80% of the corpus. versions are separated by two translations, both being translations of the German original.</S>
    <S sid="253" ssid="65">In addition, IBM samples only the 1-1 alignments, which are much easier than any other category, as one can see from Table 6.</S>
    <S sid="254" ssid="66">Given these differences in testing methodology as well as the differences in the algorithms, we find the methods giving broadly similar results.</S>
    <S sid="255" ssid="67">Both methods give results with sufficient accuracy to use the resulting alignments, or selected portions thereof, for acquisition of lexical information.</S>
    <S sid="256" ssid="68">And neither method achieves human accuracy on the task.</S>
    <S sid="257" ssid="69">(Note that one difference between their method and ours is that they never find 2-2 alignments.</S>
    <S sid="258" ssid="70">This would give their method a minimum overall error rate of 1.4% on the UBS corpus, three times the human error rate on hard paragraphs.)</S>
    <S sid="259" ssid="71">We conclude that a sentence alignment method that achieves human accuracy will need to have lexical information available to it.</S>
    <S sid="260" ssid="72">It is interesting to consider what happens if we change our definition of length to count words rather than characters.</S>
    <S sid="261" ssid="73">It might seem that a word is a more natural linguistic unit than a character.</S>
    <S sid="262" ssid="74">However, we have found that words do not perform as well as characters.</S>
    <S sid="263" ssid="75">In fact, the &amp;quot;words&amp;quot; variation increases the number of errors dramatically (from 36 to 50 for English&#8212;French and from 19 to 35 for English&#8212;German).</S>
    <S sid="264" ssid="76">The total errors were thereby increased from 55 to 85, or from 4.2% to 6.5%.</S>
    <S sid="265" ssid="77">We believe that characters are better because there are more of them, and therefore there is less uncertainty.</S>
    <S sid="266" ssid="78">On the average, there are 117 characters per sentence (including white space) and only 17 words per sentence.</S>
    <S sid="267" ssid="79">Recall that we have modeled variance as proportional to sentence length, V(I) --= s2/.</S>
    <S sid="268" ssid="80">Using the character data, we found previously that s2 6.5.</S>
    <S sid="269" ssid="81">The same argument applied to words yields s2 1.9.</S>
    <S sid="270" ssid="82">For comparison's sake, it is useful to consider the ratio of VV(m)/m (or equivalently, skirit), where m is the mean sentence length.</S>
    <S sid="271" ssid="83">We obtain ,VV(m)/m ratios of 0.22 for characters and 0.33 for words, indicating that characters are less noisy than words, and are therefore more suitable for use in align.</S>
    <S sid="272" ssid="84">Although Brown, Lai, and Mercer (1991) used lengths measured in words, comparisons of error rates between our work and theirs will not test whether characters or words are more useful.</S>
    <S sid="273" ssid="85">As set out in the previous section, there are numerous differences in testing methodology and materials.</S>
    <S sid="274" ssid="86">Furthermore, there are apparently many differences between the IBM algorithm and ours other than the units of measurement, which could also account for any difference on performance.</S>
    <S sid="275" ssid="87">Appropriate methodology is to compare methods with only one factor varying, as we do here.</S>
    <S sid="276" ssid="88">Recall that align is a two-step process.</S>
    <S sid="277" ssid="89">First, paragraph boundaries are identified and then sentences are aligned within paragraphs.</S>
    <S sid="278" ssid="90">We considered eliminating the first step and found a threefold degradation in performance.</S>
    <S sid="279" ssid="91">The English&#8212;French errors were increased from 36 to 84, and the English&#8212;German errors from 19 to 86.</S>
    <S sid="280" ssid="92">The overall errors were increased from 55 to 170.</S>
    <S sid="281" ssid="93">Thus the two-step approach reduces errors by a factor of three.</S>
    <S sid="282" ssid="94">It is possible that performance might be improved further still by introducing additional alignment steps at the clause and/or phrase levels, but testing this hypothesis would require access to robust parsing technology.</S>
    <S sid="283" ssid="95">The original version of the program did not consider the category of 2-2 alignments.</S>
    <S sid="284" ssid="96">Table 6 shows that the program was right on 10 of 15 actual 2-2 alignments.</S>
    <S sid="285" ssid="97">This was achieved at the cost of introducing 2 spurious 2-2 alignments.</S>
    <S sid="286" ssid="98">Thus in 12 tries, the program was right 10 times, wrong 2 times.</S>
    <S sid="287" ssid="99">This is significantly better than chance, since there is less than 1% chance of getting 10 or more heads out of 12 flips of a fair coin.</S>
    <S sid="288" ssid="100">Thus it is worthwhile to include the 2-2 alignment possibility.</S>
    <S sid="289" ssid="101">When we discussed the estimation of the model parameters, c and s2, we mentioned that it is possible to fit the parameters more accurately if we estimate different values for each language pair, but that doing so did not seem to increase performance by very much.</S>
    <S sid="290" ssid="102">In fact, we found exactly the same total number of errors, although the errors are slightly different.</S>
    <S sid="291" ssid="103">Changing the parameters resulted in four changes to the output for English&#8212;French (two right and two wrong), and two changes to the output for English&#8212; German (one right and one wrong).</S>
    <S sid="292" ssid="104">Since it is more convenient to use languageindependent parameter values, and doing so doesn't seem to hurt performance very much (if at all), we have decided to adopt the language-independent values.</S>
    <S sid="293" ssid="105">7.5.1 Hard and Soft Boundaries.</S>
    <S sid="294" ssid="106">Recall that we rejected one of the French documents because one paragraph was omitted and two paragraphs were duplicated.</S>
    <S sid="295" ssid="107">We could have handled this case if we had employed a more powerful paragraph alignment algorithm.</S>
    <S sid="296" ssid="108">In fact, in aligning the Canadian Hansards, we found that it was necessary to do something more elaborate than we did for the UBS data.</S>
    <S sid="297" ssid="109">We decided to use more or less the same procedure for aligning paragraphs within a document as the procedure that we used for aligning sentences within a paragraph.</S>
    <S sid="298" ssid="110">Let us introduce the distinction between hard and soft delimiters.</S>
    <S sid="299" ssid="111">The alignment program is defined to move soft delimiters as necessary within the constraints of the hard delimiters.</S>
    <S sid="300" ssid="112">Hard delimiters cannot be modified, and there must be equal numbers of them.</S>
    <S sid="301" ssid="113">When aligning sentences within a paragraph, the program considers paragraph boundaries to be &amp;quot;hard&amp;quot; and sentence boundaries to be &amp;quot;soft.&amp;quot; When aligning paragraphs within a document, the program considers document boundaries to be &amp;quot;hard&amp;quot; and paragraph boundaries to be &amp;quot;soft.&amp;quot; This entension has been incorporated into the implementation presented in the appendix. alignment procedures such as Kay and Roscheisen (unpublished) make use of words.</S>
    <S sid="302" ssid="114">It ought to help to know that the English string &amp;quot;house&amp;quot; and the French string &amp;quot;maison&amp;quot; are likely to correspond.</S>
    <S sid="303" ssid="115">Dates and numbers are perhaps an even more extreme example.</S>
    <S sid="304" ssid="116">It really ought to help to know that the English string &amp;quot;1988&amp;quot; and the French string &amp;quot;1988&amp;quot; are likely to correspond.</S>
    <S sid="305" ssid="117">We are currently exploring ways to integrate these kinds of clues into the framework described above.</S>
    <S sid="306" ssid="118">However, at present, the algorithm does not have access to lexical constraints, which are clearly very important.</S>
    <S sid="307" ssid="119">We expect that once these clues are properly integrated, the program will achieve performance comparable to that of the primary judge.</S>
    <S sid="308" ssid="120">However, we are still not convinced that it is necessary to process these lexical clues, since the current performance is sufficient for many applications, such as building a probabilistic dictionary.</S>
    <S sid="309" ssid="121">It is remarkable just how well we can do without lexical constraints.</S>
    <S sid="310" ssid="122">Adding lexical constraints might slow down the program and make it less useful as a first pass.</S>
  </SECTION>
  <SECTION title="8." number="8">
    <S sid="311" ssid="1">This paper has proposed a method for aligning sentences in a bilingual corpus, based on a simple probabilistic model, described in Section 3.</S>
    <S sid="312" ssid="2">The model was motivated by the observation that longer regions of text tend to have longer translations, and that shorter regions of text tend to have shorter translations.</S>
    <S sid="313" ssid="3">In particular, we found that the correlation between the length of a paragraph in characters and the length of its translation was extremely high (0.991).</S>
    <S sid="314" ssid="4">This high correlation suggests that length might be a strong clue for sentence alignment.</S>
    <S sid="315" ssid="5">Although this method is extremely simple, it is also quite accurate.</S>
    <S sid="316" ssid="6">Overall, there was a 4.2% error rate on 1316 alignments, averaged over both English&#8212;French and English&#8212;German data.</S>
    <S sid="317" ssid="7">In addition, we find that the probability score is a good predictor of accuracy, and consequently, it is possible to select a subset of 80% of the alignments with a much smaller error rate of only 0.7%.</S>
    <S sid="318" ssid="8">The method is also fairly language-independent.</S>
    <S sid="319" ssid="9">Both English&#8212;French and English&#8212; German data were processed using the same parameters.</S>
    <S sid="320" ssid="10">If necessary, it is possible to fit the six parameters in the model with language-specific values, though, thus far, we have not found it necessary to do so.</S>
    <S sid="321" ssid="11">We have examined a number of variations.</S>
    <S sid="322" ssid="12">In particular, we found that it is better to use characters rather than words in counting sentence length.</S>
    <S sid="323" ssid="13">Apparently, the performance is better with characters because there is less variability in the differences of sentence lengths so measured.</S>
    <S sid="324" ssid="14">Using words as units increases the error rate by half, from 4.2% to 6.5%.</S>
    <S sid="325" ssid="15">In the future, we would hope to extend the method to make use of lexical constraints.</S>
    <S sid="326" ssid="16">However, it is remarkable just how well we can do without such constraints.</S>
    <S sid="327" ssid="17">We might advocate our simple character alignment procedure as a first pass, even to those who advocate the use of lexical constraints.</S>
    <S sid="328" ssid="18">Our procedure would complement a lexical approach quite well.</S>
    <S sid="329" ssid="19">Our method is quick but makes a few percent errors; a lexical approach is probably slower, though possibly more accurate.</S>
    <S sid="330" ssid="20">One might go with our approach when the scores are small, and back off to a lexical-based approach as necessary.</S>
  </SECTION>
  <SECTION title="Acknowledgments" number="9">
    <S sid="331" ssid="1">We thank Susanne Wolff and Evelyne Tzoukermann for their pains in aligning sentences.</S>
    <S sid="332" ssid="2">Susan Warwick provided us with the UBS trilingual corpus and convinced us to work on the sentence alignment problem.</S>
  </SECTION>
  <SECTION title="References" number="10">
    <S sid="333" ssid="1">(in press).</S>
    <S sid="334" ssid="2">&amp;quot;Deriving translation data from bilingual texts.&amp;quot; In Lexical Acquisition: Using on-line Resources to Build a Lexicon, edited by Zernik.</S>
    <S sid="335" ssid="3">Lawrence Erlbaum.</S>
    <S sid="336" ssid="4">Church, K. (1988).</S>
    <S sid="337" ssid="5">&amp;quot;A stochastic parts program and noun phrase parser for unrestricted text.&amp;quot; In Proceedings, Second Kruskal, J., and Liberman, M. (1983).</S>
    <S sid="338" ssid="6">&amp;quot;The symmetric time-warping problem: From continuous to discrete.&amp;quot; In Time Warps, String Edits, and Macro Molecules: The Theory and Practice of Sequence Comparison, edited by D. Sankoff and J. Kruskal.</S>
    <S sid="339" ssid="7">Addison-Wesley.</S>
    <S sid="340" ssid="8">Liberman, M., and Church, K. (in press).</S>
    <S sid="341" ssid="9">&amp;quot;Text analysis and word pronunciation in text-to-speech synthesis.&amp;quot; In Advances in Speech Signal Processing, edited by S. Furui and M. Sondhi.</S>
    <S sid="342" ssid="10">Sankoff, D., and Kruskal, J.</S>
    <S sid="343" ssid="11">(1983).</S>
    <S sid="344" ssid="12">Time Warps, String Edits, and Macromolecules: The Theory and Practice of Sequence Comparison.</S>
    <S sid="345" ssid="13">Addison-Wesley.</S>
  </SECTION>
  <SECTION title="Appendix: Program" number="11">
    <S sid="346" ssid="1">with Michael D. Riley The following code is the core of align.</S>
    <S sid="347" ssid="2">It is a C language program that inputs two textfiles&#8222;with one token (word) peTline.The text files contain a number of delimiter tokens.</S>
    <S sid="348" ssid="3">There are two types of delimiter tokens: &amp;quot;hard&amp;quot; and &amp;quot;soft&amp;quot; The hard regions paragraphs) may not be changed, and there must be equal numbers of them in the two input files.</S>
    <S sid="349" ssid="4">The soft regions (e.g., sentences) may be deleted (10, inserted (01), substituted (1-1), contracted (2-1), expanded (1-4, or merged (2-2) as necessary so that the output ends up with the same number of soft regions.</S>
    <S sid="350" ssid="5">The program generates two output fides.</S>
    <S sid="351" ssid="6">The two output files contain an equalnurnberofsoftregions, each on a line.</S>
    <S sid="352" ssid="7">If the -v command line option is included, eachsoftresjmis preceded by its probability score. char *hard_delimiter = NULL; /* -D arg */ char *soft delimiter = NULL; /* -d arg */ int verbose = 0; /* -v arg */ /* utility functions */ align is the alignment, with (align[i].x1, align[i].x2) aligned with (alignEilyl, align[i].y2).</S>
    <S sid="353" ssid="8">Zero in alignn.x1 and alignn.y1 correspond to insertion and deletion, respectively.</S>
    <S sid="354" ssid="9">Non-zero in align[] .x2 and align[] .y2 correspond to contraction and expansion, respectively. alignO.d gives the distance for that pairing.</S>
    <S sid="355" ssid="10">The function returns the length of the alignment.</S>
    <S sid="356" ssid="11">*/ /* Return -100 * log probability that an English sentence of length lenl is a translation of a foreign sentence of length len2.</S>
    <S sid="357" ssid="12">The probability is based on two parameters, the mean and variance of number of foreign characters per English character.</S>
    <S sid="358" ssid="13">*/</S>
  </SECTION>
</PAPER>
